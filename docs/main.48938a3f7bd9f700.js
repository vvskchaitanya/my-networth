"use strict";(self.webpackChunkmy_networth=self.webpackChunkmy_networth||[]).push([[179],{2011:(ht,Me,F)=>{F.d(Me,{Dh:()=>pe,GT:()=>ve,cc:()=>Ne,hO:()=>ze,on:()=>K,pX:()=>de,xv:()=>be});var u=F(4650),$=F(127),P=F(5813);ht=F.hmd(ht);const le=["ngOnDestroy"],de=(_e,et,Xe,Fe={})=>new Proxy(_e,{get:(Oe,De)=>Xe.runOutsideAngular(()=>{var qe;if(_e[De])return!(null===(qe=Fe?.spy)||void 0===qe)&&qe.get&&Fe.spy.get(De,_e[De]),_e[De];if(le.indexOf(De)>-1)return()=>{};const oe=et.toPromise().then(fe=>{const we=fe&&fe[De];return"function"==typeof we?we.bind(fe):we&&we.then?we.then(X=>Xe.run(()=>X)):Xe.run(()=>we)});return new Proxy(()=>{},{get:(fe,we)=>oe[we],apply:(fe,we,X)=>oe.then(te=>{var me;const ce=te&&te(...X);return!(null===(me=Fe?.spy)||void 0===me)&&me.apply&&Fe.spy.apply(De,X,ce),ce})})})}),ve=(_e,et)=>{et.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(Fe=>{Object.defineProperty(_e.prototype,Fe,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,Fe))})})};class ae{constructor(et){return et}}const pe=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function K(_e,et,Xe){const Oe="object"==typeof Xe&&Xe||{};Oe.name=Oe.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const qe=$.Z.apps.filter(oe=>oe&&oe.name===Oe.name)[0]||et.runOutsideAngular(()=>$.Z.initializeApp(_e,Oe));try{JSON.stringify(_e)!==JSON.stringify(qe.options)&&W("error",`${qe.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(qe)}const W=(_e,...et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[_e](...et)},ee={provide:ae,useFactory:K,deps:[pe,u.R0b,[new u.FiY,be]]};let ze=(()=>{class _e{constructor(Xe){$.Z.registerVersion("angularfire",P.q4.full,"core"),$.Z.registerVersion("angularfire",P.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,Xe.toString())}static initializeApp(Xe,Fe){return{ngModule:_e,providers:[{provide:pe,useValue:Xe},{provide:be,useValue:Fe}]}}}return _e.\u0275fac=function(Xe){return new(Xe||_e)(u.LFG(u.Lbi))},_e.\u0275mod=u.oAB({type:_e}),_e.\u0275inj=u.cJS({providers:[ee]}),_e})();function Ne(_e,et,Xe,Fe,Oe){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===_e)||[];if(De)return function Te(_e,et){try{return _e.toString()===et.toString()}catch{return _e===et}}(Oe,qe)||(Ce("error",`${et} was already initialized on the ${Xe} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Oe,was:qe})),De;{const oe=Fe();return globalThis.\u0275AngularfireInstanceCache.push([_e,oe,Oe]),oe}}const it=!!ht.hot,Ce=(_e,...et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[_e](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Me,F)=>{F.d(Me,{q4:()=>Gi,iC:()=>us,HU:()=>la,vb:()=>Mr,JM:()=>Ja});var u=F(4650),$=F(5867),P=F(5861),le=F(9681),de=F(2090),ve=F(4859),ae=F(1877),pe=F(8766);const be="@firebase/installations",K="0.5.16",ee=`w:${K}`,ze="FIS_v2",et=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(D){return D instanceof de.ZR&&D.code.includes("request-failed")}function Fe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Oe(D){return{token:D.token,requestStatus:2,expiresIn:te(D.expiresIn),creationTime:Date.now()}}function De(D,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(D,T){const H=(yield T.json()).error;return et.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function oe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function fe(D,{refreshToken:T}){const k=oe(D);return k.append("Authorization",function me(D){return`${ze} ${D}`}(T)),k}function we(D){return X.apply(this,arguments)}function X(){return(X=(0,P.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function te(D){return Number(D.replace("s","000"))}function ce(D,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const H=Fe(D),J=oe(D),ue=T.getImmediate({optional:!0});if(ue){const Mt=yield ue.getHeartbeatsHeader();Mt&&J.append("x-firebase-client",Mt)}const We={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:ze,appId:D.appId,sdkVersion:ee})},bt=yield we(()=>fetch(H,We));if(bt.ok){const Mt=yield bt.json();return{fid:Mt.fid||k,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:Oe(Mt.authToken)}}throw yield De("Create Installation",bt)})).apply(this,arguments)}function He(D){return new Promise(T=>{setTimeout(T,D)})}const an=/^[cdef][\w-]{21}$/;function Ke(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function mn(D){return function mt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return an.test(k)?k:""}catch{return""}}function Tn(D){return`${D.appName}!${D.appId}`}const rn=new Map;function sn(D,T){const k=Tn(D);Ri(k,T),function Pr(D,T){const k=function Vn(){return!Hi&&"BroadcastChannel"in self&&(Hi=new BroadcastChannel("[Firebase] FID Change"),Hi.onmessage=D=>{Ri(D.data.key,D.data.fid)}),Hi}();k&&k.postMessage({key:D,fid:T}),function Zr(){0===rn.size&&Hi&&(Hi.close(),Hi=null)}()}(k,T)}function Ri(D,T){const k=rn.get(D);if(k)for(const H of k)H(T)}let Hi=null;const Xn="firebase-installations-store";let Dr=null;function Qr(){return Dr||(Dr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Xn)}})),Dr}function Je(D,T){return ri.apply(this,arguments)}function ri(){return(ri=(0,P.Z)(function*(D,T){const k=Tn(D),J=(yield Qr()).transaction(Xn,"readwrite"),ue=J.objectStore(Xn),Re=yield ue.get(k);return yield ue.put(T,k),yield J.done,(!Re||Re.fid!==T.fid)&&sn(D,T.fid),T})).apply(this,arguments)}function Jn(D){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(D){const T=Tn(D),H=(yield Qr()).transaction(Xn,"readwrite");yield H.objectStore(Xn).delete(T),yield H.done})).apply(this,arguments)}function bi(D,T){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(D,T){const k=Tn(D),J=(yield Qr()).transaction(Xn,"readwrite"),ue=J.objectStore(Xn),Re=yield ue.get(k),We=T(Re);return void 0===We?yield ue.delete(k):yield ue.put(We,k),yield J.done,We&&(!Re||Re.fid!==We.fid)&&sn(D,We.fid),We})).apply(this,arguments)}function Sn(D){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(D){let T;const k=yield bi(D.appConfig,H=>{const J=bn(H),ue=gt(D,J);return T=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function bn(D){return kt(D||{fid:Ke(),registrationStatus:0})}function gt(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(et.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function _t(D,T){return Nt.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ir(D)}:{installationEntry:T}}function Nt(){return(Nt=(0,P.Z)(function*(D,T){try{const k=yield ce(D,T);return Je(D.appConfig,k)}catch(k){throw Xe(k)&&409===k.customData.serverCode?yield Jn(D.appConfig):yield Je(D.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function ir(D){return si.apply(this,arguments)}function si(){return(si=(0,P.Z)(function*(D){let T=yield Oi(D.appConfig);for(;1===T.registrationStatus;)yield He(100),T=yield Oi(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield Sn(D);return H||k}return T})).apply(this,arguments)}function Oi(D){return bi(D,T=>{if(!T)throw et.create("installation-not-found");return kt(T)})}function kt(D){return function $i(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ut(D,T){return pr.apply(this,arguments)}function pr(){return(pr=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:T},k){const H=Jt(D,k),J=fe(D,k),ue=T.getImmediate({optional:!0});if(ue){const Mt=yield ue.getHeartbeatsHeader();Mt&&J.append("x-firebase-client",Mt)}const We={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:D.appId}})},bt=yield we(()=>fetch(H,We));if(bt.ok)return Oe(yield bt.json());throw yield De("Generate Auth Token",bt)})).apply(this,arguments)}function Jt(D,{fid:T}){return`${Fe(D)}/${T}/authTokens:generate`}function gi(D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*(D,T=!1){let k;const H=yield bi(D.appConfig,ue=>{if(!tn(ue))throw et.create("not-registered");const Re=ue.authToken;if(!T&&q(Re))return ue;if(1===Re.requestStatus)return k=tt(D,T),ue;{if(!navigator.onLine)throw et.create("app-offline");const We=Q(ue);return k=It(D,We),We}});return k?yield k:H.authToken})).apply(this,arguments)}function tt(D,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(D,T){let k=yield nt(D.appConfig);for(;1===k.authToken.requestStatus;)yield He(100),k=yield nt(D.appConfig);const H=k.authToken;return 0===H.requestStatus?gi(D,T):H})).apply(this,arguments)}function nt(D){return bi(D,T=>{if(!tn(T))throw et.create("not-registered");return function j(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function It(D,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,P.Z)(function*(D,T){try{const k=yield Ut(D,T),H=Object.assign(Object.assign({},T),{authToken:k});return yield Je(D.appConfig,H),k}catch(k){if(!Xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Je(D.appConfig,H)}else yield Jn(D.appConfig);throw k}})).apply(this,arguments)}function tn(D){return void 0!==D&&2===D.registrationStatus}function q(D){return 2===D.requestStatus&&!function z(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Q(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function B(){return(B=(0,P.Z)(function*(D){const T=D,{installationEntry:k,registrationPromise:H}=yield Sn(T);return H?H.catch(console.error):gi(T).catch(console.error),k.fid})).apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(D,T=!1){const k=D;return yield st(k),(yield gi(k,T)).token})).apply(this,arguments)}function st(D){return ot.apply(this,arguments)}function ot(){return(ot=(0,P.Z)(function*(D){const{registrationPromise:T}=yield Sn(D);T&&(yield T)})).apply(this,arguments)}function Xs(D){return et.create("missing-app-config-values",{valueName:D})}const Oo="installations",Js=D=>{const T=D.getProvider("app").getImmediate(),k=function Mn(D){if(!D||!D.options)throw Xs("App Configuration");if(!D.name)throw Xs("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw Xs(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},eo=D=>{const T=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,Oo).getImmediate();return{getId:()=>function O(D){return B.apply(this,arguments)}(k),getToken:J=>function se(D){return Le.apply(this,arguments)}(k,J)}};(function Al(){(0,le._registerComponent)(new ve.wA(Oo,Js,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",eo,"PRIVATE"))})(),(0,le.registerVersion)(be,K),(0,le.registerVersion)(be,K,"esm2017");const Jr="@firebase/remote-config",ti=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xc{constructor(T,k,H,J){this.client=T,this.storage=k,this.storageCache=H,this.logger=J}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,J=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var k=this;return(0,P.Z)(function*(){const[H,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(T.cacheMaxAgeMillis,H))return J;T.eTag=J&&J.eTag;const ue=yield k.client.fetch(T),Re=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Re.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Re),ue})()}}function Ra(D=navigator){return D.languages&&D.languages[0]||D.language}class so{constructor(T,k,H,J,ue,Re){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=H,this.projectId=J,this.apiKey=ue,this.appId=Re}fetch(T){var k=this;return(0,P.Z)(function*(){var H,J,ue;const[Re,We]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Et={sdk_version:k.sdkVersion,app_instance_id:Re,app_instance_id_token:We,app_id:k.appId,language_code:Ra()},Zn={method:"POST",headers:$t,body:JSON.stringify(Et)},yi=fetch(Mt,Zn),Vs=new Promise((cr,Us)=>{T.signal.addEventListener(()=>{const Qc=new Error("The operation was aborted.");Qc.name="AbortError",Us(Qc)})});let ds;try{yield Promise.race([yi,Vs]),ds=yield yi}catch(cr){let Us="fetch-client-network";throw"AbortError"===(null===(H=cr)||void 0===H?void 0:H.name)&&(Us="fetch-timeout"),ti.create(Us,{originalErrorMessage:null===(J=cr)||void 0===J?void 0:J.message})}let go=ds.status;const Bs=ds.headers.get("ETag")||void 0;let Hr,ui;if(200===ds.status){let cr;try{cr=yield ds.json()}catch(Us){throw ti.create("fetch-client-parse",{originalErrorMessage:null===(ue=Us)||void 0===ue?void 0:ue.message})}Hr=cr.entries,ui=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===ui?go=500:"NO_CHANGE"===ui?go=304:("NO_TEMPLATE"===ui||"EMPTY_CONFIG"===ui)&&(Hr={}),304!==go&&200!==go)throw ti.create("fetch-status",{httpStatus:go});return{status:go,eTag:Bs,config:Hr}})()}}class ts{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:H}){var J=this;return(0,P.Z)(function*(){yield function _r(D,T){return new Promise((k,H)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),H(ti.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ue=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function am(D){if(!(D instanceof de.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ue))throw ue;const Re={throttleEndTimeMillis:Date.now()+(0,de.$s)(H),backoffCount:H+1};return yield J.storage.setThrottleMetadata(Re),J.attemptFetch(T,Re)}})()}}class Kh{constructor(T,k,H,J,ue){this.app=T,this._client=k,this._storageCache=H,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oa(D,T){var k;const H=D.target.error||void 0;return ti.create(T,{originalErrorMessage:H&&(null===(k=H)||void 0===k?void 0:k.message)})}const Po="app_namespace_store";class nd{constructor(T,k,H,J=function um(){return new Promise((D,T)=>{var k;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=J=>{T(Oa(J,"storage-open"))},H.onsuccess=J=>{D(J.target.result)},H.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Po,{keyPath:"compositeKey"})}}catch(H){T(ti.create("storage-open",{originalErrorMessage:null===(k=H)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=H,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const H=yield k.openDbPromise;return new Promise((J,ue)=>{var Re;const bt=H.transaction([Po],"readonly").objectStore(Po),Mt=k.createCompositeKey(T);try{const $t=bt.get(Mt);$t.onerror=Et=>{ue(Oa(Et,"storage-get"))},$t.onsuccess=Et=>{const Zn=Et.target.result;J(Zn?Zn.value:void 0)}}catch($t){ue(ti.create("storage-get",{originalErrorMessage:null===(Re=$t)||void 0===Re?void 0:Re.message}))}})})()}set(T,k){var H=this;return(0,P.Z)(function*(){const J=yield H.openDbPromise;return new Promise((ue,Re)=>{var We;const Mt=J.transaction([Po],"readwrite").objectStore(Po),$t=H.createCompositeKey(T);try{const Et=Mt.put({compositeKey:$t,value:k});Et.onerror=Zn=>{Re(Oa(Zn,"storage-set"))},Et.onsuccess=()=>{ue()}}catch(Et){Re(ti.create("storage-set",{originalErrorMessage:null===(We=Et)||void 0===We?void 0:We.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const H=yield k.openDbPromise;return new Promise((J,ue)=>{var Re;const bt=H.transaction([Po],"readwrite").objectStore(Po),Mt=k.createCompositeKey(T);try{const $t=bt.delete(Mt);$t.onerror=Et=>{ue(Oa(Et,"storage-delete"))},$t.onsuccess=()=>{J()}}catch($t){ue(ti.create("storage-delete",{originalErrorMessage:null===(Re=$t)||void 0===Re?void 0:Re.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class No{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ue=yield k;ue&&(T.lastFetchStatus=ue);const Re=yield H;Re&&(T.lastSuccessfulFetchTimestampMillis=Re);const We=yield J;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function H_(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,P.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function id(){(0,le._registerComponent)(new ve.wA("remote-config",function D(T,{instanceIdentifier:k}){const H=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,de.hl)())throw ti.create("indexed-db-unavailable");const{projectId:ue,apiKey:Re,appId:We}=H.options;if(!ue)throw ti.create("registration-project-id");if(!Re)throw ti.create("registration-api-key");if(!We)throw ti.create("registration-app-id");const bt=new nd(We,H.name,k=k||"firebase"),Mt=new No(bt),$t=new ae.Yd(Jr);$t.logLevel=ae.in.ERROR;const Et=new so(J,le.SDK_VERSION,k,ue,Re,We),Zn=new ts(Et,bt),yi=new xc(Zn,bt,Mt,$t),Vs=new Kh(H,yi,Mt,bt,$t);return function Pn(D){const T=(0,de.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Vs),Vs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Jr,"0.3.15"),(0,le.registerVersion)(Jr,"0.3.15","esm2017")}();const Si="/firebase-messaging-sw.js",Lo="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pl="google.c.a.c_id",Mc="google.c.a.c_l",od="google.c.a.ts",Vo="google.c.a.e";var yr=(()=>{return(D=yr||(yr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",yr;var D})();function is(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function or(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),J=new Uint8Array(H.length);for(let ue=0;ue<H.length;++ue)J[ue]=H.charCodeAt(ue);return J}const oo="fcm_token_details_db",Bo="fcm_token_object_Store";function dm(D){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(oo))return null;let T=null;return(yield(0,pe.X3)(oo,5,{upgrade:(H=(0,P.Z)(function*(J,ue,Re,We){var bt;if(ue<2||!J.objectStoreNames.contains(Bo))return;const Mt=We.objectStore(Bo),$t=yield Mt.index("fcmSenderId").get(D);if(yield Mt.clear(),$t)if(2===ue){const Et=$t;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;T={token:Et.fcmToken,createTime:null!==(bt=Et.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:is(Et.vapidKey)}}}else if(3===ue){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:is(Et.auth),p256dh:is(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:is(Et.vapidKey)}}}else if(4===ue){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:is(Et.auth),p256dh:is(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:is(Et.vapidKey)}}}}),function(ue,Re,We,bt){return H.apply(this,arguments)})})).close(),yield(0,pe.Lj)(oo),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Bn(T)?T:null;var H}),Ac.apply(this,arguments)}function Bn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Tr="firebase-messaging-store";let xi=null;function Nl(){return xi||(xi=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Tr)}})),xi}function ao(D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(D){const T=br(D),H=yield(yield Nl()).transaction(Tr).objectStore(Tr).get(T);if(H)return H;{const J=yield dm(D.appConfig.senderId);if(J)return yield ln(D,J),J}})).apply(this,arguments)}function ln(D,T){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(D,T){const k=br(D),J=(yield Nl()).transaction(Tr,"readwrite");return yield J.objectStore(Tr).put(T,k),yield J.done,T})).apply(this,arguments)}function As(D){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,P.Z)(function*(D){const T=br(D),H=(yield Nl()).transaction(Tr,"readwrite");yield H.objectStore(Tr).delete(T),yield H.done})).apply(this,arguments)}function br({appConfig:D}){return D.appId}const $n=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lt(D,T){return Na.apply(this,arguments)}function Na(){return(Na=(0,P.Z)(function*(D,T){var k;const H=yield Va(D),J=ke(T),ue={method:"POST",headers:H,body:JSON.stringify(J)};let Re;try{Re=yield(yield fetch(lo(D.appConfig),ue)).json()}catch(We){throw $n.create("token-subscribe-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Re.error)throw $n.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw $n.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function hm(D,T){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(D,T){var k;const H=yield Va(D),J=ke(T.subscriptionOptions),ue={method:"PATCH",headers:H,body:JSON.stringify(J)};let Re;try{Re=yield(yield fetch(`${lo(D.appConfig)}/${T.token}`,ue)).json()}catch(We){throw $n.create("token-update-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Re.error)throw $n.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw $n.create("token-update-no-token");return Re.token})).apply(this,arguments)}function ld(D,T){return La.apply(this,arguments)}function La(){return(La=(0,P.Z)(function*(D,T){var k;const J={method:"DELETE",headers:yield Va(D)};try{const Re=yield(yield fetch(`${lo(D.appConfig)}/${T}`,J)).json();if(Re.error)throw $n.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(ue){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(k=ue)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function lo({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Va(D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,P.Z)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ke({p256dh:D,auth:T,endpoint:k,vapidKey:H}){const J={web:{endpoint:k,auth:T,p256dh:D}};return H!==Ms&&(J.web.applicationPubKey=H),J}const Qt=6048e5;function Yh(D){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,P.Z)(function*(D){const T=yield Qh(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:is(T.getKey("auth")),p256dh:is(T.getKey("p256dh"))},H=yield ao(D.firebaseDependencies);if(H){if(fm(H.subscriptionOptions,k))return Date.now()>=H.createTime+Qt?Fl(D,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield ld(D.firebaseDependencies,H.token)}catch(J){console.warn(J)}return Ll(D.firebaseDependencies,k)}return Ll(D.firebaseDependencies,k)})).apply(this,arguments)}function ai(D){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(D){const T=yield ao(D.firebaseDependencies);T&&(yield ld(D.firebaseDependencies,T.token),yield As(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Fl(D,T){return zi.apply(this,arguments)}function zi(){return(zi=(0,P.Z)(function*(D,T){try{const k=yield hm(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield ln(D.firebaseDependencies,H),k}catch(k){throw yield ai(D),k}})).apply(this,arguments)}function Ll(D,T){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(D,T){const H={token:yield Lt(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ln(D,H),H.token})).apply(this,arguments)}function Qh(D,T){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or(T)})})).apply(this,arguments)}function fm(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function co(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function li(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const H=T.notification.body;H&&(D.notification.body=H);const J=T.notification.image;J&&(D.notification.image=J);const ue=T.notification.icon;ue&&(D.notification.icon=ue)}(T,D),function Fr(D,T){!T.data||(D.data=T.data)}(T,D),function Ua(D,T){var k,H,J,ue,Re;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const We=null!==(J=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==J?J:null===(ue=T.notification)||void 0===ue?void 0:ue.click_action;We&&(D.fcmOptions.link=We);const bt=null===(Re=T.fcmOptions)||void 0===Re?void 0:Re.analytics_label;bt&&(D.fcmOptions.analyticsLabel=bt)}(T,D),T}function Ha(D){return"object"==typeof D&&!!D&&Pl in D}function rs(D,T){const k=[];for(let H=0;H<D.length;H++)k.push(D.charAt(H)),H<T.length&&k.push(T.charAt(H));return k.join("")}function Oc(D){return $n.create("missing-app-config-values",{valueName:D})}rs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ud{constructor(T,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function cd(D){if(!D||!D.options)throw Oc("App Configuration Object");if(!D.name)throw Oc("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const H of T)if(!k[H])throw Oc(H);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Xh(D){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(Si,{scope:Lo}),D.swRegistration.update().catch(()=>{})}catch(k){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Pc(D,T){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Xh(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Nc(D,T){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ms)})).apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(D,T){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield Nc(D,T?.vapidKey),yield Pc(D,T?.serviceWorkerRegistration),Yh(D)})).apply(this,arguments)}function Jh(D,T,k){return za.apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(D,T,k){const H=ef(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[Pl],message_name:k[Mc],message_time:k[od],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ef(D){switch(D){case yr.NOTIFICATION_CLICKED:return"notification_open";case yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ks(){return(ks=(0,P.Z)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===yr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(co(k)):D.onMessageHandler.next(co(k)));const H=k.data;Ha(H)&&"1"===H[Vo]&&(yield Jh(D,k.messageType,H))})).apply(this,arguments)}const Rs="@firebase/messaging",Nn=D=>{const T=new ud(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function hd(D,T){return ks.apply(this,arguments)}(T,k)),T},ss=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function dd(D,T){return Go.apply(this,arguments)}(T,H)}};function Fc(){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,P.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fn(){(0,le._registerComponent)(new ve.wA("messaging",Nn,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",ss,"PRIVATE")),(0,le.registerVersion)(Rs,"0.11.0"),(0,le.registerVersion)(Rs,"0.11.0","esm2017")}();const Ko="analytics",md="firebase_id",Hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gd="https://www.googletagmanager.com/gtag/js",zn=new ae.Yd("@firebase/analytics");function Bl(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function Ul(D,T){const k=document.createElement("script");k.src=`${gd}?l=${D}&id=${T}`,k.async=!0,document.head.appendChild(k)}function nf(D,T,k,H,J,ue){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(D,T,k,H,J,ue){const Re=H[J];try{if(Re)yield T[Re];else{const bt=(yield Bl(k)).find(Mt=>Mt.measurementId===J);bt&&(yield T[bt.appId])}}catch(We){zn.error(We)}D("config",J,ue)})).apply(this,arguments)}function os(D,T,k,H,J){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(D,T,k,H,J){try{let ue=[];if(J&&J.send_to){let Re=J.send_to;Array.isArray(Re)||(Re=[Re]);const We=yield Bl(k);for(const bt of Re){const Mt=We.find(Et=>Et.measurementId===bt),$t=Mt&&T[Mt.appId];if(!$t){ue=[];break}ue.push($t)}}0===ue.length&&(ue=Object.values(T)),yield Promise.all(ue),D("event",H,J||{})}catch(ue){zn.error(ue)}})).apply(this,arguments)}function _d(D){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(gd)&&k.src.includes(D))return k;return null}const ci=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ka=new class $c{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Zo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function af(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,P.Z)(function*(D){var T;const{appId:k,apiKey:H}=D,J={method:"GET",headers:Zo(H)},ue=Hc.replace("{app-id}",k),Re=yield fetch(ue,J);if(200!==Re.status&&304!==Re.status){let We="";try{const bt=yield Re.json();null!==(T=bt.error)&&void 0!==T&&T.message&&(We=bt.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:We})}return Re.json()})).apply(this,arguments)}function yd(D){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(D,T=Ka,k){const{appId:H,apiKey:J,measurementId:ue}=D.options;if(!H)throw ci.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:H};throw ci.create("no-api-key")}const Re=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Za;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==k?k:6e4),vd({appId:H,apiKey:J,measurementId:ue},Re,We,T)})).apply(this,arguments)}function vd(D,T,k){return as.apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},H,J=Ka){var ue,Re;const{appId:We,measurementId:bt}=D;try{yield zc(H,T)}catch(Mt){if(bt)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${null===(ue=Mt)||void 0===ue?void 0:ue.message}]`),{appId:We,measurementId:bt};throw Mt}try{const Mt=yield af(D);return J.deleteThrottleMetadata(We),Mt}catch(Mt){const $t=Mt;if(!jl($t)){if(J.deleteThrottleMetadata(We),bt)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:We,measurementId:bt};throw Mt}const Et=503===Number(null===(Re=$t?.customData)||void 0===Re?void 0:Re.httpStatus)?(0,de.$s)(k,J.intervalMillis,30):(0,de.$s)(k,J.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+Et,backoffCount:k+1};return J.setThrottleMetadata(We,Zn),zn.debug(`Calling attemptFetch again in ${Et} millis`),vd(D,Zn,H,J)}})).apply(this,arguments)}function zc(D,T){return new Promise((k,H)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),H(ci.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function jl(D){if(!(D instanceof de.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Za{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let uo,zl;function Yo(){return(Yo=(0,P.Z)(function*(D,T,k,H,J){if(J&&J.global)D("event",k,H);else{const ue=yield T;D("event",k,Object.assign(Object.assign({},H),{send_to:ue}))}})).apply(this,arguments)}function Jo(D){zl=D}function Gc(D){uo=D}function Ps(){return ea.apply(this,arguments)}function ea(){return(ea=(0,P.Z)(function*(){var D;if(!(0,de.hl)())return zn.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(T){return zn.warn(ci.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function ta(){return(ta=(0,P.Z)(function*(D,T,k,H,J,ue,Re){var We;const bt=yd(D);bt.then(yi=>{k[yi.measurementId]=yi.appId,D.options.measurementId&&yi.measurementId!==D.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yi=>zn.error(yi)),T.push(bt);const Mt=Ps().then(yi=>{if(yi)return H.getId()}),[$t,Et]=yield Promise.all([bt,Mt]);_d(ue)||Ul(ue,$t.measurementId),zl&&(J("consent","default",zl),Jo(void 0)),J("js",new Date);const Zn=null!==(We=Re?.config)&&void 0!==We?We:{};return Zn.origin="firebase",Zn.update=!0,null!=Et&&(Zn[md]=Et),J("config",$t.measurementId,Zn),uo&&(J("set",uo),Gc(void 0)),$t.measurementId})).apply(this,arguments)}class Gl{constructor(T){this.app=T}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},na=[];const fo={};let ra,Vr,ia="dataLayer",wd=!1;function uf(D,T,k){!function pm(){const D=[];if((0,de.ru)()&&D.push("This is a browser extension environment."),(0,de.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,J)=>`(${J+1}) ${H}`).join(" "),k=ci.create("invalid-analytics-context",{errorInfo:T});zn.warn(k.message)}}();const H=D.options.appId;if(!H)throw ci.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ci.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[H])throw ci.create("already-exists",{id:H});if(!wd){!function Hl(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ia);const{wrappedGtag:ue,gtagCore:Re}=function qa(D,T,k,H,J){let ue=function(...Re){window[H].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function jc(D,T,k,H){function ue(){return(ue=(0,P.Z)(function*(Re,We,bt){try{"event"===Re?yield os(D,T,k,We,bt):"config"===Re?yield nf(D,T,k,H,We,bt):"consent"===Re?D("consent","update",bt):D("set",We)}catch(Mt){zn.error(Mt)}})).apply(this,arguments)}return function J(Re,We,bt){return ue.apply(this,arguments)}}(ue,D,T,k),{gtagCore:ue,wrappedGtag:window[J]}}(Pi,na,fo,ia,"gtag");Vr=ue,ra=Re,wd=!0}return Pi[H]=function cf(D,T,k,H,J,ue,Re){return ta.apply(this,arguments)}(D,na,fo,T,ra,ia,k),new Gl(D)}function $_(){return df.apply(this,arguments)}function df(){return(df=(0,P.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const qc="@firebase/analytics";!function Ni(){(0,le._registerComponent)(new ve.wA(Ko,(T,{options:k})=>uf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function D(T){try{const k=T.getProvider(Ko).getImmediate();return{logEvent:(H,J,ue)=>function fn(D,T,k,H){D=(0,de.m9)(D),function Ya(D,T,k,H,J){return Yo.apply(this,arguments)}(Vr,Pi[D.app.options.appId],T,k,H).catch(J=>zn.error(J))}(k,H,J,ue)}}catch(k){throw ci.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(qc,"0.8.4"),(0,le.registerVersion)(qc,"0.8.4","esm2017")}();var ls=F(4408),po=F(7565);const mo=new class lr extends po.v{}(class Xa extends ls.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,k,H):(T.flush(this),0)}});var ft=F(4986),sa=F(8505),Ed=F(9468),Wl=F(5363);const Gi=new u.GfV("7.4.1"),oa="__angularfire_symbol__analyticsIsSupportedValue",xr="__angularfire_symbol__analyticsIsSupported",cs="__angularfire_symbol__remoteConfigIsSupportedValue",Wi="__angularfire_symbol__remoteConfigIsSupported",Kc="__angularfire_symbol__messagingIsSupportedValue",aa="__angularfire_symbol__messagingIsSupported";function Ja(D,T,k){if(T){if(1===T.length)return T[0];const ue=T.filter(Re=>Re.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[xr]||(globalThis[xr]=$_().then(D=>globalThis[oa]=D).catch(()=>globalThis[oa]=!1)),globalThis[aa]||(globalThis[aa]=Fc().then(D=>globalThis[Kc]=D).catch(()=>globalThis[Kc]=!1)),globalThis[Wi]||(globalThis[Wi]=H_().then(D=>globalThis[cs]=D).catch(()=>globalThis[cs]=!1));const Mr=(D,T)=>{const k=T?[T]:(0,$.C6)(),H=[];return k.forEach(J=>{J.container.getProvider(D).instances.forEach(Re=>{H.includes(Re)||H.push(Re)})}),H};function Br(){}class qn{constructor(T,k=mo){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,H){const J=this.zone;return this.delegate.schedule(function(Re){J.runGuarded(()=>{T.apply(this,[Re])})},k,H)}}class Ur{constructor(T){this.zone=T,this.task=null}call(T,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Br,{},Br,Br)),k.pipe((0,sa.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let la=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new qn(Zone.current)),this.insideAngular=k.run(()=>new qn(Zone.current,ft.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Fs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function us(D){return Fs(),function Dd(D){return function(k){return(k=k.lift(new Ur(D.ngZone))).pipe((0,Ed.R)(D.outsideAngular),(0,Wl.Q)(D.insideAngular))}}(Fs())(D)}},8247:(ht,Me,F)=>{F.d(Me,{$:()=>lo,A:()=>W,B:()=>Ne,G:()=>eo,H:()=>rr,J:()=>ts,L:()=>q,M:()=>Ol,N:()=>sd,P:()=>ft,Q:()=>Pl,R:()=>mm,T:()=>Mc,U:()=>Ms,V:()=>yr,W:()=>is,X:()=>dm,Y:()=>Pa,Z:()=>Lt,_:()=>hm,a:()=>Os,a0:()=>Yh,a1:()=>ai,a2:()=>Fl,a3:()=>Ll,a4:()=>Qh,a5:()=>fm,a6:()=>li,a7:()=>Fr,a8:()=>Ha,a9:()=>rs,aA:()=>z,aB:()=>bt,aC:()=>Yc,aD:()=>Ls,aE:()=>Ct,aI:()=>Zo,aL:()=>Vo,aa:()=>Xh,ab:()=>Pc,ac:()=>Nc,af:()=>Jh,ag:()=>ef,ah:()=>hd,ak:()=>Tr,al:()=>Vc,an:()=>gd,ao:()=>Ga,ap:()=>we,aq:()=>Be,ar:()=>st,as:()=>Xe,at:()=>ua,au:()=>Bs,av:()=>Ft,aw:()=>Fe,ax:()=>oe,ay:()=>yi,az:()=>te,b:()=>ci,c:()=>Kc,d:()=>gm,e:()=>Zc,f:()=>Dd,g:()=>H,h:()=>D,i:()=>ea,j:()=>Re,k:()=>vf,l:()=>Cd,m:()=>js,o:()=>pe,r:()=>ls,s:()=>_i,u:()=>mo});var u=F(5861),$=F(2090),P=F(9681),le=F(1877),de=F(655),ve=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new le.Yd("@firebase/auth");function et(b,...m){_e.logLevel<=le.in.ERROR&&_e.error(`Auth (${P.SDK_VERSION}): ${b}`,...m)}function Xe(b,...m){throw qe(b,...m)}function Fe(b,...m){return qe(b,...m)}function Oe(b,m,_){const C=Object.assign(Object.assign({},Te()),{[m]:_});return new $.LL("auth","Firebase",C).create(m,{appName:b.name})}function De(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Xe(b,"argument-error"),Oe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return it.create(b,...m)}function oe(b,m,..._){if(!b)throw qe(m,..._)}function fe(b){const m="INTERNAL ASSERTION FAILED: "+b;throw et(m),new Error(m)}function we(b,m){b||fe(m)}const X=new Map;function te(b){we(b instanceof Function,"Expected a class definition");let m=X.get(b);return m?(we(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,X.set(b,m),m)}function Ue(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function He(){return"http:"===mt()||"https:"===mt()}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ke{constructor(m,_){this.shortDelay=m,this.longDelay=_,we(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(b,m){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Tn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Ke(3e4,6e4);function Yt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function jt(b,m,_,C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(b,m,_,C,M={}){return Pr(b,M,(0,u.Z)(function*(){let N={},ie={};C&&("GET"===m?ie=C:N={body:JSON.stringify(C)});const xe=(0,$.xO)(Object.assign({key:b.config.apiKey},ie)).slice(1),rt=yield b._getAdditionalHeaders();return rt["Content-Type"]="application/json",b.languageCode&&(rt["X-Firebase-Locale"]=b.languageCode),Tn.fetch()(Yr(b,b.config.apiHost,_,xe),Object.assign({method:m,headers:rt,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Pr(b,m,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),m);try{const M=new ji(b),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ie=yield N.json();if("needConfirmation"in ie)throw Xn(b,"account-exists-with-different-credential",ie);if(N.ok&&!("errorMessage"in ie))return ie;{const xe=N.ok?ie.errorMessage:ie.error.message,[rt,Tt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Xn(b,"credential-already-in-use",ie);if("EMAIL_EXISTS"===rt)throw Xn(b,"email-already-in-use",ie);if("USER_DISABLED"===rt)throw Xn(b,"user-disabled",ie);const Xt=C[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Oe(b,Xt,Tt);Xe(b,Xt)}}catch(M){if(M instanceof $.ZR)throw M;Xe(b,"network-request-failed")}})).apply(this,arguments)}function Vn(b,m,_,C){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(b,m,_,C,M={}){const N=yield jt(b,m,_,C,M);return"mfaPendingCredential"in N&&Xe(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Yr(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?mn(b.config,M):`${b.config.apiScheme}://${M}`}class ji{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Fe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Fe(b,m,C);return M.customData._tokenResponse=_,M}function Qr(){return(Qr=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Je(b,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Jn(b,m){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function bi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function xn(){return(xn=(0,u.Z)(function*(b,m=!1){const _=(0,$.m9)(b),C=yield _.getIdToken(m),M=gt(C);oe(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ie=N?.sign_in_provider;return{claims:M,token:C,authTime:bi(bn(M.auth_time)),issuedAtTime:bi(bn(M.iat)),expirationTime:bi(bn(M.exp)),signInProvider:ie||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(b){return 1e3*Number(b)}function gt(b){var m;const[_,C,M]=b.split(".");if(void 0===_||void 0===C||void 0===M)return et("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(C);return N?JSON.parse(N):(et("Failed to decode base64 JWT payload"),null)}catch(N){return et("Caught error parsing JWT payload as JSON",null===(m=N)||void 0===m?void 0:m.toString()),null}}function Nt(b,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof $.ZR&&si(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function si({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Oi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,u.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class kt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=bi(this.lastLoginAt),this.creationTime=bi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $i(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield Nt(b,Jn(_,{idToken:C}));oe(M?.users.length,_,"internal-error");const N=M.users[0];b._notifyReloadListener(N);const ie=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?Rn(N.providerUserInfo):[],xe=gi(b.providerData,ie),Xt=!!b.isAnonymous&&!(b.email&&N.passwordHash||xe?.length),kn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:xe,metadata:new kt(N.createdAt,N.lastLoginAt),isAnonymous:Xt};Object.assign(b,kn)})).apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(b){const m=(0,$.m9)(b);yield $i(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function gi(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function Rn(b){return b.map(m=>{var{providerId:_}=m,C=(0,de._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Se(){return(Se=(0,u.Z)(function*(b,m){const _=yield Pr(b,{},(0,u.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=b.config,ie=Yr(b,M,"/v1/token",`key=${N}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(ie,{method:"POST",headers:xe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(typeof m.idToken<"u","internal-error"),oe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function _t(b){const m=gt(b);return oe(m,"internal-error"),oe(typeof m.exp<"u","internal-error"),oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,u.Z)(function*(){return oe(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ie}=yield function tt(b,m){return Se.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,N,Number(ie))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:N}=_,ie=new nt;return C&&(oe("string"==typeof C,"internal-error",{appName:m}),ie.refreshToken=C),M&&(oe("string"==typeof M,"internal-error",{appName:m}),ie.accessToken=M),N&&(oe("number"==typeof N,"internal-error",{appName:m}),ie.expirationTime=N),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return fe("not implemented")}}function It(b,m){oe("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Dt{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,N=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new kt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const C=yield Nt(_,_.stsTokenManager.getToken(_.auth,m));return oe(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Sn(b){return xn.apply(this,arguments)}(this,m)}reload(){return function pr(b){return Jt.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Dt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield $i(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield Nt(m,function Dr(b,m){return Qr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,N,ie,xe,rt,Tt,Xt;const kn=null!==(C=_.displayName)&&void 0!==C?C:void 0,hs=null!==(M=_.email)&&void 0!==M?M:void 0,yo=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,wf=null!==(ie=_.photoURL)&&void 0!==ie?ie:void 0,Rd=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,Jc=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,bm=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,Q_=null!==(Xt=_.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Cf,emailVerified:rl,isAnonymous:ha,providerData:eu,stsTokenManager:tu}=_;oe(Cf&&tu,m,"internal-error");const wm=nt.fromJSON(this.name,tu);oe("string"==typeof Cf,m,"internal-error"),It(kn,m.name),It(hs,m.name),oe("boolean"==typeof rl,m,"internal-error"),oe("boolean"==typeof ha,m,"internal-error"),It(yo,m.name),It(wf,m.name),It(Rd,m.name),It(Jc,m.name),It(bm,m.name),It(Q_,m.name);const ni=new Dt({uid:Cf,auth:m,email:hs,emailVerified:rl,displayName:kn,isAnonymous:ha,photoURL:wf,phoneNumber:yo,tenantId:Rd,stsTokenManager:wm,createdAt:bm,lastLoginAt:Q_});return eu&&Array.isArray(eu)&&(ni.providerData=eu.map(Cm=>Object.assign({},Cm))),Jc&&(ni._redirectEventId=Jc),ni}static _fromIdTokenResponse(m,_,C=!1){return(0,u.Z)(function*(){const M=new nt;M.updateFromServerResponse(_);const N=new Dt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield $i(N),N})()}}const q=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,u.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,u.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,u.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class Q{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=z(this.userKey,M.apiKey,N),this.fullPersistenceKey=z("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Dt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Q(te(q),m,C);const M=(yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let N=M[0]||te(q);const ie=z(C,m.config.apiKey,m.name);let xe=null;for(const Tt of _)try{const Xt=yield Tt._get(ie);if(Xt){const kn=Dt._fromJSON(m,Xt);Tt!==N&&(xe=kn),N=Tt;break}}catch{}const rt=M.filter(Tt=>Tt._shouldAllowMigration);return N._shouldAllowMigration&&rt.length?(N=rt[0],xe&&(yield N._set(ie,xe.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Xt){if(Xt!==N)try{yield Xt._remove(ie)}catch{}});return function(Xt){return Tt.apply(this,arguments)}}())),new Q(N,m,C)):new Q(N,m,C)})()}}function j(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Le(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(O(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ot(m))return"Blackberry";if(Ae(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||se(m))&&!m.includes("edge/"))return"Chrome";if(st(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function O(b=(0,$.z$)()){return/firefox\//i.test(b)}function B(b=(0,$.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function se(b=(0,$.z$)()){return/crios\//i.test(b)}function Le(b=(0,$.z$)()){return/iemobile/i.test(b)}function st(b=(0,$.z$)()){return/android/i.test(b)}function ot(b=(0,$.z$)()){return/blackberry/i.test(b)}function Ae(b=(0,$.z$)()){return/webos/i.test(b)}function Be(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ft(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function _n(b=(0,$.z$)()){return Be(b)||st(b)||Ae(b)||ot(b)||/windows phone/i.test(b)||Le(b)}function Mn(b,m=[]){let _;switch(b){case"Browser":_=j((0,$.z$)());break;case"Worker":_=`${j((0,$.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${C}`}class Xs{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=N=>new Promise((ie,xe)=>{try{ie(m(N))}catch(rt){xe(rt)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,u.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const N of _.queue)yield N(m),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const ie of M)try{ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class Oo{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Js(this),this.idTokenSubscription=new Js(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=te(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield Q.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let N=M,ie=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const xe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,rt=N?._redirectEventId,Tt=yield _.tryRedirectSignIn(m);(!xe||xe===rt)&&Tt?.user&&(N=Tt.user,ie=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(ie)try{yield _.beforeStateQueue.runMiddleware(N)}catch(xe){N=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(xe))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){var C;try{yield $i(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const C=m?(0,$.m9)(m):null;return C&&oe(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return m&&oe(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(te(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new $.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,u.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&te(m)||_._popupRedirectResolver;oe(C,_,"argument-error"),_.redirectPersistenceManager=yield Q.create(_,[te(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ie,this,"internal-error"),ie.then(()=>N(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Ct(b){return(0,$.m9)(b)}class Js{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eo(b,m,_){const C=Ct(b);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,N=Al(m),{host:ie,port:xe}=function Jr(b){const m=Al(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:ei(C.substr(N.length+1))}}{const[N,ie]=C.split(":");return{host:N,port:ei(ie)}}}(m);C.config.emulator={url:`${N}//${ie}${null===xe?"":`:${xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ie,port:xe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function to(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Al(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ei(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class rr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return fe("not implemented")}_getIdTokenResponse(m){return fe("not implemented")}_linkToIdToken(m,_){return fe("not implemented")}_getReauthenticationResolver(m){return fe("not implemented")}}function mr(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:resetPassword",Yt(b,m))})).apply(this,arguments)}function kl(b,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wh(b,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",Yt(b,m))})).apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithPassword",Yt(b,m))})).apply(this,arguments)}function xs(b,m){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendOobCode",Yt(b,m))})).apply(this,arguments)}function es(b,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(b,m){return xs(b,m)})).apply(this,arguments)}function qh(b,m){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(b,m){return xs(b,m)})).apply(this,arguments)}function gr(b,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(b,m){return xs(b,m)})).apply(this,arguments)}function Rl(b,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(b,m){return xs(b,m)})).apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}class Ra extends rr{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new Ra(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new Ra(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function Aa(b,m){return no.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function sr(b,m){return Sc.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Xe(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return kl(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function om(b,m){return xc.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Xe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function so(b,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithIdp",Yt(b,m))})).apply(this,arguments)}class ts extends rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ts(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,N=(0,de._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const ie=new ts(C,M);return ie.idToken=N.idToken||void 0,ie.accessToken=N.accessToken||void 0,ie.secret=N.secret,ie.nonce=N.nonce,ie.pendingToken=N.pendingToken||null,ie}_getIdTokenResponse(m){return so(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,so(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,so(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,$.xO)(_)}return m}}function lm(b,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendVerificationCode",Yt(b,m))})).apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m))})).apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(b,m){const _=yield Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m));if(_.temporaryProof)throw Xn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const cm={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),cm)})).apply(this,arguments)}class No extends rr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new No({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new No({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Kh(b,m){return Oa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Po(b,m){return td.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function um(b,m){return nd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}=m;return C||_||M||N?new No({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class Fo{constructor(m){var _,C,M,N,ie,xe;const rt=(0,$.zd)((0,$.pd)(m)),Tt=null!==(_=rt.apiKey)&&void 0!==_?_:null,Xt=null!==(C=rt.oobCode)&&void 0!==C?C:null,kn=function id(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=rt.mode)&&void 0!==M?M:null);oe(Tt&&Xt&&kn,"argument-error"),this.apiKey=Tt,this.operation=kn,this.code=Xt,this.continueUrl=null!==(N=rt.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ie=rt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(xe=rt.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function rd(b){const m=(0,$.zd)((0,$.pd)(b)).link,_=m?(0,$.zd)((0,$.pd)(m)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||_||m||b}(m);try{return new Fo(_)}catch{return null}}}let Ol=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Ra._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Fo.parseLink(C);return oe(M,"argument-error"),Ra._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Si{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Lo extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ms extends Lo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),ts._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ms.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ms.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:ie,providerId:xe}=m;if(!C&&!M&&!_&&!N||!xe)return null;try{return new Ms(xe)._credential({idToken:_,accessToken:C,nonce:ie,pendingToken:N})}catch{return null}}}let sd=(()=>{class b extends Lo{constructor(){super("facebook.com")}static credential(_){return ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Pl=(()=>{class b extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Mc=(()=>{class b extends Lo{constructor(){super("github.com")}static credential(_){return ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Vo extends rr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return so(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,so(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,so(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:N}=_;return C&&M&&N&&C===M?new Vo(C,N):null}static _create(m,_){return new Vo(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends Si{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return yr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return yr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Vo.fromJSON(m);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return Vo._create(C,_)}catch{return null}}}let is=(()=>{class b extends Lo{constructor(){super("twitter.com")}static credential(_,C){return ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function or(b,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signUp",Yt(b,m))})).apply(this,arguments)}class vr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,u.Z)(function*(){const N=yield Dt._fromIdTokenResponse(m,C,M),ie=Bo(C);return new vr({user:N,providerId:ie,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Bo(C);return new vr({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Bo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function dm(b){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,u.Z)(function*(b){var m;const _=Ct(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new vr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield or(_,{returnSecureToken:!0}),M=yield vr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Bn extends $.ZR{constructor(m,_,C,M){var N;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Bn.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new Bn(m,_,C,M)}}function ad(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Bn._fromErrorAndOperation(b,N,m,C):N})}function Zh(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Tr(b,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);yield Nr(!0,_,m);const{providerUserInfo:C}=yield Je(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Zh(C||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Nl(b,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(b,m,_=!1){const C=yield Nt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return vr._forOperation(b,"link",C)})).apply(this,arguments)}function Nr(b,m,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(b,m,_){yield $i(m);const M=!1===b?"provider-already-linked":"no-such-provider";oe(Zh(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function kc(b,m){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(b,m,_=!1){var C;const{auth:M}=b,N="reauthenticate";try{const ie=yield Nt(b,ad(M,N,m,b),_);oe(ie.idToken,M,"internal-error");const xe=gt(ie.idToken);oe(xe,M,"internal-error");const{sub:rt}=xe;return oe(b.uid===rt,M,"user-mismatch"),vr._forOperation(b,N,ie)}catch(ie){throw"auth/user-not-found"===(null===(C=ie)||void 0===C?void 0:C.code)&&Xe(M,"user-mismatch"),ie}})).apply(this,arguments)}function Rc(b,m){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(b,m,_=!1){const C="signIn",M=yield ad(b,C,m),N=yield vr._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Pa(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(b,m){return Rc(Ct(b),m)})).apply(this,arguments)}function Lt(b,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);return yield Nr(!1,_,m.providerId),Nl(_,m)})).apply(this,arguments)}function hm(b,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(b,m){return kc((0,$.m9)(b),m)})).apply(this,arguments)}function ld(b,m){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(b,m){return Vn(b,"POST","/v1/accounts:signInWithCustomToken",Yt(b,m))})).apply(this,arguments)}function lo(b,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(b,m){const _=Ct(b),C=yield ld(_,{token:m,returnSecureToken:!0}),M=yield vr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Uo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ke._fromServerResponse(m,_):Xe(m,"internal-error")}}class ke extends Uo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ke(_)}}function Qt(b,m,_){var C;oe((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Yh(b,m,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&Qt(C,M,_),yield qh(C,M)})).apply(this,arguments)}function ai(b,m,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(b,m,_){yield mr((0,$.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Fl(b,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(b,m){yield Wh((0,$.m9)(b),{oobCode:m})})).apply(this,arguments)}function Ll(b,m){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),C=yield mr(_,{oobCode:m}),M=C.requestType;switch(oe(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,_,"internal-error");default:oe(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=Uo._fromServerResponse(Ct(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Qh(b,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(b,m){const{data:_}=yield Ll((0,$.m9)(b),m);return _.email})).apply(this,arguments)}function fm(b,m,_){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(b,m,_){const C=Ct(b),M=yield or(C,{returnSecureToken:!0,email:m,password:_}),N=yield vr._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function li(b,m,_){return Pa((0,$.m9)(b),Ol.credential(m,_))}function Fr(b,m,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};oe(_.handleCodeInApp,C,"argument-error"),_&&Qt(C,M,_),yield gr(C,M)})).apply(this,arguments)}function Ha(b,m){return"EMAIL_SIGNIN"===Fo.parseLink(m)?.operation}function rs(b,m,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M=Ol.credentialWithLink(m,_||Ue());return oe(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Pa(C,M)})).apply(this,arguments)}function Oc(b,m){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:createAuthUri",Yt(b,m))})).apply(this,arguments)}function Xh(b,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(b,m){const C={identifier:m,continueUri:He()?Ue():"http://localhost"},{signinMethods:M}=yield Oc((0,$.m9)(b),C);return M||[]})).apply(this,arguments)}function Pc(b,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Qt(_.auth,M,m);const{email:N}=yield es(_.auth,M);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function Nc(b,m,_){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Qt(C.auth,N,_);const{email:ie}=yield Rl(C.auth,N);ie!==b.email&&(yield b.reload())})).apply(this,arguments)}function dd(b,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Jh(b,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,$.m9)(b),N={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ie=yield Nt(C,dd(C.auth,N));C.displayName=ie.displayName||null,C.photoURL=ie.photoUrl||null;const xe=C.providerData.find(({providerId:rt})=>"password"===rt);xe&&(xe.displayName=C.displayName,xe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ie)})).apply(this,arguments)}function ef(b,m){return ks((0,$.m9)(b),m,null)}function hd(b,m){return ks((0,$.m9)(b),null,m)}function ks(b,m,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(b,m,_){const{auth:C}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(N.email=m),_&&(N.password=_);const ie=yield Nt(b,kl(C,N));yield b._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Nn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class ss extends Nn{constructor(m,_,C,M){super(m,_,C),this.username=M}}class Fn extends Nn{constructor(m,_){super(m,"facebook.com",_)}}class Fc extends ss{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Lc extends Nn{constructor(m,_){super(m,"google.com",_)}}class tf extends ss{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Vc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function fd(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const ie=null===(_=null===(m=gt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ie)return new Nn(N,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!C)return null;switch(C){case"facebook.com":return new Fn(N,M);case"github.com":return new Fc(N,M);case"google.com":return new Lc(N,M);case"twitter.com":return new tf(N,M,b.screenName||null);case"custom":case"anonymous":return new Nn(N,null);default:return new Nn(N,C,M)}}(_)}class wr{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new wr("enroll",m,_)}static _fromMfaPendingCredential(m){return new wr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return wr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return wr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Hc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Ct(m),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(xe=>Uo._fromServerResponse(C,xe));oe(M.mfaPendingCredential,C,"internal-error");const ie=wr._fromMfaPendingCredential(M.mfaPendingCredential);return new Hc(ie,N,function(){var xe=(0,u.Z)(function*(rt){const Tt=yield rt._process(C,ie);delete M.mfaInfo,delete M.mfaPendingCredential;const Xt=Object.assign(Object.assign({},M),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const kn=yield vr._fromIdTokenResponse(C,_.operationType,Xt);return yield C._updateCurrentUser(kn.user),kn;case"reauthenticate":return oe(_.user,C,"internal-error"),vr._forOperation(_.user,_.operationType,Xt);default:Xe(C,"internal-error")}});return function(rt){return xe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function gd(b,m){var _;const C=(0,$.m9)(b),M=m;return oe(m.customData.operationType,C,"argument-error"),oe(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Hc._fromError(C,M)}function zn(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:start",Yt(b,m))}class Hl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Uo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Hl(m)}getSession(){var m=this;return(0,u.Z)(function*(){return wr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,u.Z)(function*(){const M=m,N=yield C.getSession(),ie=yield Nt(C.user,M._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(ie),C.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,N=yield _.user.getIdToken(),ie=yield Nt(_.user,function Ul(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(b,m))}(_.user.auth,{idToken:N,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:xe})=>xe!==M),yield _.user._updateTokensIfNecessary(ie);try{yield _.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(C=xe)||void 0===C?void 0:C.code))throw xe}})()}}const nf=new WeakMap;function Ga(b){const m=(0,$.m9)(b);return nf.has(m)||nf.set(m,Hl._fromUser(m)),nf.get(m)}const os="__sak";class Wa{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ci=(()=>{class b extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jc(){const b=(0,$.z$)();return B(b)||Be(b)}()&&function Xr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&_(C,N,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((xe,rt,Tt)=>{this.notifyListeners(xe,Tt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const N=()=>{const xe=this.storage.getItem(M);!C&&this.localCache[M]===xe||this.notifyListeners(M,xe)},ie=this.storage.getItem(M);!function Bt(){return(0,$.w1)()&&10===document.documentMode}()||ie===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,N=this;return(0,u.Z)(function*(){yield M().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,u.Z)(function*(){const N=yield C().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,M=this;return(0,u.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Os=(()=>{class b extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Ka=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,u.Z)(function*(){const M=_,{eventId:N,eventType:ie,data:xe}=M.data,rt=C.handlersMap[ie];if(!rt?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ie});const Tt=Array.from(rt).map(function(){var kn=(0,u.Z)(function*(hs){return hs(M.origin,xe)});return function(hs){return kn.apply(this,arguments)}}()),Xt=yield function $c(b){return Promise.all(b.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(Tt);M.ports[0].postMessage({status:"done",eventId:N,eventType:ie,response:Xt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Zo(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class af{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,u.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ie,xe;return new Promise((rt,Tt)=>{const Xt=Zo("",20);N.port1.start();const kn=setTimeout(()=>{Tt(new Error("unsupported_event"))},C);xe={messageChannel:N,onMessage(hs){const yo=hs;if(yo.data.eventId===Xt)switch(yo.data.status){case"ack":clearTimeout(kn),ie=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),rt(yo.data.response);break;default:clearTimeout(kn),clearTimeout(ie),Tt(new Error("invalid_response"))}}},M.handlers.add(xe),N.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:m,eventId:Xt,data:_},[N.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function Gn(){return window}function ar(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function as(){return(as=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Za="firebaseLocalStorageDb",Ya="firebaseLocalStorage",Yo="fbase_key";class ho{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Qo(b,m){return b.transaction([Ya],m?"readwrite":"readonly").objectStore(Ya)}function $l(){const b=indexedDB.open(Za,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Ya,{keyPath:Yo})}catch(M){_(M)}}),b.addEventListener("success",(0,u.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Ya)?m(C):(C.close(),yield function bd(){const b=indexedDB.deleteDatabase(Za);return new ho(b).toPromise()}(),m(yield $l()))}))})}function Qa(b,m,_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(b,m,_){const C=Qo(b,!0).put({[Yo]:m,value:_});return new ho(C).toPromise()})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(b,m){const _=Qo(b,!1).get(m),C=yield new ho(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function zl(b,m){const _=Qo(b,!0).delete(m);return new ho(_).toPromise()}const ea=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield $l()),_.db})()}_withRetries(_){var C=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return ar()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Ka._getInstance(function jl(){return ar()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function vd(){return as.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new af(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function zc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield $l();return yield Qa(_,os,"1"),yield zl(_,os),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(N=>Qa(N,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,u.Z)(function*(){const M=yield C._withRetries(N=>function lf(b,m){return Xo.apply(this,arguments)}(N,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(M=>zl(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const C=yield _._withRetries(ie=>{const xe=Qo(ie,!1).getAll();return new ho(xe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ie,value:xe}of C)N.add(ie),JSON.stringify(_.localCache[ie])!==JSON.stringify(xe)&&(_.notifyListeners(ie,xe),M.push(ie));for(const ie of Object.keys(_.localCache))_.localCache[ie]&&!N.has(ie)&&(_.notifyListeners(ie,null),M.push(ie));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function cf(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:start",Yt(b,m))}function Pi(){return(Pi=(0,u.Z)(function*(b){return(yield jt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fo(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const N=Fe("internal-error");N.customData=M,_(N)},C.type="text/javascript",C.charset="UTF-8",function na(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function ia(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Vr=1e12;class wd{constructor(m){this.auth=m,this.counter=Vr,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new An(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Vr;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Vr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var C;return null===(C=_._widgets.get(m||Vr))||void 0===C||C.execute(),""})()}}class An{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;oe(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pm(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uf=ia("rcb"),m0=new Ke(3e4,6e4);class $_{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Gn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return oe(function df(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Gn().grecaptcha):new Promise((C,M)=>{const N=Gn().setTimeout(()=>{M(Fe(m,"network-request-failed"))},m0.get());Gn()[uf]=()=>{Gn().clearTimeout(N),delete Gn()[uf];const xe=Gn().grecaptcha;if(!xe)return void M(Fe(m,"internal-error"));const rt=xe.render;xe.render=(Tt,Xt)=>{const kn=rt(Tt,Xt);return this.counter++,kn},this.hostLanguage=_,C(xe)},fo(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:uf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(Fe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Gn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class g0{load(m){return(0,u.Z)(function*(){return new wd(m)})()}clearedOneInstance(){}}const Ns="recaptcha",z_={theme:"light",type:"image"};class mm{constructor(m,_=Object.assign({},z_),C){this.parameters=_,this.type=Ns,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(C),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new g0:new $_,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const ie=xe=>{!xe||(m.tokenChangeListeners.delete(ie),N(xe))};m.tokenChangeListeners.add(ie),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Gn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){oe(He()&&!ar(),m.auth,"internal-error"),yield function wi(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Gl(b){return Pi.apply(this,arguments)}(m.auth);oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fn{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=No._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function _i(b,m,_){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(b,m,_){const C=Ct(b),M=yield po(C,m,(0,$.m9)(_));return new fn(M,N=>Pa(C,N))})).apply(this,arguments)}function Cd(b,m,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);yield Nr(!1,C,"phone");const M=yield po(C.auth,m,(0,$.m9)(_));return new fn(M,N=>Lt(C,N))})).apply(this,arguments)}function ls(b,m,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M=yield po(C.auth,m,(0,$.m9)(_));return new fn(M,N=>hm(C,N))})).apply(this,arguments)}function po(b,m,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let N;if(oe("string"==typeof M,b,"argument-error"),oe(_.type===Ns,b,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const ie=N.session;if("phoneNumber"in N)return oe("enroll"===ie.type,b,"internal-error"),(yield zn(b,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===ie.type,b,"internal-error");const xe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return oe(xe,b,"missing-multi-factor-info"),(yield cf(b,{mfaPendingCredential:ie.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield lm(b,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ie}}finally{_._reset()}})).apply(this,arguments)}function mo(b,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(b,m){yield Nl((0,$.m9)(b),m)})).apply(this,arguments)}let ft=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ct(_)}verifyPhoneNumber(_,C){return po(this.auth,_,(0,$.m9)(C))}static credential(_,C){return No._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?No._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function sa(b,m){return m?te(m):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ed extends rr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return so(m,this._buildIdpRequest())}_linkToIdToken(m,_){return so(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return so(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Wl(b){return Rc(b.auth,new Ed(b),b.bypassAuthState)}function Gi(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),kc(_,new Ed(b),b.bypassAuthState)}function oa(b){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),Nl(_,new Ed(b),b.bypassAuthState)})).apply(this,arguments)}class cs{constructor(m,_,C,M,N=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:ie,error:xe,type:rt}=m;if(xe)return void _.reject(xe);const Tt={auth:_.auth,requestUri:C,sessionId:M,tenantId:ie||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(Tt))}catch(Xt){_.reject(Xt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Wl;case"linkViaPopup":case"linkViaRedirect":return oa;case"reauthViaPopup":case"reauthViaRedirect":return Gi;default:Xe(this.auth,"internal-error")}}resolve(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wi=new Ke(2e3,1e4);function Kc(b,m,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(b,m,_){const C=Ct(b);De(b,m,Si);const M=sa(C,_);return new Ja(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Zc(b,m,_){return Id.apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Si);const M=sa(C.auth,_);return new Ja(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function gm(b,m,_){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Si);const M=sa(C.auth,_);return new Ja(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Ja=(()=>{class b extends cs{constructor(_,C,M,N,ie){super(_,C,N,ie),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const C=yield _.execute();return oe(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,u.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const C=Zo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Wi.get())};_()}}return b.currentPopupAction=null,b})();const Br=new Map;class qn extends cs{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let C=Br.get(_.auth._key());if(!C){try{const N=(yield function Ur(b,m){return la.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}Br.set(_.auth._key(),C)}return _.bypassAuthState||Br.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function la(){return(la=(0,u.Z)(function*(b,m){const _=us(m),C=ca(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Fs(b,m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,u.Z)(function*(b,m){return ca(b)._set(us(m),"true")})).apply(this,arguments)}function Ls(){Br.clear()}function Yc(b,m){Br.set(b._key(),m)}function ca(b){return te(b._redirectPersistence)}function us(b){return z("pendingRedirect",b.config.apiKey,b.name)}function Dd(b,m,_){return function Kn(b,m,_){return Zl.apply(this,arguments)}(b,m,_)}function Zl(){return(Zl=(0,u.Z)(function*(b,m,_){const C=Ct(b);De(b,m,Si);const M=sa(C,_);return yield Fs(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function D(b,m,_){return function T(b,m,_){return k.apply(this,arguments)}(b,m,_)}function k(){return(k=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Si);const M=sa(C.auth,_);yield Fs(M,C.auth);const N=yield $t(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function H(b,m,_){return function J(b,m,_){return ue.apply(this,arguments)}(b,m,_)}function ue(){return(ue=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Si);const M=sa(C.auth,_);yield Nr(!1,C,m.providerId),yield Fs(M,C.auth);const N=yield $t(C);return M._openRedirect(C.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function Re(b,m){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(b,m){return yield Ct(b)._initializationPromise,bt(b,m,!1)})).apply(this,arguments)}function bt(b,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(b,m,_=!1){const C=Ct(b),M=sa(C,m),ie=yield new qn(C,M,_).execute();return ie&&!_&&(delete ie.user._redirectEventId,yield C._persistUserIfCurrent(ie.user),yield C._setRedirectUser(null,m)),ie})).apply(this,arguments)}function $t(b){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(b){const m=Zo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class yi{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function go(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ds(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!ds(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Fe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vs(m))}saveEventToCache(m){this.cachedEventUids.add(Vs(m)),this.lastProcessedEventTime=Date.now()}}function Vs(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ds({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Bs(b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(b,m={}){return jt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const ui=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^https?/;function Qc(){return(Qc=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Bs(b);for(const _ of m)try{if(JI(_))return}catch{}Xe(b,"unauthorized-domain")})).apply(this,arguments)}function JI(b){const m=Ue(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const ie=new URL(b);return""===ie.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ie.hostname===C}if(!cr.test(_))return!1;if(ui.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const G_=new Ke(3e4,6e4);function hf(){const b=Gn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Hs=null;function _m(b){return Hs=Hs||function ff(b){return new Promise((m,_)=>{var C,M,N;function ie(){hf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{hf(),_(Fe(b,"network-request-failed"))},timeout:G_.get()})}if(null!==(M=null===(C=Gn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Gn().gapi)||void 0===N||!N.load){const xe=ia("iframefcb");return Gn()[xe]=()=>{gapi.load?ie():_(Fe(b,"network-request-failed"))},fo(`https://apis.google.com/js/api.js?onload=${xe}`).catch(rt=>_(rt))}ie()}}).catch(m=>{throw Hs=null,m})}(b),Hs}const pf=new Ke(5e3,15e3),W_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(b){const m=b.config;oe(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?mn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:P.SDK_VERSION},M=tD.get(b.config.apiHost);M&&(C.eid=M);const N=b._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,$.xO)(C).slice(1)}`}function mf(){return mf=(0,u.Z)(function*(b){const m=yield _m(b),_=Gn().gapi;return oe(_,b,"internal-error"),m.open({where:document.body,url:vm(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W_,dontclear:!0},C=>new Promise(function(){var M=(0,u.Z)(function*(N,ie){yield C.restyle({setHideOnLeave:!1});const xe=Fe(b,"network-request-failed"),rt=Gn().setTimeout(()=>{ie(xe)},pf.get());function Tt(){Gn().clearTimeout(rt),N(C)}C.ping(Tt).then(Tt,()=>{ie(xe)})});return function(N,ie){return M.apply(this,arguments)}}()))}),mf.apply(this,arguments)}const gf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Z_{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ua(b,m,_,C,M,N){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const ie={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:P.SDK_VERSION,eventId:M};if(m instanceof Si){m.setDefaultLanguage(b.languageCode),ie.providerId=m.providerId||"",(0,$.xb)(m.getCustomParameters())||(ie.customParameters=JSON.stringify(m.getCustomParameters()));for(const[rt,Tt]of Object.entries(N||{}))ie[rt]=Tt}if(m instanceof Lo){const rt=m.getScopes().filter(Tt=>""!==Tt);rt.length>0&&(ie.scopes=rt.join(","))}b.tenantId&&(ie.tid=b.tenantId);const xe=ie;for(const rt of Object.keys(xe))void 0===xe[rt]&&delete xe[rt];return`${function _o({config:b}){return b.emulator?mn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(xe).slice(1)}`}const Td="webStorageSupport",vf=class yf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=bt,this._overrideRedirectResult=Yc}_openPopup(m,_,C,M){var N=this;return(0,u.Z)(function*(){var ie;we(null===(ie=N.eventManagers[m._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const xe=ua(m,_,C,Ue(),M);return function Yl(b,m,_,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ie=Math.max((window.screen.availWidth-C)/2,0).toString();let xe="";const rt=Object.assign(Object.assign({},gf),{width:C.toString(),height:M.toString(),top:N,left:ie}),Tt=(0,$.z$)().toLowerCase();_&&(xe=se(Tt)?"_blank":_),O(Tt)&&(m=m||"http://localhost",rt.scrollbars="yes");const Xt=Object.entries(rt).reduce((hs,[yo,wf])=>`${hs}${yo}=${wf},`,"");if(function gn(b=(0,$.z$)()){var m;return Be(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Tt)&&"_self"!==xe)return function tl(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",xe),new Z_(null);const kn=window.open(m||"",xe,Xt);oe(kn,b,"popup-blocked");try{kn.focus()}catch{}return new Z_(kn)}(m,xe,Zo())})()}_openRedirect(m,_,C,M){var N=this;return(0,u.Z)(function*(){return yield N._originValidation(m),function yd(b){Gn().location.href=b}(ua(m,_,C,Ue(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(we(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const C=yield function _0(b){return mf.apply(this,arguments)}(m),M=new yi(m);return C.register("authEvent",N=>(oe(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Td,{type:Td},M=>{var N;const ie=null===(N=M?.[0])||void 0===N?void 0:N[Td];void 0!==ie&&_(!!ie),Xe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Us(b){return Qc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return _n()||B()||Be()}};class xd extends class Sd{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new xd(m)}_finalizeEnroll(m,_,C){return function Bl(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function ta(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:finalize",Yt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let js=(()=>{class b{constructor(){}static assertion(_){return xd._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var da="@firebase/auth",Md="0.20.11";class y0{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function Y_(b){(0,P._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:N,authDomain:ie}=C.options;return((xe,rt)=>{oe(N&&!N.includes(":"),"invalid-api-key",{appName:xe.name}),oe(!ie?.includes(":"),"argument-error",{appName:xe.name});const Tt={apiKey:N,authDomain:ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(b)},Xt=new Oo(xe,rt,Tt);return function ce(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(te);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Xt,_),Xt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ve.wA("auth-internal",m=>{const _=Ct(m.getProvider("auth").getImmediate());return new y0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(da,Md,function v0(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(da,Md,"esm2017")}("Browser")},2090:(ht,Me,F)=>{F.d(Me,{$s:()=>nt,BH:()=>Wt,G6:()=>De,L:()=>pe,LL:()=>rn,Pz:()=>an,Sg:()=>Ke,UG:()=>Te,US:()=>ve,ZB:()=>W,ZR:()=>Tn,aH:()=>mt,b$:()=>_e,eu:()=>oe,hl:()=>qe,jU:()=>it,m9:()=>tn,ne:()=>xn,pd:()=>Qs,r3:()=>ji,ru:()=>Ce,tV:()=>be,uI:()=>Ne,vZ:()=>Je,w1:()=>Xe,xO:()=>In,xb:()=>Dr,z$:()=>ze,zI:()=>fe,zd:()=>bi});const le=function(q){const z=[];let Q=0;for(let j=0;j<q.length;j++){let O=q.charCodeAt(j);O<128?z[Q++]=O:O<2048?(z[Q++]=O>>6|192,z[Q++]=63&O|128):55296==(64512&O)&&j+1<q.length&&56320==(64512&q.charCodeAt(j+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++j)),z[Q++]=O>>18|240,z[Q++]=O>>12&63|128,z[Q++]=O>>6&63|128,z[Q++]=63&O|128):(z[Q++]=O>>12|224,z[Q++]=O>>6&63|128,z[Q++]=63&O|128)}return z},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let O=0;O<q.length;O+=3){const B=q[O],se=O+1<q.length,Le=se?q[O+1]:0,st=O+2<q.length,ot=st?q[O+2]:0;let Ft=(15&Le)<<2|ot>>6,gn=63&ot;st||(gn=64,se||(Ft=64)),j.push(Q[B>>2],Q[(3&B)<<4|Le>>4],Q[Ft],Q[gn])}return j.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(le(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let Q=0,j=0;for(;Q<q.length;){const O=q[Q++];if(O<128)z[j++]=String.fromCharCode(O);else if(O>191&&O<224){const B=q[Q++];z[j++]=String.fromCharCode((31&O)<<6|63&B)}else if(O>239&&O<365){const st=((7&O)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;z[j++]=String.fromCharCode(55296+(st>>10)),z[j++]=String.fromCharCode(56320+(1023&st))}else{const B=q[Q++],se=q[Q++];z[j++]=String.fromCharCode((15&O)<<12|(63&B)<<6|63&se)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let O=0;O<q.length;){const B=Q[q.charAt(O++)],Le=O<q.length?Q[q.charAt(O)]:0;++O;const ot=O<q.length?Q[q.charAt(O)]:64;++O;const Be=O<q.length?Q[q.charAt(O)]:64;if(++O,null==B||null==Le||null==ot||null==Be)throw Error();j.push(B<<2|Le>>4),64!==ot&&(j.push(Le<<4&240|ot>>2),64!==Be&&j.push(ot<<6&192|Be))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},pe=function(q){return function(q){const z=le(q);return ve.encodeByteArray(z,!0)}(q).replace(/\./g,"")},be=function(q){try{return ve.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!ee(Q)||(q[Q]=W(q[Q],z[Q]));return q}function ee(q){return"__proto__"!==q}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function Ce(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const q=ze();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function De(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function oe(){return new Promise((q,z)=>{try{let Q=!0;const j="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(j);O.onsuccess=()=>{O.result.close(),Q||self.indexedDB.deleteDatabase(j),q(!0)},O.onupgradeneeded=()=>{Q=!1},O.onerror=()=>{var B;z((null===(B=O.error)||void 0===B?void 0:B.message)||"")}}catch(Q){z(Q)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=q&&be(q[1]);return z&&JSON.parse(z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},mt=()=>{var q;return null===(q=ce())||void 0===q?void 0:q.config},an=q=>{var z;return null===(z=ce())||void 0===z?void 0:z[`_${q}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,j)=>{Q?this.reject(Q):this.resolve(j),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,j))}}}function Ke(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=z||"demo-project",O=q.iat||0,B=q.sub||q.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:O,exp:O+3600,auth_time:O,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(se)),""].join(".")}class Tn extends Error{constructor(z,Q,j){super(Q),this.code=z,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(z,Q,j){this.service=z,this.serviceName=Q,this.errors=j}create(z,...Q){const j=Q[0]||{},O=`${this.service}/${z}`,B=this.errors[z],se=B?function sn(q,z){return q.replace(Yt,(Q,j)=>{const O=z[j];return null!=O?String(O):`<${j}?>`})}(B,j):"Error";return new Tn(O,`${this.serviceName}: ${se} (${O}).`,j)}}const Yt=/\{\$([^}]+)}/g;function ji(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function Dr(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Je(q,z){if(q===z)return!0;const Q=Object.keys(q),j=Object.keys(z);for(const O of Q){if(!j.includes(O))return!1;const B=q[O],se=z[O];if(ri(B)&&ri(se)){if(!Je(B,se))return!1}else if(B!==se)return!1}for(const O of j)if(!Q.includes(O))return!1;return!0}function ri(q){return null!==q&&"object"==typeof q}function In(q){const z=[];for(const[Q,j]of Object.entries(q))Array.isArray(j)?j.forEach(O=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(O))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(j));return z.length?"&"+z.join("&"):""}function bi(q){const z={};return q.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[O,B]=j.split("=");z[decodeURIComponent(O)]=decodeURIComponent(B)}}),z}function Qs(q){const z=q.indexOf("?");if(!z)return"";const Q=q.indexOf("#",z);return q.substring(z,Q>0?Q:void 0)}function xn(q,z){const Q=new bn(q,z);return Q.subscribe.bind(Q)}class bn{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(j=>{this.error(j)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,j){let O;if(void 0===z&&void 0===Q&&void 0===j)throw new Error("Missing Observer.");O=function _t(q,z){if("object"!=typeof q||null===q)return!1;for(const Q of z)if(Q in q&&"function"==typeof q[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:j},void 0===O.next&&(O.next=Nt),void 0===O.error&&(O.error=Nt),void 0===O.complete&&(O.complete=Nt);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),B}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nt(){}function nt(q,z=1e3,Q=2){const j=z*Math.pow(Q,q),O=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+O)}function tn(q){return q&&q._delegate?q._delegate:q}},2848:(ht,Me,F)=>{var u=F(4650);let $=null;function P(){return $}const ae=new u.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return(0,u.LFG)(W)}()},providedIn:"platform"}),n})();const K=new u.OlP("Location Initialized");let W=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new W((0,u.LFG)(ae))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(et)},providedIn:"root"}),n})();const _e=new u.OlP("appBaseHref");let et=(()=>{class n extends Ce{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+it(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+it(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xe=(()=>{class n extends Ce{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ne(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Te(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+it(i))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ne,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Oe(){return new Fe((0,u.LFG)(Ce))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function kl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}class no{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xs=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new no(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,c),io(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{io(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function io(n,e){n.context.$implicit=e.item}let Pn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new qh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qh{constructor(){this.$implicit=null,this.ngIf=null}}function oi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class gr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ro=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Rl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new gr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ro,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class am{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class ts{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const lm=new ts,ed=new am;let Kh=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,u.QGY)(t))return lm;if((0,u.F4k)(t))return ed;throw function _r(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const yr="browser";function Bo(n){return"server"===n}let ad=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Zh((0,u.LFG)(ae),window)}),n})();class Zh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Tr(this.window.history)||Tr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Tr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ao{}class ks extends class hd extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){$||($=n)}(new ks)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fd(){return Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null}();return null==t?null:function ss(n){Nn=Nn||document.createElement("a"),Nn.setAttribute("href",n);const e=Nn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kl(document.cookie,e)}}let Nn,Rs=null;const Fn=new u.OlP("TRANSITION_ID"),Lc=[{provide:u.ip1,useFactory:function Fc(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Fn,ae,u.zs3],multi:!0}];let Vc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bc=new u.OlP("EventManagerPlugins");let Uc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bc),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Vl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Wo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qo=(()=>{class n extends Wo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(pd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function pd(n){P().remove(n)}const Ko={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},md=/%COMP%/g;function Ul(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ul(n,r,t):(r=r.replace(md,n),t.push(r))}return t}function Hl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ga=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new os(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new _d(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new rf(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ul(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uc),u.LFG(qo),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class os{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ko[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qa(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(qa(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ko[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ko[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hl(i)):this.eventManager.addEventListener(e,t,Hl(i))}}function qa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _d extends os{constructor(e,t,i,r){super(e),this.component=i;const a=Ul(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function zn(n){return"_ngcontent-%COMP%".replace(md,n)}(r+"-"+i.id),this.hostAttr=function Bl(n){return"_nghost-%COMP%".replace(md,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class rf extends os{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ul(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ci=(()=>{class n extends Vl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sf=["alt","control","meta","shift"],Os={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$c={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ka=(()=>{class n extends Vl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),sf.forEach(v=>{const I=i.indexOf(v);I>-1&&(i.splice(I,1),c+=v+".")}),c+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=r,g.fullKey=c,g}static matchEventFullKeyCode(t,i){let r=Os[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),sf.forEach(c=>{c!==r&&(0,$c[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:yr},{provide:u.g9A,useValue:function vd(){ks.makeCurrent()},multi:!0},{provide:ae,useFactory:function zc(){return(0,u.RDi)(document),document},deps:[]}]),uo=new u.OlP(""),Ya=[{provide:u.rWj,useClass:class tf{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const f=function(g){c=c||g,a--,0==a&&i(c)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Yo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function as(){return new u.qLn},deps:[]},{provide:Bc,useClass:ci,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:Bc,useClass:Ka,multi:!0,deps:[ae]},{provide:Ga,useClass:Ga,deps:[Uc,qo,u.AFp]},{provide:u.FYo,useExisting:Ga},{provide:Wo,useExisting:qo},{provide:qo,useClass:qo,deps:[ae]},{provide:Uc,useClass:Uc,deps:[Bc,u.R0b]},{provide:ao,useClass:Vc,deps:[]},[]];let ho=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Fn,useExisting:u.AFp},Lc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uo,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Yo,...Ya],imports:[ns,u.hGG]}),n})(),Lr=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Qa(){return new Lr((0,u.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(mm),i},providedIn:"root"}),n})(),mm=(()=>{class n extends Ns{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function z_(n){return new mm(n.get(ae))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var fn=F(8996),_i=F(9751);const{isArray:qc}=Array,{getPrototypeOf:Cd,prototype:Ni,keys:ls}=Object;function Xa(n){if(1===n.length){const e=n[0];if(qc(e))return{args:e,keys:null};if(function po(n){return n&&"object"==typeof n&&Cd(n)===Ni}(e)){const t=ls(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var lr=F(8421),mo=F(3269),Wn=F(5403),ft=F(4004);const{isArray:sa}=Array;function Wl(n){return(0,ft.U)(e=>function Ed(n,e){return sa(e)?n(...e):n(e)}(n,e))}function Gi(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function oa(...n){const e=(0,mo.jO)(n),{args:t,keys:i}=Xa(n),r=new _i.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let g=c,v=c;for(let I=0;I<c;I++){let x=!1;(0,lr.Xf)(t[I]).subscribe((0,Wn.x)(a,V=>{x||(x=!0,v--),f[I]=V},()=>g--,void 0,()=>{(!g||!x)&&(v||a.next(i?Gi(i,f):f),a.complete())}))}});return e?r.pipe(Wl(e)):r}const qn=new u.OlP("NgValidators"),Ur=new u.OlP("NgAsyncValidators");function T(n){return null!=n}function k(n){return(0,u.QGY)(n)?(0,fn.D)(n):n}function H(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J(n,e){return e.map(t=>t(n))}function Re(n){return n.map(e=>function ue(n){return!n.validate}(e)?e:t=>e.validate(t))}function bt(n){return null!=n?function We(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return H(J(t,e))}}(Re(n)):null}function $t(n){return null!=n?function Mt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return oa(J(t,e).map(k)).pipe((0,ft.U)(H))}}(Re(n)):null}function Et(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Vs(n){return n?Array.isArray(n)?n:[n]:[]}function ds(n,e){return Array.isArray(n)?n.includes(e):n===e}function go(n,e){const t=Vs(e);return Vs(n).forEach(r=>{ds(t,r)||t.push(r)}),t}function Bs(n,e){return Vs(e).filter(t=>!ds(n,t))}class ui extends class Hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let hf=(()=>{class n extends class Us{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ui,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const tl="VALID",Xc="INVALID",nl="PENDING",ua="DISABLED";function Td(n){return Array.isArray(n)?bt(n):n||null}function vf(n){return Array.isArray(n)?$t(n):n||null}function Sd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Md extends class da{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Td(this._rawValidators),this._composedAsyncValidatorFn=vf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===Xc}get pending(){return this.status==nl}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Td(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=vf(e)}addValidators(e){this.setValidators(go(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(go(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bs(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bs(e,this._rawAsyncValidators))}hasValidator(e){return ds(this._rawValidators,e)}hasAsyncValidator(e){return ds(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ua,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===nl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nl,this._hasOwnPendingAsyncValidator=!0;const t=k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nl)?nl:this._anyControlsHaveStatus(Xc)?Xc:tl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e,t,i){super(function _o(n){return(Sd(n)?n.validators:n)||null}(t),function yf(n,e){return(Sd(e)?e.asyncValidators:n)||null}(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function js(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function xd(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function bf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m(n,e){const t=function Zn(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Et(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function yi(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Et(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();bf(e._rawValidators,r),bf(e._rawAsyncValidators,r)}function N(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Cf={provide:ui,useExisting:(0,u.Gpc)(()=>ha)},rl=(()=>Promise.resolve())();let ha=(()=>{class n extends ui{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Md({},bt(t),$t(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rl.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),function il(n,e){m(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function C(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N(n,e)})}(n,e),function ie(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function M(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rl.then(()=>{const i=this._findContainer(t.path),r=new Md({});(function xe(n,e){m(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){rl.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Rd(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qn,10),u.Y36(Ur,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Cf]),u.qOj]}),n})(),Od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),GA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[D0]}),n})(),WA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[GA]}),n})();function lt(...n){const e=(0,mo.yG)(n);return(0,fn.D)(n,e)}var nn=F(7579);class fs extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const xm=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ru=F(4671),If=F(9672);function hy(...n){const e=(0,mo.yG)(n),t=(0,mo.jO)(n),{args:i,keys:r}=Xa(n);if(0===i.length)return(0,fn.D)([],e);const a=new _i.y(function yD(n,e,t=ru.y){return i=>{U0(e,()=>{const{length:r}=n,a=new Array(r);let c=r,f=r;for(let g=0;g<r;g++)U0(e,()=>{const v=(0,fn.D)(n[g],e);let I=!1;v.subscribe((0,Wn.x)(i,x=>{a[g]=x,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Gi(r,c):ru.y));return t?a.pipe(Wl(t)):a}function U0(n,e,t){n?(0,If.f)(t,n,e):e()}var Ld=F(8189);function Mm(...n){return function vD(){return(0,Ld.J)(1)}()((0,fn.D)(n,(0,mo.yG)(n)))}function H0(n){return new _i.y(e=>{(0,lr.Xf)(n()).subscribe(e)})}var bD=F(9635),$s=F(576);function Vd(n,e){const t=(0,$s.m)(n)?n:()=>n,i=r=>r.error(t());return new _i.y(e?r=>e.schedule(i,0,r):i)}var su=F(515),ou=F(727),Fi=F(4482);function fy(){return(0,Fi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class j0 extends _i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ou.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Wn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ou.w0.EMPTY)}return e}refCount(){return fy()(this)}}function vn(n,e){return(0,Fi.e)((t,i)=>{let r=null,a=0,c=!1;const f=()=>c&&!r&&i.complete();t.subscribe((0,Wn.x)(i,g=>{r?.unsubscribe();let v=0;const I=a++;(0,lr.Xf)(n(g,I)).subscribe(r=(0,Wn.x)(i,x=>i.next(e?e(g,x,I,v++):x),()=>{r=null,f()}))},()=>{c=!0,f()}))})}function ps(n){return n<=0?()=>su.E:(0,Fi.e)((e,t)=>{let i=0;e.subscribe((0,Wn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Xl(...n){const e=(0,mo.yG)(n);return(0,Fi.e)((t,i)=>{(e?Mm(n,t,e):Mm(n,t)).subscribe(i)})}function vi(n,e){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,Wn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var wn=F(5577);function Jl(n){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,Wn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function py(n=wD){return(0,Fi.e)((e,t)=>{let i=!1;e.subscribe((0,Wn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function wD(){return new xm}function ol(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):ru.y,ps(1),t?Jl(e):py(()=>new xm))}function al(n,e){return(0,$s.m)(e)?(0,wn.z)(n,e,1):(0,wn.z)(n,1)}var Li=F(8505);function fa(n){return(0,Fi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Wn.x)(t,void 0,void 0,c=>{a=(0,lr.Xf)(n(c,fa(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function CD(n,e,t,i,r){return(a,c)=>{let f=t,g=e,v=0;a.subscribe((0,Wn.x)(c,I=>{const x=v++;g=f?n(g,I,x):(f=!0,I),i&&c.next(g)},r&&(()=>{f&&c.next(g),c.complete()})))}}function Bd(n,e){return(0,Fi.e)(CD(n,e,arguments.length>=2,!0))}function my(n){return n<=0?()=>su.E:(0,Fi.e)((e,t)=>{let i=[];e.subscribe((0,Wn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function $0(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):ru.y,my(1),t?Jl(e):py(()=>new xm))}function gy(n){return(0,ft.U)(()=>n)}function Df(n){return(0,Fi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const qt="primary",ms=Symbol("RouteTitle");class ED{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ud(n){return new ED(n)}function ZA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],f=n[a];if(c.startsWith(":"))r[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function vo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!ID(n[r],e[r]))return!1;return!0}function ID(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function bo(n){return Array.prototype.concat.apply([],n)}function Am(n){return n.length>0?n[n.length-1]:null}function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ll(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,fn.D)(Promise.resolve(n)):lt(n)}const DD={exact:function vy(n,e,t){if(!cu(n.segments,e.segments)||!Sf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!vy(n.children[i],e.children[i],t))return!1;return!0},subset:au},W0={exact:function yy(n,e){return vo(n,e)},subset:function QA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ID(n[t],e[t]))},ignored:()=>!0};function km(n,e,t){return DD[t.paths](n.root,e.root,t.matrixParams)&&W0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function au(n,e,t){return Rm(n,e,e.segments,t)}function Rm(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!cu(r,t)||e.hasChildren()||!Sf(r,t,i))}if(n.segments.length===t.length){if(!cu(n.segments,t)||!Sf(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!au(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(cu(n.segments,r)&&Sf(n.segments,r,i)&&n.children[qt])&&Rm(n.children[qt],e,a,i)}}function Sf(n,e,t){return e.every((i,r)=>W0[t](n[r].parameters,i.parameters))}class lu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return K0.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}}class xf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ud(this.parameters)),this._parameterMap}toString(){return wy(this)}}function cu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new by},providedIn:"root"}),n})();class by{parse(e){const t=new Cy(e);return new lu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jd(e.root,!0)}`,i=function MD(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Pm(t)}=${Pm(r)}`).join("&"):`${Pm(t)}=${Pm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function xD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const K0=new by;function Hd(n){return n.segments.map(e=>wy(e)).join("/")}function jd(n,e){if(!n.hasChildren())return Hd(n);if(e){const t=n.children[qt]?jd(n.children[qt],!1):"",i=[];return ur(n.children,(r,a)=>{a!==qt&&i.push(`${a}:${jd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function SD(n,e){let t=[];return ur(n.children,(i,r)=>{r===qt&&(t=t.concat(e(i,r)))}),ur(n.children,(i,r)=>{r!==qt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===qt?[jd(n.children[qt],!1)]:[`${r}:${jd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${Hd(n)}/${t[0]}`:`${Hd(n)}/(${t.join("//")})`}}function Om(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pm(n){return Om(n).replace(/%3B/gi,";")}function Nm(n){return Om(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mf(n){return decodeURIComponent(n)}function ec(n){return Mf(n.replace(/\+/g,"%20"))}function wy(n){return`${Nm(n.path)}${function Z0(n){return Object.keys(n).map(e=>`;${Nm(e)}=${Nm(n[e])}`).join("")}(n.parameters)}`}const XA=/^[^\/()?;=#]+/;function uu(n){const e=n.match(XA);return e?e[0]:""}const AD=/^[^=?&#]+/,Q0=/^[^&#]+/;class Cy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[qt]=new en(e,t)),i}parseSegment(){const e=uu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new xf(Mf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=uu(this.remaining);r&&(i=r,this.capture(i))}e[Mf(t)]=Mf(i)}parseQueryParam(e){const t=function Y0(n){const e=n.match(AD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function X0(n){const e=n.match(Q0);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=ec(t),a=ec(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=qt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[qt]:new en([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Fm(n){return n.segments.length>0?new en([],{[qt]:n}):n}function du(n){const e={};for(const i of Object.keys(n.children)){const a=du(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Lm(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function tc(n){return n instanceof lu}function RD(n,e,t,i,r){if(0===t.length)return zd(e.root,e.root,e.root,i,r);const a=function Dy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ur(a.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Vm(t,e,i)}(t);return a.toRoot()?zd(e.root,e.root,new en([],{}),i,r):function c(g){const v=function OD(n,e,t,i){if(n.isAbsolute)return new Of(e.root,!0,0);if(-1===i)return new Of(t,t===e.root,0);return function Ty(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Of(i,!1,r-a)}(t,i+($d(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),I=v.processChildren?Ar(v.segmentGroup,v.index,a.commands):Sy(v.segmentGroup,v.index,a.commands);return zd(e.root,v.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function $d(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rf(n){return"object"==typeof n&&null!=n&&n.outlets}function zd(n,e,t,i,r){let c,a={};i&&ur(i,(g,v)=>{a[v]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),c=n===e?t:Iy(n,e,t);const f=Fm(du(c));return new lu(f,a,r)}function Iy(n,e,t){const i={};return ur(n.children,(r,a)=>{i[a]=r===e?t:Iy(r,e,t)}),new en(n.segments,i)}class Vm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$d(i[0]))throw new u.vHH(4003,!1);const r=i.find(Rf);if(r&&r!==Am(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Of{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Sy(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return Ar(n,e,t);const i=function ND(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],f=t[i];if(Rf(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!tw(g,v,c))return a;i+=2}else{if(!tw(g,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new en(n.segments.slice(0,i.pathIndex),{});return a.children[qt]=new en(n.segments.slice(i.pathIndex),n.children),Ar(a,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Bm(n,e,t):i.match?Ar(n,0,r):Bm(n,e,t)}function Ar(n,e,t){if(0===t.length)return new en(n.segments,{});{const i=function PD(n){return Rf(n[0])?n[0].outlets:{[qt]:n}}(t),r={};return ur(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=Sy(n.children[c],e,a))}),ur(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new en(n.segments,r)}}function Bm(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Rf(a)){const g=FD(a.outlets);return new en(i,g)}if(0===r&&$d(t[0])){i.push(new xf(n.segments[e].path,ew(t[0]))),r++;continue}const c=Rf(a)?a.outlets[qt]:`${a}`,f=r<t.length-1?t[r+1]:null;c&&f&&$d(f)?(i.push(new xf(c,ew(f))),r+=2):(i.push(new xf(c,{})),r++)}return new en(i,{})}function FD(n){const e={};return ur(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Bm(new en([],{}),0,t))}),e}function ew(n){const e={};return ur(n,(t,i)=>e[i]=`${t}`),e}function tw(n,e,t){return n==t.path&&vo(e,t.parameters)}class cl{constructor(e,t){this.id=e,this.url=t}}class Um extends cl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hu extends cl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hm extends cl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nw extends cl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kt extends cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw extends cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rw extends cl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sw extends cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LD extends cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ow{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jD{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ul(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ul(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=My(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return My(e,this._root).map(t=>t.value)}}function ul(n,e){if(n===e.value)return e;for(const t of e.children){const i=ul(n,t);if(i)return i}return null}function My(n,e){if(n===e.value)return[e];for(const t of e.children){const i=My(n,t);if(i.length)return i.unshift(e),i}return[]}class wo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cw extends xy{constructor(e,t){super(e),this.snapshot=t,ic(this,e)}toString(){return this.snapshot.toString()}}function $D(n,e){const t=function JA(n,e){const c=new Ay([],{},{},"",{},qt,e,null,n.root,-1,{});return new hw("",new wo(c,[]))}(n,e),i=new fs([new xf("",{})]),r=new fs({}),a=new fs({}),c=new fs({}),f=new fs(""),g=new Gd(i,r,c,f,a,qt,e,t.root);return g.snapshot=t.root,new cw(new wo(g,[]),t)}class Gd{constructor(e,t,i,r,a,c,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,ft.U)(v=>v[ms]))??lt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>Ud(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>Ud(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uw(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function dw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Ay{constructor(e,t,i,r,a,c,f,g,v,I,x,V){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.[ms],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=I,this._correctedLastPathIndex=V??I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hw extends xy{constructor(e,t){super(t),this.url=e,ic(this,t)}toString(){return fw(this._root)}}function ic(n,e){e.value._routerState=n,e.children.forEach(t=>ic(n,t))}function fw(n){const e=n.children.length>0?` { ${n.children.map(fw).join(", ")} } `:"";return`${n.value}${e}`}function jm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vo(e.params,t.params)||n.params.next(t.params),function YA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wd(n,e){const t=vo(n.params,e.params)&&function TD(n,e){return cu(n,e)&&n.every((t,i)=>vo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Wd(n.parent,e.parent))}function qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function GD(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return qd(n,i,r);return qd(n,i)})}(n,e,t);return new wo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>qd(n,f)),c}}const i=function WD(n){return new Gd(new fs(n.url),new fs(n.params),new fs(n.queryParams),new fs(n.fragment),new fs(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>qd(n,a));return new wo(i,r)}}const ky="ngNavigationCancelingError";function pw(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=tc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=mw(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function mw(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ky]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Ry(n){return gw(n)&&tc(n.url)}function gw(n){return n&&n[ky]}class _w{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Kd,this.attachRef=null}}let Kd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new _w,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zd=!1;let Oy=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Zd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Zd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Zd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,Zd);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new Py(t,f,r.injector);if(i&&function qD(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(c);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(c,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kd),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Py{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Gd?this.route:e===Kd?this.childContexts:this.parent.get(e,t)}}let yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[Oy],encapsulation:2}),n})();function fu(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Pf(n){const e=n.children&&n.children.map(Pf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=yw),t}function gs(n){return n.outlet||qt}function zm(n,e){const t=n.filter(i=>gs(i)===e);return t.push(...n.filter(i=>gs(i)!==e)),t}function Gm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ek{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),jm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=nc(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),ur(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=nc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=nc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=nc(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new HD(a.value.snapshot))}),e.children.length&&this.forwardEvent(new aw(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(jm(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),jm(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Gm(r.snapshot),g=f?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=g,c.injector=f,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Nf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pu{constructor(e,t){this.component=e,this.route=t}}function Ly(n,e,t){const i=n._root;return Wm(i,e?e._root:null,t,[i.value])}function rc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Wm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=nc(e);return n.children.forEach(c=>{(function QD(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function XD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cu(n.url,e.url)||!vo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wd(n,e)||!vo(n.queryParams,e.queryParams);default:return!Wd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Nf(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Wm(n,e,a.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new pu(f.outlet.component,c))}else c&&Ff(e,f,r),r.canActivateChecks.push(new Nf(i)),Wm(n,null,a.component?f?f.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),ur(a,(c,f)=>Ff(c,t.getContext(f),r)),r}function Ff(n,e,t){const i=nc(n),r=n.value;ur(i,(a,c)=>{Ff(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new pu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Lf(n){return"function"==typeof n}function Ew(n){return n instanceof xm||"EmptyError"===n?.name}const Uy=Symbol("INITIAL_VALUE");function Vf(){return vn(n=>hy(n.map(e=>e.pipe(ps(1),Xl(Uy)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===Uy)return Uy;if(!1===t||t instanceof lu)return t}return!0}),vi(e=>e!==Uy),ps(1)))}function Iw(n){return(0,bD.z)((0,Li.b)(e=>{if(tc(e))throw pw(0,e)}),(0,ft.U)(e=>!0===e))}const Bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jy(n,e,t,i,r){const a=Uf(n,e,t);return a.matched?function Dw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?lt(r.map(c=>{const f=rc(c,n);return ll(function Cw(n){return n&&Lf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vf(),Iw()):lt(!0)}(i=fu(e,i),e,t).pipe((0,ft.U)(c=>!0===c?a:{...Bf})):lt(a)}function Uf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Bf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ZA)(t,n,e);if(!r)return{...Bf};const a={};ur(r.posParams,(f,g)=>{a[g]=f.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function qm(n,e,t,i,r="corrected"){if(t.length>0&&function eT(n,e,t){return t.some(i=>Hf(n,e,i)&&gs(i)!==qt)}(n,t,i)){const c=new en(e,function Tw(n,e,t,i){const r={};r[qt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&gs(a)!==qt){const c=new en([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[gs(a)]=c}return r}(n,e,i,new en(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function tT(n,e,t){return t.some(i=>Hf(n,e,i))}(n,t,i)){const c=new en(n.segments,function oc(n,e,t,i,r,a){const c={};for(const f of i)if(Hf(n,t,f)&&!r[gs(f)]){const g=new en([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[gs(f)]=g}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new en(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Hf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Sw(n,e,t,i){return!!(gs(n)===i||i!==qt&&Hf(e,t,n))&&("**"===n.path||Uf(e,n,t).matched)}function xw(n,e,t){return 0===e.length&&!n.children[t]}const mu=!1;class hl{constructor(e){this.segmentGroup=e||null}}class Km{constructor(e){this.urlTree=e}}function ma(n){return Vd(new hl(n))}function Zm(n){return Vd(new Km(n))}class $y{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=qm(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,qt).pipe((0,ft.U)(a=>this.createUrlTree(du(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fa(a=>{if(a instanceof Km)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof hl?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,qt).pipe((0,ft.U)(r=>this.createUrlTree(du(r),e.queryParams,e.fragment))).pipe(fa(r=>{throw r instanceof hl?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,mu)}createUrlTree(e,t,i){const r=Fm(e);return new lu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ft.U)(a=>new en([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,fn.D)(r).pipe(al(a=>{const c=i.children[a],f=zm(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,ft.U)(g=>({segment:g,outlet:a})))}),Bd((a,c)=>(a[c.outlet]=c.segment,a),{}),$0())}expandSegment(e,t,i,r,a,c){return(0,fn.D)(i).pipe(al(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,c).pipe(fa(v=>{if(v instanceof hl)return lt(null);throw v}))),ol(f=>!!f),fa((f,g)=>{if(Ew(f))return xw(t,r,a)?lt(new en([],{})):ma(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,c,f){return Sw(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):ma(t):ma(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zm(a):this.lineralizeSegments(i,a).pipe((0,wn.z)(c=>{const f=new en(c,{});return this.expandSegment(e,f,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:I}=Uf(t,r,a);if(!f)return ma(t);const x=this.applyRedirectCommands(g,r.redirectTo,I);return r.redirectTo.startsWith("/")?Zm(x):this.lineralizeSegments(r,x).pipe((0,wn.z)(V=>this.expandSegment(e,t,i,V.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=fu(i,e),i.loadChildren?(i._loadedRoutes?lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ft.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new en(r,{})))):lt(new en(r,{}))):jy(t,i,r,e).pipe(vn(({matched:c,consumedSegments:f,remainingSegments:g})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,wn.z)(I=>{const x=I.injector??e,V=I.routes,{segmentGroup:U,slicedSegments:G}=qm(t,f,g,V),ne=new en(U.segments,U.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(x,V,ne).pipe((0,ft.U)(vt=>new en(f,vt)));if(0===V.length&&0===G.length)return lt(new en(f,{}));const ge=gs(i)===a;return this.expandSegment(x,ne,V,G,ge?qt:a,!0).pipe((0,ft.U)(at=>new en(f.concat(at.segments),at.children)))})):ma(t)))}getChildConfig(e,t,i){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Hy(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?lt(!0):lt(r.map(c=>{const f=rc(c,n);return ll(function tk(n){return n&&Lf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Vf(),Iw())}(e,t,i).pipe((0,wn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Li.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Mw(n){return Vd(mw(mu,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[qt])return Vd(new u.vHH(4e3,mu));r=r.children[qt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new lu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ur(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return ur(t.children,(f,g)=>{c[g]=this.createSegmentGroup(e,f,i,r)}),new en(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,mu);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Gy{}class iT{constructor(e,t,i,r,a,c,f,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=g}recognize(){const e=qm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,qt).pipe((0,ft.U)(t=>{if(null===t)return null;const i=new Ay([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wo(i,t),a=new hw(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=uw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,fn.D)(Object.keys(i.children)).pipe(al(r=>{const a=i.children[r],c=zm(t,r);return this.processSegmentGroup(e,c,a,r)}),Bd((r,a)=>r&&a?(r.push(...a),r):null),function z0(n,e=!1){return(0,Fi.e)((t,i)=>{let r=0;t.subscribe((0,Wn.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Jl(null),$0(),(0,ft.U)(r=>{if(null===r)return null;const a=Wy(r);return function kw(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,fn.D)(t).pipe(al(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),ol(c=>!!c),fa(c=>{if(Ew(c))return xw(i,r,a)?lt([]):lt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Sw(t,i,r,a))return lt(null);let c;if("**"===t.path){const f=r.length>0?Am(r).parameters:{},g=qy(i)+r.length;c=lt({snapshot:new Ay(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oT(t),gs(t),t.component??t._loadedComponent??null,t,jr(i),g,Pw(t),g),consumedSegments:[],remainingSegments:[]})}else c=jy(i,t,r,e).pipe((0,ft.U)(({matched:f,consumedSegments:g,remainingSegments:v,parameters:I})=>{if(!f)return null;const x=qy(i)+g.length;return{snapshot:new Ay(g,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oT(t),gs(t),t.component??t._loadedComponent??null,t,jr(i),x,Pw(t),x),consumedSegments:g,remainingSegments:v}}));return c.pipe(vn(f=>{if(null===f)return lt(null);const{snapshot:g,consumedSegments:v,remainingSegments:I}=f;e=t._injector??e;const x=t._loadedInjector??e,V=function rT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:G}=qm(i,v,I,V.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===G.length&&U.hasChildren())return this.processChildren(x,V,U).pipe((0,ft.U)(ge=>null===ge?null:[new wo(g,ge)]));if(0===V.length&&0===G.length)return lt([new wo(g,[])]);const ne=gs(t)===a;return this.processSegment(x,V,U,G,ne?qt:a).pipe((0,ft.U)(ge=>null===ge?null:[new wo(g,ge)]))}))}}function Rw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wy(n){const e=[],t=new Set;for(const i of n){if(!Rw(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Wy(i.children);e.push(new wo(i.value,r))}return e.filter(i=>!t.has(i))}function jr(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qy(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function oT(n){return n.data||{}}function Pw(n){return n.resolve||{}}function Lw(n){return"string"==typeof n.title||null===n.title}function Qm(n){return vn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,ft.U)(()=>e)):lt(e)})}let Vw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===qt);return i}getResolvedTitleForRoute(t){return t.data[ms]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Bw)},providedIn:"root"}),n})(),Bw=(()=>{class n extends Vw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uw{}class ga extends class dT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xm=new u.OlP("",{providedIn:"root",factory:()=>({})}),jw=new u.OlP("ROUTES");let Jm=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ll(t.loadComponent()).pipe((0,Li.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Df(()=>{this.componentLoaders.delete(t)})),r=new j0(i,()=>new nn.x).pipe(fy());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,I=!1;Array.isArray(f)?v=f:(g=f.create(t).injector,v=bo(g.get(jw,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(Pf),injector:g}}),Df(()=>{this.childrenLoaders.delete(i)})),c=new j0(a,()=>new nn.x).pipe(fy());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ll(t()).pipe((0,wn.z)(i=>i instanceof u.YKP||Array.isArray(i)?lt(i):(0,fn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hT{}class fT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Yy(n){throw n}function pT(n,e,t){return e.parse("/")}const mT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $f(){const n=(0,u.f3M)(q0),e=(0,u.f3M)(Kd),t=(0,u.f3M)(Fe),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(jw,{optional:!0})??[],c=(0,u.f3M)(Xm,{optional:!0})??{},f=(0,u.f3M)(Bw),g=(0,u.f3M)(Vw,{optional:!0}),v=(0,u.f3M)(hT,{optional:!0}),I=(0,u.f3M)(Uw,{optional:!0}),x=new qi(null,n,e,t,i,r,bo(a));return v&&(x.urlHandlingStrategy=v),I&&(x.routeReuseStrategy=I),x.titleStrategy=g??f,function Qy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let qi=(()=>{class n{constructor(t,i,r,a,c,f,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=Yy,this.malformedUriErrorHandler=pT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new fT,this.routeReuseStrategy=new ga,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Jm),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new ow(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new VD(V)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const x=c.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Tf(){return new lu(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$D(this.currentUrlTree,this.rootComponentType),this.transitions=new fs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(vi(r=>0!==r.id),(0,ft.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let a=!1,c=!1;return lt(r).pipe((0,Li.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return gT(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(vn(x=>{const V=this.transitions.getValue();return i.next(new Um(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?su.E:Promise.resolve(x)}),function zy(n,e,t,i){return vn(r=>function Aw(n,e,t,i,r){return new $y(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ft.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Li.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function Ky(n,e,t,i,r,a){return(0,wn.z)(c=>function dk(n,e,t,i,r,a,c="emptyOnly",f="legacy"){return new iT(n,e,t,i,r,c,f,a).recognize().pipe(vn(g=>null===g?function nT(n){return new _i.y(e=>e.error(n))}(new Gy):lt(g)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,ft.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Li.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(U,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new Kt(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(V)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:U,source:G,restoredState:ne,extras:ge}=f,Ge=new Um(V,this.serializeUrl(U),G,ne);i.next(Ge);const at=$D(U,this.rootComponentType).snapshot;return lt(r={...f,targetSnapshot:at,urlAfterRedirects:U,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),su.E}),(0,Li.b)(f=>{const g=new iw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,ft.U)(f=>r={...f,guards:Ly(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function rk(n,e){return(0,wn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?lt({...t,guardsResult:!0}):function sk(n,e,t,i){return(0,fn.D)(n).pipe((0,wn.z)(r=>function sc(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const g=Gm(e)??r,v=rc(f,g);return ll(function ww(n){return n&&Lf(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(ol())})).pipe(Vf()):lt(!0)}(r.component,r.route,t,e,i)),ol(r=>!0!==r,!0))}(c,i,r,n).pipe((0,wn.z)(f=>f&&function bw(n){return"boolean"==typeof n}(f)?function ok(n,e,t,i){return(0,fn.D)(e).pipe(al(r=>Mm(function lk(n,e){return null!==n&&e&&e(new BD(n)),lt(!0)}(r.route.parent,i),function ak(n,e){return null!==n&&e&&e(new UD(n)),lt(!0)}(r.route,i),function uk(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Vy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>H0(()=>lt(c.guards.map(g=>{const v=Gm(c.node)??t,I=rc(g,v);return ll(function nk(n){return n&&Lf(n.canActivateChild)}(I)?I.canActivateChild(i,n):v.runInContext(()=>I(i,n))).pipe(ol())})).pipe(Vf())));return lt(a).pipe(Vf())}(n,r.path,t),function ck(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(a=>H0(()=>{const c=Gm(e)??t,f=rc(a,c);return ll(function JD(n){return n&&Lf(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(ol())}));return lt(r).pipe(Vf())}(n,r.route,t))),ol(r=>!0!==r,!0))}(i,a,n,e):lt(f)),(0,ft.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Li.b)(f=>{if(r.guardsResult=f.guardsResult,tc(f.guardsResult))throw pw(0,f.guardsResult);const g=new rw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),vi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Qm(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,Li.b)(g=>{const v=new sw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),vn(g=>{let v=!1;return lt(g).pipe(function Nw(n,e){return(0,wn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return lt(t);let a=0;return(0,fn.D)(r).pipe(al(c=>function aT(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Lw(r)&&(a[ms]=r.title),function lT(n,e,t,i){const r=function cT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return lt({});const a={};return(0,fn.D)(r).pipe((0,wn.z)(c=>function Fw(n,e,t,i){const r=Gm(e)??i,a=rc(n,r);return ll(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(ol(),(0,Li.b)(f=>{a[c]=f}))),my(1),gy(a),fa(c=>Ew(c)?su.E:Vd(c)))}(a,n,e,i).pipe((0,ft.U)(c=>(n._resolvedData=c,n.data=uw(n,t).resolve,r&&Lw(r)&&(n.data[ms]=r.title),null)))}(c.route,i,n,e)),(0,Li.b)(()=>a++),my(1),(0,wn.z)(c=>a===r.length?lt(t):su.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Li.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Li.b)(g=>{const v=new LD(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),Qm(f=>{const g=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Li.b)(x=>{v.component=x}),(0,ft.U)(()=>{})));for(const x of v.children)I.push(...g(x));return I};return hy(g(f.targetSnapshot.root)).pipe(Jl(),ps(1))}),Qm(()=>this.afterPreactivation()),(0,ft.U)(f=>{const g=function zD(n,e,t){const i=qd(n,e._root,t?t._root:void 0);return new cw(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:g}}),(0,Li.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(i=>(new ek(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Li.b)({next(){a=!0},complete(){a=!0}}),Df(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),fa(f=>{if(c=!0,gw(f)){Ry(f)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Hm(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(g),Ry(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gT(r.source)};this.scheduleNavigation(v,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new nw(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(f))}catch(v){r.reject(v)}}return su.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:g}=i,v=r||this.routerState.root,I=g?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),RD(v,this.currentUrlTree,t,x,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=tc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Xy(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...mT}:!1===i?{...tg}:i,tc(t))return km(this.currentUrlTree,t,r);const a=this.parseUrl(t);return km(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new hu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let f,g,v;c?(f=c.resolve,g=c.reject,v=c.promise):v=new Promise((V,U)=>{f=V,g=U});const I=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:I,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(V=>Promise.reject(V))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Hm(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return $f()},providedIn:"root"}),n})();function gT(n){return"imperative"!==n}let zf=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new nn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qi),u.Y36(Gd),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),ng=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nn.x,this.subscription=t.events.subscribe(a=>{a instanceof hu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,c){return!!(0!==t||i||r||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qi),u.Y36(Gd),u.Y36(Ce))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),Jy=(()=>{class n{constructor(t,i,r,a,c,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof hu&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,Ld.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,fn.D)(t).pipe((0,Ld.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function $w(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(zf,8),u.Y36(ng,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,zf,5),u.Suo(r,ng,5)),2&t){let a;u.iGM(a=u.CRH())&&(i.links=a),u.iGM(a=u.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class ig{}let rg=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof hu),al(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,fn.D)(r).pipe((0,Ld.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):lt(null);const a=r.pipe((0,wn.z)(c=>null===c?lt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,fn.D)([a,c]).pipe((0,Ld.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ig),u.LFG(Jm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gu=new u.OlP("");let zw=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new jD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Qd(n,e){return{\u0275kind:n,\u0275providers:e}}function _u(n){return[{provide:jw,multi:!0,useValue:n}]}function yT(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(qi),r=n.get(Ww);1===n.get(qw)&&i.initialNavigation(),n.get(tv,null,u.XFs.Optional)?.setUpPreloading(),n.get(gu,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Ww=new u.OlP("",{factory:()=>new nn.x}),qw=new u.OlP("",{providedIn:"root",factory:()=>1});const tv=new u.OlP("");function nv(n){return Qd(0,[{provide:tv,useExisting:rg},{provide:ig,useExisting:n}])}const Kw=new u.OlP("ROUTER_FORROOT_GUARD"),CT=[Fe,{provide:q0,useClass:by},{provide:qi,useFactory:$f},Kd,{provide:Gd,useFactory:function Gw(n){return n.routerState.root},deps:[qi]},Jm];function ET(){return new u.PXZ("Router",qi)}let Zw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[CT,[],_u(t),{provide:Kw,useFactory:mk,deps:[[qi,new u.FiY,new u.tp0]]},{provide:Xm,useValue:i||{}},i?.useHash?{provide:Ce,useClass:Xe}:{provide:Ce,useClass:et},{provide:gu,useFactory:()=>{const n=(0,u.f3M)(qi),e=(0,u.f3M)(ad),t=(0,u.f3M)(Xm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new zw(n,e,t)}},i?.preloadingStrategy?nv(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:ET},i?.initialNavigation?Gf(i):[],[{provide:Yw,useFactory:yT},{provide:u.tb,multi:!0,useExisting:Yw}]]}}static forChild(t){return{ngModule:n,providers:[_u(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kw,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yw]}),n})();function mk(n){return"guarded"}function Gf(n){return["disabled"===n.initialNavigation?Qd(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(qi);return()=>{e.setUpLocationChangeListener()}}},{provide:qw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qd(2,[{provide:qw,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(qi),f=e.get(Ww);(function r(a){e.get(qi).events.pipe(vi(f=>f instanceof hu||f instanceof Hm||f instanceof nw),(0,ft.U)(f=>f instanceof hu||f instanceof Hm&&(0===f.code||1===f.code)&&null),vi(f=>null!==f),ps(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||f.closed?lt(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const Yw=new u.OlP("");let TT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"d-inline-block",2,"width","5px"],[1,"bottom"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Calculate and Track your Networth"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Create your profile by adding your income, assets and liabilities. Track your networth and Plan your wealth & investement management for bright future"),u._UZ(7,"br"),u.TgZ(8,"u"),u._uU(9,"Note:"),u.qZA(),u._UZ(10,"span",5),u._uU(11,"We do not provide financial advisors here, you are master of your wealth "),u.qZA()(),u._UZ(12,"div",6),u.qZA()())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),n})(),_a=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"container","mt-3"],[1,"row","m-2"],[1,"col-xs-12","col-sm-12","col-md-6","mt-2"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",2),u.qZA()())}}),n})();var lc=F(4986),Cn=F(5813);function fl(){return(0,Fi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Wn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Jd(n,e=ru.y){return n=n??zs,(0,Fi.e)((t,i)=>{let r,a=!0;t.subscribe((0,Wn.x)(i,c=>{const f=e(c);(a||!n(r,f))&&(a=!1,r=f,i.next(c))}))})}function zs(n,e){return n===e}var yt,_s=F(2011),eh=(F(5881),F(3942)),Ee=F(5861),Gs=F(9681),pl=F(4859),ys=F(1877),on=F(2090),th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={},og=og||{},zt=th||self;function qf(){}function Kf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ag="closure_uid_"+(1e9*Math.random()>>>0),Jw=0;function ST(n,e,t){return n.call.apply(n.bind,arguments)}function xT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function dr(n,e,t){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ST:xT).apply(null,arguments)}function lg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[r].apply(i,c)}}function ya(){this.s=this.s,this.o=this.o}ya.prototype.s=!1,ya.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Xw(n){Object.prototype.hasOwnProperty.call(n,ag)&&n[ag]||(n[ag]=++Jw)}(this)},ya.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ih(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Zf(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Kf(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function Zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zi.prototype.h=function(){this.defaultPrevented=!0};var MT=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",qf,e),zt.removeEventListener("test",qf,e)}catch{}return n}();function vu(n){return/^[\s\xa0]*$/.test(n)}var Yf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function cg(n,e){return n<e?-1:n>e?1:0}function Qf(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=Qf().indexOf(n)}function ug(n){return ug[" "](n),n}ug[" "]=qf;var hg,n,rv=Ws("Opera"),cc=Ws("Trident")||Ws("MSIE"),nC=Ws("Edge"),dg=nC||cc,sv=Ws("Gecko")&&!(-1!=Qf().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),iC=-1!=Qf().toLowerCase().indexOf("webkit")&&!Ws("Edge");function ov(){var n=zt.document;return n?n.documentMode:void 0}e:{var fg="",pg=(n=Qf(),sv?/rv:([^\);]+)(\)|;)/.exec(n):nC?/Edge\/([\d\.]+)/.exec(n):cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iC?/WebKit\/(\S+)/.exec(n):rv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pg&&(fg=pg?pg[1]:""),cc){var Xf=ov();if(null!=Xf&&Xf>parseFloat(fg)){hg=String(Xf);break e}}hg=fg}var av={};var sC=zt.document&&cc&&(ov()||parseInt(hg,10))||void 0;function rh(n,e){if(Zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sv){e:{try{ug(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rh.X.h.call(this)}}Ki(rh,Zi);var oC={2:"touch",3:"pen",4:"mouse"};rh.prototype.h=function(){rh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),aC=0;function gk(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++aC,this.ba=this.ea=!1}function gg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function uv(n){const e={};for(const t in n)e[t]=n[t];return e}const lC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mi(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<lC.length;a++)t=lC[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Jf(n){this.src=n,this.g={},this.h=0}function dv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=eC(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(gg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hv(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}Jf.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=hv(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new gk(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var _g="closure_lm_"+(1e6*Math.random()|0),fv={};function pv(n,e,t,i,r){if(i&&i.once)return cC(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)pv(n,e[a],t,i,r);return null}return t=tp(t),n&&n[sh]?n.N(e,t,nh(i)?!!i.capture:!!i,r):mv(n,e,t,!1,i,r)}function mv(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=nh(r)?!!r.capture:!!r,f=fC(n);if(f||(n[_g]=f=new Jf(n)),(t=f.add(e,t,i,c,a)).proxy)return t;if(i=function oh(){const e=hC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)MT||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(dC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function cC(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)cC(n,e[a],t,i,r);return null}return t=tp(t),n&&n[sh]?n.O(e,t,nh(i)?!!i.capture:!!i,r):mv(n,e,t,!0,i,r)}function uC(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)uC(n,e[a],t,i,r);else i=nh(i)?!!i.capture:!!i,t=tp(t),n&&n[sh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hv(a=n.g[e],t,i,r))&&(gg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=fC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hv(e,t,i,r)),(t=-1<n?e[n]:null)&&yg(t))}function yg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[sh])dv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(dC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=fC(e))?(dv(t,n),0==t.h&&(t.src=null,e[_g]=null)):gg(n)}}}function dC(n){return n in fv?fv[n]:fv[n]="on"+n}function hC(n,e){if(n.ba)n=!0;else{e=new rh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&yg(n),n=t.call(i,e)}return n}function fC(n){return(n=n[_g])instanceof Jf?n:null}var ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function tp(n){return"function"==typeof n?n:(n[ep]||(n[ep]=function(e){return n.handleEvent(e)}),n[ep])}function Ln(){ya.call(this),this.i=new Jf(this),this.P=this,this.I=null}function hr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Zi(e,n);else if(e instanceof Zi)e.target=e.target||n;else{var r=e;Mi(e=new Zi(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=np(c,i,!0,e)&&r}if(r=np(c=e.g=n,i,!0,e)&&r,r=np(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=np(c=e.g=t[a],i,!1,e)&&r}function np(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,g=c.ha||c.src;c.ea&&dv(n.i,c),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}Ki(Ln,ya),Ln.prototype[sh]=!0,Ln.prototype.removeEventListener=function(n,e,t,i){uC(this,n,e,t,i)},Ln.prototype.M=function(){if(Ln.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)gg(t[i]);delete n.g[e],n.h--}}this.I=null},Ln.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ln.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var qs=zt.JSON.stringify;function Co(){var n=ah;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _v,gv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pC,n=>n.reset());class pC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AT(n){zt.setTimeout(()=>{throw n},0)}function mC(n,e){_v||function kT(){var n=zt.Promise.resolve(void 0);_v=function(){n.then(RT)}}(),ip||(_v(),ip=!0),ah.add(n,e)}var ip=!1,ah=new class Eo{constructor(){this.h=this.g=null}add(e,t){const i=gv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function RT(){for(var n;n=Co();){try{n.h.call(n.g)}catch(t){AT(t)}var e=gv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ip=!1}function rp(n,e){Ln.call(this),this.h=n||1,this.g=e||zt,this.j=dr(this.lb,this),this.l=Date.now()}function yv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function vg(n,e,t){if("function"==typeof n)t&&(n=dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function vv(n){n.g=vg(()=>{n.g=null,n.i&&(n.i=!1,vv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(rp,Ln),(yt=rp.prototype).ca=!1,yt.R=null,yt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),hr(this,"tick"),this.ca&&(yv(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){rp.X.M.call(this),yv(this),delete this.g};class bg extends ya{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vv(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sp(n){ya.call(this),this.h=n,this.g={}}Ki(sp,ya);var bv=[];function wv(n,e,t,i){Array.isArray(t)||(t&&(bv[0]=t.toString()),t=bv);for(var r=0;r<t.length;r++){var a=pv(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function wg(n){cv(n.g,function(e,t){this.g.hasOwnProperty(t)&&yg(e)},n),n.g={}}function bu(){this.g=!0}function wu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return qs(t)}catch{return e}}(n,t)+(i?" "+i:"")})}sp.prototype.M=function(){sp.X.M.call(this),wg(this)},sp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bu.prototype.Aa=function(){this.g=!1},bu.prototype.info=function(){};var uc={},Cv=null;function op(){return Cv=Cv||new Ln}function bC(n){Zi.call(this,uc.Pa,n)}function ap(n){const e=op();hr(e,new bC(e))}function wC(n,e){Zi.call(this,uc.STAT_EVENT,n),this.stat=e}function kr(n){const e=op();hr(e,new wC(e,n))}function CC(n,e){Zi.call(this,uc.Qa,n),this.size=e}function lp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}uc.Pa="serverreachability",Ki(bC,Zi),uc.STAT_EVENT="statevent",Ki(wC,Zi),uc.Qa="timingevent",Ki(CC,Zi);var Cg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},EC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ev(){}function DC(){}Ev.prototype.h=null;var Tv,cp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Iv(){Zi.call(this,"d")}function Dv(){Zi.call(this,"c")}function Eg(){}function up(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new sp(this),this.O=SC,this.T=new rp(n=dg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new TC}function TC(){this.i=null,this.g="",this.h=!1}Ki(Iv,Zi),Ki(Dv,Zi),Ki(Eg,Ev),Eg.prototype.g=function(){return new XMLHttpRequest},Eg.prototype.i=function(){return{}},Tv=new Eg;var SC=45e3,Ig={},dp={};function Dg(n,e,t){n.K=1,n.v=ml(hc(e)),n.s=t,n.P=!0,Sv(n,null)}function Sv(n,e){n.F=Date.now(),lh(n),n.A=hc(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),OC(t.i,"t",i),n.C=0,t=n.l.H,n.h=new TC,n.g=ZC(n.l,t?e:null,!n.s),0<n.N&&(n.L=new bg(dr(n.La,n,n.g),n.N)),wv(n.S,n.g,"readystatechange",n.ib),e=n.H?uv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ap(),function gC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var I=v[0];v=v[1];var x=I.split("_");c=2<=x.length&&"type"==x[1]?c+(I+"=")+v+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function xv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Mv(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=xC(n,t),r==dp){4==e&&(n.o=4,kr(14),i=!1),wu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ig){n.o=4,kr(15),wu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}wu(n.j,n.m,r,null),kv(n,r)}xv(n)&&r!=dp&&r!=Ig&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),wp(e),e.K=!0,kr(11))):(wu(n.j,n.m,t,"[Invalid Chunked Response]"),Cu(n),Io(n))}function xC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?dp:(t=Number(e.substring(t,i)),isNaN(t)?Ig:(i+=1)+t>e.length?dp:(e=e.substr(i,t),n.C=i+t,e))}function lh(n){n.V=Date.now()+n.O,Av(n,n.O)}function Av(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lp(dr(n.gb,n),e)}function ch(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Io(n){0==n.l.G||n.I||Uv(n.l,n)}function Cu(n){ch(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,yv(n.T),wg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Mg(t.h,n)))if(!n.J&&Mg(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Cp(t),Og(t)}Bv(t),kr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=lp(dr(t.cb,t),6e3));if(1>=pp(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Iu(t,11)}else if((n.J||t.g==n)&&Cp(t),!vu(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const I=v[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const x=v[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const V=v[5];null!=V&&"number"==typeof V&&0<V&&(t.J=i=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const G=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=i.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ag(a,a.h),a.h=null))}if(i.D){const ne=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.za=ne,ii(i.F,i.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=Ng(i,i.H?i.ka:null,i.V),c.J){Pv(i.h,c);var f=c,g=i.J;g&&f.setTimeout(g),f.B&&(ch(f),lh(f)),i.g=c}else Vv(i);0<t.i.length&&Pg(t)}else"stop"!=v[0]&&"close"!=v[0]||Iu(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Iu(t,7):Lv(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}ap()}catch{}}function Tg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Kf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function _k(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Kf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function uh(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Kf(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(yt=up.prototype).setTimeout=function(n){this.O=n},yt.ib=function(n){n=n.target;const e=this.L;e&&3==_l(n)?e.l():this.La(n)},yt.La=function(n){try{if(n==this.g)e:{const I=_l(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||dg||this.g&&(this.h.h||this.g.fa()||HC(this.g)))){this.I||4!=I||7==e||ap(),ch(this);var t=this.g.aa();this.Y=t;t:if(xv(this)){var i=HC(this.g);n="";var r=i.length,a=4==_l(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cu(this),Io(this);var c="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function _C(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vu(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,kr(12),Cu(this),Io(this);break e}wu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kv(this,t)}this.P?(Mv(this,I,c),dg&&this.i&&3==I&&(wv(this.S,this.T,"tick",this.hb),this.T.start())):(wu(this.j,this.m,c,null),kv(this,c)),4==I&&Cu(this),this.i&&!this.I&&(4==I?Uv(this.l,this):(this.i=!1,lh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Cu(this),Io(this)}}}catch{}},yt.hb=function(){if(this.g){var n=_l(this.g),e=this.g.fa();this.C<e.length&&(ch(this),Mv(this,n,e),this.i&&4!=n&&lh(this))}},yt.cancel=function(){this.I=!0,Cu(this)},yt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function yC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ap(),kr(17)),Cu(this),this.o=2,Io(this)):Av(this,this.V-n)};var OT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof dc){this.h=void 0!==e?e:n.h,St(this,n.j),this.s=n.s,this.g=n.g,Sg(this,n.m),this.l=n.l,e=n.i;var t=new dh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),AC(this,t),this.o=n.o}else n&&(t=String(n).match(OT))?(this.h=!!e,St(this,t[1]||"",!0),this.s=hp(t[2]||""),this.g=hp(t[3]||"",!0),Sg(this,t[4]),this.l=hp(t[5]||"",!0),AC(this,t[6]||"",!0),this.o=hp(t[7]||"")):(this.h=!!e,this.i=new dh(null,this.h))}function hc(n){return new dc(n)}function St(n,e,t){n.j=t?hp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function AC(n,e,t){e instanceof dh?(n.i=e,function NT(n,e){e&&!n.j&&(gl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Rv(this,i),OC(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fc(e,RC)),n.i=new dh(e,n.h))}function ii(n,e,t){n.i.set(e,t)}function ml(n){return ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fc(e,di,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fc(e,di,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fc(t,"/"==t.charAt(0)?kC:yk,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fc(t,PT)),n.join("")};var di=/[#\/\?@]/g,yk=/[#\?:]/g,kC=/[#\?]/g,RC=/[#\?@]/g,PT=/#/g;function dh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gl(n){n.g||(n.g=new Map,n.h=0,n.i&&function MC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rv(n,e){gl(n),e=hh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ov(n,e){return gl(n),e=hh(n,e),n.g.has(e)}function OC(n,e,t){Rv(n,e),0<t.length&&(n.i=null,n.g.set(hh(n,e),ih(t)),n.h+=t.length)}function hh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function PC(n){this.l=n||FT,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=dh.prototype).add=function(n,e){gl(this),this.i=null,n=hh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){gl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},yt.oa=function(){gl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},yt.W=function(n){gl(this);let e=[];if("string"==typeof n)Ov(this,n)&&(e=e.concat(this.g.get(hh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return gl(this),this.i=null,Ov(this,n=hh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var FT=10;function NC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pp(n){return n.h?1:n.g?n.g.size:0}function Mg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ag(n,e){n.g?n.g.add(e):n.h=e}function Pv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ih(n.i)}function Eu(){}function mp(){this.g=new Eu}function LT(n,e,t){const i=t||"";try{Tg(n,function(r,a){let c=r;nh(r)&&(c=qs(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function fh(n){this.l=n.ac||null,this.j=n.jb||!1}function gp(n,e){Ln.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Rg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PC.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Eu.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},Eu.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Ki(fh,Ev),fh.prototype.g=function(){return new gp(this.l,this.j)},fh.prototype.i=function(n){return function(){return n}}({}),Ki(gp,Ln);var Rg=0;function LC(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ph(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_p(n)}function _p(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=gp.prototype).open=function(n,e){if(this.readyState!=Rg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_p(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=Rg},yt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_p(this)),this.g&&(this.readyState=3,_p(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LC(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},yt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ph(this):_p(this),3==this.readyState&&LC(this)}},yt.Va=function(n){this.g&&(this.response=this.responseText=n,ph(this))},yt.Ua=function(n){this.g&&(this.response=n,ph(this))},yt.ga=function(){this.g&&ph(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BT=zt.JSON.parse;function Ci(n){Ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UT,this.K=this.L=!1}Ki(Ci,Ln);var UT="",vk=/^https?$/i,bk=["POST","PUT"];function yp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BC(n),vp(n)}function BC(n){n.D||(n.D=!0,hr(n,"complete"),hr(n,"error"))}function UC(n){if(n.h&&typeof og<"u"&&(!n.C[1]||4!=_l(n)||2!=n.aa()))if(n.v&&4==_l(n))vg(n.Ha,0,n);else if(hr(n,"readystatechange"),4==_l(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(OT)[1]||null;if(!r&&zt.self&&zt.self.location){var a=zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!vk.test(r?r.toLowerCase():"")}t=i}if(t)hr(n,"complete"),hr(n,"success");else{n.m=6;try{var c=2<_l(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",BC(n)}}finally{vp(n)}}}function vp(n,e){if(n.g){mh(n);const t=n.g,i=n.C[0]?qf:null;n.g=null,n.C=null,e||hr(n,"ready");try{t.onreadystatechange=i}catch{}}}function mh(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function _l(n){return n.g?n.g.readyState:0}function HC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(n){let e="";return cv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Nv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=jC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ii(n,e,t))}function bp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Fv(n){this.Ca=0,this.i=[],this.j=new bu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bp("baseRetryDelayMs",5e3,n),this.bb=bp("retryDelaySeedMs",1e4,n),this.$a=bp("forwardChannelMaxRetries",2,n),this.ta=bp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new PC(n&&n.concurrentRequestLimit),this.Fa=new mp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Lv(n){if(gh(n),3==n.G){var e=n.U++,t=hc(n.F);ii(t,"SID",n.I),ii(t,"RID",e),ii(t,"TYPE","terminate"),_h(n,t),(e=new up(n,n.j,e,void 0)).K=2,e.v=ml(hc(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZC(e.l,null),e.g.da(e.v)),e.F=Date.now(),lh(e)}KC(n)}function Og(n){n.g&&(wp(n),n.g.cancel(),n.g=null)}function gh(n){Og(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Cp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Pg(n){NC(n.h)||n.m||(n.m=!0,mC(n.Ja,n),n.C=0)}function zC(n,e){var t;t=e?e.m:n.U++;const i=hc(n.F);ii(i,"SID",n.I),ii(i,"RID",t),ii(i,"AID",n.T),_h(n,i),n.o&&n.s&&Nv(i,n.o,n.s),t=new up(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=GC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ag(n.h,t),Dg(t,i,e)}function _h(n,e){n.ia&&cv(n.ia,function(t,i){ii(e,i,t)}),n.l&&Tg({},function(t,i){ii(e,i,t)})}function GC(n,e,t){t=Math.min(n.i.length,t);var i=n.l?dr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const I=r[g].g;if(v-=a,0>v)a=Math.max(0,r[g].h-100),f=!1;else try{LT(I,c,"req"+v+"_")}catch{i&&i(I)}}if(f){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Vv(n){n.g||n.u||(n.Z=1,mC(n.Ia,n),n.A=0)}function Bv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=lp(dr(n.Ia,n),qC(n,n.A)),n.A++,0))}function wp(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function WC(n){n.g=new up(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=hc(n.sa);ii(e,"RID","rpc"),ii(e,"SID",n.I),ii(e,"CI",n.L?"0":"1"),ii(e,"AID",n.T),ii(e,"TYPE","xmlhttp"),_h(n,e),n.o&&n.s&&Nv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ml(hc(e)),t.s=null,t.P=!0,Sv(t,n)}function Cp(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Uv(n,e){var t=null;if(n.g==e){Cp(n),wp(n),n.g=null;var i=2}else{if(!Mg(n.h,e))return;t=e.D,Pv(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;hr(i=op(),new CC(i,t)),Pg(n)}else Vv(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function $C(n,e){return!(pp(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=lp(dr(n.Ja,n,e),qC(n,n.C)),n.C++,0)))}(n,e)||2==i&&Bv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Iu(n,5);break;case 4:Iu(n,10);break;case 3:Iu(n,6);break;default:Iu(n,2)}}function qC(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Iu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=dr(n.kb,n);t||(t=new dc("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||St(t,"https"),ml(t)),function VT(n,e){const t=new bu;if(zt.Image){const i=new Image;i.onload=lg(kg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lg(kg,t,i,"TestLoadImage: error",!1,e),i.onabort=lg(kg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lg(kg,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else kr(2);n.G=0,n.l&&n.l.va(e),KC(n),gh(n)}function KC(n){if(n.G=0,n.la=[],n.l){const e=FC(n.h);(0!=e.length||0!=n.i.length)&&(Zf(n.la,e),Zf(n.la,n.i),n.h.i.length=0,ih(n.i),n.i.length=0),n.l.ua()}}function Ng(n,e,t){var i=t instanceof dc?hc(t):new dc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Sg(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new dc(null,void 0);i&&St(a,i),e&&(a.g=e),r&&Sg(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&ii(i,t,e),ii(i,"VER",n.ma),_h(n,i),i}function ZC(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ci(t&&n.Da&&!n.ra?new fh({jb:!0}):n.ra)).Ka(n.H),e}function Hv(){}function Fg(){if(cc&&!(10<=Number(sC)))throw Error("Environmental error: no available transport.")}function vs(n,e){Ln.call(this),this.g=new Fv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!vu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yh(this)}function YC(n){Iv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function QC(){Dv.call(this),this.status=1}function yh(n){this.g=n}(yt=Ci.prototype).Ka=function(n){this.L=n},yt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tv.g(),this.C=function IC(n){return n.h||(n.h=n.i())}(this.u?this.u:Tv),this.g.onreadystatechange=dr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void yp(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=eC(bk,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mh(this),0<this.B&&((this.K=function VC(n){return cc&&function rC(){return function tC(n){var e=av;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Yf(String(hg)).split("."),t=Yf("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=cg(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||cg(0==r[2].length,0==a[2].length)||cg(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.qa,this)):this.A=vg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){yp(this,a)}},yt.qa=function(){typeof og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hr(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hr(this,"complete"),hr(this,"abort"),vp(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vp(this,!0)),Ci.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?UC(this):this.fb())},yt.fb=function(){UC(this)},yt.aa=function(){try{return 2<_l(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BT(e)}},yt.Ea=function(){return this.m},yt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=Fv.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new up(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=uv(a),Mi(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=GC(this,r,e),ii(t=hc(this.F),"RID",n),ii(t,"CVER",22),this.D&&ii(t,"X-HTTP-Session-Id",this.D),_h(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(jC(a)))+"&"+e:this.o&&Nv(t,this.o,a)),Ag(this.h,r),this.Ya&&ii(t,"TYPE","init"),this.O?(ii(t,"$req",e),ii(t,"SID","null"),r.Z=!0,Dg(r,t,null)):Dg(r,t,e),this.G=2}}else 3==this.G&&(n?zC(this,n):0==this.i.length||NC(this.h)||zC(this))},yt.Ia=function(){if(this.u=null,WC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=lp(dr(this.eb,this),n)}},yt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kr(10),Og(this),WC(this))},yt.cb=function(){null!=this.v&&(this.v=null,Og(this),Bv(this),kr(19))},yt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),kr(2)):(this.j.info("Failed to ping google.com"),kr(1))},(yt=Hv.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Ra=function(){},Fg.prototype.g=function(n,e){return new vs(n,e)},Ki(vs,Ln),vs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;kr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ng(n,null,n.V),Pg(n)},vs.prototype.close=function(){Lv(this.g)},vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=qs(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Pg(e)},vs.prototype.M=function(){this.g.l=null,delete this.j,Lv(this.g),delete this.g,vs.X.M.call(this)},Ki(YC,Iv),Ki(QC,Dv),Ki(yh,Hv),yh.prototype.xa=function(){hr(this.g,"a")},yh.prototype.wa=function(n){hr(this.g,new YC(n))},yh.prototype.va=function(n){hr(this.g,new QC)},yh.prototype.ua=function(){hr(this.g,"b")},Fg.prototype.createWebChannel=Fg.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,Cg.NO_ERROR=0,Cg.TIMEOUT=8,Cg.HTTP_ERROR=6,EC.COMPLETE="complete",DC.EventType=cp,cp.OPEN="a",cp.CLOSE="b",cp.ERROR="c",cp.MESSAGE="d",Ln.prototype.listen=Ln.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.Oa,Ci.prototype.getLastErrorCode=Ci.prototype.Ea,Ci.prototype.getStatus=Ci.prototype.aa,Ci.prototype.getResponseJson=Ci.prototype.Sa,Ci.prototype.getResponseText=Ci.prototype.fa,Ci.prototype.send=Ci.prototype.da,Ci.prototype.setWithCredentials=Ci.prototype.Ka;var HT=$r.createWebChannelTransport=function(){return new Fg},jT=$r.getStatEventTarget=function(){return op()},jv=$r.ErrorCode=Cg,XC=$r.EventType=EC,JC=$r.Event=uc,eE=$r.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$T=$r.FetchXmlHttpFactory=fh,Ep=$r.WebChannel=DC,zT=$r.XhrIo=Ci;const tE="@firebase/firestore";class Yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let pc="9.14.0";const va=new ys.Yd("@firebase/firestore");function Lg(){return va.logLevel}function je(n,...e){if(va.logLevel<=ys.in.DEBUG){const t=e.map(zv);va.debug(`Firestore (${pc}): ${n}`,...t)}}function Ei(n,...e){if(va.logLevel<=ys.in.ERROR){const t=e.map(zv);va.error(`Firestore (${pc}): ${n}`,...t)}}function yl(n,...e){if(va.logLevel<=ys.in.WARN){const t=e.map(zv);va.warn(`Firestore (${pc}): ${n}`,...t)}}function zv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function xt(n,e){n||ut()}function Qe(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yi.UNAUTHENTICATED))}shutdown(){}}class GT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rE{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ii,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt("string"==typeof i.accessToken),new iE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Yi(e)}}class Wv{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class sE{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Wv(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new qv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class aE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=qT(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Gt(n,e){return n<e?-1:n>e?1:0}function vh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Kv(n){return n+"\0"}class hi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new hi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new hi(0,0))}static max(){return new Rt(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ip{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ip.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ip?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Ip{construct(e,t,i){return new cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ve(ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends Ip{construct(e,t,i){return new Di(e,t,i)}static isValidIdentifier(e){return wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ve(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Ve(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ve(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(c=!c,r++):"."!==f||c?(i+=f,r++):(a(),r++)}if(a(),c)throw new Ve(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(cn.fromString(e))}static fromName(e){return new Ye(cn.fromString(e).popFirst(5))}static empty(){return new Ye(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new cn(e.slice()))}}class Vg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Zv(n){return n.fields.find(e=>2===e.kind)}function mc(n){return n.fields.filter(e=>2!==e.kind)}Vg.UNKNOWN_ID=-1;class Bg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dp(0,bs.min())}}function lE(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new hi(t+1,0):new hi(t,i));return new bs(r,Ye.empty(),e)}function cE(n){return new bs(n.readTime,n.key,-1)}class bs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new bs(Rt.min(),Ye.empty(),-1)}static max(){return new bs(Rt.max(),Ye.empty(),-1)}}function Yv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const bh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vl(n){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Ee.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==bh)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Ug.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let r=0,a=0,c=!1;e.forEach(f=>{++r,f.next(()=>{++a,c&&a===r&&t()},g=>i(g))}),c=!0,a===r&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(r=>r?he.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new he((i,r)=>{const a=e.length,c=new Array(a);let f=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(I=>{c[v]=I,++f,f===a&&i(c)},I=>r(I))}})}static doWhile(e,t){return new he((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Tp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ii,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Hg(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Xv(i.target.error);this.P.reject(new Hg(e,r))}}static open(e,t,i,r){try{return new Tp(t,e.transaction(r,i))}catch(a){throw new Hg(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new QT(t)}}class Ks{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Ks.D((0,on.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Du(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,on.hl)())return!1;if(Ks.N())return!0;const e=(0,on.z$)(),t=Ks.D(e),i=0<t&&t<10,r=Ks.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new Hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;r("VersionError"===f.name?new Ve(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ve(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Hg(e,f))},a.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const g=Tp.open(a.db,e,c?"readonly":"readwrite",i),v=r(g).next(I=>(g.V(),I)).catch(I=>(g.abort(I),he.reject(I))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,I="FirebaseError"!==v.name&&f<3;if(je("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),a.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YT{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Du(this.U.delete())}}class Hg extends Ve{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bl(n){return"IndexedDbTransactionError"===n.name}class QT{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Du(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Du(this.store.add(e))}get(e){return Du(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Du(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Du(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new he((a,c)=>{r.onerror=f=>{c(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new he((i,r)=>{t.onerror=a=>{const c=Xv(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():i()}):i()}})}H(e,t){const i=[];return new he((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void r();const g=new YT(f),v=t(f.primaryKey,f.value,g);if(v instanceof he){const I=v.catch(x=>(g.done(),he.reject(x)));i.push(I)}g.isDone?r():null===g.G?f.continue():f.continue(g.G)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Du(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Xv(i.target.error);t(r)}})}let uE=!1;function Xv(n){const e=Ks.D((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uE||(uE=!0,setTimeout(()=>{throw i},0)),i}}return n}class Sp{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){bl(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield vl(i)}yield t.nt(6e4)}))}}class XT{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return he.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(f=>{r-=f,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(f=>(je("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=cE(a);Yv(c,i)>0&&(i=c)}),new bs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Cr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Do(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Cr.at=-1;class Un{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jg(this.root,e,this.comparator,!0)}}class jg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=a??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new fr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mp(this.data.getIterator())}getIteratorFrom(e){return new Mp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class Mp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(n){return n.hasNext()?n.getNext():void 0}class ws{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new ws([])}unionWith(e){let t=new On(Di.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ai(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const dE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(n){if(xt(!!n),"string"==typeof n){let e=0;const t=dE.exec(n);if(xt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Su(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function Jv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eS(n){const e=n.mapValue.fields.__previous_value__;return Jv(e)?eS(e):e}function xu(n){const e=ba(n.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}class eb{constructor(e,t,i,r,a,c,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}function Mu(n){return null==n}function Au(n){return 0===n&&1/n==-1/0}function hE(n){return"number"==typeof n&&Number.isInteger(n)&&!Au(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$g={nullValue:"NULL_VALUE"};function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jv(n)?4:Nu(n)?9007199254740991:10:ut()}function To(n,e){if(n===e)return!0;const t=ku(n);if(t!==ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xu(n).isEqual(xu(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ba(i.timestampValue),c=ba(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Su(n.bytesValue).isEqual(Su(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),c=fi(r.doubleValue);return a===c?Au(a)===Au(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return vh(n.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Do(a)!==Do(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!To(a[f],c[f])))return!1;return!0}(n,e);default:return ut()}var r}function Ru(n,e){return void 0!==(n.values||[]).find(t=>To(t,e))}function El(n,e){if(n===e)return 0;const t=ku(n),i=ku(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return tb(n.timestampValue,e.timestampValue);case 4:return tb(xu(n),xu(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=Su(r),f=Su(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),f=a.split("/");for(let g=0;g<c.length&&g<f.length;g++){const v=Gt(c[g],f[g]);if(0!==v)return v}return Gt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Gt(fi(r.latitude),fi(a.latitude));return 0!==c?c:Gt(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],f=a.values||[];for(let g=0;g<c.length&&g<f.length;++g){const v=El(c[g],f[g]);if(v)return v}return Gt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===gc.mapValue&&a===gc.mapValue)return 0;if(r===gc.mapValue)return 1;if(a===gc.mapValue)return-1;const c=r.fields||{},f=Object.keys(c),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let I=0;I<f.length&&I<v.length;++I){const x=Gt(f[I],v[I]);if(0!==x)return x;const V=El(c[f[I]],g[v[I]]);if(0!==V)return V}return Gt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw ut()}}function tb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=ba(n),i=ba(e),r=Gt(t.seconds,i.seconds);return 0!==r?r:Gt(t.nanos,i.nanos)}function Ou(n){return zg(n)}function zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ba(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Su(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=zg(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const f of r)c?c=!1:a+=",",a+=`${f}:${zg(i.fields[f])}`;return a+"}"}(n.mapValue):ut();var e}function Pu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gg(n){return!!n&&"integerValue"in n}function wh(n){return!!n&&"arrayValue"in n}function fE(n){return!!n&&"nullValue"in n}function nb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wg(n){return!!n&&"mapValue"in n}function Vi(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Tu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Vi(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vi(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Nu(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tS(n){return"nullValue"in n?$g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pu(Cl.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function nS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pu(Cl.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gc:ut()}function iS(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rS(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vi(t)}setAll(e){let t=Di.emptyPath(),i={},r=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}c?i[f.lastSegment()]=Vi(c):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Tu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Qi(Vi(this.value))}}function ib(n){const e=[];return Tu(n.fields,(t,i)=>{const r=new Di([t]);if(Wg(i)){const a=ib(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new ws(e)}class Dn{constructor(e,t,i,r,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,Rt.min(),Rt.min(),Qi.empty(),0)}static newFoundDocument(e,t,i){return new Dn(e,1,t,Rt.min(),i,0)}static newNoDocument(e,t){return new Dn(e,2,t,Rt.min(),Qi.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,Rt.min(),Qi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sS{constructor(e,t=null,i=[],r=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=f,this.ht=null}}function qg(n,e=null,t=[],i=[],r=null,a=null,c=null){return new sS(n,e,t,i,r,a,c)}function Fu(n){const e=Qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ou(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Mu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ou(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ou(i)).join(",")),e.ht=t}return e.ht}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Ek(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!To(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lS(n.startAt,e.startAt)&&lS(n.endAt,e.endAt)}function Kg(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zg(n,e){return n.filters.filter(t=>t instanceof Xi&&t.field.isEqual(e))}function Yg(n,e,t){let i=$g,r=!0;for(const a of Zg(n,e)){let c=$g,f=!0;switch(a.op){case"<":case"<=":c=tS(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=$g}iS({value:i,inclusive:r},{value:c,inclusive:f})<0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];iS({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function rb(n,e,t){let i=gc,r=!0;for(const a of Zg(n,e)){let c=gc,f=!0;switch(a.op){case">=":case">":c=nS(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=gc}rS({value:i,inclusive:r},{value:c,inclusive:f})>0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];rS({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Xi extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new Qg(e,t,i):"array-contains"===t?new oS(e,i):"in"===t?new mE(e,i):"not-in"===t?new Ch(e,i):"array-contains-any"===t?new aS(e,i):new Xi(e,t,i)}static lt(e,t,i){return"in"===t?new sb(e,i):new Ck(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(El(t,this.value)):null!==t&&ku(this.value)===ku(t)&&this.ft(El(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Qg extends Xi{constructor(e,t,i){super(e,t,i),this.key=Ye.fromName(i.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.ft(t)}}class sb extends Xi{constructor(e,t){super(e,"in",t),this.keys=ob(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ck extends Xi{constructor(e,t){super(e,"not-in",t),this.keys=ob(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ob(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class oS extends Xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&Ru(t.arrayValue,this.value)}}class mE extends Xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ru(this.value.arrayValue,t)}}class Ch extends Xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ru(this.value.arrayValue,t)}}class aS extends Xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ru(this.value.arrayValue,i))}}class Il{constructor(e,t){this.position=e,this.inclusive=t}}class _c{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ek(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function gE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):El(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function lS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!To(n.position[t],e.position[t]))return!1;return!0}class Dl{constructor(e,t=null,i=[],r=[],a=null,c="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=g,this._t=null,this.wt=null}}function _E(n,e,t,i,r,a,c,f){return new Dl(n,e,t,i,r,a,c,f)}function Eh(n){return new Dl(n)}function ab(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Xg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lb(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Jg(n){return null!==n.collectionGroup}function Lu(n){const e=Qe(n);if(null===e._t){e._t=[];const t=lb(e),i=Xg(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new _c(t)),e._t.push(new _c(Di.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new _c(Di.keyField(),a))}}}return e._t}function Rr(n){const e=Qe(n);if(!e.wt)if("F"===e.limitType)e.wt=qg(e.path,e.collectionGroup,Lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Lu(e))t.push(new _c(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Il(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Il(e.startAt.position,e.startAt.inclusive):null;e.wt=qg(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function e_(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Ap(Rr(n),Rr(e))&&n.limitType===e.limitType}function yE(n){return`${Fu(Rr(n))}|lt:${n.limitType}`}function t_(n){return`Query(target=${function pE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Ou(i.value)}`;var i}).join(", ")}]`),Mu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ou(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ou(t)).join(",")),`Target(${e})`}(Rr(n))}; limitType=${n.limitType})`}function n_(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ye.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const f=gE(r,a,c);return r.inclusive?f<=0:f<0}(t.startAt,Lu(t),i)||t.endAt&&!function(r,a,c){const f=gE(r,a,c);return r.inclusive?f>=0:f>0}(t.endAt,Lu(t),i)));var t,i}function cb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ub(n){return(e,t)=>{let i=!1;for(const r of Lu(n)){const a=cS(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function cS(n,e,t){const i=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(r,a,c){const f=a.data.field(r),g=c.data.field(r);return null!==f&&null!==g?El(f,g):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function vE(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function uS(n){return{integerValue:""+n}}function db(n,e){return hE(e)?uS(e):vE(n,e)}class hb{constructor(){this._=void 0}}function Ik(n,e,t){return n instanceof kp?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Dh?hS(n,e):n instanceof Th?Rp(n,e):function(i,r){const a=dS(i,r),c=fb(a)+fb(i.yt);return Gg(a)&&Gg(i.yt)?uS(c):vE(i.It,c)}(n,e)}function Dk(n,e,t){return n instanceof Dh?hS(n,e):n instanceof Th?Rp(n,e):t}function dS(n,e){return n instanceof Op?Gg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class kp extends hb{}class Dh extends hb{constructor(e){super(),this.elements=e}}function hS(n,e){const t=Pp(e);for(const i of n.elements)t.some(r=>To(r,i))||t.push(i);return{arrayValue:{values:t}}}class Th extends hb{constructor(e){super(),this.elements=e}}function Rp(n,e){let t=Pp(e);for(const i of n.elements)t=t.filter(r=>!To(r,i));return{arrayValue:{values:t}}}class Op extends hb{constructor(e,t){super(),this.It=e,this.yt=t}}function fb(n){return fi(n.integerValue||n.doubleValue)}function Pp(n){return wh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sh{constructor(e,t){this.field=e,this.transform=t}}class Tk{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class i_{}function pb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new xh(n.key,Hn.none()):new Tl(n.key,n.data,Hn.none());{const t=n.data,i=Qi.empty();let r=new On(Di.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new Sl(n.key,i,new ws(r.toArray()),Hn.none())}}function Sk(n,e,t){n instanceof Tl?function(i,r,a){const c=i.value.clone(),f=mS(i.fieldTransforms,r,a.transformResults);c.setAll(f),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Sl?function(i,r,a){if(!Np(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=mS(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(pS(i)),f.setAll(c),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fp(n,e,t,i){return n instanceof Tl?function(r,a,c,f){if(!Np(r.precondition,a))return c;const g=r.value.clone(),v=gS(r.fieldTransforms,f,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Sl?function(r,a,c,f){if(!Np(r.precondition,a))return c;const g=gS(r.fieldTransforms,f,a),v=a.data;return v.setAll(pS(r)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(c=t,Np(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function fS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=dS(i.transform,r||null);null!=a&&(null===t&&(t=Qi.empty()),t.set(i.field,a))}return t||null}function wE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&vh(t,i,(r,a)=>function bE(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Dh&&i instanceof Dh||t instanceof Th&&i instanceof Th?vh(t.elements,i.elements,To):t instanceof Op&&i instanceof Op?To(t.yt,i.yt):t instanceof kp&&i instanceof kp);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Tl extends i_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sl extends i_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mS(n,e,t){const i=new Map;xt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,f=e.data.field(a.field);i.set(a.field,Dk(c,f,t[r]))}return i}function gS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,Ik(a,c,e))}return i}class xh extends i_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mb extends i_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _S{constructor(e){this.count=e}}var Bi,un;function gb(n){switch(n){default:return ut();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function _b(n){if(void 0===n)return Ei("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Bi.OK:return ye.OK;case Bi.CANCELLED:return ye.CANCELLED;case Bi.UNKNOWN:return ye.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return ye.INTERNAL;case Bi.UNAVAILABLE:return ye.UNAVAILABLE;case Bi.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Bi.NOT_FOUND:return ye.NOT_FOUND;case Bi.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Bi.ABORTED:return ye.ABORTED;case Bi.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Bi.DATA_LOSS:return ye.DATA_LOSS;default:return ut()}}(un=Bi||(Bi={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return xp(this.inner)}size(){return this.innerSize}}const So=new Un(Ye.comparator);function zr(){return So}const r_=new Un(Ye.comparator);function Lp(...n){let e=r_;for(const t of n)e=e.insert(t.key,t);return e}function Cs(n){let e=r_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wa(){return Vp()}function s_(){return Vp()}function Vp(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const yS=new Un(Ye.comparator),yb=new On(Ye.comparator);function Zt(...n){let e=yb;for(const t of n)e=e.add(t);return e}const CE=new On(Gt);function o_(){return CE}class Mh{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ah.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mh(Rt.min(),r,o_(),zr(),Zt())}}class Ah{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ah(i,t,Zt(),Zt(),Zt())}}class a_{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class vb{constructor(e,t){this.targetId=e,this.At=t}}class EE{constructor(e,t,i=Ai.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class l_{constructor(){this.Rt=0,this.bt=c_(),this.Pt=Ai.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Zt(),t=Zt(),i=Zt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new Ah(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=c_()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class yc{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zr(),this.qt=bb(),this.Kt=new On(Gt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(Kg(a))if(0===i){const c=new Ye(a.path);this.jt(t,c,Dn.newNoDocument(c,Rt.min()))}else xt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&Kg(f.target)){const g=new Ye(f.target.path);null!==this.Ut.get(g)||this.ee(c,g)||this.jt(c,g,Dn.newNoDocument(g,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let i=Zt();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const r=new Mh(e,t,this.Kt,this.Ut,i);return this.Ut=zr(),this.qt=bb(),this.Kt=new On(Gt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new l_,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new On(Gt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new l_),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function bb(){return new Un(Ye.comparator)}function c_(){return new Un(Ye.comparator)}const xl={asc:"ASCENDING",desc:"DESCENDING"},vS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xk{constructor(e,t){this.databaseId=e,this.gt=t}}function Bp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.gt?e.toBase64():e.toUint8Array()}function bS(n,e){return Bp(n,e.toTimestamp())}function Ji(n){return xt(!!n),Rt.fromTimestamp(function(e){const t=ba(e);return new hi(t.seconds,t.nanos)}(n))}function u_(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wS(n){const e=cn.fromString(n);return xt(TS(e)),e}function kh(n,e){return u_(n.databaseId,e.path)}function Ca(n,e){const t=wS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(wb(t))}function d_(n,e){return u_(n.databaseId,e)}function CS(n){const e=wS(n);return 4===e.length?cn.emptyPath():wb(e)}function Bu(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wb(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cb(n,e,t){return{name:kh(n,e),fields:t.value.mapValue.fields}}function Eb(n,e,t){const i=Ca(n,e.name),r=Ji(e.updateTime),a=new Qi({mapValue:{fields:e.fields}}),c=Dn.newFoundDocument(i,r,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function vc(n,e){let t;if(e instanceof Tl)t={update:Cb(n,e.key,e.value)};else if(e instanceof xh)t={delete:kh(n,e.key)};else if(e instanceof Sl)t={update:Cb(n,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof mb))return ut();t={verify:kh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof kp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Th)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Op)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:bS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}function Rh(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Hn.updateTime(Ji(r.updateTime)):void 0!==r.exists?Hn.exists(r.exists):Hn.none():Hn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let f=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),f=new kp):"appendMissingElements"in c?f=new Dh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Th(c.removeAllFromArray.values||[]):"increment"in c?f=new Op(a,c.increment):ut();const g=Di.fromServerFormat(c.fieldPath);return new Sh(g,f)}(n,r)):[];var r;if(e.update){const r=Ca(n,e.update.name),a=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ws((e.updateMask.fieldPaths||[]).map(v=>Di.fromServerFormat(v)));return new Sl(r,a,c,t,i)}return new Tl(r,a,t,i)}if(e.delete){const r=Ca(n,e.delete);return new xh(r,t)}if(e.verify){const r=Ca(n,e.verify);return new mb(r,t)}return ut()}function xE(n,e){return{documents:[d_(n,e.path)]}}function h_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=d_(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=d_(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(I=>function(x){if("=="===x.op){if(nb(x.value))return{unaryFilter:{field:Uu(x.field),op:"IS_NAN"}};if(fE(x.value))return{unaryFilter:{field:Uu(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(nb(x.value))return{unaryFilter:{field:Uu(x.field),op:"IS_NOT_NAN"}};if(fE(x.value))return{unaryFilter:{field:Uu(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(x.field),op:Ak(x.op),value:x.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:Uu((I=v).field),direction:Mk(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.gt||Mu(v)?v:{value:v});var v,f,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function Ib(n){let e=CS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){xt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=ME(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new _c(Oh((x=I).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,Mu(x)?null:x}(t.limit));let g=null;var I;t.startAt&&(g=new Il((I=t.startAt).values||[],!!I.before));let v=null;return t.endAt&&(v=function(I){return new Il(I.values||[],!I.before)}(t.endAt)),_E(e,r,c,a,f,"F",g,v)}function ME(n){return n?void 0!==n.unaryFilter?[DS(n)]:void 0!==n.fieldFilter?[IS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ME(e)).reduce((e,t)=>e.concat(t)):ut():[]}function Mk(n){return xl[n]}function Ak(n){return vS[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function Oh(n){return Di.fromServerFormat(n.fieldPath)}function IS(n){return Xi.create(Oh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function DS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Oh(n.unaryFilter.field);return Xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Oh(n.unaryFilter.field);return Xi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oh(n.unaryFilter.field);return Xi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Oh(n.unaryFilter.field);return Xi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function kk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SS(e)),e=Rk(n.get(t),e);return SS(e)}function Rk(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function SS(n){return n+"\x01\x01"}function Ea(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&ut(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:ut()}a=c+2}return new cn(i)}const Up=["userId","batchId"];function f_(n,e){return[n,Gr(e)]}function AE(n,e,t){return[n,Gr(e),t]}const kE={},Hu=["prefixPath","collectionGroup","readTime","documentId"],RE=["prefixPath","collectionGroup","documentId"],Db=["collectionGroup","readTime","prefixPath","documentId"],Tb=["canonicalId","targetId"],xS=["targetId","path"],Sb=["path","targetId"],xb=["collectionId","parent"],p_=["indexId","uid"],Ok=["uid","sequenceNumber"],Pk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nk=["indexId","uid","orderedDocumentKey"],Fk=["userId","collectionPath","documentId"],OE=["userId","collectionPath","largestBatchId"],MS=["userId","collectionGroup","largestBatchId"],PE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AS=[...PE,"documentOverlays"],NE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mb=NE,FE=[...Mb,"indexConfiguration","indexState","indexEntries"];class m_ extends Qv{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function er(n,e){const t=Qe(n);return Ks.M(t.ie,e)}class Ab{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Sk(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Fp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Fp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=s_();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(r.key)?null:f;const g=pb(c,f);null!==g&&i.set(r.key,g),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&vh(this.mutations,e.mutations,(t,i)=>wE(t,i))&&vh(this.baseMutations,e.baseMutations,(t,i)=>wE(t,i))}}class g_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){xt(e.mutations.length===i.length);let r=yS;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new g_(e,t,i,r)}}class Hp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ju{constructor(e,t,i,r,a=Rt.min(),c=Rt.min(),f=Ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kb{constructor(e){this.re=e}}function LE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:__(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:kh(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Bp(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ph(e.version)};else{if(!e.isUnknownDocument())return ut();i.unknownDocument={path:t.path.toArray(),version:Ph(e.version)}}var r,a;return i}function __(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ph(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nh(n){const e=new hi(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function $u(n,e){const t=(e.baseMutations||[]).map(a=>Rh(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>Rh(n.re,a)),r=hi.fromMillis(e.localWriteTimeMs);return new Ab(e.batchId,r,t,i)}function jp(n){const e=Nh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nh(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(xt(1===(r=n.query).documents.length),i=Rr(Eh(CS(r.documents[0])))):i=Rr(Ib(n.query)),new ju(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function VE(n,e){const t=Ph(e.snapshotVersion),i=Ph(e.lastLimboFreeSnapshotVersion);let r;r=Kg(e.target)?xE(n.re,e.target):h_(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function BE(n){const e=Ib({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?e_(e,e.limit,"L"):e}function UE(n,e){return new Hp(e.largestBatchId,Rh(n.re,e.overlayMutation))}function kS(n,e){const t=e.path.lastSegment();return[n,Gr(e.path.popLast()),t]}function RS(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ph(i.readTime),documentKey:Gr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Lk{getBundleMetadata(e,t){return HE(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Nh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return HE(e).put({bundleId:(i=t).id,createTime:Ph(Ji(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return OS(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:BE(r.bundledQuery),readTime:Nh(r.readTime)};var r})}saveNamedQuery(e,t){return OS(e).put({name:(i=t).name,readTime:Ph(Ji(i.readTime)),bundledQuery:i.bundledQuery});var i}}function HE(n){return er(n,"bundles")}function OS(n){return er(n,"namedQueries")}class Ob{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Ob(e,t.uid||"")}getOverlay(e,t){return y_(e).get(kS(this.userId,t)).next(i=>i?UE(this.It,i):null)}getOverlays(e,t){const i=wa();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const f=new Hp(t,c);r.push(this.ue(e,f))}),he.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Gr(c.getCollectionPath())));const a=[];return r.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(y_(e).Y("collectionPathOverlayIndex",f))}),he.waitFor(a)}getOverlaysForCollection(e,t,i){const r=wa(),a=Gr(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return y_(e).W("collectionPathOverlayIndex",c).next(f=>{for(const g of f){const v=UE(this.It,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=wa();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return y_(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,v,I)=>{const x=UE(this.It,v);a.size()<r||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return y_(e).put(function(i,r,a){const[c,f,g]=kS(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:vc(i.re,a.mutation)}}(this.It,this.userId,t))}}function y_(n){return er(n,"documentOverlays")}class Fh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Au(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Su(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Nu(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ut()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Ye.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Vk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function PS(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=Vk(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Fh.Te=new Fh;class s{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=PS(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=PS(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class o{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class l{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class d{constructor(){this.Be=new s,this.Le=new o(this.Be),this.Ue=new l(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class h{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new h(this.indexId,this.documentKey,this.arrayValue,i)}}function p(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=y(n.arrayValue,e.arrayValue),0!==t?t:(t=y(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function y(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class w{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Zv(e);if(void 0!==t&&!this.ze(t))return!1;const i=mc(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class E{constructor(){this.Ye=new S}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(bs.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class S{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new On(cn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new On(cn.comparator)).toArray()}}const R=new Uint8Array(0);class L{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new S,this.Ze=new Vu(i=>Fu(i),(i,r)=>Ap(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Gr(r)};return Y(e).put(a)}return he.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Kv(t),""],!1,!0);return Y(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(Ea(c.parent))}return i})}addFieldIndex(e,t){const i=Ie(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=$e(e);return a.next(f=>{c.put(RS(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Ie(e),r=$e(e),a=re(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=re(e);let r=!0;const a=new Map;return he.forEach(this.tn(t),c=>this.en(e,c).next(f=>{r&&(r=!!f),a.set(c,f)})).next(()=>{if(r){let c=Zt();const f=[];return he.forEach(a,(g,v)=>{var I;je("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Fu(t)}`);const x=function(vt,pt){const Ot=Zv(pt);if(void 0===Ot)return null;for(const Vt of Zg(vt,Ot.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(v,g),V=function(vt,pt){const Ot=new Map;for(const Vt of mc(pt))for(const pn of Zg(vt,Vt.fieldPath))switch(pn.op){case"==":case"in":Ot.set(Vt.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return Ot.set(Vt.fieldPath.canonicalString(),pn.value),Array.from(Ot.values())}return null}(v,g),U=function(vt,pt){const Ot=[];let Vt=!0;for(const pn of mc(pt)){const Ss=0===pn.kind?Yg(vt,pn.fieldPath,vt.startAt):rb(vt,pn.fieldPath,vt.startAt);Ot.push(Ss.value),Vt&&(Vt=Ss.inclusive)}return new Il(Ot,Vt)}(v,g),G=function(vt,pt){const Ot=[];let Vt=!0;for(const pn of mc(pt)){const Ss=0===pn.kind?rb(vt,pn.fieldPath,vt.endAt):Yg(vt,pn.fieldPath,vt.endAt);Ot.push(Ss.value),Vt&&(Vt=Ss.inclusive)}return new Il(Ot,Vt)}(v,g),ne=this.nn(g,v,U),ge=this.nn(g,v,G),Ge=this.sn(g,v,V),at=this.rn(g.indexId,x,ne,U.inclusive,ge,G.inclusive,Ge);return he.forEach(at,vt=>i.J(vt,t.limit).next(pt=>{pt.forEach(Ot=>{const Vt=Ye.fromSegments(Ot.documentKey);c.has(Vt)||(c=c.add(Vt),f.push(Vt))})}))}).next(()=>f)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,c,f){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),v=g/(null!=t?t.length:1),I=[];for(let x=0;x<g;++x){const V=t?this.on(t[x/v]):R,U=this.un(e,V,i[x%v],r),G=this.cn(e,V,a[x%v],c),ne=f.map(ge=>this.un(e,V,ge,!0));I.push(...this.createRange(U,G,ne))}return I}un(e,t,i,r){const a=new h(e,Ye.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new h(e,Ye.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new w(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const f of a)i.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let i=2;return he.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(c){let f=new On(Di.comparator),g=!1;for(const v of c.filters){const I=v;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:f=f.add(I.field))}for(const v of c.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new d;for(const r of mc(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);Fh.Te.ce(a,c)}return i.$e()}on(e){const t=new d;return Fh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new d;return Fh.Te.ce(Pu(this.databaseId,t),i.qe(function(r){const a=mc(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new d);let a=0;for(const c of mc(e)){const f=i[a++];for(const g of r)if(this.ln(t,c.fieldPath)&&wh(f))r=this.fn(r,c,f);else{const v=g.qe(c.kind);Fh.Te.ce(f,v)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const f of r){const g=new d;g.seed(f.$e()),Fh.Te.ce(c,g.qe(t.kind)),a.push(g)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof Xi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ie(e),r=$e(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return he.forEach(a,f=>r.get([f.indexId,this.uid]).next(g=>{c.push(function(v,I){const x=I?new Dp(I.sequenceNumber,new bs(Nh(I.readTime),new Ye(Ea(I.documentKey)),I.largestBatchId)):Dp.empty(),V=v.fields.map(([U,G])=>new Bg(Di.fromServerFormat(U),G));return new Vg(v.indexId,v.collectionGroup,V,x)}(f,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Gt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ie(e),a=$e(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>he.forEach(f,g=>a.put(RS(g.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?he.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),he.forEach(f,g=>this.wn(e,r,g).next(v=>{const I=this.mn(a,g);return v.isEqual(I)?he.resolve():this.gn(e,a,g,v,I)}))))})}yn(e,t,i,r){return re(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return re(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=re(e);let a=new On(p);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,f)=>{a=a.add(new h(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new On(p);const r=this.an(t,e);if(null==r)return i;const a=Zv(t);if(null!=a){const c=e.data.field(a.fieldPath);if(wh(c))for(const f of c.arrayValue.values||[])i=i.add(new h(t.indexId,e.key,this.on(f),r))}else i=i.add(new h(t.indexId,e.key,R,r));return i}gn(e,t,i,r,a){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,g,v,I,x){const V=f.getIterator(),U=g.getIterator();let G=wl(V),ne=wl(U);for(;G||ne;){let ge=!1,Ge=!1;if(G&&ne){const at=v(G,ne);at<0?Ge=!0:at>0&&(ge=!0)}else null!=G?Ge=!0:ge=!0;ge?(I(ne),ne=wl(U)):Ge?(x(G),G=wl(V)):(G=wl(V),ne=wl(U))}}(r,a,p,f=>{c.push(this.yn(e,t,i,f))},f=>{c.push(this.pn(e,t,i,f))}),he.waitFor(c)}_n(e){let t=1;return $e(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,f)=>p(c,f)).filter((c,f,g)=>!f||0!==p(c,g[f-1]));const r=[];r.push(e);for(const c of i){const f=p(c,e),g=p(c,t);if(0===f)r[0]=e.Ke();else if(f>0&&g<0)r.push(c),r.push(c.Ke());else if(g>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2)a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,R,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,R,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ze)}getMinOffset(e,t){return he.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||ut())).next(Ze)}}function Y(n){return er(n,"collectionParents")}function re(n){return er(n,"indexEntries")}function Ie(n){return er(n,"indexConfiguration")}function $e(n){return er(n,"indexState")}function Ze(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Yv(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new bs(e.readTime,e.documentKey,t)}const dt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ct{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ct(e,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Pe(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const g=i.Z({range:c},(I,x,V)=>(f++,V.delete()));a.push(g.next(()=>{xt(1===f)}));const v=[];for(const I of t.mutations){const x=AE(e,I.key.path,t.batchId);a.push(r.delete(x)),v.push(I.key)}return he.waitFor(a).next(()=>v)}function At(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(41943040,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);class dn{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new dn(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=bc(e),c=Wr(e);return c.add({}).next(f=>{xt("number"==typeof f);const g=new Ab(f,t,i,r),v=function(V,U,G){const ne=G.baseMutations.map(Ge=>vc(V.re,Ge)),ge=G.mutations.map(Ge=>vc(V.re,Ge));return{userId:U,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:ge}}(this.It,this.userId,g),I=[];let x=new On((V,U)=>Gt(V.canonicalString(),U.canonicalString()));for(const V of r){const U=AE(this.userId,V.key.path,f);x=x.add(V.key.path.popLast()),I.push(c.put(v)),I.push(a.put(U,kE))}return x.forEach(V=>{I.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),he.waitFor(I).next(()=>g)})}lookupMutationBatch(e,t){return Wr(e).get(t).next(i=>i?(xt(i.userId===this.userId),$u(this.It,i)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Wr(e).Z({index:"userMutationsIndex",range:r},(c,f,g)=>{f.userId===this.userId&&(xt(f.batchId>=i),a=$u(this.It,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wr(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).W("userMutationsIndex",t).next(i=>i.map(r=>$u(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=f_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return bc(e).Z({range:r},(c,f,g)=>{const[v,I,x]=c,V=Ea(I);if(v===this.userId&&t.path.isEqual(V))return Wr(e).get(x).next(U=>{if(!U)throw ut();xt(U.userId===this.userId),a.push($u(this.It,U))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new On(Gt);const r=[];return t.forEach(a=>{const c=f_(this.userId,a.path),f=IDBKeyRange.lowerBound(c),g=bc(e).Z({range:f},(v,I,x)=>{const[V,U,G]=v,ne=Ea(U);V===this.userId&&a.path.isEqual(ne)?i=i.add(G):x.done()});r.push(g)}),he.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=f_(this.userId,i),c=IDBKeyRange.lowerBound(a);let f=new On(Gt);return bc(e).Z({range:c},(g,v,I)=>{const[x,V,U]=g,G=Ea(V);x===this.userId&&i.isPrefixOf(G)?G.length===r&&(f=f.add(U)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Wr(e).get(a).next(c=>{if(null===c)throw ut();xt(c.userId===this.userId),i.push($u(this.It,c))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Pe(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return bc(e).Z({range:i},(a,c,f)=>{if(a[0]===this.userId){const g=Ea(a[1]);r.push(g)}else f.done()}).next(()=>{xt(0===r.length)})})}containsKey(e,t){return Yn(e,this.userId,t)}Rn(e){return v_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yn(n,e,t){const i=f_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return bc(n).Z({range:a,X:!0},(f,g,v)=>{const[I,x,V]=f;I===e&&x===r&&(c=!0),v.done()}).next(()=>c)}function Wr(n){return er(n,"mutations")}function bc(n){return er(n,"documentMutations")}function v_(n){return er(n,"mutationQueues")}class Ml{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ml(0)}static vn(){return new Ml(-1)}}class Pb{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Ml(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Rt.fromTimestamp(new hi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(xt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return wc(e).Z((c,f)=>{const g=jp(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>he.waitFor(a)).next(()=>r)}forEachTarget(e,t){return wc(e).Z((i,r)=>{const a=jp(r);t(a)})}Vn(e){return b_(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return b_(e).put("targetGlobalKey",t)}Dn(e,t){return wc(e).put(VE(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Fu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return wc(e).Z({range:r,index:"queryTargetsIndex"},(c,f,g)=>{const v=jp(f);Ap(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Ia(e);return t.forEach(c=>{const f=Gr(c.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,c))}),he.waitFor(r)}removeMatchingKeys(e,t,i){const r=Ia(e);return he.forEach(t,a=>{const c=Gr(a.path);return he.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Ia(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ia(e);let a=Zt();return r.Z({range:i,X:!0},(c,f,g)=>{const v=Ea(c[1]),I=new Ye(v);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Gr(t.path),r=IDBKeyRange.bound([i],[Kv(i)],!1,!0);let a=0;return Ia(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,f],g,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}se(e,t){return wc(e).get(t).next(i=>i?jp(i):null)}}function wc(n){return er(n,"targets")}function b_(n){return er(n,"targetGlobal")}function Ia(n){return er(n,"targetDocuments")}function w_([n,e],[t,i]){const r=Gt(n,t);return 0===r?Gt(e,i):r}class Nb{constructor(e){this.xn=e,this.buffer=new On(w_),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();w_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){bl(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield vl(i)}yield t.Fn(3e5)}))}}class IN{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(Cr.at);const i=new Nb(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(dt)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dt):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,c,f,g,v;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(e,i,t))).next(x=>(a=x,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(v=Date.now(),Lg()<=ys.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${r} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${x} documents in `+(v-g)+`ms\nTotal Duration: ${v-I}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class DN{constructor(e,t){this.db=e,this.garbageCollector=new IN(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return jE(e,i)}removeReference(e,t,i){return jE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return jE(e,t)}Gn(e,t){return function(i,r){let a=!1;return v_(i).tt(c=>Yn(i,c,r).next(f=>(f&&(a=!0),he.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const g=this.Gn(e,c).next(v=>{if(!v)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Rt.min()),Ia(e).delete([0,Gr(c.path)])))});r.push(g)}}).next(()=>he.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return jE(e,t)}Kn(e,t){const i=Ia(e);let r,a=Cr.at;return i.Z({index:"documentTargetsIndex"},([c,f],{path:g,sequenceNumber:v})=>{0===c?(a!==Cr.at&&t(new Ye(Ea(r)),a),a=v,r=g):a=Cr.at}).next(()=>{a!==Cr.at&&t(new Ye(Ea(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jE(n,e){return Ia(n).put((i=n.currentSequenceNumber,{targetId:0,path:Gr(e.path),sequenceNumber:i}));var i}class Bk{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TN{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $p(e).put(i)}removeEntry(e,t,i){return $p(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],__(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Dn.newInvalidDocument(t);return $p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fb(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Dn.newInvalidDocument(t)};return $p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fb(t))},(r,a)=>{i={document:this.jn(t,a),size:At(a)}}).next(()=>i)}getEntries(e,t){let i=zr();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=zr(),r=new Un(Ye.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);i=i.insert(a,f),r=r.insert(a,At(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return he.resolve();let r=new On($k);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(Fb(r.first()),Fb(r.last())),c=r.getIterator();let f=c.getNext();return $p(e).Z({index:"documentKeyIndex",range:a},(g,v,I)=>{const x=Ye.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&$k(f,x)<0;)i(f,null),f=c.getNext();f&&f.isEqual(x)&&(i(f,v),f=c.hasNext()?c.getNext():null),f?I.j(Fb(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),__(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $p(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let f=zr();for(const g of c){const v=this.jn(Ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=zr();const c=jk(t,i),f=jk(t,bs.max());return $p(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(g,v,I)=>{const x=this.jn(Ye.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new SN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hk(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return Hk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function Rb(n,e){let t;if(e.document)t=Eb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ye.fromSegments(e.noDocument.path),r=Nh(e.noDocument.readTime);t=Dn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const i=Ye.fromSegments(e.unknownDocument.path),r=Nh(e.unknownDocument.version);t=Dn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new hi(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Dn.newInvalidDocument(e)}}function Uk(n){return new TN(n)}class SN extends Bk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new On((a,c)=>Gt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const g=LE(this.Yn.It,c);r=r.add(a.path.popLast()),i+=At(g)-f.size,t.push(this.Yn.addEntry(e,a,g))}else if(i-=f.size,this.trackRemovals){const g=LE(this.Yn.It,c.convertToNoDocument(Rt.min()));t.push(this.Yn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function Hk(n){return er(n,"remoteDocumentGlobal")}function $p(n){return er(n,"remoteDocumentsV14")}function Fb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jk(n,e){const t=e.documentKey.path.toArray();return[n,__(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $k(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Gt(t[a],i[a]),r)return r;return r=Gt(t.length,i.length),r||(r=Gt(t[t.length-2],i[i.length-2]),r||Gt(t[t.length-1],i[i.length-1]))}class xN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Fp(i.mutation,r,ws.empty(),hi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Lp();return a.forEach((f,g)=>{c=c.insert(f,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,r){let a=zr();const c=Vp(),f=Vp();return t.forEach((g,v)=>{const I=i.get(v.key);r.has(v.key)&&(void 0===I||I.mutation instanceof Sl)?a=a.insert(v.key,v):void 0!==I&&(c.set(v.key,I.mutation.getFieldMask()),Fp(I.mutation,v,I.mutation.getFieldMask(),hi.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,I)=>c.set(v,I)),t.forEach((v,I)=>{var x;return f.set(v,new xN(I,null!==(x=c.get(v))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Vp();let r=new Un((c,f)=>c-f),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let I=i.get(g)||ws.empty();I=f.applyToLocalView(v,I),i.set(g,I);const x=(r.get(f.batchId)||Zt()).add(g);r=r.insert(f.batchId,x)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,I=g.value,x=s_();I.forEach(V=>{if(!a.has(V)){const U=pb(t.get(V),i.get(V));null!==U&&x.set(V,U),a=a.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,x))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ye.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Jg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):he.resolve(wa());let f=-1,g=a;return c.next(v=>he.forEach(v,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?he.resolve():this.getBaseDocument(e,I,x).next(V=>{g=g.insert(I,V)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,Zt())).next(I=>({batchId:f,changes:Cs(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(i=>{let r=Lp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Lp();return this.indexManager.getCollectionParents(e,r).next(c=>he.forEach(c,f=>{const g=(v=t,I=f.child(r),new Dl(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,I;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,Dn.newInvalidDocument(v)))});let c=Lp();return r.forEach((f,g)=>{const v=a.get(f);void 0!==v&&Fp(v.mutation,g,ws.empty(),hi.now()),n_(t,g)&&(c=c.insert(f,g))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(Dn.newInvalidDocument(t))}}class MN{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ji(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:BE(i.bundledQuery),readTime:Ji(i.readTime)}),he.resolve();var i}}class AN{constructor(){this.overlays=new Un(Ye.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wa();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=wa(),a=t.length+1,c=new Ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Un((v,I)=>v-I);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let I=a.get(v.largestBatchId);null===I&&(I=wa(),a=a.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const f=wa(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,I)=>f.set(v,I)),!(f.size()>=r)););return he.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Hp(t,i));let a=this.es.get(t);void 0===a&&(a=Zt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class NS{constructor(){this.ns=new On(Er.ss),this.rs=new On(Er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Er(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Er(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ye(new cn([])),i=new Er(t,e),r=new Er(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ye(new cn([])),i=new Er(t,e),r=new Er(t,e+1);let a=Zt();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Er(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ye.comparator(e.key,t.key)||Gt(e._s,t._s)}static os(e,t){return Gt(e._s,t._s)||Ye.comparator(e.key,t.key)}}class kN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new On(Er.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new Ab(a,t,i,r);this.mutationQueue.push(c);for(const f of r)this.gs=this.gs.add(new Er(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Er(t,0),r=new Er(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const f=this.ys(c._s);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new On(Gt);return t.forEach(r=>{const a=new Er(r,0),c=new Er(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{i=i.add(f._s)})}),he.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ye.isDocumentKey(a)||(a=a.child(""));const c=new Er(new Ye(a),0);let f=new On(Gt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g._s)),!0)},c),he.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return he.forEach(t.mutations,r=>{const a=new Er(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Er(t,0),r=this.gs.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class RN{constructor(e){this.Es=e,this.docs=new Un(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Dn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(e,t,i){let r=zr();const a=new Ye(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:g}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Yv(cE(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ut()}As(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ON(this)}getSize(e){return he.resolve(this.size)}}class ON extends Bk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class PN{constructor(e){this.persistence=e,this.Rs=new Vu(t=>Fu(t),Ap),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NS,this.targetCount=0,this.vs=Ml.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),he.waitFor(a).next(()=>r)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class Gk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Cr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new PN(this),this.indexManager=new E,this.remoteDocumentCache=new RN(i=>this.referenceDelegate.xs(i)),this.It=new kb(t),this.Ns=new MN(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new kN(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new NN(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return he.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class NN extends Qv{constructor(e){super(),this.currentSequenceNumber=e}}class $E{constructor(e){this.persistence=e,this.Fs=new NS,this.$s=null}static Bs(e){return new $E(e)}get Ls(){if(this.$s)return this.$s;throw ut()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,i=>{const r=Ye.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,Rt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class FN{constructor(e){this.It=e}$(e,t,i,r){const a=new Tp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Up,{unique:!0}),f.createObjectStore("documentMutations"),Wk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=he.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Wk(e)),c=c.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(f,g){return g.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Up,{unique:!0});const I=g.store("mutations"),x=v.map(V=>I.put(V));return he.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Fk});g.createIndex("collectionPathOverlayIndex",OE,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",MS,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:Hu});g.createIndex("documentKeyIndex",RE),g.createIndex("collectionGroupIndex",Db)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:p_}).createIndex("sequenceNumberIndex",Ok,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Pk}).createIndex("documentKeyIndex",Nk,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=At(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>he.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(f=>he.forEach(f,g=>{xt(g.userId===a.userId);const v=$u(this.It,g);return Pe(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,f)=>{const g=new cn(c),v=[0,Gr(g)];a.push(t.get(v).next(I=>I?he.resolve():t.put({targetId:0,path:Gr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:xb});const i=t.store("collectionParents"),r=new S,a=c=>{if(r.add(c)){const f=c.lastSegment(),g=c.popLast();return i.put({collectionId:f,parent:Gr(g)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const g=new cn(c);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,g],v)=>{const I=Ea(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=jp(r),c=VE(this.It,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),g=(v=c,v.document?new Ye(cn.fromString(v.document.name).popFirst(5)):v.noDocument?Ye.fromSegments(v.noDocument.path):v.unknownDocument?Ye.fromSegments(v.unknownDocument.path):ut()).path.toArray();var v;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(f.put(I))}).next(()=>he.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Uk(this.It),a=new Gk($E.Bs,this.It.re);return i.W().next(c=>{const f=new Map;return c.forEach(g=>{var v;let I=null!==(v=f.get(g.userId))&&void 0!==v?v:Zt();$u(this.It,g).keys().forEach(x=>I=I.add(x)),f.set(g.userId,I)}),he.forEach(f,(g,v)=>{const I=new Yi(v),x=Ob.oe(this.It,I),V=a.getIndexManager(I),U=dn.oe(I,this.It,V,a.referenceDelegate);return new zk(r,U,x,V).recalculateAndSaveOverlaysForDocumentKeys(new m_(t,Cr.at),g).next()})})}}function Wk(n){n.createObjectStore("targetDocuments",{keyPath:xS}).createIndex("documentTargetsIndex",Sb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tb,{unique:!0}),n.createObjectStore("targetGlobal")}const FS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LS{constructor(e,t,i,r,a,c,f,g,v,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=f,this.Js=v,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!LS.C())throw new Ve(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DN(this,r),this.ii=t+"main",this.It=new kb(g),this.ri=new Ks(this.ii,this.Xs,new FN(this.It)),this.Cs=new Pb(this.referenceDelegate,this.It),this.remoteDocumentCache=Uk(this.It),this.Ns=new Lk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(ye.FAILED_PRECONDITION,FS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Cr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(bl(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Lb(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return zE(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=er(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(g=>-1===c.indexOf(g));return he.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):Lb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ve(ye.FAILED_PRECONDITION,FS);return!1}}return!(!this.networkEnabled||!this.inForeground)||zE(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new m_(t,Cr.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>zE(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return dn.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new L(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ob.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?FE:14===c?Mb:13===c?NE:12===c?AS:11===c?PE:void ut();var c;let f;return this.ri.runTransaction(e,r,a,g=>(f=new m_(g,this.Ss?this.Ss.next():Cr.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(ye.FAILED_PRECONDITION,bh);return i(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return Lb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(ye.FAILED_PRECONDITION,FS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lb(e).put("owner",t)}static C(){return Ks.C()}_i(e){const t=Lb(e);return t.get("owner").next(i=>this.mi(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lb(n){return er(n,"owner")}function zE(n){return er(n,"clientMetadata")}function VS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class BS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Zt(),r=Zt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new BS(e,t.fromCache,i,r)}}class qk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(ab(t))return he.resolve(null);let i=Rr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=e_(t,null,"F"),i=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Zt(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.Fi(t,f);return this.$i(t,v,c,g.readTime)?this.ki(e,e_(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,i,r){return ab(t)||r.isEqual(Rt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Mi(e,t):(Lg()<=ys.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),t_(t)),this.Bi(e,c,t,lE(r,-1)))})}Fi(e,t){let i=new On(ub(e));return t.forEach((r,a)=>{n_(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return Lg()<=ys.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",t_(t)),this.Ni.getDocumentsMatchingQuery(e,t,bs.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class LN{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Un(Gt),this.qi=new Vu(a=>Fu(a),Ap),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Kk(n,e,t,i){return new LN(n,e,t,i)}function Zk(n,e){return US.apply(this,arguments)}function US(){return US=(0,Ee.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let g=Zt();for(const v of r){c.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}for(const v of a){f.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:f}))})})}),US.apply(this,arguments)}function VN(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,g,v){const I=g.batch,x=I.keys();let V=he.resolve();return x.forEach(U=>{V=V.next(()=>v.getEntry(f,U)).next(G=>{const ne=g.docVersions.get(U);xt(null!==ne),G.version.compareTo(ne)<0&&(I.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=Zt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(f=f.add(c.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Yk(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function BN(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,x)=>{const V=r.get(x);if(!V)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let U=V.withSequenceNumber(a.currentSequenceNumber);var G,ne,ge;e.targetMismatches.has(x)?U=U.withResumeToken(Ai.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):I.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(I.resumeToken,i)),r=r.insert(x,U),ne=U,ge=I,(0===(G=V).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,U))});let g=zr(),v=Zt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Qk(a,c,e.documentUpdates).next(I=>{g=I.Wi,v=I.zi})),!i.isEqual(Rt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return he.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.Ui=r,a))}function Qk(n,e,t){let i=Zt(),r=Zt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=zr();return t.forEach((f,g)=>{const v=a.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(e.removeEntry(f,g.readTime),c=c.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),c=c.insert(f,g)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Wi:c,zi:r}})}function UN(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function C_(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,he.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new ju(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function E_(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,Ee.Z)(function*(n,e,t){const i=Qe(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!bl(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),HS.apply(this,arguments)}function GE(n,e,t){const i=Qe(n);let r=Rt.min(),a=Zt();return i.persistence.runTransaction("Execute query","readonly",c=>function(f,g,v){const I=Qe(f),x=I.qi.get(v);return void 0!==x?he.resolve(I.Ui.get(x)):I.Cs.getTargetData(g,v)}(i,c,Rr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,f.targetId).next(g=>{a=g})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Rt.min(),t?a:Zt())).next(f=>(eR(i,cb(e),f),{documents:f,Hi:a})))}function Xk(n,e){const t=Qe(n),i=Qe(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(c=>c?c.target:null))}function Jk(n,e){const t=Qe(n),i=t.Ki.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,lE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(eR(t,e,r),r))}function eR(n,e,t){let i=n.Ki.get(e)||Rt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function jS(){return jS=(0,Ee.Z)(function*(n,e,t,i){const r=Qe(n);let a=Zt(),c=zr();for(const v of t){const I=e.Ji(v.metadata.name);v.document&&(a=a.add(I));const x=e.Yi(v);x.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(I,x)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield C_(r,(v=i,Rr(Eh(cn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Qk(v,f,c).next(I=>(f.apply(v),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,I.Wi,I.zi)).next(()=>I.Wi)))}),jS.apply(this,arguments)}function jN(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Ee.Z)(function*(n,e,t=Zt()){const i=yield C_(n,Rr(BE(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Ji(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(Ai.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),$S.apply(this,arguments)}function tR(n,e){return`firestore_clients_${n}_${e}`}function nR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zS(n,e){return`firestore_targets_${n}_${e}`}class WE{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Ve(r.error.code,r.error.message))),c?new WE(e,t,r.state,a):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ve(i.error.code,i.error.message))),a?new Vb(e,i.state,r):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=o_();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=hE(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new qE(e,a):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GS(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=o_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Un(Gt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=tR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new WS),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(tR(e.persistenceKey,r));if(a){const c=qE.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zS(this.persistenceKey,e));if(i){const r=Vb.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zS(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=Cr.at;if(null!=a)try{const f=JSON.parse(a);xt("number"==typeof f),c=f}catch(f){Ei("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(i.newValue);r!==Cr.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new WE(this.currentUser,e,t,i),a=nR(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=nR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=zS(this.persistenceKey,e),a=new Vb(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return qE.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return WE.Zi(new Yi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Vb.Zi(r,t)}yr(e){return GS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],f=[];return a.forEach(g=>{r.has(g)||c.push(g)}),r.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Br(c,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=o_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class iR{constructor(){this.Lr=new WS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new WS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $N{qr(e){}shutdown(){}}class rR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GN{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class WN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const c=this.ho(e,t);je("RestConnection","Sending: ",c,i);const f={};return this.lo(f,r,a),this.fo(e,c,f,i).then(g=>(je("RestConnection","Received: ",g),g),g=>{throw yl("RestConnection",`${e} failed with error: `,g,"url: ",c,"request:",i),g})}_o(e,t,i,r,a,c){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${zN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,c)=>{const f=new zT;f.setWithCredentials(!0),f.listenOnce(XC.COMPLETE,()=>{var v;try{switch(f.getLastErrorCode()){case jv.NO_ERROR:const I=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(I)),a(I);break;case jv.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),c(new Ve(ye.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const x=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){let V=f.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=null===(v=V)||void 0===v?void 0:v.error;if(U&&U.status&&U.message){const G=function(ne){const ge=ne.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(ge)>=0?ge:ye.UNKNOWN}(U.status);c(new Ve(G,U.message))}else c(new Ve(ye.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ve(ye.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=HT(),c=jT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new $T({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=r.join("");je("Connection","Creating WebChannel: "+g,f);const v=a.createWebChannel(g,f);let I=!1,x=!1;const V=new GN({Hr:G=>{x?je("Connection","Not sending because WebChannel is closed:",G):(I||(je("Connection","Opening WebChannel transport."),v.open(),I=!0),je("Connection","WebChannel sending:",G),v.send(G))},Jr:()=>v.close()}),U=(G,ne,ge)=>{G.listen(ne,Ge=>{try{ge(Ge)}catch(at){setTimeout(()=>{throw at},0)}})};return U(v,Ep.EventType.OPEN,()=>{x||je("Connection","WebChannel transport opened.")}),U(v,Ep.EventType.CLOSE,()=>{x||(x=!0,je("Connection","WebChannel transport closed"),V.io())}),U(v,Ep.EventType.ERROR,G=>{x||(x=!0,yl("Connection","WebChannel transport errored:",G),V.io(new Ve(ye.UNAVAILABLE,"The operation could not be completed")))}),U(v,Ep.EventType.MESSAGE,G=>{var ne;if(!x){const ge=G.data[0];xt(!!ge);const Ge=ge,at=Ge.error||(null===(ne=Ge[0])||void 0===ne?void 0:ne.error);if(at){je("Connection","WebChannel received error:",at);const vt=at.status;let pt=function(Vt){const pn=Bi[Vt];if(void 0!==pn)return _b(pn)}(vt),Ot=at.message;void 0===pt&&(pt=ye.INTERNAL,Ot="Unknown error status: "+vt+" with message "+at.message),x=!0,V.io(new Ve(pt,Ot)),v.close()}else je("Connection","WebChannel received:",ge),V.ro(ge)}}),U(c,JC.STAT_EVENT,G=>{G.stat===eE.PROXY?je("Connection","Detected buffering proxy"):G.stat===eE.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function sR(){return typeof window<"u"?window:null}function KE(){return typeof document<"u"?document:null}function Bb(n){return new xk(n,!0)}class KS{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class oR{constructor(e,t,i,r,a,c,f,g){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new KS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===ye.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ve(ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qN extends oR{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function TE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ut(),r=e.targetChange.targetIds||[],a=function(g,v){return g.gt?(xt(void 0===v||"string"==typeof v),Ai.fromBase64String(v||"")):(xt(void 0===v||v instanceof Uint8Array),Ai.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const v=void 0===g.code?ye.UNKNOWN:_b(g.code);return new Ve(v,g.message||"")}(c);t=new EE(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ca(n,i.document.name),a=Ji(i.document.updateTime),c=new Qi({mapValue:{fields:i.document.fields}}),f=Dn.newFoundDocument(r,a,c);t=new a_(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Ca(n,i.document),a=i.readTime?Ji(i.readTime):Rt.min(),c=Dn.newNoDocument(r,a);t=new a_([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Ca(n,i.document);t=new a_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ut();{const i=e.filter,a=new _S(i.count||0);t=new vb(i.targetId,a)}}var g;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Rt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?Ji(a.readTime):Rt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Bu(this.It),t.addTarget=function(r,a){let c;const f=a.target;return c=Kg(f)?{documents:xE(r,f)}:{query:h_(r,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=IE(r,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=Bp(r,a.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function ES(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Bu(this.It),t.removeTarget=e,this.Bo(t)}}class KN extends oR{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function SE(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(i,r){let a=Ji(i.updateTime?i.updateTime:r);return a.isEqual(Rt.min())&&(a=Ji(r)),new Tk(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ji(e.commitTime);return this.listener.Zo(i,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Bu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vc(this.It,i))};this.Bo(t)}}class ZN extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ve(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(ye.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(ye.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class QN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ei(t),this.ou=!1):je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class XN{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,Ee.Z)(function*(){var g;zu(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ee.Z)(function*(v){const I=Qe(v);I._u.add(4),yield I_(I),I.gu.set("Unknown"),I._u.delete(4),yield Ub(I)}),function(v){return g.apply(this,arguments)})(c))}))}),this.gu=new QN(i,r)}}function Ub(n){return YS.apply(this,arguments)}function YS(){return YS=(0,Ee.Z)(function*(n){if(zu(n))for(const e of n.wu)yield e(!0)}),YS.apply(this,arguments)}function I_(n){return QS.apply(this,arguments)}function QS(){return QS=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),QS.apply(this,arguments)}function ZE(n,e){const t=Qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ex(t)?JS(t):T_(t).ko()&&XS(t,e))}function Hb(n,e){const t=Qe(n),i=T_(t);t.du.delete(e),i.ko()&&aR(t,e),0===t.du.size&&(i.ko()?i.Fo():zu(t)&&t.gu.set("Unknown"))}function XS(n,e){n.yu.Mt(e.targetId),T_(n).zo(e)}function aR(n,e){n.yu.Mt(e),T_(n).Ho(e)}function JS(n){n.yu=new yc({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),T_(n).start(),n.gu.uu()}function ex(n){return zu(n)&&!T_(n).No()&&n.du.size>0}function zu(n){return 0===Qe(n)._u.size}function lR(n){n.yu=void 0}function JN(n){return tx.apply(this,arguments)}function tx(){return tx=(0,Ee.Z)(function*(n){n.du.forEach((e,t)=>{XS(n,e)})}),tx.apply(this,arguments)}function eF(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,Ee.Z)(function*(n,e){lR(n),ex(n)?(n.gu.hu(e),JS(n)):n.gu.set("Unknown")}),nx.apply(this,arguments)}function tF(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,Ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof EE&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,a){const c=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,c),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield YE(n,i)}else if(e instanceof a_?n.yu.Gt(e):e instanceof vb?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Rt.min()))try{const i=yield Yk(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.te(a);return c.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.du.get(g);v&&r.du.set(g,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const g=r.du.get(f);if(!g)return;r.du.set(f,g.withResumeToken(Ai.EMPTY_BYTE_STRING,g.snapshotVersion)),aR(r,f);const v=new ju(g.target,f,1,g.sequenceNumber);XS(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield YE(n,i)}var i}),ix.apply(this,arguments)}function YE(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Ee.Z)(function*(n,e,t){if(!bl(e))throw e;n._u.add(1),yield I_(n),n.gu.set("Offline"),t||(t=()=>Yk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ub(n)}))}),rx.apply(this,arguments)}function cR(n,e){return e().catch(t=>YE(n,t,e))}function D_(n){return sx.apply(this,arguments)}function sx(){return sx=(0,Ee.Z)(function*(n){const e=Qe(n),t=Lh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;nF(e);)try{const r=yield UN(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,iF(e,r)}catch(r){yield YE(e,r)}uR(e)&&dR(e)}),sx.apply(this,arguments)}function nF(n){return zu(n)&&n.fu.length<10}function iF(n,e){n.fu.push(e);const t=Lh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function uR(n){return zu(n)&&!Lh(n).No()&&n.fu.length>0}function dR(n){Lh(n).start()}function rF(n){return ox.apply(this,arguments)}function ox(){return ox=(0,Ee.Z)(function*(n){Lh(n).eu()}),ox.apply(this,arguments)}function sF(n){return ax.apply(this,arguments)}function ax(){return ax=(0,Ee.Z)(function*(n){const e=Lh(n);for(const t of n.fu)e.Xo(t.mutations)}),ax.apply(this,arguments)}function oF(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,Ee.Z)(function*(n,e,t){const i=n.fu.shift(),r=g_.from(i,e,t);yield cR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield D_(n)}),lx.apply(this,arguments)}function aF(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,Ee.Z)(function*(n,e){var t;e&&Lh(n).Yo&&(yield(t=(0,Ee.Z)(function*(i,r){if(gb(a=r.code)&&a!==ye.ABORTED){const c=i.fu.shift();Lh(i).Mo(),yield cR(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield D_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),uR(n)&&dR(n)}),cx.apply(this,arguments)}function hR(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,Ee.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=zu(t);t._u.add(3),yield I_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ub(t)}),ux.apply(this,arguments)}function dx(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,Ee.Z)(function*(n,e){const t=Qe(n);e?(t._u.delete(2),yield Ub(t)):e||(t._u.add(2),yield I_(t),t.gu.set("Unknown"))}),hx.apply(this,arguments)}function T_(n){return n.pu||(n.pu=function(e,t,i){const r=Qe(e);return r.su(),new qN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:JN.bind(null,n),Zr:eF.bind(null,n),Wo:tF.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Mo(),ex(n)?JS(n):n.gu.set("Unknown")):(yield n.pu.stop(),lR(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Lh(n){return n.Iu||(n.Iu=function(e,t,i){const r=Qe(e);return r.su(),new KN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:rF.bind(null,n),Zr:aF.bind(null,n),tu:sF.bind(null,n),Zo:oF.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Iu.Mo(),yield D_(n)):(yield n.Iu.stop(),n.fu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class fx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,f=new fx(e,t,c,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),bl(n))return new Ve(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class x_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ye.comparator(t.key,i.key):(t,i)=>Ye.comparator(t.key,i.key),this.keyedMap=Lp(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new x_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof x_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new x_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class fR{constructor(){this.Tu=new Un(Ye.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ut():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class M_{constructor(e,t,i,r,a,c,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new M_(e,t,x_.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class lF{constructor(){this.Au=void 0,this.listeners=[]}}class cF{constructor(){this.queries=new Vu(e=>yE(e),Ih),this.onlineState="Unknown",this.Ru=new Set}}function px(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,Ee.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new lF),r)try{a.Au=yield t.onListen(i)}catch(c){const f=S_(c,`Initialization of query '${t_(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&yx(t)}),mx.apply(this,arguments)}function gx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,Ee.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_x.apply(this,arguments)}function uF(n,e){const t=Qe(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const f of c.listeners)f.Pu(r)&&(i=!0);c.Au=r}}i&&yx(t)}function dF(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function yx(n){n.Ru.forEach(e=>{e.next()})}class vx{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new M_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=M_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class hF{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class pR{constructor(e){this.It=e}Ji(e){return Ca(this.It,e)}Yi(e){return e.metadata.exists?Eb(this.It,e.document,!1):Dn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ji(e)}}class fF{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new pR(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const f=(t.get(c)||Zt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function HN(n,e,t,i){return jS.apply(this,arguments)}(e.localStore,new pR(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield jN(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function mR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gR{constructor(e){this.key=e}}class _R{constructor(e){this.key=e}}class yR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zt(),this.mutatedKeys=Zt(),this.Gu=ub(e),this.Qu=new x_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new fR,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,x)=>{const V=r.get(I),U=n_(this.query,x)?x:null,G=!!V&&this.mutatedKeys.has(V.key),ne=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ge=!1;V&&U?V.data.isEqual(U.data)?G!==ne&&(i.track({type:3,doc:U}),ge=!0):this.Hu(V,U)||(i.track({type:2,doc:U}),ge=!0,(g&&this.Gu(U,g)>0||v&&this.Gu(U,v)<0)&&(f=!0)):!V&&U?(i.track({type:0,doc:U}),ge=!0):V&&!U&&(i.track({type:1,doc:V}),ge=!0,(g||v)&&(f=!0)),ge&&(U?(c=c.add(U),a=ne?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Qu:c,zu:i,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,I)=>function(x,V){const U=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return U(x)-U(V)}(v.type,I.type)||this.Gu(v.doc,I.doc)),this.Ju(i);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,g=f!==this.qu;return this.qu=f,0!==a.length||g?{snapshot:new M_(this.query,e.Qu,r,a,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new _R(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new gR(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return M_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class pF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class mF{constructor(e){this.key=e,this.nc=!1}}class gF{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Vu(f=>yE(f),Ih),this.rc=new Map,this.oc=new Set,this.uc=new Un(Ye.comparator),this.cc=new Map,this.ac=new NS,this.hc={},this.lc=new Map,this.fc=Ml.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _F(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,Ee.Z)(function*(n,e){const t=$x(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const c=yield C_(t.localStore,Rr(e));t.isPrimaryClient&&ZE(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield wx(t,e,i,"current"===f,c.resumeToken)}return r}),bx.apply(this,arguments)}function wx(n,e,t,i,r){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Ee.Z)(function*(n,e,t,i,r){n._c=(x,V,U)=>{return(G=(0,Ee.Z)(function*(ne,ge,Ge,at){let vt=ge.view.Wu(Ge);vt.$i&&(vt=yield GE(ne.localStore,ge.query,!1).then(({documents:Vt})=>ge.view.Wu(Vt,vt)));const pt=at&&at.targetChanges.get(ge.targetId),Ot=ge.view.applyChanges(vt,ne.isPrimaryClient,pt);return Rx(ne,ge.targetId,Ot.Xu),Ot.snapshot}),function(ne,ge,Ge,at){return G.apply(this,arguments)})(n,x,V,U);var G};const a=yield GE(n.localStore,e,!0),c=new yR(e,a.Hi),f=c.Wu(a.documents),g=Ah.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(f,n.isPrimaryClient,g);Rx(n,t,v.Xu);const I=new pF(e,t,c);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),Cx.apply(this,arguments)}function yF(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ee.Z)(function*(n,e){const t=Qe(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!Ih(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Hb(t.remoteStore,i.targetId),A_(t,i.targetId)}).catch(vl))):(A_(t,i.targetId),yield E_(t.localStore,i.targetId,!0))}),Ex.apply(this,arguments)}function Ix(){return Ix=(0,Ee.Z)(function*(n,e,t){const i=zx(n);try{const r=yield function(a,c){const f=Qe(a),g=hi.now(),v=c.reduce((V,U)=>V.add(U.key),Zt());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=zr(),G=Zt();return f.Gi.getEntries(V,v).next(ne=>{U=ne,U.forEach((ge,Ge)=>{Ge.isValidDocument()||(G=G.add(ge))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,U)).next(ne=>{I=ne;const ge=[];for(const Ge of c){const at=fS(Ge,I.get(Ge.key).overlayedDocument);null!=at&&ge.push(new Sl(Ge.key,at,ib(at.value.mapValue),Hn.exists(!0)))}return f.mutationQueue.addMutationBatch(V,g,ge,c)}).next(ne=>{x=ne;const ge=ne.applyToLocalDocumentSet(I,G);return f.documentOverlayCache.saveOverlays(V,ne.batchId,ge)})}).then(()=>({batchId:x.batchId,changes:Cs(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,f){let g=a.hc[a.currentUser.toKey()];g||(g=new Un(Gt)),g=g.insert(c,f),a.hc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield Gu(i,r.changes),yield D_(i.remoteStore)}catch(r){const a=S_(r,"Failed to persist write");t.reject(a)}}),Ix.apply(this,arguments)}function vR(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,Ee.Z)(function*(n,e){const t=Qe(n);try{const i=yield BN(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.cc.get(a);c&&(xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?xt(c.nc):r.removedDocuments.size>0&&(xt(c.nc),c.nc=!1))}),yield Gu(t,i,e)}catch(i){yield vl(i)}}),Dx.apply(this,arguments)}function bR(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,c){const f=Qe(a);f.onlineState=c;let g=!1;f.queries.forEach((v,I)=>{for(const x of I.listeners)x.bu(c)&&(g=!0)}),g&&yx(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function bF(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ee.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let c=new Un(Ye.comparator);c=c.insert(a,Dn.newNoDocument(a,Rt.min()));const f=Zt().add(a),g=new Mh(Rt.min(),new Map,new On(Gt),c,f);yield vR(i,g),i.uc=i.uc.remove(a),i.cc.delete(e),Ox(i)}else yield E_(i.localStore,e,!1).then(()=>A_(i,e,t)).catch(vl)}),Tx.apply(this,arguments)}function wF(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Ee.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield VN(t.localStore,e);kx(t,i,null),Ax(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Gu(t,r)}catch(r){yield vl(r)}}),Sx.apply(this,arguments)}function CF(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=(0,Ee.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,c){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,c).next(I=>(xt(null!==I),v=I.keys(),f.mutationQueue.removeMutationBatch(g,I))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);kx(i,e,t),Ax(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Gu(i,r)}catch(r){yield vl(r)}}),xx.apply(this,arguments)}function Mx(){return Mx=(0,Ee.Z)(function*(n,e){const t=Qe(n);zu(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=Qe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=S_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Mx.apply(this,arguments)}function Ax(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function kx(n,e,t){const i=Qe(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function A_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||wR(n,i)})}function wR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Hb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Ox(n))}function Rx(n,e,t){for(const i of t)i instanceof gR?(n.ac.addReference(i.key,e),IF(n,i)):i instanceof _R?(je("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||wR(n,i.key)):ut()}function IF(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(je("SyncEngine","New document in limbo: "+t),n.oc.add(i),Ox(n))}function Ox(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ye(cn.fromString(e)),i=n.fc.next();n.cc.set(i,new mF(t)),n.uc=n.uc.insert(t,i),ZE(n.remoteStore,new ju(Rr(Eh(t.path)),i,2,Cr.at))}}function Gu(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=(0,Ee.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],c=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,g)=>{c.push(i._c(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const I=BS.Ci(g.targetId,v);a.push(I)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(f=(0,Ee.Z)(function*(g,v){const I=Qe(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>he.forEach(v,V=>he.forEach(V.Si,U=>I.persistence.referenceDelegate.addReference(x,V.targetId,U)).next(()=>he.forEach(V.Di,U=>I.persistence.referenceDelegate.removeReference(x,V.targetId,U)))))}catch(x){if(!bl(x))throw x;je("LocalStore","Failed to update sequence numbers: "+x)}for(const x of v){const V=x.targetId;if(!x.fromCache){const U=I.Ui.get(V),ne=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);I.Ui=I.Ui.insert(V,ne)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,a))}),Px.apply(this,arguments)}function DF(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Ee.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield Zk(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new Ve(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Gu(t,i.ji)}var r}),Nx.apply(this,arguments)}function TF(n,e){const t=Qe(n),i=t.cc.get(e);if(i&&i.nc)return Zt().add(i.key);{let r=Zt();const a=t.rc.get(e);if(!a)return r;for(const c of a){const f=t.ic.get(c);r=r.unionWith(f.view.ju)}return r}}function SF(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ee.Z)(function*(n,e){const t=Qe(n),i=yield GE(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&Rx(t,e.targetId,r.Xu),r}),Fx.apply(this,arguments)}function xF(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ee.Z)(function*(n,e){const t=Qe(n);return Jk(t.localStore,e).then(i=>Gu(t,i))}),Lx.apply(this,arguments)}function MF(n,e,t,i){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Ee.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(c,f){const g=Qe(c),v=Qe(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>v.Tn(I,f).next(x=>x?g.localDocuments.getDocuments(I,x):he.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield D_(r.remoteStore):"acknowledged"===t||"rejected"===t?(kx(r,e,i||null),Ax(r,e),f=e,Qe(Qe(r.localStore).mutationQueue).An(f)):ut(),yield Gu(r,a)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vx.apply(this,arguments)}function Bx(){return Bx=(0,Ee.Z)(function*(n,e){const t=Qe(n);if($x(t),zx(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CR(t,i.toArray());t.dc=!0,yield dx(t.remoteStore,!0);for(const a of r)ZE(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(A_(t,c),E_(t.localStore,c,!0))),Hb(t.remoteStore,c)}),yield r,yield CR(t,i),function(a){const c=Qe(a);c.cc.forEach((f,g)=>{Hb(c.remoteStore,g)}),c.ac.fs(),c.cc=new Map,c.uc=new Un(Ye.comparator)}(t),t.dc=!1,yield dx(t.remoteStore,!1)}}),Bx.apply(this,arguments)}function CR(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Ee.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const c of e){let f;const g=i.rc.get(c);if(g&&0!==g.length){f=yield C_(i.localStore,Rr(g[0]));for(const v of g){const I=i.ic.get(v),x=yield SF(i,I);x.snapshot&&a.push(x.snapshot)}}else{const v=yield Xk(i.localStore,c);f=yield C_(i.localStore,v),yield wx(i,ER(v),c,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(a),r}),Ux.apply(this,arguments)}function ER(n){return _E(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kF(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).vi()}function RF(n,e,t,i){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Ee.Z)(function*(n,e,t,i){const r=Qe(n);if(r.dc)return void je("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield Jk(r.localStore,cb(a[0])),f=Mh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield Gu(r,c,f);break}case"rejected":yield E_(r.localStore,e,!0),A_(r,e,i);break;default:ut()}}),Hx.apply(this,arguments)}function OF(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,Ee.Z)(function*(n,e,t){const i=$x(n);if(i.dc){for(const r of e){if(i.rc.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const a=yield Xk(i.localStore,r),c=yield C_(i.localStore,a);yield wx(i,ER(a),c.targetId,!1,c.resumeToken),ZE(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield E_(i.localStore,r,!1).then(()=>{Hb(i.remoteStore,r),A_(i,r)}).catch(vl))}}),jx.apply(this,arguments)}function $x(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bF.bind(null,e),e.sc.Wo=uF.bind(null,e.eventManager),e.sc.wc=dF.bind(null,e.eventManager),e}function zx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CF.bind(null,e),e}class IR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.It=Bb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Kk(this.persistence,new qk,e.initialUser,this.It)}yc(e){return new Gk($E.Bs,this.It)}gc(e){return new iR}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class DR extends IR{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield zx(i.Ac.syncEngine),yield D_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Kk(this.persistence,new qk,e.initialUser,this.It)}Tc(e,t){return new EN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new XT(t,this.persistence);return new Sp(e.asyncQueue,i)}yc(e){const t=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ct.withCacheSize(this.cacheSizeBytes):ct.DEFAULT;return new LS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sR(),KE(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new iR}}class NF extends DR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof qS&&(i.sharedClientState.syncEngine={Fr:MF.bind(null,r),$r:RF.bind(null,r),Br:OF.bind(null,r),vi:kF.bind(null,r),Mr:xF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Ee.Z)(function*(c){yield function AF(n,e){return Bx.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=sR();if(!qS.C(t))throw new Ve(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Gx{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>bR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=DF.bind(null,i.syncEngine),yield dx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cF}createDatastore(e){const t=Bb(e.databaseInfo.databaseId),i=new WN(e.databaseInfo);return new ZN(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>bR(this.syncEngine,f,0),c=rR.C()?new rR:new $N,new XN(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,f,g,v){const I=new gF(i,r,a,c,f,g);return v&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=Qe(t);je("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield I_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wx(n,e,t){if(!t)throw new Ve(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TR(n,e,t,i){if(!0===e&&!0===i)throw new Ve(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SR(n){if(!Ye.isDocumentKey(n))throw new Ve(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xR(n){if(Ye.isDocumentKey(n))throw new Ve(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QE(n);throw new Ve(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MR(n,e){if(e<=0)throw new Ve(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const AR=new Map;class kR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gv;switch(t.type){case"gapi":return new sE(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AR.get(e);t&&(je("ComponentProvider","Removing Datastore"),AR.delete(e),t.terminate())}(this),Promise.resolve()}}class pi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class qr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Cc extends qr{constructor(e,t,i){super(e,t,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new Ye(e))}withConverter(e){return new Cc(this.firestore,e,this._path)}}function OR(n,e,...t){if(n=(0,on.m9)(n),Wx("collection","path",e),n instanceof jb){const i=cn.fromString(e,...t);return xR(i),new Cc(n,null,i)}{if(!(n instanceof pi||n instanceof Cc))throw new Ve(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return xR(i),new Cc(n.firestore,null,i)}}function XE(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=aE.R()),Wx("doc","path",e),n instanceof jb){const i=cn.fromString(e,...t);return SR(i),new pi(n,null,new Ye(i))}{if(!(n instanceof pi||n instanceof Cc))throw new Ve(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return SR(i),new pi(n.firestore,n instanceof Cc?n.converter:null,new Ye(i))}}function PR(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof pi||n instanceof Cc)&&(e instanceof pi||e instanceof Cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qx(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&Ih(n._query,e._query)&&n.converter===e.converter}function NR(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LF{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new hF(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class UF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(a,c){const f=Qe(a),g=Bu(f.It)+"/documents",v={documents:c.map(U=>kh(f.It,U))},I=yield f._o("BatchGetDocuments",g,v,c.length),x=new Map;I.forEach(U=>{const G=function DE(n,e){return"found"in e?function(t,i){xt(!!i.found);const r=Ca(t,i.found.name),a=Ji(i.found.updateTime),c=new Qi({mapValue:{fields:i.found.fields}});return Dn.newFoundDocument(r,a,c)}(n,e):"missing"in e?function(t,i){xt(!!i.missing),xt(!!i.readTime);const r=Ca(t,i.missing),a=Ji(i.readTime);return Dn.newNoDocument(r,a)}(n,e):ut()}(f.It,U);x.set(G.key.toString(),G)});const V=[];return c.forEach(U=>{const G=x.get(U.toString());xt(!!G),V.push(G)}),V}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new xh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ye.fromPath(r);e.mutations.push(new mb(a,e.precondition(a)))}),yield(i=(0,Ee.Z)(function*(r,a){const c=Qe(r),f=Bu(c.It)+"/documents",g={writes:a.map(v=>vc(c.It,v))};yield c.ao("Commit",f,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ve(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ve(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class HF{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new KS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ee.Z)(function*(){const t=new UF(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!Mu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gb(t)}return!1}}class jF{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Yi.UNAUTHENTICATED,this.clientId=aE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ee.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=S_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function FR(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(a){i.isEqual(a)||(yield Zk(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Kx.apply(this,arguments)}function LR(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Yx(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>hR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>hR(e.remoteStore,a)),n.onlineComponents=e}),Zx.apply(this,arguments)}function Yx(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Ee.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield FR(n,new IR)),n.offlineComponents}),Qx.apply(this,arguments)}function eI(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Ee.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield LR(n,new Gx)),n.onlineComponents}),Xx.apply(this,arguments)}function VR(n){return Yx(n).then(e=>e.persistence)}function tI(n){return Yx(n).then(e=>e.localStore)}function Jx(n){return eI(n).then(e=>e.remoteStore)}function eM(n){return eI(n).then(e=>e.syncEngine)}function k_(n){return tM.apply(this,arguments)}function tM(){return tM=(0,Ee.Z)(function*(n){const e=yield eI(n),t=e.eventManager;return t.onListen=_F.bind(null,e.syncEngine),t.onUnlisten=yF.bind(null,e.syncEngine),t}),tM.apply(this,arguments)}function UR(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,f,g){const v=new JE({next:x=>{a.enqueueAndForget(()=>gx(r,I));const V=x.docs.has(c);!V&&x.fromCache?g.reject(new Ve(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&f&&"server"===f.source?g.reject(new Ve(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),I=new vx(Eh(c.path),v,{includeMetadataChanges:!0,Nu:!0});return px(r,I)}(yield k_(n),n.asyncQueue,e,t,i)})),i.promise}function HR(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,f,g){const v=new JE({next:x=>{a.enqueueAndForget(()=>gx(r,I)),x.fromCache&&"server"===f.source?g.reject(new Ve(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),I=new vx(c,v,{includeMetadataChanges:!0,Nu:!0});return px(r,I)}(yield k_(n),n.asyncQueue,e,t,i)})),i.promise}class YF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new KS(this,"async_queue_retry"),this.Wc=()=>{const t=KE();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=KE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=KE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ii;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!bl(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=fx.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.qc.push(r),r}zc(){this.Kc&&ut()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function nM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class QF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mi extends jb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new YF,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jR(this),this._firestoreClient.terminate()}}function Ui(n){return n._firestoreClient||jR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jR(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eb(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new jF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $R(n,e,t){const i=new Ii;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield FR(n,t),yield LR(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===ye.FAILED_PRECONDITION||c.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;yl("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function zR(n){if(n._initialized||n._terminated)throw new Ve(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(Ai.fromBase64String(e))}catch(t){throw new Ve(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ec(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._methodName=e}}class nI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const aL=/^__.*__$/;class lL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}class GR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class iI{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new iI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return oI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(WR(this.sa)&&aL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Bb(e)}da(e,t,i,r=!1){return new iI({sa:e,methodName:t,fa:i,path:Di.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Gp(n){const e=n._freezeSettings(),t=Bb(n._databaseId);return new cL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rI(n,e,t,i,r,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,r);oM("Data must be an object, but it was:",c,i);const f=ZR(i,c);let g,v;if(a.merge)g=new ws(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const V=aM(e,x,t);if(!c.contains(V))throw new Ve(ye.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QR(I,V)||I.push(V)}g=new ws(I),v=c.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,v=c.fieldTransforms;return new lL(new Qi(f),g,v)}class $b extends zp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $b}}function qR(n,e,t){return new iI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class iM extends zp{_toFieldTransform(e){return new Sh(e.path,new kp)}isEqual(e){return e instanceof iM}}class uL extends zp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qR(this,e,!0),i=this._a.map(a=>Wp(a,t)),r=new Dh(i);return new Sh(e.path,r)}isEqual(e){return this===e}}class dL extends zp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qR(this,e,!0),i=this._a.map(a=>Wp(a,t)),r=new Th(i);return new Sh(e.path,r)}isEqual(e){return this===e}}class hL extends zp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Op(e.It,db(e.It,this.wa));return new Sh(e.path,t)}isEqual(e){return this===e}}function rM(n,e,t,i){const r=n.da(1,e,t);oM("Data must be an object, but it was:",r,i);const a=[],c=Qi.empty();Tu(i,(g,v)=>{const I=sI(e,g,t);v=(0,on.m9)(v);const x=r.ca(I);if(v instanceof $b)a.push(I);else{const V=Wp(v,x);null!=V&&(a.push(I),c.set(I,V))}});const f=new ws(a);return new GR(c,f,r.fieldTransforms)}function sM(n,e,t,i,r,a){const c=n.da(1,e,t),f=[aM(e,i,t)],g=[r];if(a.length%2!=0)throw new Ve(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)f.push(aM(e,a[V])),g.push(a[V+1]);const v=[],I=Qi.empty();for(let V=f.length-1;V>=0;--V)if(!QR(v,f[V])){const U=f[V];let G=g[V];G=(0,on.m9)(G);const ne=c.ca(U);if(G instanceof $b)v.push(U);else{const ge=Wp(G,ne);null!=ge&&(v.push(U),I.set(U,ge))}}const x=new ws(v);return new GR(I,x,c.fieldTransforms)}function KR(n,e,t,i=!1){return Wp(t,n.da(i?4:3,e))}function Wp(n,e){if(YR(n=(0,on.m9)(n)))return oM("Unsupported field value:",e,n),ZR(n,e);if(n instanceof zp)return function(t,i){if(!WR(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let f=Wp(c,i.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return db(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=hi.fromDate(t);return{timestampValue:Bp(i.It,r)}}if(t instanceof hi){const r=new hi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bp(i.It,r)}}if(t instanceof nI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ec)return{bytesValue:IE(i.It,t._byteString)};if(t instanceof pi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:u_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${QE(t)}`)}(n,e)}function ZR(n,e){const t={};return xp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tu(n,(i,r)=>{const a=Wp(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function YR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof nI||n instanceof Ec||n instanceof pi||n instanceof zp)}function oM(n,e,t){if(!YR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=QE(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function aM(n,e,t){if((e=(0,on.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return sI(n,e);throw oI("Field path arguments must be of type string or ",n,!1,void 0,t)}const fL=new RegExp("[~\\*/\\[\\]]");function sI(n,e,t){if(e.search(fL)>=0)throw oI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw oI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oI(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||c)&&(g+=" (found",a&&(g+=` in field ${i}`),c&&(g+=` in document ${r}`),g+=")"),new Ve(ye.INVALID_ARGUMENT,f+n+g)}function QR(n,e){return n.some(t=>t.isEqual(e))}class zb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pL extends zb{data(){return super.data()}}function aI(n,e){return"string"==typeof e?sI(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function XR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gb{}function Vh(n,...e){for(const t of e)n=t._apply(n);return n}class mL extends Gb{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Gp(e.firestore),i=function(r,a,c,f,g,v,I){let x;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){rO(I,v);const U=[];for(const G of I)U.push(iO(f,r,G));x={arrayValue:{values:U}}}else x=iO(f,r,I)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||rO(I,v),x=KR(c,"where",I,"in"===v||"not-in"===v);const V=Xi.create(g,v,x);return function(U,G){if(G.dt()){const ge=lb(U);if(null!==ge&&!ge.isEqual(G.field))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ge.toString()}' and '${G.field.toString()}'`);const Ge=Xg(U);null!==Ge&&sO(0,G.field,Ge)}const ne=function(ge,Ge){for(const at of ge.filters)if(Ge.indexOf(at.op)>=0)return at.op;return null}(U,function(ge){switch(ge){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Ve(ye.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(r,V),V}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new qr(e.firestore,e.converter,function(r,a){const c=r.filters.concat([a]);return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class _L extends Gb{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new _c(r,a);return function(f,g){if(null===Xg(f)){const v=lb(f);null!==v&&sO(0,v,g.field)}}(i,c),c}(e._query,this.ma,this.pa);return new qr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Dl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class JR extends Gb{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new qr(e.firestore,e.converter,e_(e._query,this.Ia,this.Ta))}}class eO extends Gb{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=nO(e,this.type,this.Ea,this.Aa);return new qr(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tO extends Gb{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=nO(e,this.type,this.Ea,this.Aa);return new qr(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function nO(n,e,t,i){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof zb)return function(r,a,c,f,g){if(!f)throw new Ve(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const I of Lu(r))if(I.field.isKeyField())v.push(Pu(a,f.key));else{const x=f.data.field(I.field);if(Jv(x))throw new Ve(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=I.field.canonicalString();throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}v.push(x)}return new Il(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Gp(n.firestore);return function(a,c,f,g,v,I){const x=a.explicitOrderBy;if(v.length>x.length)throw new Ve(ye.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let U=0;U<v.length;U++){const G=v[U];if(x[U].field.isKeyField()){if("string"!=typeof G)throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!Jg(a)&&-1!==G.indexOf("/"))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const ne=a.path.child(cn.fromString(G));if(!Ye.isDocumentKey(ne))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const ge=new Ye(ne);V.push(Pu(c,ge))}else{const ne=KR(f,g,G);V.push(ne)}}return new Il(V,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function iO(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jg(e)&&-1!==t.indexOf("/"))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(cn.fromString(t));if(!Ye.isDocumentKey(i))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pu(n,new Ye(i))}if(t instanceof pi)return Pu(n,t._key);throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QE(t)}.`)}function rO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sO(n,e,t){if(!t.isEqual(e))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lM{convertValue(e,t="none"){switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const i={};return Tu(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new nI(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=eS(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=ba(e);return new hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=cn.fromString(e);xt(TS(i));const r=new Cl(i.get(1),i.get(3)),a=new Ye(i.popFirst(5));return r.isEqual(t)||Ei(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function lI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class DL extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}class qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends zb{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(aI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wb extends qu{data(e={}){return super.data(e)}}class Bh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wb(this._firestore,this._userDataWriter,i.key,i,new qp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Wb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const f=new Wb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==c.type&&(g=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:TL(c.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function oO(n,e){return n instanceof qu&&e instanceof qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&qx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Uh extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function aO(n,e,t){n=hn(n,pi);const i=hn(n.firestore,mi),r=lI(n.converter,e,t);return R_(i,[rI(Gp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Hn.none())])}function lO(n,e,t,...i){n=hn(n,pi);const r=hn(n.firestore,mi),a=Gp(r);let c;return c="string"==typeof(e=(0,on.m9)(e))||e instanceof Wu?sM(a,"updateDoc",n._key,e,t,i):rM(a,"updateDoc",n._key,e),R_(r,[c.toMutation(n._key,Hn.exists(!0))])}function cO(n,...e){var t,i,r;n=(0,on.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||nM(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let g,v,I;if(n instanceof pi)v=hn(n.firestore,mi),I=Eh(n._key.path),g={next:x=>{e[c]&&e[c](cM(v,n,x))},error:e[c+1],complete:e[c+2]};else{const x=hn(n,qr);v=hn(x.firestore,mi),I=x._query;const V=new Uh(v);g={next:U=>{e[c]&&e[c](new Bh(v,V,x,U))},error:e[c+1],complete:e[c+2]},XR(n._query)}return function(x,V,U,G){const ne=new JE(G),ge=new vx(V,ne,U);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return px(yield k_(x),ge)})),()=>{ne.bc(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return gx(yield k_(x),ge)}))}}(Ui(v),I,f,g)}function R_(n,e){return function(t,i){const r=new Ii;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function vF(n,e,t){return Ix.apply(this,arguments)}(yield eM(t),i,r)})),r.promise}(Ui(n),e)}function cM(n,e,t){const i=t.docs.get(e._key),r=new Uh(n);return new qu(n,r,e._key,i,new qp(t.hasPendingWrites,t.fromCache),e.converter)}const FL={maxAttempts:5};class uO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gp(e)}set(e,t,i){this._verifyNotCommitted();const r=Hh(e,this._firestore),a=lI(r.converter,t,i),c=rI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Hn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof Wu?sM(this._dataReader,"WriteBatch.update",a._key,t,i,r):rM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hh(e,this._firestore);return this._mutations=this._mutations.concat(new xh(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Ve(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class LL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gp(e)}get(e){const t=Hh(e,this._firestore),i=new DL(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ut();const a=r[0];if(a.isFoundDocument())return new zb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new zb(this._firestore,i,t._key,null,t.converter);throw ut()})}set(e,t,i){const r=Hh(e,this._firestore),a=lI(r.converter,t,i),c=rI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof Wu?sM(this._dataReader,"Transaction.update",a._key,t,i,r):rM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Hh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hh(e,this._firestore),i=new Uh(this._firestore);return super.get(e).then(r=>new qu(this._firestore,i,t._key,r._document,new qp(!1,!1),t.converter))}}function uM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hO(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function fO(){if(!function JT(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){pc=Gs.SDK_VERSION,(0,Gs._registerComponent)(new pl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new mi(new rE(t.getProvider("auth-internal")),new oE(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(f.options.projectId,g)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Gs.registerVersion)(tE,"3.7.3",n),(0,Gs.registerVersion)(tE,"3.7.3","esm2017")}();class qb{constructor(e){this._delegate=e}static fromBase64String(e){return fO(),new qb(Ec.fromBase64String(e))}static fromUint8Array(e){return hO(),new qb(Ec.fromUint8Array(e))}toBase64(){return fO(),this._delegate.toBase64()}toUint8Array(){return hO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dM(n){return function WL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class qL{enableIndexedDbPersistence(e,t){return function JF(n,e){zR(n=hn(n,mi));const t=Ui(n),i=n._freezeSettings(),r=new Gx;return $R(t,r,new DR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eL(n){zR(n=hn(n,mi));const e=Ui(n),t=n._freezeSettings(),i=new Gx;return $R(e,i,new NF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tL(n){if(n._initialized&&!n._terminated)throw new Ve(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!Ks.C())return Promise.resolve();const r=i+"main";yield Ks.delete(r)}),function(i){return t.apply(this,arguments)})(VS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function RR(n,e,t,i={}){var r;const a=(n=hn(n,jb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&yl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,f;if("string"==typeof i.mockUserToken)c=i.mockUserToken,f=Yi.MOCK_USER;else{c=(0,on.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ve(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yi(g)}n._authCredentials=new GT(new iE(c,f))}}(this._delegate,e,t,i)}enableNetwork(){return function iL(n){return function $F(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield VR(n),t=yield Jx(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r._u.delete(0),Ub(r)}(t)}))}(Ui(n=hn(n,mi)))}(this._delegate)}disableNetwork(){return function rL(n){return function zF(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield VR(n),t=yield Jx(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const a=Qe(r);a._u.add(0),yield I_(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ui(n=hn(n,mi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,TR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nL(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function EF(n,e){return Mx.apply(this,arguments)}(yield eM(e),t)})),t.promise}(Ui(n=hn(n,mi)))}(this._delegate)}onSnapshotsInSync(e){return function NL(n,e){return function qF(n,e){const t=new JE(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield k_(n),r=t,Qe(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield k_(n),r=t,void Qe(i).Ru.delete(r);var i,r}))}}(Ui(n=hn(n,mi)),nM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new O_(this,OR(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,XE(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function FF(n,e){if(n=hn(n,jb),Wx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(t=e,new Dl(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function VL(n,e,t){n=hn(n,mi);const i=Object.assign(Object.assign({},FL),t);return function(r){if(r.maxAttempts<1)throw new Ve(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const f=new Ii;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const g=yield function BR(n){return eI(n).then(e=>e.datastore)}(r);new HF(r.asyncQueue,g,c,a,f).run()})),f.promise}(Ui(n),r=>e(new LL(n,r)),i)}(this._delegate,t=>e(new mO(this,t)))}batch(){return Ui(this._delegate),new gO(new uO(this._delegate,e=>R_(this._delegate,e)))}loadBundle(e){return function sL(n,e){const t=Ui(n=hn(n,mi)),i=new QF;return function KF(n,e,t,i){const r=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return NR(g,v);if(g instanceof ArrayBuffer)return NR(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new LF(g,c);var g}(t,Bb(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function PF(n,e,t){const i=Qe(n);var r;(r=(0,Ee.Z)(function*(a,c,f){try{const g=yield c.getMetadata();if(yield function(V,U){const G=Qe(V),ne=Ji(U.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ge=>G.Ns.getBundleMetadata(ge,U.id)).then(ge=>!!ge&&ge.createTime.compareTo(ne)>=0)}(a.localStore,g))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=g).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(mR(g));const v=new fF(g,a.localStore,c.It);let I=yield c.mc();for(;I;){const V=yield v.Fu(I);V&&f._updateProgress(V),I=yield c.mc()}const x=yield v.complete();return yield Gu(a,x.Lu,void 0),yield function(V,U){const G=Qe(V);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.Ns.saveBundleMetadata(ne,U))}(a.localStore,g),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(g){return yl("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var V}),function(a,c,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function oL(n,e){return function ZF(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield tI(n),e)}))}(Ui(n=hn(n,mi)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class cI extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new qb(new Ec(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class mO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}get(e){const t=Zp(e);return this._delegate.get(t).then(i=>new Kb(this._firestore,new qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Zp(e);return i?(uM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}}class gO{constructor(e){this._delegate=e}set(e,t,i){const r=Zp(e);return i?(uM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Kp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Kp(e,new cI(e),t),r.set(t,a)),a}}Kp.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new pi(t._delegate,i,new Ye(e)))}static forKey(e,t,i){return new Da(t,new pi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new O_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new O_(this.firestore,OR(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof pi&&PR(this._delegate,e)}set(e,t){t=uM("DocumentReference.set",t);try{return t?aO(this._delegate,e,t):aO(this._delegate,e)}catch(i){throw Es(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lO(this._delegate,e):lO(this._delegate,e,t,...i)}catch(r){throw Es(r,"updateDoc()","DocumentReference.update()")}}delete(){return function OL(n){return R_(hn(n.firestore,mi),[new xh(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=_O(e),i=yO(e,r=>new Kb(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function xL(n){n=hn(n,pi);const e=hn(n.firestore,mi),t=Ui(e),i=new Uh(e);return function GF(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const f=yield function(g,v){const I=Qe(g);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,v))}(r,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ve(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=S_(f,`Failed to get document '${a} from cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield tI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new qu(e,i,n._key,r,new qp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ML(n){n=hn(n,pi);const e=hn(n.firestore,mi);return UR(Ui(e),n._key,{source:"server"}).then(t=>cM(e,n,t))}(this._delegate):function SL(n){n=hn(n,pi);const e=hn(n.firestore,mi);return UR(Ui(e),n._key).then(t=>cM(e,n,t))}(this._delegate),t.then(i=>new Kb(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function _O(n){for(const e of n)if("object"==typeof e&&!dM(e))return e;return{}}function yO(n,e){var t,i;let r;return r=dM(n[0])?n[0]:dM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oO(this._delegate,e._delegate)}}class Zb extends Kb{data(e){const t=this._delegate.data(e);return function nE(n,e){n||ut()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cI(e)}where(e,t,i){try{return new Is(this.firestore,Vh(this._delegate,function gL(n,e,t){const i=e,r=aI("where",n);return new mL(r,i,t)}(e,t,i)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,Vh(this._delegate,function yL(n,e="asc"){const t=e,i=aI("orderBy",n);return new _L(i,t)}(e,t)))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,Vh(this._delegate,function vL(n){return MR("limit",n),new JR("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,Vh(this._delegate,function bL(n){return MR("limitToLast",n),new JR("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,Vh(this._delegate,function wL(...n){return new eO("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,Vh(this._delegate,function CL(...n){return new eO("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,Vh(this._delegate,function EL(...n){return new tO("endBefore",n,!1)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,Vh(this._delegate,function IL(...n){return new tO("endAt",n,!0)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return qx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kL(n){n=hn(n,qr);const e=hn(n.firestore,mi),t=Ui(e),i=new Uh(e);return function WF(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const f=yield GE(r,a,!0),g=new yR(a,f.Hi),v=g.Wu(f.documents),I=g.applyChanges(v,!1);c.resolve(I.snapshot)}catch(f){const g=S_(f,`Failed to execute query '${a} against cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield tI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Bh(e,i,n,r))}(this._delegate):"server"===e?.source?function RL(n){n=hn(n,qr);const e=hn(n.firestore,mi),t=Ui(e),i=new Uh(e);return HR(t,n._query,{source:"server"}).then(r=>new Bh(e,i,n,r))}(this._delegate):function AL(n){n=hn(n,qr);const e=hn(n.firestore,mi),t=Ui(e),i=new Uh(e);return XR(n._query),HR(t,n._query).then(r=>new Bh(e,i,n,r))}(this._delegate),t.then(i=>new hM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=_O(e),i=yO(e,r=>new hM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cO(this._delegate,t,i)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}class ZL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ZL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Zb(this._firestore,i))})}isEqual(e){return oO(this._delegate,e._delegate)}}class O_ extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?XE(this._delegate):XE(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function PL(n,e){const t=hn(n.firestore,mi),i=XE(n),r=lI(n.converter,e);return R_(t,[rI(Gp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return PR(this._delegate,e._delegate)}withConverter(e){return new O_(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function Zp(n){return hn(n,pi)}class fM{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new fM(Di.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function UL(){return new iM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yp(e)}static delete(){const e=function BL(){return new $b("deleteField")}();return e._methodName="FieldValue.delete",new Yp(e)}static arrayUnion(...e){const t=function HL(...n){return new uL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yp(t)}static arrayRemove(...e){const t=function jL(...n){return new dL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yp(t)}static increment(e){const t=function $L(n){return new hL("increment",n)}(e);return t._methodName="FieldValue.increment",new Yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YL={Firestore:pO,GeoPoint:nI,Timestamp:hi,Blob:qb,Transaction:mO,WriteBatch:gO,DocumentReference:Da,DocumentSnapshot:Kb,Query:Is,QueryDocumentSnapshot:Zb,QuerySnapshot:hM,CollectionReference:O_,FieldPath:fM,FieldValue:Yp,setLogLevel:function KL(n){!function $v(n){va.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function XL(n){(function QL(n,e){n.INTERNAL.registerComponent(new pl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},YL)))})(n,(e,t)=>new pO(e,t,new qL)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(eh.Z);var pM=F(6451),uI=F(5363),JL=F(6063);class eV extends nn.x{constructor(e=1/0,t=1/0,i=JL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=c;g+=2)f=g;f&&i.splice(0,f+1)}}}var vO=F(3099);function bO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,vO.B)({connector:()=>new eV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function wO(n,e){return(0,$s.m)(e)?vn(()=>n,e):vn(()=>n)}var mM=F(9468);F(5867);const _M=new Map,EO={activated:!1,tokenObservers:[]},sV={initialized:!1,enabled:!1};function Or(n){return _M.get(n)||Object.assign({},EO)}function hI(){return sV}class dV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function hV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ds=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DO(n){if(!Or(n).activated)throw Ds.create("use-before-activation",{appName:n.name})}function bM(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,Ee.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const U=yield c.getHeartbeatsHeader();U&&(a["X-Firebase-Client"]=U)}const f={method:"POST",body:JSON.stringify(e),headers:a};let g,v;try{g=yield fetch(n,f)}catch(U){throw Ds.create("fetch-network-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}if(200!==g.status)throw Ds.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(U){throw Ds.create("fetch-parse-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const x=1e3*Number(I[1]),V=Date.now();return{token:v.token,expireTimeMillis:V+x,issuedAtTimeMillis:V}}),wM.apply(this,arguments)}function gV(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Yb="firebase-app-check-store";let mI=null;function SO(){return mI||(mI=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Ds.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yb,{keyPath:"compositeKey"})}}catch(i){e(Ds.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),mI)}function CM(){return CM=(0,Ee.Z)(function*(n,e){const i=(yield SO()).transaction(Yb,"readwrite"),a=i.objectStore(Yb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=g=>{c()},i.onerror=g=>{var v;f(Ds.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),CM.apply(this,arguments)}const Qb=new ys.Yd("@firebase/app-check");function DM(n,e){return(0,on.hl)()?function bV(n,e){return function xO(n,e){return CM.apply(this,arguments)}(function AO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kO(){return hI().enabled}function RO(){return SM.apply(this,arguments)}function SM(){return SM=(0,Ee.Z)(function*(){const n=hI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SM.apply(this,arguments)}const TV={error:"UNKNOWN_ERROR"};function SV(n){return on.US.encodeString(JSON.stringify(n),!1)}function gI(n){return xM.apply(this,arguments)}function xM(){return xM=(0,Ee.Z)(function*(n,e=!1){const t=n.app;DO(t);const i=Or(t);let a,r=i.token;if(r&&!P_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(P_(g)?r=g:yield DM(t,void 0))}if(!e&&r&&P_(r))return{token:r.token};let f,c=!1;if(kO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=bM(gV(t,yield RO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const g=yield i.exchangeTokenPromise;return yield DM(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Or(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Qb.warn(g.message):Qb.error(g),a=g}return r?a?f=P_(r)?{token:r.token,internalError:a}:NO(a):(f={token:r.token},i.token=r,yield DM(t,r)):f=NO(a),c&&PO(t,f),f}),xM.apply(this,arguments)}function AM(n,e){const t=Or(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function OO(n){const{app:e}=n,t=Or(e);let i=t.tokenRefresher;i||(i=function xV(n){const{app:e}=n;return new dV((0,Ee.Z)(function*(){let i;if(i=Or(e).token?yield gI(n,!0):yield gI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Or(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function PO(n,e){const t=Or(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function P_(n){return n.expireTimeMillis-Date.now()>0}function NO(n){return{token:SV(TV),error:n}}class MV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Or(this.app);for(const t of e)AM(this.app,t.next);return Promise.resolve()}}const $O="app-check-internal";!function $V(){(0,Gs._registerComponent)(new pl.wA("app-check",n=>function AV(n,e){return new MV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($O).initialize()})),(0,Gs._registerComponent)(new pl.wA($O,n=>function kV(n){return{getToken:e=>gI(n,e),addTokenListener:e=>function MM(n,e,t,i){const{app:r}=n,a=Or(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&P_(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),OO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>OO(n))}(n,"INTERNAL",e),removeTokenListener:e=>AM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gs.registerVersion)("@firebase/app-check","0.5.17")}();class PM{constructor(){return(0,Cn.vb)("app-check")}}typeof window<"u"&&window,F(127);const GO=new u.OlP("angularfire2.auth.use-emulator"),WO=new u.OlP("angularfire2.auth.settings"),qO=new u.OlP("angularfire2.auth.tenant-id"),KO=new u.OlP("angularfire2.auth.langugage-code"),ZO=new u.OlP("angularfire2.auth.use-device-language"),YO=new u.OlP("angularfire.auth.persistence"),QO=(n,e,t,i,r,a,c,f)=>(0,_s.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),c)for(const[v,I]of Object.entries(c))g.settings[v]=I;return f&&g.setPersistence(f),g},[t,i,r,a,c,f]);let yI=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U){const G=new nn.x,ne=lt(void 0).pipe((0,uI.Q)(c.outsideAngular),vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,ft.U)(()=>(0,_s.on)(t,a,i)),(0,ft.U)(ge=>QO(ge,a,f,v,I,x,g,V)),bO({bufferSize:1,refCount:!1}));if(Bo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ne.pipe(ol()).subscribe();const Ge=ne.pipe(vn(pt=>pt.getRedirectResult().then(Ot=>Ot,()=>null)),Cn.iC,bO({bufferSize:1,refCount:!1})),at=ne.pipe(vn(pt=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>pt.onAuthStateChanged(Vt=>Ot.next(Vt),Vt=>Ot.error(Vt),()=>Ot.complete()))})))),vt=ne.pipe(vn(pt=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>pt.onIdTokenChanged(Vt=>Ot.next(Vt),Vt=>Ot.error(Vt),()=>Ot.complete()))}))));this.authState=Ge.pipe(wO(at),(0,mM.R)(c.outsideAngular),(0,uI.Q)(c.insideAngular)),this.user=Ge.pipe(wO(vt),(0,mM.R)(c.outsideAngular),(0,uI.Q)(c.insideAngular)),this.idToken=this.user.pipe(vn(pt=>pt?(0,fn.D)(pt.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(vn(pt=>pt?(0,fn.D)(pt.getIdTokenResult()):lt(null))),this.credential=(0,pM.T)(Ge,G,this.authState.pipe(vi(pt=>!pt))).pipe((0,ft.U)(pt=>pt?.user?pt:null),(0,mM.R)(c.outsideAngular),(0,uI.Q)(c.insideAngular))}return(0,_s.pX)(this,ne,a,{spy:{apply:(ge,Ge,at)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&at.then(vt=>G.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_s.Dh),u.LFG(_s.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Cn.HU),u.LFG(GO,8),u.LFG(WO,8),u.LFG(qO,8),u.LFG(KO,8),u.LFG(ZO,8),u.LFG(YO,8),u.LFG(PM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function XO(n,e){return function ZV(n,e=lc.z){return new _i.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function FM(n,e){return XO(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function vI(n,e){return FM(n,e).pipe(Xl(void 0),fl(),(0,ft.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,f)=>{const g=r.find(I=>I.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function JO(n,e,t){return vI(n,t).pipe(Bd((i,r)=>function QV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function XV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Jd(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function LM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function eP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tP{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=vI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Xl(void 0),fl(),vi(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),Cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eP(e);return JO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return FM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Cn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Cn.iC)}add(e){return this.ref.add(e)}doc(e){return new nP(this.ref.doc(e),this.afs)}}class nP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=iP(i,t);return new tP(r,a,this.afs)}snapshotChanges(){return function YV(n,e){return XO(n,e).pipe(Xl(void 0),fl(),(0,ft.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Cn.iC)}}class JV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vi(t=>t.length>0),Cn.iC):vI(this.query,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eP(e);return JO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cn.iC)}valueChanges(e={}){return FM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Cn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Cn.iC)}}const eB=new u.OlP("angularfire2.enableFirestorePersistence"),tB=new u.OlP("angularfire2.firestore.persistenceSettings"),nB=new u.OlP("angularfire2.firestore.settings"),iB=new u.OlP("angularfire2.firestore.use-emulator");function iP(n,e=(t=>t)){return{query:e(n),ref:n}}let rB=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U,G,ne,ge,Ge,at){this.schedulers=g;const vt=(0,_s.on)(t,f,i),pt=I;x&&QO(vt,f,V,G,ne,ge,U,Ge),[this.firestore,this.persistenceEnabled$]=(0,_s.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const Ot=f.runOutsideAngular(()=>vt.firestore());if(a&&Ot.settings(a),pt&&Ot.useEmulator(...pt),r&&!Bo(c)){const Vt=()=>{try{return(0,fn.D)(Ot.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(pn){return typeof console<"u"&&console.warn(pn),lt(!1)}};return[Ot,f.runOutsideAngular(Vt)]}return[Ot,lt(!1)]},[a,pt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=iP(r,i),f=this.schedulers.ngZone.run(()=>a);return new tP(f,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new JV(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new nP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_s.Dh),u.LFG(_s.xv,8),u.LFG(eB,8),u.LFG(nB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Cn.HU),u.LFG(tB,8),u.LFG(iB,8),u.LFG(yI,8),u.LFG(GO,8),u.LFG(WO,8),u.LFG(qO,8),u.LFG(KO,8),u.LFG(ZO,8),u.LFG(YO,8),u.LFG(PM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class rP{}const Ku="*";function Ic(n,e){return{type:7,name:n,definitions:e,options:{}}}function Zs(n,e=null){return{type:4,styles:e,timings:n}}function sP(n,e=null){return{type:2,steps:n,options:e}}function jn(n){return{type:6,styles:n,offset:null}}function ki(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ts(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oP(n){Promise.resolve().then(n)}class Xb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class aP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?oP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const lP=["toast-component",""];function lB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function cB(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function uB(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,cB,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function dB(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function hB(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function fB(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class bB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new nn.x,this._activate=new nn.x,this._manualClose=new nn.x,this._resetTimeout=new nn.x,this._countDuplicate=new nn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class bI{constructor(e,t,i,r,a,c){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=c,this._onTap=new nn.x,this._onAction=new nn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const uP=new u.OlP("ToastConfig");class EB extends class wB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class IB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let DB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new EB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new IB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DB),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wI=(()=>{class n{constructor(t,i,r,a,c){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts){const g=c&&f.title===t;if((!c||g)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&a.enableHtml&&(v=this.sanitizer.sanitize(u.q3G.HTML,i));const I=new CB(g),x=new bI(this.index,a,v,r,t,I),U=u.zs3.create({providers:[{provide:bI,useValue:x}],parent:this._injector}),G=new bB(a.toastComponent,U),ne=g.attach(G,a.newestOnTop);I.componentInstance=ne.instance;const ge={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:ne};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ge.toastRef.activate()})),this.toasts.push(ge),ge}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uP),u.LFG(TB),u.LFG(u.zs3),u.LFG(Ns),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wI),u.Y36(bI),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",i.state),u.Tol(i.toastClasses),u.Udp("display",i.displayStyle))},attrs:lP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(u.YNc(0,lB,3,0,"button",0),u.YNc(1,uB,3,5,"div",1),u.YNc(2,dB,1,3,"div",2),u.YNc(3,hB,2,4,"div",3),u.YNc(4,fB,2,2,"div",4)),2&t&&(u.Q6J("ngIf",i.options.closeButton),u.xp6(1),u.Q6J("ngIf",i.title),u.xp6(1),u.Q6J("ngIf",i.message&&i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.message&&!i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.options.progressBar))},dependencies:[Pn],encapsulation:2,data:{animation:[Ic("flyInOut",[ki("inactive",jn({opacity:0})),ki("active",jn({opacity:1})),ki("removed",jn({opacity:0})),Ts("inactive => active",Zs("{{ easeTime }}ms {{ easing }}")),Ts("active => removed",Zs("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let xB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:uP,useValue:{default:SB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ns]}),n})(),BM=(()=>{class n{constructor(){this.isLoading=new nn.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n{constructor(t,i,r,a){this.firestore=t,this.auth=i,this.toast=r,this.loader=a,this.UserUpdateEvent=new u.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.progressBar=!0,this.toast.toastrConfig.positionClass="toast-bottom-right",this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{if(this.loader.show(),null==t)return this.loader.hide(),void this.UserUpdateEvent.emit(void 0);console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(i=>{this.user=i.data(),console.log("FirestoreService: User Updated ",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user)})})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(r=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},r=>{this.loader.hide(),console.error("FirestoreService",r),this.toast.error("Unable to register User","Registration Error")})},i=>{this.loader.hide(),console.error("FirestoreService",i),this.handleRegisterError(i.code,t)}))}handleRegisterError(t,i){this.toast.error("auth/email-already-in-use"===t?i.id+" is already registered in our system.":"Unable to register "+i.id+" "+t,"Registration Error")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rB),u.LFG(yI),u.LFG(wI),u.LFG(BM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MB=(()=>{class n{constructor(t,i){this.firestore=t,this.toaster=i,this.editing=!1}ngOnInit(){}update(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(UM),u.Y36(wI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile"]],decls:0,vars:0,template:function(t,i){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),n})();var AB=F(8247);let HM;try{HM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{HM=!1}let Jb,EI,Qp,jM,Ys=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function vr(n){return n===yr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CI(n){return function kB(){if(null==Jb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jb=!0}))}finally{Jb=Jb||!1}return Jb}()?n:!!n.capture}function hP(){if(null==Qp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qp=!1,Qp;if("scrollBehavior"in document.documentElement.style)Qp=!0;else{const n=Element.prototype.scrollTo;Qp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qp}function e0(){if("object"!=typeof document||!document)return 0;if(null==EI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),EI=0,0===n.scrollLeft&&(n.scrollLeft=1,EI=0===n.scrollLeft?1:2),n.remove()}return EI}function fP(n){if(function RB(){if(null==jM){const n=typeof document<"u"?document.head:null;jM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return jM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Xp(n){return n.composedPath?n.composedPath()[0]:n.target}function $M(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function pP(n){return vi((e,t)=>n<=t)}var UB=F(5032);function xo(n){return(0,Fi.e)((e,t)=>{(0,lr.Xf)(n).subscribe((0,Wn.x)(t,()=>t.complete(),UB.Z)),!t.closed&&e.subscribe(t)})}function Mo(n){return null!=n&&"false"!=`${n}`}function t0(n,e=0){return function HB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function II(n){return Array.isArray(n)?n:[n]}function tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function F_(n){return n instanceof u.SBq?n.nativeElement:n}let jB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jB]}),n})();function mP(n,e=lc.z){return(0,Fi.e)((t,i)=>{let r=null,a=null,c=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function g(){const v=c+n,I=e.now();if(I<v)return r=this.schedule(void 0,v-I),void i.add(r);f()}t.subscribe((0,Wn.x)(i,v=>{a=v,c=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}const gP=new Set;let L_,$B=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function zB(n){if(!gP.has(n))try{L_||(L_=document.createElement("style"),L_.setAttribute("type","text/css"),document.head.appendChild(L_)),L_.sheet&&(L_.sheet.insertRule(`@media ${n} {body{ }}`,0),gP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ys))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let WB=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new nn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _P(II(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=hy(_P(II(t)).map(c=>this._registerQuery(c).observable));return a=Mm(a.pipe(ps(1)),a.pipe(pP(1),mP(0))),a.pipe((0,ft.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new _i.y(c=>{const f=g=>this._zone.run(()=>c.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Xl(i),(0,ft.U)(({matches:c})=>({query:t,matches:c})),xo(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($B),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _P(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let bP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function YB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function ZB(n){try{return n.frameElement}catch{return null}}(function s2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===CP(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=CP(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function n2(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function r2(n){return!function XB(n){return function e2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function QB(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function JB(n){return function t2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wP(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ys))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function CP(n){if(!wP(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class o2{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ps(1)).subscribe(e)}}let a2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new o2(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bP),u.LFG(u.R0b),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function IP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const l2=new u.OlP("cdk-input-modality-detector-options"),c2={ignoreKeys:[18,17,224,91,16]},V_=CI({passive:!0,capture:!0});let u2=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new fs(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xp(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EP(c)?"keyboard":"mouse"),this._mostRecentTarget=Xp(c))},this._onTouchstart=c=>{IP(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xp(c))},this._options={...c2,...a},this.modalityDetected=this._modality.pipe(pP(1)),this.modalityChanged=this.modalityDetected.pipe(Jd()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,V_),r.addEventListener("mousedown",this._onMousedown,V_),r.addEventListener("touchstart",this._onTouchstart,V_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,V_),document.removeEventListener("mousedown",this._onMousedown,V_),document.removeEventListener("touchstart",this._onTouchstart,V_))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ys),u.LFG(u.R0b),u.LFG(ae),u.LFG(l2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h2=new u.OlP("cdk-focus-monitor-default-options"),DI=CI({passive:!0,capture:!0});let GM=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=Xp(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=F_(t);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const a=fP(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const f={checkChildren:i,subject:new nn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=F_(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=F_(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Xp(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,DI),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,DI)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xo(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,DI),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,DI),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ys),u.LFG(u2),u.LFG(ae,8),u.LFG(h2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TP="cdk-high-contrast-black-on-white",SP="cdk-high-contrast-white-on-black",WM="cdk-high-contrast-active";let xP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(WB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WM,TP,SP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(WM,TP):2===i&&t.add(WM,SP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ys),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f2=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xP))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zM]}),n})();const p2=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function m2(){return(0,u.f3M)(ae)}}),g2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function _2(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?g2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const v2=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function y2(){return!0}});let Qn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!$M()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xP),u.LFG(v2,8),u.LFG(ae))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[B_,B_]}),n})();function b2(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Mo(e)}}}function TI(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function kP(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Mo(e)}}}let E2=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class I2{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const RP={enterDuration:225,exitDuration:150},KM=CI({passive:!0}),OP=["mousedown","touchstart"],PP=["mouseup","mouseleave","touchend","touchcancel"];class T2{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=F_(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...RP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function S2(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=g-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),U=x.transitionDuration,G="none"===x.transitionProperty||"0s"===U||"0s, 0s"===U,ne=new I2(this,I,i,G);I.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let ge=null;return!G&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ge=()=>this._finishRippleTransition(ne),at=()=>this._destroyRipple(ne);I.addEventListener("transitionend",Ge),I.addEventListener("transitioncancel",at),ge={onTransitionEnd:Ge,onTransitionCancel:at}}),this._activeRipples.set(ne,ge),(G||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...RP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=F_(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(OP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=EP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!IP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,KM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(OP.forEach(e=>{this._triggerElement.removeEventListener(e,this,KM)}),this._pointerUpEventsRegistered&&PP.forEach(e=>{this._triggerElement.removeEventListener(e,this,KM)}))}}const x2=new u.OlP("mat-ripple-global-options");let ZM=(()=>{class n{constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new T2(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ys),u.Y36(x2,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn,Qn]}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[r0,ns,Qn,M2]}),n})();const A2=["mat-button",""],k2=["*"],O2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],P2=TI(b2(kP(class{constructor(n){this._elementRef=n}})));let FP=(()=>{class n extends P2{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of O2)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(GM),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&u.Gf(ZM,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:A2,ngContentSelectors:k2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[ZM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[r0,Qn,Qn]}),n})(),VP=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.route=r}ngOnInit(){this.login()}login(){var t=new AB.Q;t.addScope("email"),this.firestore.loader.show(),this.auth.signInWithPopup(t).then(i=>{this.firestore.loader.hide(),console.log("User Login Success ",i),this.firestore.toast.success(i.user?.email?i.user.email:"","User Login Success"),this.route.navigate(["dashboard"])}).catch(i=>{this.firestore.loader.hide(),console.error(i),this.handleError(i.code)})}handleError(t){switch(t){case"auth/user-not-found":this.firestore.toast.error("User not Found","Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;case"auth/configuration-not-found":this.firestore.toast.error("Configuration not found for authentication","Login Error");break;default:this.firestore.toast.error("Unable to login","Login Error")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yI),u.Y36(UM),u.Y36(qi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"text-center"],[1,"mt-1"],["src","assets/icons/google.svg",2,"height","40px"],[1,"mt-3"],["mat-button","",1,"primary",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),u._uU(7,"Login"),u.qZA(),u.TgZ(8,"form",7)(9,"div",8)(10,"div",9),u._UZ(11,"img",10),u.qZA(),u.TgZ(12,"div",11)(13,"button",12),u.NdJ("click",function(){return i.login()}),u._uU(14," Sign In using Google"),u.qZA()()()()()()()()())},dependencies:[Od,hf,ha,FP],styles:["label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),n})();const N2=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:TT},{path:"login",component:VP},{path:"profile",component:MB},{path:"dashboard",component:_a},{path:"login",component:VP}];let F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zw.forRoot(N2),Zw]}),n})();var L2=F(1144);const V2=["addListener","removeListener"],B2=["addEventListener","removeEventListener"],U2=["on","off"];function s0(n,e,t,i){if((0,$s.m)(t)&&(i=t,t=void 0),i)return s0(n,e,t).pipe(Wl(i));const[r,a]=function $2(n){return(0,$s.m)(n.addEventListener)&&(0,$s.m)(n.removeEventListener)}(n)?B2.map(c=>f=>n[c](e,f,t)):function H2(n){return(0,$s.m)(n.addListener)&&(0,$s.m)(n.removeListener)}(n)?V2.map(BP(n,e)):function j2(n){return(0,$s.m)(n.on)&&(0,$s.m)(n.off)}(n)?U2.map(BP(n,e)):[];if(!r&&(0,L2.z)(n))return(0,wn.z)(c=>s0(c,e,t))((0,lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new _i.y(c=>{const f=(...g)=>c.next(1<g.length?g:g[0]);return r(f),()=>a(f)})}function BP(n,e){return t=>i=>n[t](e,i)}var UP=F(4408);const o0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=o0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new ou.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=o0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=o0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var HP=F(7565);new class G2 extends HP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class z2 extends UP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=o0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(o0.cancelAnimationFrame(t),e._scheduled=void 0)}});let YM,q2=1;const SI={};function jP(n){return n in SI&&(delete SI[n],!0)}const K2={setImmediate(n){const e=q2++;return SI[e]=!0,YM||(YM=Promise.resolve()),YM.then(()=>jP(e)&&n()),e},clearImmediate(n){jP(n)}},{setImmediate:Z2,clearImmediate:Y2}=K2,xI={setImmediate(...n){const{delegate:e}=xI;return(e?.setImmediate||Z2)(...n)},clearImmediate(n){const{delegate:e}=xI;return(e?.clearImmediate||Y2)(n)},delegate:void 0};new class X2 extends HP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Q2 extends UP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=xI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(xI.clearImmediate(t),e._scheduled=void 0)}});var tU=F(3532);function $P(n,e=lc.z){return function eU(n){return(0,Fi.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}c&&t.complete()},g=()=>{a=null,c&&t.complete()};e.subscribe((0,Wn.x)(t,v=>{i=!0,r=v,a||(0,lr.Xf)(n(v)).subscribe(a=(0,Wn.x)(t,f,g))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function iU(n=0,e,t=lc.P){let i=-1;return null!=e&&((0,tU.K)(e)?t=e:i=e),new _i.y(r=>{let a=function nU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let QM=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _i.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe($P(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=F_(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>s0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ys),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XM=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new nn.x,this._elementScrolled=new _i.y(c=>this.ngZone.runOutsideAngular(()=>s0(this.elementRef.nativeElement,"scroll").pipe(xo(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=e0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==e0()?t.left=t.right:1==e0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;hP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==e0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==e0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(QM),u.Y36(u.R0b),u.Y36(qM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),MI=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new nn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($P(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ys),u.LFG(u.R0b),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[B_,a0,B_,a0]}),n})();const GP=["*"],oU=["content"];function aU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r._onBackdropClicked())}),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function lU(n,e){1&n&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const cU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uU=["mat-drawer","mat-drawer-content","*"],dU={transformDrawer:Ic("transform",[ki("open, open-instant",jn({transform:"none",visibility:"visible"})),ki("void",jn({"box-shadow":"none",visibility:"hidden"})),Ts("void => open-instant",Zs("0ms")),Ts("void <=> open, open-instant => void",Zs("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},hU=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function fU(){return!1}}),WP=new u.OlP("MAT_DRAWER_CONTAINER");let JM=(()=>{class n extends XM{constructor(t,i,r,a,c){super(r,a,c),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>KP)),u.Y36(u.SBq),u.Y36(QM),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&u.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[u._Bn([{provide:XM,useExisting:n}]),u.qOj],ngContentSelectors:GP,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qP=(()=>{class n{constructor(t,i,r,a,c,f,g,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=c,this._interactivityChecker=f,this._doc=g,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new nn.x,this._animationEnd=new nn.x,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(vi(I=>I),(0,ft.U)(()=>{})),this.openedStart=this._animationStarted.pipe(vi(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),gy(void 0)),this._closedStream=this.openedChange.pipe(vi(I=>!I),(0,ft.U)(()=>{})),this.closedStart=this._animationStarted.pipe(vi(I=>I.fromState!==I.toState&&"void"===I.toState),gy(void 0)),this._destroyed=new nn.x,this.onPositionChanged=new u.vpe,this._modeChanged=new nn.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{s0(this._elementRef.nativeElement,"keydown").pipe(vi(I=>27===I.keyCode&&!this.disableClose&&!function BB(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),xo(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Jd((I,x)=>I.fromState===x.fromState&&I.toState===x.toState)).subscribe(I=>{const{fromState:x,toState:V}=I;(0===V.indexOf("open")&&"void"===x||"void"===V&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Mo(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Mo(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Mo(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(ps(1)).subscribe(c=>a(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(a2),u.Y36(GM),u.Y36(Ys),u.Y36(u.R0b),u.Y36(bP),u.Y36(ae,8),u.Y36(WP,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&u.Gf(oU,5),2&t){let r;u.iGM(r=u.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&u.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(u.uIk("align",null),u.d8E("@transform",i._animationState),u.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:GP,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA())},dependencies:[XM],encapsulation:2,data:{animation:[dU.transformDrawer]},changeDetection:0}),n})(),KP=(()=>{class n{constructor(t,i,r,a,c,f=!1,g){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=g,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new nn.x,this._doCheckSubject=new nn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new nn.x,t&&t.change.pipe(xo(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(xo(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Mo(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Mo(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Xl(this._allDrawers),xo(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Xl(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(mP(10),xo(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(vi(i=>i.fromState!==i.toState),xo(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(xo(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(xo(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ps(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(xo((0,pM.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qM,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(MI),u.Y36(hU),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,JM,5),u.Suo(r,qP,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._content=a.first),u.iGM(a=u.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&u.Gf(JM,5),2&t){let r;u.iGM(r=u.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:WP,useExisting:n}])],ngContentSelectors:uU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(u.F$t(cU),u.YNc(0,aU,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,lU,2,0,"mat-drawer-content",1)),2&t&&(u.Q6J("ngIf",i.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!i._content))},dependencies:[Pn,JM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),pU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ns,Qn,a0,a0,Qn]}),n})();class ZP{}class YP{}class Zu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class mU{encodeKey(e){return QP(e)}encodeValue(e){return QP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _U=/%(\d[a-f0-9])/gi,yU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QP(n){return encodeURIComponent(n).replace(_U,(e,t)=>yU[t]??e)}function AI(n){return`${n}`}class jh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new mU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],g=t.get(c)||[];g.push(f),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(AI):[AI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(AI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(AI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JP(n){return typeof Blob<"u"&&n instanceof Blob}function e1(n){return typeof FormData<"u"&&n instanceof FormData}class l0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Zu),this.context||(this.context=new vU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new jh,this.urlWithParams=t}serializeBody(){return null===this.body?null:XP(this.body)||JP(this.body)||e1(this.body)||function wU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||e1(this.body)?null:JP(this.body)?this.body.type||null:XP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((x,V)=>x.set(V,e.setHeaders[V]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((x,V)=>x.set(V,e.setParams[V]),v)),new l0(t,i,a,{params:v,headers:g,context:I,reportProgress:f,responseType:r,withCredentials:c})}}var nr=(()=>((nr=nr||{})[nr.Sent=0]="Sent",nr[nr.UploadProgress=1]="UploadProgress",nr[nr.ResponseHeader=2]="ResponseHeader",nr[nr.DownloadProgress=3]="DownloadProgress",nr[nr.Response=4]="Response",nr[nr.User=5]="User",nr))();class eA{constructor(e,t=200,i="OK"){this.headers=e.headers||new Zu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tA extends eA{constructor(e={}){super(e),this.type=nr.ResponseHeader}clone(e={}){return new tA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kI extends eA{constructor(e={}){super(e),this.type=nr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class t1 extends eA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iA=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof l0)a=t;else{let g,v;g=r.headers instanceof Zu?r.headers:new Zu(r.headers),r.params&&(v=r.params instanceof jh?r.params:new jh({fromObject:r.params})),a=new l0(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=lt(a).pipe(al(g=>this.handler.handle(g)));if(t instanceof l0||"events"===r.observe)return c;const f=c.pipe(vi(g=>g instanceof kI));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ft.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,ft.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,ft.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,ft.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,nA(r,i))}post(t,i,r={}){return this.request("POST",t,nA(r,i))}put(t,i,r={}){return this.request("PUT",t,nA(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ZP))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class n1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rA=new u.OlP("HTTP_INTERCEPTORS");let CU=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const EU=/^\)\]\}',?\n/;let r1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _i.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((U,G)=>r.setRequestHeader(U,G.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const U=t.detectContentTypeHeader();null!==U&&r.setRequestHeader("Content-Type",U)}if(t.responseType){const U=t.responseType.toLowerCase();r.responseType="json"!==U?U:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const U=r.statusText||"OK",G=new Zu(r.getAllResponseHeaders()),ne=function IU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new tA({headers:G,status:r.status,statusText:U,url:ne}),c},g=()=>{let{headers:U,status:G,statusText:ne,url:ge}=f(),Ge=null;204!==G&&(Ge=typeof r.response>"u"?r.responseText:r.response),0===G&&(G=Ge?200:0);let at=G>=200&&G<300;if("json"===t.responseType&&"string"==typeof Ge){const vt=Ge;Ge=Ge.replace(EU,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(pt){Ge=vt,at&&(at=!1,Ge={error:pt,text:Ge})}}at?(i.next(new kI({body:Ge,headers:U,status:G,statusText:ne,url:ge||void 0})),i.complete()):i.error(new t1({error:Ge,headers:U,status:G,statusText:ne,url:ge||void 0}))},v=U=>{const{url:G}=f(),ne=new t1({error:U,status:r.status||0,statusText:r.statusText||"Unknown Error",url:G||void 0});i.error(ne)};let I=!1;const x=U=>{I||(i.next(f()),I=!0);let G={type:nr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(G.total=U.total),"text"===t.responseType&&!!r.responseText&&(G.partialText=r.responseText),i.next(G)},V=U=>{let G={type:nr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(G.total=U.total),i.next(G)};return r.addEventListener("load",g),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",x),null!==a&&r.upload&&r.upload.addEventListener("progress",V)),r.send(a),i.next({type:nr.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",g),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",x),null!==a&&r.upload&&r.upload.removeEventListener("progress",V)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ao))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sA=new u.OlP("XSRF_COOKIE_NAME"),oA=new u.OlP("XSRF_HEADER_NAME");class s1{}let DU=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(u.Lbi),u.LFG(sA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),aA=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(s1),u.LFG(oA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),TU=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(rA,[]);this.chain=i.reduceRight((r,a)=>new n1(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YP),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),SU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:aA,useClass:CU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:sA,useValue:t.cookieName}:[],t.headerName?{provide:oA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aA,{provide:rA,useExisting:aA,multi:!0},{provide:s1,useClass:DU},{provide:sA,useValue:"XSRF-TOKEN"},{provide:oA,useValue:"X-XSRF-TOKEN"}]}),n})(),xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iA,{provide:ZP,useClass:TU},r1,{provide:YP,useExisting:r1}],imports:[SU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const MU=["*"];let RI;function c0(n){return function AU(){if(void 0===RI&&(RI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(RI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return RI}()?.createHTML(n)||n}function o1(n){return Error(`Unable to find icon with the name "${n}"`)}function a1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function l1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let OI=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Jp(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw l1(r);const f=c0(c);return this._addSvgIconConfig(t,i,new Jp("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Jp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(u.q3G.HTML,i);if(!a)throw l1(i);const c=c0(a);return this._addSvgIconSetConfig(t,new Jp("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw a1(t);const r=this._cachedIconsByUrl.get(i);return r?lt(PI(r)):this._loadSvgIconFromConfig(new Jp(t,null)).pipe((0,Li.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ft.U)(a=>PI(a)))}getNamedSvgIcon(t,i=""){const r=c1(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Vd(o1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lt(PI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ft.U)(i=>PI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?lt(r):oa(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(fa(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),lt(null)})))).pipe((0,ft.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw o1(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(c,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Li.b)(i=>t.svgText=i),(0,ft.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lt(null):this._fetchIcon(t).pipe((0,Li.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const f=this._svgElementFromString(c0("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(c0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:c,value:f}=r[a];"id"!==c&&i.setAttribute(c,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function kU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!c)throw a1(i);const f=this._inProgressUrlFetches.get(c);if(f)return f;const g=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe((0,ft.U)(v=>c0(v)),Df(()=>this._inProgressUrlFetches.delete(c)),(0,vO.B)());return this._inProgressUrlFetches.set(c,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(c1(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return OU(a)?new Jp(a.url,null,a.options):new Jp(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iA,8),u.LFG(Ns),u.LFG(ae,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PI(n){return n.cloneNode(!0)}function c1(n,e){return n+":"+e}function OU(n){return!(!n.url||!n.options)}const PU=TI(class{constructor(n){this._elementRef=n}}),NU=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),FU=new u.OlP("mat-icon-location",{providedIn:"root",factory:function LU(){const n=(0,u.f3M)(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),u1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],VU=u1.map(n=>`[${n}]`).join(", "),BU=/^url\(['"]?#(.*?)['"]?\)$/;let UU=(()=>{class n extends PU{constructor(t,i,r,a,c,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ou.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Mo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(VU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)u1.forEach(c=>{const f=i[a],g=f.getAttribute(c),v=g?g.match(BU):null;if(v){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:c,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ps(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(OI),u.$8M("aria-hidden"),u.Y36(FU),u.Y36(u.qLn),u.Y36(NU,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:MU,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn,Qn]}),n})();const HU=["*",[["mat-toolbar-row"]]],jU=["*","mat-toolbar-row"],$U=TI(class{constructor(n){this._elementRef=n}});let zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),h1=(()=>{class n extends $U{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ys),u.Y36(ae))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,zU,5),2&t){let a;u.iGM(a=u.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:jU,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(HU),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn,Qn]}),n})();function WU(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function qU(n,e){if(1&n&&(u.ynx(0),u.YNc(1,WU,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","top"==t.align)}}function KU(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function ZU(n,e){if(1&n&&(u.ynx(0),u.YNc(1,KU,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}function YU(n,e){if(1&n&&(u.TgZ(0,"button",19),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function QU(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,YU,2,3,"button",18),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}let XU=(()=>{class n{constructor(t,i){this.firestore=t,this.router=i,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(t=>{this.user=t,this.loadMenu()})}onResize(t){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let t=[];null==this.user?(t.push({name:"Home",link:"/home",class:"active-link",align:"bottom"}),t.push({name:"Login",link:"/login",class:"active-link",align:"bottom"})):(t.push({name:this.user.email,link:"/dashboard",class:"active",align:"top"}),t.push({name:"Dashboard",link:"/dashboard",class:"active-link",align:"bottom"}),t.push({name:"My Profile",link:"/profile",class:"active-link",align:"bottom"}),t.push({name:"My Orders",link:"/orders",class:"active-link",align:"bottom"})),this.menu=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(UM),u.Y36(qi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,i){1&t&&u.NdJ("resize",function(a){return i.onResize(a)},!1,u.Jf7)},decls:31,vars:6,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/rupee.jpg","alt","logo",1,"logo"],[1,"title-lg"],[1,"title-sm"],[1,"d-inline-block",2,"width","5px"],[1,"example-spacer"],[1,"d-none","d-md-block"],[1,"row"],[1,"col","text-end","d-inline"],[4,"ngFor","ngForOf"],[1,"col"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","","class","menu-left",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(27);return u.KtG(c.toggle())}),u.TgZ(3,"mat-icon"),u._uU(4,"menu"),u.qZA()()(),u.TgZ(5,"span"),u._UZ(6,"img",2),u.qZA(),u.TgZ(7,"span")(8,"span",3),u._uU(9,"M"),u.qZA(),u.TgZ(10,"span",4),u._uU(11,"Y"),u.qZA(),u._UZ(12,"span",5),u.TgZ(13,"span",3),u._uU(14,"N"),u.qZA(),u.TgZ(15,"span",4),u._uU(16,"ETWORTH"),u.qZA()(),u._UZ(17,"span",6),u.TgZ(18,"div",7)(19,"div",8)(20,"div",9),u.YNc(21,qU,2,1,"ng-container",10),u.qZA()(),u.TgZ(22,"div",8)(23,"div",11),u.YNc(24,ZU,2,1,"ng-container",10),u.qZA()()()(),u.TgZ(25,"mat-drawer-container",12)(26,"mat-drawer",13,14)(28,"div",15),u.YNc(29,QU,2,1,"div",10),u.qZA()(),u._UZ(30,"router-outlet"),u.qZA()}2&t&&(u.xp6(21),u.Q6J("ngForOf",i.menu),u.xp6(3),u.Q6J("ngForOf",i.menu),u.xp6(1),u.Udp("height",i.contentScreenHeight,"px"),u.Q6J("hasBackdrop",!0),u.xp6(4),u.Q6J("ngForOf",i.menu))},dependencies:[xs,Pn,Oy,zf,Jy,qP,KP,UU,h1,FP],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-lg[_ngcontent-%COMP%]{font-size:30px;color:teal}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}.mat-button[_ngcontent-%COMP%]{line-height:30px}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.mat-button[_ngcontent-%COMP%]{line-height:36px}}"]}),n})(),JU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(t,i){1&t&&(u.TgZ(0,"mat-toolbar"),u._UZ(1,"span",0),u.TgZ(2,"span"),u._uU(3,"\xa9 Design and Developed by V.V.S.K Chaitanya"),u.qZA(),u._UZ(4,"span",0),u.qZA())},dependencies:[h1],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function eH(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}function tH(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}const iH=TI(class{constructor(n){this._elementRef=n}},"primary"),rH=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function sH(){return{diameter:100}}});class Yu extends iH{constructor(e,t,i,r,a,c,f,g){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=ou.w0.EMPTY,this.mode="determinate";const v=Yu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!a&&!a._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.color&&(this.color=this.defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&f&&c&&g&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=t0(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=t0(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,t0(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=fP(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Yu._diameters;let r=i.get(e);if(!r||!r.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Yu._diameters=new WeakMap,Yu.\u0275fac=function(e){return new(e||Yu)(u.Y36(u.SBq),u.Y36(Ys),u.Y36(ae,8),u.Y36(u.QbO,8),u.Y36(rH),u.Y36(u.sBO),u.Y36(MI),u.Y36(u.R0b))},Yu.\u0275cmp=u.Xpm({type:Yu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(u.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(u.O4$(),u.TgZ(0,"svg",0,1),u.YNc(2,eH,1,11,"circle",2),u.YNc(3,tH,1,9,"circle",3),u.qZA()),2&e&&(u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===t.mode),u.uIk("viewBox",t._getViewBox()),u.xp6(2),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},dependencies:[ro,Rl],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let aH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn,ns,Qn]}),n})();function lH(n,e){if(1&n&&(u.TgZ(0,"div",1),u._UZ(1,"mat-progress-spinner",2),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("color",t.color)}}let cH=(()=>{class n{constructor(t){this.loaderService=t,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(BM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(t,i){1&t&&(u.YNc(0,lH,2,1,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,i.isLoading))},dependencies:[Pn,Yu,Kh],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})(),uH=(()=>{class n{constructor(){this.title="webedu"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[Oy,XU,JU,cH]}),n})();const f1_firebase={apiKey:"AIzaSyD0jp-Q3QfD9G1zEwAAKeZEvOwUkE4cEFE",authDomain:"vvsk-networth.firebaseapp.com",projectId:"vvsk-networth",storageBucket:"vvsk-networth.appspot.com",messagingSenderId:"662970629985",appId:"1:662970629985:web:829ce9af1bcbbef2928f20"};function p1(n){return new u.vHH(3e3,!1)}function GH(){return typeof window<"u"&&typeof window.document<"u"}function cA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new Xb;case 1:return n[0];default:return new aP(n)}}function m1(n,e,t,i,r=new Map,a=new Map){const c=[],f=[];let g=-1,v=null;if(i.forEach(I=>{const x=I.get("offset"),V=x==g,U=V&&v||new Map;I.forEach((G,ne)=>{let ge=ne,Ge=G;if("offset"!==ne)switch(ge=e.normalizePropertyName(ge,c),Ge){case"!":Ge=r.get(ne);break;case Ku:Ge=a.get(ne);break;default:Ge=e.normalizeStyleValue(ne,ge,Ge,c)}U.set(ge,Ge)}),V||f.push(U),v=U,g=x}),c.length)throw function OH(n){return new u.vHH(3502,!1)}();return f}function uA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&dA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&dA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&dA(t,"destroy",n)))}}function dA(n,e,t){const a=hA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function hA(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function Ao(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function g1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fA=(n,e)=>!1,_1=(n,e,t)=>[],y1=null;function pA(n){const e=n.parentNode||n.host;return e===y1?null:e}(cA()||typeof Element<"u")&&(GH()?(y1=(()=>document.documentElement)(),fA=(n,e)=>{for(;e;){if(e===n)return!0;e=pA(e)}return!1}):fA=(n,e)=>n.contains(e),_1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let em=null,v1=!1;const b1=fA,w1=_1;let C1=(()=>{class n{validateStyleProperty(t){return function qH(n){em||(em=function KH(){return typeof document<"u"?document.body:null}()||{},v1=!!em.style&&"WebkitAppearance"in em.style);let e=!0;return em.style&&!function WH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in em.style,!e&&v1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in em.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return b1(t,i)}getParentElement(t){return pA(t)}query(t,i,r){return w1(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,f=[],g){return new Xb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mA=(()=>{class n{}return n.NOOP=new C1,n})();const gA="ng-enter",NI="ng-leave",FI="ng-trigger",LI=".ng-trigger",I1="ng-animating",_A=".ng-animating";function Qu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yA(parseFloat(e[1]),e[2])}function yA(n,e){return"s"===e?1e3*n:n}function VI(n,e,t){return n.hasOwnProperty("duration")?n:function QH(n,e,t){let r,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(p1()),{duration:0,delay:0,easing:""};r=yA(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=yA(parseFloat(g),f[4]));const v=f[5];v&&(c=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function dH(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function hH(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,p1())}return{duration:r,delay:a,easing:c}}(n,e,t)}function u0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function D1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function S1(n,e,t){return t?e+":"+t+";":""}function x1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=S1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=S1(0,tj(t),n.style[t]));n.setAttribute("style",e)}function Dc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=bA(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),cA()&&x1(n))}function tm(n,e){n.style&&(e.forEach((t,i)=>{const r=bA(i);n.style[r]=""}),cA()&&x1(n))}function d0(n){return Array.isArray(n)?1==n.length?n[0]:sP(n):n}const vA=new RegExp("{{\\s*(.+?)\\s*}}","g");function M1(n){let e=[];if("string"==typeof n){let t;for(;t=vA.exec(n);)e.push(t[1]);vA.lastIndex=0}return e}function h0(n,e,t){const i=n.toString(),r=i.replace(vA,(a,c)=>{let f=e[c];return null==f&&(t.push(function pH(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function BI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ej=/-+([a-z0-9])/g;function bA(n){return n.replace(ej,(...e)=>e[1].toUpperCase())}function tj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function mH(n){return new u.vHH(3004,!1)}()}}function A1(n,e){return window.getComputedStyle(n)[e]}function aj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function lj(n,e,t){if(":"==n[0]){const g=function cj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function MH(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function xH(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(k1(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(k1(c,r))}(i,t,e)):t.push(n),t}const $I=new Set(["true","1"]),zI=new Set(["false","0"]);function k1(n,e){const t=$I.has(n)||zI.has(n),i=$I.has(e)||zI.has(e);return(r,a)=>{let c="*"==n||n==r,f="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?$I.has(n):zI.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?$I.has(e):zI.has(e)),c&&f}}const uj=new RegExp("s*:selfs*,?","g");function wA(n,e,t,i){return new dj(n).build(e,t,i)}class dj{constructor(e){this._driver=e}build(e,t,i){const r=new pj(t);return this._resetContextStyleTimingState(r),ko(this,d0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function _H(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,c.push(g)}else t.errors.push(function yH(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{M1(g).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(BI(a.values()),t.errors.push(function vH(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ko(this,d0(e.animation),t);return{type:1,matchers:aj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:nm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ko(this,i,t)),options:nm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const f=ko(this,c,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:nm(e.options)}}visitAnimate(e,t){const i=function gj(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return CA(VI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=CA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=VI(t,e);return CA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:jn({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const v={};i.easing&&(v.easing=i.easing),c=jn(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(c,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Ku?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(D1(f));let a=!1,c=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let g of f.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),I=v.get(g);let x=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function wH(n,e,t,i,r){return new u.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&v.set(g,{startTime:a,endTime:r}),t.options&&function JH(n,e,t){const i=e.params||{},r=M1(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function fH(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function CH(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let f=!1,g=!1,v=0;const I=e.steps.map(Ge=>{const at=this._makeStyleAst(Ge,t);let vt=null!=at.offset?at.offset:function mj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),pt=0;return null!=vt&&(a++,pt=at.offset=vt),g=g||pt<0||pt>1,f=f||pt<v,v=pt,c.push(pt),at});g&&t.errors.push(function EH(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function IH(){return new u.vHH(3200,!1)}());const x=e.steps.length;let V=0;a>0&&a<x?t.errors.push(function DH(){return new u.vHH(3202,!1)}()):0==a&&(V=1/(x-1));const U=x-1,G=t.currentTime,ne=t.currentAnimateTimings,ge=ne.duration;return I.forEach((Ge,at)=>{const vt=V>0?at==U?1:V*at:c[at],pt=vt*ge;t.currentTime=G+ne.delay+pt,ne.duration=pt,this._validateStyleAst(Ge,t),Ge.offset=vt,i.styles.push(Ge)}),i}visitReference(e,t){return{type:8,animation:ko(this,d0(e.animation),t),options:nm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:nm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:nm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function hj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uj,"")),n=n.replace(/@\*/g,LI).replace(/@\w+/g,t=>LI+"-"+t.slice(1)).replace(/:animating/g,_A),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Ao(t.collectedStyles,t.currentQuerySelector,new Map);const f=ko(this,d0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:nm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function TH(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:VI(e.timings,t.errors,!0);return{type:12,animation:ko(this,d0(e.animation),t),timings:i,options:null}}}class pj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nm(n){return n?(n=u0(n)).params&&(n.params=function fj(n){return n?u0(n):null}(n.params)):n={},n}function CA(n,e,t){return{duration:n,delay:e,easing:t}}function EA(n,e,t,i,r,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:f}}class GI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vj=new RegExp(":enter","g"),wj=new RegExp(":leave","g");function IA(n,e,t,i,r,a=new Map,c=new Map,f,g,v=[]){return(new Cj).buildKeyframes(n,e,t,i,r,a,c,f,g,v)}class Cj{buildKeyframes(e,t,i,r,a,c,f,g,v,I=[]){v=v||new GI;const x=new DA(e,t,v,r,a,I,[]);x.options=g;const V=g.delay?Qu(g.delay):0;x.currentTimeline.delayNextStep(V),x.currentTimeline.setStyles([c],null,x.errors,g),ko(this,i,x);const U=x.timelines.filter(G=>G.containsAnimation());if(U.length&&f.size){let G;for(let ne=U.length-1;ne>=0;ne--){const ge=U[ne];if(ge.element===t){G=ge;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,x.errors,g)}return U.length?U.map(G=>G.buildKeyframes()):[EA(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:Qu(h0(a,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?Qu(i.duration):null,f=null!=i.delay?Qu(i.delay):null;return 0!==c&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,c,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=WI);const c=Qu(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ko(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Qu(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ko(this,c,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return VI(t.params?h0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Qu(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WI);let c=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,v);a&&x.delayNextStep(a),v===t.element&&(g=x.currentTimeline),ko(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const I=t.currentTimeline;g&&I.delayNextStep(g);const x=I.currentTime;ko(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const WI={};class DA{constructor(e,t,i,r,a,c,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new qI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Qu(i.duration)),null!=i.delay&&(r.delay=Qu(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=h0(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new DA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=WI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new Ej(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(vj,"."+this._enterClassName)).replace(wj,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&c.push(function SH(n){return new u.vHH(3014,!1)}()),f}}class qI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ku),this._currentKeyframe.set(t,Ku);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function Ij(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ku)}else zh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of c){const v=h0(g,a,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ku),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=zh(f,new Map,this._backFill);v.forEach((I,x)=>{"!"===I?e.add(x):I===Ku&&t.add(x)}),i||v.set("offset",g/this.duration),r.push(v)});const a=e.size?BI(e.values()):[],c=t.size?BI(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return EA(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class Ej extends qI{constructor(e,t,i,r,a,c,f=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,f=t/c,g=zh(e[0]);g.set("offset",0),a.push(g);const v=zh(e[0]);v.set("offset",P1(f)),a.push(v);const I=e.length-1;for(let x=1;x<=I;x++){let V=zh(e[x]);const U=V.get("offset");V.set("offset",P1((t+U*i)/c)),a.push(V)}i=c,t=0,r="",e=a}return EA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function P1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class TA{}const Dj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tj extends TA{normalizePropertyName(e,t){return bA(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(Dj.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function gH(n,e){return new u.vHH(3005,!1)}())}return c+a}}function N1(n,e,t,i,r,a,c,f,g,v,I,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:I,totalTime:x,errors:V}}const SA={};class F1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Sj(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,f,g,v,I){const x=[],V=this.ast.options&&this.ast.options.params||SA,G=this.buildStyles(i,f&&f.params||SA,x),ne=g&&g.params||SA,ge=this.buildStyles(r,ne,x),Ge=new Set,at=new Map,vt=new Map,pt="void"===r,Ot={params:xj(ne,V),delay:this.ast.options?.delay},Vt=I?[]:IA(e,t,this.ast.animation,a,c,G,ge,Ot,v,x);let pn=0;if(Vt.forEach(Xu=>{pn=Math.max(Xu.duration+Xu.delay,pn)}),x.length)return N1(t,this._triggerName,i,r,pt,G,ge,[],[],at,vt,pn,x);Vt.forEach(Xu=>{const Ju=Xu.element,mN=Ao(at,Ju,new Set);Xu.preStyleProps.forEach(rm=>mN.add(rm));const p0=Ao(vt,Ju,new Set);Xu.postStyleProps.forEach(rm=>p0.add(rm)),Ju!==t&&Ge.add(Ju)});const Ss=BI(Ge.values());return N1(t,this._triggerName,i,r,pt,G,ge,Vt,Ss,at,vt,pn)}}function xj(n,e){const t=u0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Mj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=u0(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=h0(c,r,t));const g=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,g,c,t),i.set(g,c)})}),i}}class kj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Mj(r.style,r.options&&r.options.params||{},i))}),L1(this.states,"true","1"),L1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new F1(e,r,this.states))}),this.fallbackTransition=function Rj(n,e,t){return new F1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function L1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Oj=new GI;class Pj{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=wA(this._driver,t,i,[]);if(i.length)throw function PH(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=m1(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=IA(this._driver,t,a,gA,NI,new Map,new Map,i,Oj,r),c.forEach(I=>{const x=Ao(f,I.element,new Map);I.postStyleProps.forEach(V=>x.set(V,null))})):(r.push(function NH(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function FH(n){return new u.vHH(3504,!1)}();f.forEach((I,x)=>{I.forEach((V,U)=>{I.set(U,this._driver.computeStyle(x,U,Ku))})});const v=$h(c.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function LH(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=hA(t,"","","");return uA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const V1="ng-animate-queued",xA="ng-animate-disabled",Bj=[],B1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class MA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function zj(n){return n??null}(i?e.value:e),i){const a=u0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const f0="void",AA=new MA(f0);class Hj{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function VH(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function BH(n){return new u.vHH(3303,!1)}();if(!function Gj(n){return"start"==n||"done"==n}(i))throw function UH(n,e){return new u.vHH(3400,!1)}();const a=Ao(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const f=Ao(this._engine.statesByElement,e,new Map);return f.has(t)||(Sa(e,FI),Sa(e,FI+"-"+t),f.set(t,AA)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(c);g>=0&&a.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function HH(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new kA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Sa(e,FI),Sa(e,FI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new MA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=AA),v.value!==f0&&g.value===v.value){if(!function Kj(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const ne=[],ge=a.matchStyles(g.value,g.params,ne),Ge=a.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{tm(e,ge),Dc(e,Ge)})}return}const V=Ao(this._engine.playersByElement,e,[]);V.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let U=a.matchTransition(g.value,v.value,e,v.params),G=!1;if(!U){if(!r)return;U=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:g,toState:v,player:c,isFallbackTransition:G}),G||(Sa(e,V1),c.onStart(()=>{U_(e,V1)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const ge=this._engine.playersByElement.get(e);if(ge){let Ge=ge.indexOf(c);Ge>=0&&ge.splice(Ge,1)}}),this.players.push(c),V.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,LI,!0);i.forEach(r=>{if(r[Ta])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((g,v)=>{if(c.set(v,g.value),this._triggers.has(v)){const I=this.trigger(e,v,f0,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&$h(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const g=this._triggers.get(c).fallbackTransition,v=i.get(c)||AA,I=new MA(f0),x=new kA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:v,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ta];(!a||a===B1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Sa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==i.triggerName){const g=hA(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,uA(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class jj{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Hj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(KI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!KI(t))return;const a=t[Ta];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sa(e,xA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),U_(e,xA))}removeNode(e,t,i,r){if(KI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ta]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return KI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,LI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_A,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $h(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ta];if(t&&t.setForRemoval){if(e[Ta]=B1,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Sa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$h(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function jH(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new GI,r=[],a=new Map,c=[],f=new Map,g=new Map,v=new Map,I=new Set;this.disabledNodes.forEach(wt=>{I.add(wt);const Pt=this.driver.query(wt,".ng-animate-queued",!0);for(let Ht=0;Ht<Pt.length;Ht++)I.add(Pt[Ht])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),U=j1(V,this.collectedEnterElements),G=new Map;let ne=0;U.forEach((wt,Pt)=>{const Ht=gA+ne++;G.set(Pt,Ht),wt.forEach(En=>Sa(En,Ht))});const ge=[],Ge=new Set,at=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Pt=this.collectedLeaveElements[wt],Ht=Pt[Ta];Ht&&Ht.setForRemoval&&(ge.push(Pt),Ge.add(Pt),Ht.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(En=>Ge.add(En)):at.add(Pt))}const vt=new Map,pt=j1(V,Array.from(Ge));pt.forEach((wt,Pt)=>{const Ht=NI+ne++;vt.set(Pt,Ht),wt.forEach(En=>Sa(En,Ht))}),e.push(()=>{U.forEach((wt,Pt)=>{const Ht=G.get(Pt);wt.forEach(En=>U_(En,Ht))}),pt.forEach((wt,Pt)=>{const Ht=vt.get(Pt);wt.forEach(En=>U_(En,Ht))}),ge.forEach(wt=>{this.processLeaveNode(wt)})});const Ot=[],Vt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Ht=>{const En=Ht.player,Ir=Ht.element;if(Ot.push(En),this.collectedEnterElements.length){const Kr=Ir[Ta];if(Kr&&Kr.setForMove){if(Kr.previousTriggersValues&&Kr.previousTriggersValues.has(Ht.triggerName)){const sm=Kr.previousTriggersValues.get(Ht.triggerName),xa=this.statesByElement.get(Ht.element);if(xa&&xa.has(Ht.triggerName)){const XI=xa.get(Ht.triggerName);XI.value=sm,xa.set(Ht.triggerName,XI)}}return void En.destroy()}}const Tc=!x||!this.driver.containsElement(x,Ir),Ro=vt.get(Ir),Gh=G.get(Ir),Ti=this._buildInstruction(Ht,i,Gh,Ro,Tc);if(Ti.errors&&Ti.errors.length)return void Vt.push(Ti);if(Tc)return En.onStart(()=>tm(Ir,Ti.fromStyles)),En.onDestroy(()=>Dc(Ir,Ti.toStyles)),void r.push(En);if(Ht.isFallbackTransition)return En.onStart(()=>tm(Ir,Ti.fromStyles)),En.onDestroy(()=>Dc(Ir,Ti.toStyles)),void r.push(En);const yN=[];Ti.timelines.forEach(Kr=>{Kr.stretchStartingKeyframe=!0,this.disabledNodes.has(Kr.element)||yN.push(Kr)}),Ti.timelines=yN,i.append(Ir,Ti.timelines),c.push({instruction:Ti,player:En,element:Ir}),Ti.queriedElements.forEach(Kr=>Ao(f,Kr,[]).push(En)),Ti.preStyleProps.forEach((Kr,sm)=>{if(Kr.size){let xa=g.get(sm);xa||g.set(sm,xa=new Set),Kr.forEach((XI,VA)=>xa.add(VA))}}),Ti.postStyleProps.forEach((Kr,sm)=>{let xa=v.get(sm);xa||v.set(sm,xa=new Set),Kr.forEach((XI,VA)=>xa.add(VA))})});if(Vt.length){const wt=[];Vt.forEach(Pt=>{wt.push(function $H(n,e){return new u.vHH(3505,!1)}())}),Ot.forEach(Pt=>Pt.destroy()),this.reportError(wt)}const pn=new Map,Ss=new Map;c.forEach(wt=>{const Pt=wt.element;i.has(Pt)&&(Ss.set(Pt,Pt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,pn))}),r.forEach(wt=>{const Pt=wt.element;this._getPreviousPlayers(Pt,!1,wt.namespaceId,wt.triggerName,null).forEach(En=>{Ao(pn,Pt,[]).push(En),En.destroy()})});const Xu=ge.filter(wt=>z1(wt,g,v)),Ju=new Map;H1(Ju,this.driver,at,v,Ku).forEach(wt=>{z1(wt,g,v)&&Xu.push(wt)});const p0=new Map;U.forEach((wt,Pt)=>{H1(p0,this.driver,new Set(wt),g,"!")}),Xu.forEach(wt=>{const Pt=Ju.get(wt),Ht=p0.get(wt);Ju.set(wt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const rm=[],gN=[],_N={};c.forEach(wt=>{const{element:Pt,player:Ht,instruction:En}=wt;if(i.has(Pt)){if(I.has(Pt))return Ht.onDestroy(()=>Dc(Pt,En.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(En.totalTime),void r.push(Ht);let Ir=_N;if(Ss.size>1){let Ro=Pt;const Gh=[];for(;Ro=Ro.parentNode;){const Ti=Ss.get(Ro);if(Ti){Ir=Ti;break}Gh.push(Ro)}Gh.forEach(Ti=>Ss.set(Ti,Ir))}const Tc=this._buildAnimation(Ht.namespaceId,En,pn,a,p0,Ju);if(Ht.setRealPlayer(Tc),Ir===_N)rm.push(Ht);else{const Ro=this.playersByElement.get(Ir);Ro&&Ro.length&&(Ht.parentPlayer=$h(Ro)),r.push(Ht)}}else tm(Pt,En.fromStyles),Ht.onDestroy(()=>Dc(Pt,En.toStyles)),gN.push(Ht),I.has(Pt)&&r.push(Ht)}),gN.forEach(wt=>{const Pt=a.get(wt.element);if(Pt&&Pt.length){const Ht=$h(Pt);wt.setRealPlayer(Ht)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<ge.length;wt++){const Pt=ge[wt],Ht=Pt[Ta];if(U_(Pt,NI),Ht&&Ht.hasAnimation)continue;let En=[];if(f.size){let Tc=f.get(Pt);Tc&&Tc.length&&En.push(...Tc);let Ro=this.driver.query(Pt,_A,!0);for(let Gh=0;Gh<Ro.length;Gh++){let Ti=f.get(Ro[Gh]);Ti&&Ti.length&&En.push(...Ti)}}const Ir=En.filter(Tc=>!Tc.destroyed);Ir.length?Wj(this,Pt,Ir):this.processLeaveNode(Pt)}return ge.length=0,rm.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Pt=this.players.indexOf(wt);this.players.splice(Pt,1)}),wt.play()}),rm}elementContainsData(e,t){let i=!1;const r=t[Ta];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==f0;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,I=v!==a,x=Ao(i,v,[]);this._getPreviousPlayers(v,I,c,f,t.toState).forEach(U=>{const G=U.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),U.destroy(),x.push(U)})}tm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const f=t.triggerName,g=t.element,v=[],I=new Set,x=new Set,V=t.timelines.map(G=>{const ne=G.element;I.add(ne);const ge=ne[Ta];if(ge&&ge.removedBeforeQueried)return new Xb(G.duration,G.delay);const Ge=ne!==g,at=function qj(n){const e=[];return $1(n,e),e}((i.get(ne)||Bj).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===ne),vt=a.get(ne),pt=c.get(ne),Ot=m1(0,this._normalizer,0,G.keyframes,vt,pt),Vt=this._buildPlayer(G,Ot,at);if(G.subTimeline&&r&&x.add(ne),Ge){const pn=new kA(e,f,ne);pn.setRealPlayer(Vt),v.push(pn)}return Vt});v.forEach(G=>{Ao(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function $j(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,G.element,G))}),I.forEach(G=>Sa(G,I1));const U=$h(V);return U.onDestroy(()=>{I.forEach(G=>U_(G,I1)),Dc(g,t.toStyles)}),x.forEach(G=>{Ao(r,G,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xb(e.duration,e.delay)}}class kA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>uA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ao(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function KI(n){return n&&1===n.nodeType}function U1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function H1(n,e,t,i,r){const a=[];t.forEach(g=>a.push(U1(g)));const c=[];i.forEach((g,v)=>{const I=new Map;g.forEach(x=>{const V=e.computeStyle(v,x,r);I.set(x,V),(!V||0==V.length)&&(v[Ta]=Uj,c.push(v))}),n.set(v,I)});let f=0;return t.forEach(g=>U1(g,a[f++])),c}function j1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:c(v),a.set(f,g),g}return e.forEach(f=>{const g=c(f);1!==g&&t.get(g).push(f)}),t}function Sa(n,e){n.classList?.add(e)}function U_(n,e){n.classList?.remove(e)}function Wj(n,e,t){$h(t).onDone(()=>n.processLeaveNode(e))}function $1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof aP?$1(i.players,e):e.push(i)}}function z1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class ZI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new jj(e,t,i),this._timelineEngine=new Pj(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let f=this._triggerCache[c];if(!f){const g=[],I=wA(this._driver,a,g,[]);if(g.length)throw function RH(n,e){return new u.vHH(3404,!1)}();f=function Aj(n,e,t){return new kj(n,e,t)}(r,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=g1(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,f]=g1(i);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Yj=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Dc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dc(this._element,this._initialStyles),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tm(this._element,this._endStyles),this._endStyles=null),Dc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function RA(n){let e=null;return n.forEach((t,i)=>{(function Qj(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class G1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:A1(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Xj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return b1(e,t)}getParentElement(e){return pA(e)}query(e,t,i){return w1(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v=new Map,I=c.filter(U=>U instanceof G1);(function nj(n,e){return 0===n||0===e})(i,r)&&I.forEach(U=>{U.currentSnapshot.forEach((G,ne)=>v.set(ne,G))});let x=function XH(n){return n.length?n[0]instanceof Map?n:n.map(e=>D1(e)):[]}(t).map(U=>zh(U));x=function ij(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(f=>c.set(f,A1(n,f)))}}return e}(e,x,v);const V=function Zj(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=RA(e[0]),e.length>1&&(i=RA(e[e.length-1]))):e instanceof Map&&(t=RA(e)),t||i?new Yj(n,t,i):null}(e,x);return new G1(e,x,g,V)}}let Jj=(()=>{class n extends rP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?sP(t):t;return W1(this._renderer,null,i,"register",[r]),new e$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class e$ extends class sB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new t$(this._id,e,t||{},this._renderer)}}class t${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return W1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const q1="@.disabled";let n$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new K1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const c=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(c,f,t,I.name,I)};return i.data.animation.forEach(g),new i$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ZI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class K1{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==q1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class i$ extends K1{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==q1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function r$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function s$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let o$=(()=>{class n extends ZI{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(mA),u.LFG(TA),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Z1=[{provide:rP,useClass:Jj},{provide:TA,useFactory:function a$(){return new Tj}},{provide:ZI,useClass:o$},{provide:u.FYo,useFactory:function l$(n,e,t){return new n$(n,e,t)},deps:[Ga,ZI,u.R0b]}],OA=[{provide:mA,useFactory:()=>new Xj},{provide:u.QbO,useValue:"BrowserAnimations"},...Z1],Y1=[{provide:mA,useClass:C1},{provide:u.QbO,useValue:"NoopAnimations"},...Z1];let c$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y1:OA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:OA,imports:[ho]}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class PA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class d$ extends PA{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class h$ extends PA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class f$ extends PA{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class m$ extends class p${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof d$?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof h$?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof f$?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const f=c.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ns,Qn,u$,QI]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ns,Qn,zM,Qn]}),n})(),D$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ns,Qn,QI,r0,zM,f2,Qn]}),n})();const J1=hP();class T${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tr(-this._previousScrollPosition.left),e.style.top=tr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),J1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J1&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class S${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eN{enable(){}disable(){}attach(){}}function NA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class x${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();NA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let M$=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new eN,this.close=c=>new S$(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new T$(this._viewportRuler,this._document),this.reposition=c=>new x$(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QM),u.LFG(MI),u.LFG(u.R0b),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A${constructor(e){if(this.scrollStrategy=new eN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class k${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let nN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R$=(()=>{class n extends nN{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O$=(()=>{class n extends nN{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Xp(a)},this._clickListener=a=>{const c=Xp(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const I=g[v];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(Ys),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iN=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||$M()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),$M()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(Ys))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class P${constructor(e,t,i,r,a,c,f,g,v,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=ou.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ps(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tr(this._config.width),e.height=tr(this._config.height),e.minWidth=tr(this._config.minWidth),e.minHeight=tr(this._config.minHeight),e.maxWidth=tr(this._config.maxWidth),e.maxHeight=tr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=II(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(xo((0,pM.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const rN="cdk-overlay-connected-position-bounding-box",N$=/([A-Za-z%]+)$/;class F${constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=ou.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(rN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),I=this._getOverlayFit(v,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(I,v,i)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const v of a){const I=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);I>g&&(g=I,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&im(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?c:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=oN(t);let{x:c,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(c+=g),v&&(f+=v);let V=0-f,U=f+a.height-i.height,G=this._subtractOverflows(a.width,0-c,c+a.width-i.width),ne=this._subtractOverflows(a.height,V,U),ge=G*ne;return{visibleArea:ge,isCompletelyWithinViewport:a.width*a.height===ge,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:G==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=sN(this._overlayRef.getConfig().minHeight),f=sN(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=oN(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),g=Math.max(a.top-i.top-e.y,0),v=Math.max(a.left-i.left-e.x,0);let I=0,x=0;return I=r.width<=a.width?v||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,x=r.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new k$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,f,I,x,V;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),G=this._lastBoundingBoxSize.height;a=2*U,c=e.y-U,a>G&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-G/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)V=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,I=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),G=this._lastBoundingBoxSize.width;I=2*U,x=e.x-U,I>G&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-G/2)}return{top:c,left:x,bottom:f,right:V,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=tr(i.height),r.top=tr(i.top),r.bottom=tr(i.bottom),r.width=tr(i.width),r.left=tr(i.left),r.right=tr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=tr(a)),c&&(r.maxWidth=tr(c))}this._lastBoundingBoxSize=i,im(this._boundingBox.style,r)}_resetBoundingBoxStyles(){im(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){im(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();im(i,this._getExactOverlayY(t,e,I)),im(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),c.maxHeight&&(r?i.maxHeight=tr(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=tr(c.maxWidth):a&&(i.maxWidth="")),im(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=tr(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=tr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tN(e,i),isOriginOutsideView:NA(e,i),isOverlayClipped:tN(t,i),isOverlayOutsideView:NA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&II(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function im(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function sN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(N$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function oN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const aN="cdk-global-overlay-wrapper";class L${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(aN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,x=this._xOffset,V="rtl"===this._overlayRef.getConfig().direction;let U="",G="",ne="";g?ne="flex-start":"center"===I?(ne="center",V?G=x:U=x):V?"left"===I||"end"===I?(ne="flex-end",U=x):("right"===I||"start"===I)&&(ne="flex-start",G=x):"left"===I||"start"===I?(ne="flex-start",U=x):("right"===I||"end"===I)&&(ne="flex-end",G=x),e.position=this._cssPosition,e.marginLeft=g?"0":U,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":G,t.justifyContent=ne,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(aN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let V$=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new L$}flexibleConnectedTo(t){return new F$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MI),u.LFG(ae),u.LFG(Ys),u.LFG(iN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B$=0,FA=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=g,this._document=v,this._directionality=I,this._location=x,this._outsideClickDispatcher=V,this._animationsModuleType=U}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new A$(t);return c.direction=c.direction||this._directionality.value,new P$(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+B$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new m$(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(M$),u.LFG(iN),u.LFG(u._Vd),u.LFG(V$),u.LFG(R$),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ae),u.LFG(qM),u.LFG(Fe),u.LFG(O$),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const j$={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[FA],useFactory:function H$(n){return()=>n.scrollStrategies.reposition()}};let $$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[FA,j$],imports:[B_,QI,zP,zP]}),n})();const K$={provide:new u.OlP("mat-select-scroll-strategy"),deps:[FA],useFactory:function q$(n){return()=>n.scrollStrategies.reposition()}};let Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[K$],imports:[ns,$$,NP,Qn,a0,X1,NP,Qn]}),n})(),Y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qn,Qn]}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[B_]}),n})(),LA=(()=>{class n{constructor(){this.changes=new nn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c3={provide:LA,deps:[[new u.FiY,new u.tp0,LA]],useFactory:function l3(n){return n||new LA}};let u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[c3,E2],imports:[Qn,ns,QI,LP,Q$,d1,r0,Qn]}),n})(),I3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[r0,Qn,Qn]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pU,d1,GU,D$,LP,g$,X1,Y$,Z$,aH,u3,I3]}),n})(),T3=(()=>{class n{constructor(t){this.loaderService=t}intercept(t,i){return this.loaderService.show(),i.handle(t).pipe(Df(()=>this.loaderService.hide()))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[uH]}),n.\u0275inj=u.cJS({providers:[{provide:rA,useClass:T3,multi:!0}],imports:[ho,WA,F2,_s.hO.initializeApp(f1_firebase),c$,D3,xB.forRoot(),xU]}),n})();(0,u.G48)(),Za().bootstrapModule(S3).catch(n=>console.error(n))},5867:(ht,Me,F)=>{F.d(Me,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=F(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(ht,Me,F)=>{F.d(Me,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(ht,Me,F)=>{F.r(Me);var u=F(5861),$=F(3942),P=F(8247),le=F(2090),ae=(F(9681),F(1877),F(4859));function pe(){return window}function W(){return(W=(0,u.Z)(function*(j,O,B){var se;const{BuildInfo:Le}=pe();(0,P.ap)(O.sessionId,"AuthEvent did not contain a session ID");const st=yield _e(O.sessionId),ot={};return(0,P.aq)()?ot.ibi=Le.packageName:(0,P.ar)()?ot.apn=Le.packageName:(0,P.as)(j,"operation-not-supported-in-this-environment"),Le.displayName&&(ot.appDisplayName=Le.displayName),ot.sessionId=st,(0,P.at)(j,B,O.type,void 0,null!==(se=O.eventId)&&void 0!==se?se:void 0,ot)})).apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(j){const{BuildInfo:O}=pe(),B={};(0,P.aq)()?B.iosBundleId=O.packageName:(0,P.ar)()?B.androidPackageName=O.packageName:(0,P.as)(j,"operation-not-supported-in-this-environment"),yield(0,P.au)(j,B)})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(j,O,B){const{cordova:se}=pe();let Le=()=>{};try{yield new Promise((st,ot)=>{let Ae=null;function Be(){var Bt;st();const _n=null===(Bt=se.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof _n&&_n(),"function"==typeof B?.close&&B.close()}function Ft(){Ae||(Ae=window.setTimeout(()=>{ot((0,P.aw)(j,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&Ft()}O.addPassiveListener(Be),document.addEventListener("resume",Ft,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",gn,!1),Le=()=>{O.removePassiveListener(Be),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",gn,!1),Ae&&window.clearTimeout(Ae)}})}finally{Le()}})).apply(this,arguments)}function _e(j){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(j){const O=Xe(j),B=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xe(j){if((0,P.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const O=new ArrayBuffer(j.length),B=new Uint8Array(O);for(let se=0;se<j.length;se++)B[se]=j.charCodeAt(se);return B}class Oe extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(O)),super.onEvent(O)}initialized(){var O=this;return(0,u.Z)(function*(){yield O.initPromise})()}}function oe(j){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.Z)(function*(j){const O=yield te()._get(me(j));return O&&(yield te()._remove(me(j))),O})).apply(this,arguments)}function X(){const j=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const se=Math.floor(Math.random()*O.length);j.push(O.charAt(se))}return j.join("")}function te(){return(0,P.az)(P.b)}function me(j){return(0,P.aA)("authEvent",j.config.apiKey,j.name)}function He(j){if(!j?.includes("?"))return{};const[O,...B]=j.split("?");return(0,le.zd)(B.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Yt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Ri(j=(0,le.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yr(){try{const j=self.localStorage,O=P.aI();if(j)return j.setItem(O,"1"),j.removeItem(O),!function Zr(j=(0,le.z$)()){return function Hi(){return(0,le.w1)()&&11===document?.documentMode}()||function Vn(j=(0,le.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,le.hl)()}catch{return ji()&&(0,le.hl)()}return!1}function ji(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function jt(){return"http:"===Yt()||"https:"===Yt()}()||(0,le.ru)()||Ri())&&!function Pr(){return(0,le.b$)()||(0,le.UG)()}()&&Yr()&&!ji()}function Dr(){return Ri()&&typeof document<"u"}function Je(){return(Je=(0,u.Z)(function*(){return!!Dr()&&new Promise(j=>{const O=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),j(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},In=P.ax,bi="persistence";function Sn(j){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(j){yield j._initializationPromise;const O=gt(),B=P.aA(bi,j.config.apiKey,j.name);O&&O.setItem(B,j._getPersistence())})).apply(this,arguments)}function gt(){var j;try{return(null===(j=function ri(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const _t=P.ax;class Nt{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class an{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(O){var B=this;return(0,u.Z)(function*(){const se=O._key();let Le=B.eventManagers.get(se);return Le||(Le=new Oe(O),B.eventManagers.set(se,Le),B.attachCallbackListeners(O,Le)),Le})()}_openPopup(O){(0,P.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,B,se,Le){var st=this;return(0,u.Z)(function*(){!function Ce(j){var O,B,se,Le,st,ot,Ae,Be,Ft,gn;const Bt=pe();(0,P.ax)("function"==typeof(null===(O=Bt?.universalLinks)||void 0===O?void 0:O.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(B=Bt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(st=null===(Le=null===(se=Bt?.cordova)||void 0===se?void 0:se.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===st?void 0:st.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Be=null===(Ae=null===(ot=Bt?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Be?void 0:Be.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(gn=null===(Ft=Bt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===gn?void 0:gn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const ot=yield st._initialize(O);yield ot.initialized(),ot.resetRedirect(),(0,P.aD)(),yield st._originValidation(O);const Ae=function De(j,O,B=null){return{type:O,eventId:B,urlResponse:null,sessionId:X(),postBody:null,tenantId:j.tenantId,error:(0,P.aw)(j,"no-auth-event")}}(O,se,Le);yield function qe(j,O){return te()._set(me(j),O)}(O,Ae);const Be=yield function K(j,O,B){return W.apply(this,arguments)}(O,Ae,B),Ft=yield function Ne(j){const{cordova:O}=pe();return new Promise(B=>{O.plugins.browsertab.isAvailable(se=>{let Le=null;se?O.plugins.browsertab.openUrl(j):Le=O.InAppBrowser.open(j,(0,P.av)()?"_blank":"_system","location=yes"),B(Le)})})}(Be);return function Te(j,O,B){return it.apply(this,arguments)}(O,ot,Ft)})()}_isIframeWebStorageSupported(O,B){throw new Error("Method not implemented.")}_originValidation(O){const B=O._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ee(j){return ze.apply(this,arguments)}(O)),this.originValidationPromises[B]}attachCallbackListeners(O,B){const{universalLinks:se,handleOpenURL:Le,BuildInfo:st}=pe(),ot=setTimeout((0,u.Z)(function*(){yield oe(O),B.onEvent(Ke())}),500),Ae=function(){var gn=(0,u.Z)(function*(Bt){clearTimeout(ot);const _n=yield oe(O);let Xr=null;_n&&Bt?.url&&(Xr=function we(j,O){var B,se;const Le=function Ue(j){const O=He(j),B=O.link?decodeURIComponent(O.link):void 0,se=He(B).link,Le=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return He(Le).link||Le||se||B||j}(O);if(Le.includes("/__/auth/callback")){const st=He(Le),ot=st.firebaseError?function ce(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,Ae=null===(se=null===(B=ot?.code)||void 0===B?void 0:B.split("auth/"))||void 0===se?void 0:se[1],Be=Ae?(0,P.aw)(Ae):null;return Be?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Le,postBody:null}}return null}(_n,Bt.url)),B.onEvent(Xr||Ke())});return function(_n){return gn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Ae);const Be=Le,Ft=`${st.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var gn=(0,u.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Ft)&&Ae({url:Bt}),"function"==typeof Be)try{Be(Bt)}catch(_n){console.error(_n)}});return function(Bt){return gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(O){var B=this;return(0,u.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,B,se,Le){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(O,B,se,Le)})()}_openRedirect(O,B,se,Le){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(O,B,se,Le)})()}_isIframeWebStorageSupported(O,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,B)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,u.Z)(function*(){if(O.underlyingResolver)return;const B=yield function Qr(){return Je.apply(this,arguments)}();O.underlyingResolver=B?O.cordovaResolver:O.browserResolver})()}}function ir(j){return j.unwrap()}function Oi(j){return $i(j)}function $i(j){const{_tokenResponse:O}=j instanceof le.ZR?j.customData:j;if(!O)return null;if(!(j instanceof le.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return P.P.credentialFromResult(j);const B=O.providerId;if(!B||B===P.o.PASSWORD)return null;let se;switch(B){case P.o.GOOGLE:se=P.Q;break;case P.o.FACEBOOK:se=P.N;break;case P.o.GITHUB:se=P.T;break;case P.o.TWITTER:se=P.W;break;default:const{oauthIdToken:Le,oauthAccessToken:st,oauthTokenSecret:ot,pendingToken:Ae,nonce:Be}=O;return st||ot||Le||Ae?Ae?B.startsWith("saml.")?P.aL._create(B,Ae):P.J._fromParams({providerId:B,signInMethod:B,pendingToken:Ae,idToken:Le,accessToken:st}):new P.U(B).credential({idToken:Le,accessToken:st,rawNonce:Be}):null}return j instanceof le.ZR?se.credentialFromError(j):se.credentialFromResult(j)}function Ut(j,O){return O.catch(B=>{throw B instanceof le.ZR&&function kt(j,O){var B,se;const Le=null===(B=O.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(se=O)||void 0===se?void 0:se.code))O.resolver=new gi(j,P.an(j,O));else if(Le){const st=$i(O),ot=O;st&&(ot.credential=st,ot.tenantId=Le.tenantId||void 0,ot.email=Le.email||void 0,ot.phoneNumber=Le.phoneNumber||void 0)}}(j,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:Oi(B),additionalUserInfo:P.al(B),user:Rn.getOrCreate(Le)}})}function pr(j,O){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(j,O){const B=yield O;return{verificationId:B.verificationId,confirm:se=>Ut(j,B.confirm(se))}})).apply(this,arguments)}class gi{constructor(O,B){this.resolver=B,this.auth=function si(j){return j.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Ut(ir(this.auth),this.resolver.resolveSignIn(O))}}class Rn{constructor(O){this._delegate=O,this.multiFactor=P.ao(O)}static getOrCreate(O){return Rn.USER_MAP.has(O)||Rn.USER_MAP.set(O,new Rn(O)),Rn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P.Z(B._delegate,O))})()}linkWithPhoneNumber(O,B){var se=this;return(0,u.Z)(function*(){return pr(se.auth,P.l(se._delegate,O,B))})()}linkWithPopup(O){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P.d(B._delegate,O,Nt))})()}linkWithRedirect(O){var B=this;return(0,u.Z)(function*(){return yield Sn(P.aE(B.auth)),P.g(B._delegate,O,Nt)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P._(B._delegate,O))})()}reauthenticateWithPhoneNumber(O,B){return pr(this.auth,P.r(this._delegate,O,B))}reauthenticateWithPopup(O){return Ut(this.auth,P.e(this._delegate,O,Nt))}reauthenticateWithRedirect(O){var B=this;return(0,u.Z)(function*(){return yield Sn(P.aE(B.auth)),P.h(B._delegate,O,Nt)})()}sendEmailVerification(O){return P.ab(this._delegate,O)}unlink(O){var B=this;return(0,u.Z)(function*(){return yield P.ak(B._delegate,O),B})()}updateEmail(O){return P.ag(this._delegate,O)}updatePassword(O){return P.ah(this._delegate,O)}updatePhoneNumber(O){return P.u(this._delegate,O)}updateProfile(O){return P.af(this._delegate,O)}verifyBeforeUpdateEmail(O,B){return P.ac(this._delegate,O,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rn.USER_MAP=new WeakMap;const tt=P.ax;let Se=(()=>{class j{constructor(B,se){if(this.app=B,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;tt(Le,"invalid-api-key",{appName:B.name}),tt(Le,"invalid-api-key",{appName:B.name});const st=typeof window<"u"?Nt:void 0;this._delegate=se.initialize({options:{persistence:It(Le,B.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,se){P.G(this._delegate,B,se)}applyActionCode(B){return P.a2(this._delegate,B)}checkActionCode(B){return P.a3(this._delegate,B)}confirmPasswordReset(B,se){return P.a1(this._delegate,B,se)}createUserWithEmailAndPassword(B,se){var Le=this;return(0,u.Z)(function*(){return Ut(Le._delegate,P.a5(Le._delegate,B,se))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return P.aa(this._delegate,B)}isSignInWithEmailLink(B){return P.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,u.Z)(function*(){tt(Xn(),B._delegate,"operation-not-supported-in-this-environment");const se=yield P.j(B._delegate,Nt);return se?Ut(B._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function mn(j,O){(0,P.aE)(j)._logFramework(O)}(this._delegate,B)}onAuthStateChanged(B,se,Le){const{next:st,error:ot,complete:Ae}=nt(B,se,Le);return this._delegate.onAuthStateChanged(st,ot,Ae)}onIdTokenChanged(B,se,Le){const{next:st,error:ot,complete:Ae}=nt(B,se,Le);return this._delegate.onIdTokenChanged(st,ot,Ae)}sendSignInLinkToEmail(B,se){return P.a7(this._delegate,B,se)}sendPasswordResetEmail(B,se){return P.a0(this._delegate,B,se||void 0)}setPersistence(B){var se=this;return(0,u.Z)(function*(){let Le;switch(function Qs(j,O){In(Object.values(Jn).includes(O),j,"invalid-persistence-type"),(0,le.b$)()?In(O!==Jn.SESSION,j,"unsupported-persistence-type"):(0,le.UG)()?In(O===Jn.NONE,j,"unsupported-persistence-type"):ji()?In(O===Jn.NONE||O===Jn.LOCAL&&(0,le.hl)(),j,"unsupported-persistence-type"):In(O===Jn.NONE||Yr(),j,"unsupported-persistence-type")}(se._delegate,B),B){case Jn.SESSION:Le=P.a;break;case Jn.LOCAL:Le=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case Jn.NONE:Le=P.L;break;default:return P.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Ut(this._delegate,P.X(this._delegate))}signInWithCredential(B){return Ut(this._delegate,P.Y(this._delegate,B))}signInWithCustomToken(B){return Ut(this._delegate,P.$(this._delegate,B))}signInWithEmailAndPassword(B,se){return Ut(this._delegate,P.a6(this._delegate,B,se))}signInWithEmailLink(B,se){return Ut(this._delegate,P.a9(this._delegate,B,se))}signInWithPhoneNumber(B,se){return pr(this._delegate,P.s(this._delegate,B,se))}signInWithPopup(B){var se=this;return(0,u.Z)(function*(){return tt(Xn(),se._delegate,"operation-not-supported-in-this-environment"),Ut(se._delegate,P.c(se._delegate,B,Nt))})()}signInWithRedirect(B){var se=this;return(0,u.Z)(function*(){return tt(Xn(),se._delegate,"operation-not-supported-in-this-environment"),yield Sn(se._delegate),P.f(se._delegate,B,Nt)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return P.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Jn,j})();function nt(j,O,B){let se=j;"function"!=typeof j&&({next:se,error:O,complete:B}=j);const Le=se;return{next:ot=>Le(ot&&Rn.getOrCreate(ot)),error:O,complete:B}}function It(j,O){const B=function bn(j,O){const B=gt();if(!B)return[];const se=P.aA(bi,j,O);switch(B.getItem(se)){case Jn.NONE:return[P.L];case Jn.LOCAL:return[P.i,P.a];case Jn.SESSION:return[P.a];default:return[]}}(j,O);if(typeof self<"u"&&!B.includes(P.i)&&B.push(P.i),typeof window<"u")for(const se of[P.b,P.a])B.includes(se)||B.push(se);return B.includes(P.L)||B.push(P.L),B}class Dt{constructor(){this.providerId="phone",this._delegate=new P.P(ir($.Z.auth()))}static credential(O,B){return P.P.credential(O,B)}verifyPhoneNumber(O,B){return this._delegate.verifyPhoneNumber(O,B)}unwrap(){return this._delegate}}Dt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Dt.PROVIDER_ID=P.P.PROVIDER_ID;const tn=P.ax;class q{constructor(O,B,se=$.Z.app()){var Le;tn(null===(Le=se.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new P.R(O,B,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(j){j.INTERNAL.registerComponent(new ae.wA("auth-compat",O=>{const B=O.getProvider("app-compat").getImmediate(),se=O.getProvider("auth");return new Se(B,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Dt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:q,TwitterAuthProvider:P.W,Auth:Se,AuthCredential:P.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.2.24")}($.Z)},9751:(ht,Me,F)=>{F.d(Me,{y:()=>pe});var u=F(930),$=F(727),P=F(8822),le=F(9635),de=F(2416),ve=F(576),ae=F(2806);let pe=(()=>{class ee{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Te=new ee;return Te.source=this,Te.operator=Ne,Te}subscribe(Ne,Te,it){const Ce=function W(ee){return ee&&ee instanceof u.Lv||function K(ee){return ee&&(0,ve.m)(ee.next)&&(0,ve.m)(ee.error)&&(0,ve.m)(ee.complete)}(ee)&&(0,$.Nn)(ee)}(Ne)?Ne:new u.Hp(Ne,Te,it);return(0,ae.x)(()=>{const{operator:_e,source:et}=this;Ce.add(_e?_e.call(Ce,et):et?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Te){Ne.error(Te)}}forEach(Ne,Te){return new(Te=be(Te))((it,Ce)=>{const _e=new u.Hp({next:et=>{try{Ne(et)}catch(Xe){Ce(Xe),_e.unsubscribe()}},error:Ce,complete:it});this.subscribe(_e)})}_subscribe(Ne){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ne)}[P.L](){return this}pipe(...Ne){return(0,le.U)(Ne)(this)}toPromise(Ne){return new(Ne=be(Ne))((Te,it)=>{let Ce;this.subscribe(_e=>Ce=_e,_e=>it(_e),()=>Te(Ce))})}}return ee.create=ze=>new ee(ze),ee})();function be(ee){var ze;return null!==(ze=ee??de.v.Promise)&&void 0!==ze?ze:Promise}},7579:(ht,Me,F)=>{F.d(Me,{x:()=>ae});var u=F(9751),$=F(727);const le=(0,F(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=F(8737),ve=F(2806);let ae=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ee=new pe(this,this);return ee.operator=W,ee}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(W)}})}error(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ee}=this;for(;ee.length;)ee.shift().error(W)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ee,isStopped:ze,observers:Ne}=this;return ee||ze?$.Lc:(this.currentObservers=null,Ne.push(W),new $.w0(()=>{this.currentObservers=null,(0,de.P)(Ne,W)}))}_checkFinalizedStatuses(W){const{hasError:ee,thrownError:ze,isStopped:Ne}=this;ee?W.error(ze):Ne&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return be.create=(K,W)=>new pe(K,W),be})();class pe extends ae{constructor(K,W){super(),this.destination=K,this.source=W}next(K){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ee||ee.call(W,K)}error(K){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ee||ee.call(W,K)}complete(){var K,W;null===(W=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===W||W.call(K)}_subscribe(K){var W,ee;return null!==(ee=null===(W=this.source)||void 0===W?void 0:W.subscribe(K))&&void 0!==ee?ee:$.Lc}}},930:(ht,Me,F)=>{F.d(Me,{Hp:()=>it,Lv:()=>ee});var u=F(576),$=F(727),P=F(2416),le=F(7849),de=F(5032);const ve=be("C",void 0,void 0);function be(Fe,Oe,De){return{kind:Fe,value:Oe,error:De}}var K=F(3410),W=F(2806);class ee extends $.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,$.Nn)(Oe)&&Oe.add(this)):this.destination=Xe}static create(Oe,De,qe){return new it(Oe,De,qe)}next(Oe){this.isStopped?et(function pe(Fe){return be("N",Fe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?et(function ae(Fe){return be("E",void 0,Fe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?et(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ne(Fe,Oe){return ze.call(Fe,Oe)}class Te{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:De}=this;if(De.next)try{De.next(Oe)}catch(qe){Ce(qe)}}error(Oe){const{partialObserver:De}=this;if(De.error)try{De.error(Oe)}catch(qe){Ce(qe)}else Ce(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(De){Ce(De)}}}class it extends ee{constructor(Oe,De,qe){let oe;if(super(),(0,u.m)(Oe)||!Oe)oe={next:Oe??void 0,error:De??void 0,complete:qe??void 0};else{let fe;this&&P.v.useDeprecatedNextContext?(fe=Object.create(Oe),fe.unsubscribe=()=>this.unsubscribe(),oe={next:Oe.next&&Ne(Oe.next,fe),error:Oe.error&&Ne(Oe.error,fe),complete:Oe.complete&&Ne(Oe.complete,fe)}):oe=Oe}this.destination=new Te(oe)}}function Ce(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Fe):(0,le.h)(Fe)}function et(Fe,Oe){const{onStoppedNotification:De}=P.v;De&&K.z.setTimeout(()=>De(Fe,Oe))}const Xe={closed:!0,next:de.Z,error:function _e(Fe){throw Fe},complete:de.Z}},727:(ht,Me,F)=>{F.d(Me,{Lc:()=>ve,w0:()=>de,Nn:()=>ae});var u=F(576);const P=(0,F(3888).d)(be=>function(W){be(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ee,ze)=>`${ze+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=F(8737);class de{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ne of W)Ne.remove(this);else W.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(Ne){K=Ne instanceof P?Ne.errors:[Ne]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ne of ze)try{pe(Ne)}catch(Te){K=K??[],Te instanceof P?K=[...K,...Te.errors]:K.push(Te)}}if(K)throw new P(K)}}add(K){var W;if(K&&K!==this)if(this.closed)pe(K);else{if(K instanceof de){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(K)}}_hasParent(K){const{_parentage:W}=this;return W===K||Array.isArray(W)&&W.includes(K)}_addParent(K){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(K),W):W?[W,K]:K}_removeParent(K){const{_parentage:W}=this;W===K?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,K)}remove(K){const{_finalizers:W}=this;W&&(0,le.P)(W,K),K instanceof de&&K._removeParent(this)}}de.EMPTY=(()=>{const be=new de;return be.closed=!0,be})();const ve=de.EMPTY;function ae(be){return be instanceof de||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function pe(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(ht,Me,F)=>{F.d(Me,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Me,F)=>{F.d(Me,{E:()=>$});const $=new(F(9751).y)(de=>de.complete())},8996:(ht,Me,F)=>{F.d(Me,{D:()=>Oe});var u=F(8421),$=F(5363),P=F(9468),ve=F(9751),pe=F(2202),be=F(576),K=F(9672);function ee(De,qe){if(!De)throw new Error("Iterable cannot be null");return new ve.y(oe=>{(0,K.f)(oe,qe,()=>{const fe=De[Symbol.asyncIterator]();(0,K.f)(oe,qe,()=>{fe.next().then(we=>{we.done?oe.complete():oe.next(we.value)})},0,!0)})})}var ze=F(3670),Ne=F(8239),Te=F(1144),it=F(6495),Ce=F(2206),_e=F(4532),et=F(3260);function Oe(De,qe){return qe?function Fe(De,qe){if(null!=De){if((0,ze.c)(De))return function le(De,qe){return(0,u.Xf)(De).pipe((0,P.R)(qe),(0,$.Q)(qe))}(De,qe);if((0,Te.z)(De))return function ae(De,qe){return new ve.y(oe=>{let fe=0;return qe.schedule(function(){fe===De.length?oe.complete():(oe.next(De[fe++]),oe.closed||this.schedule())})})}(De,qe);if((0,Ne.t)(De))return function de(De,qe){return(0,u.Xf)(De).pipe((0,P.R)(qe),(0,$.Q)(qe))}(De,qe);if((0,Ce.D)(De))return ee(De,qe);if((0,it.T)(De))return function W(De,qe){return new ve.y(oe=>{let fe;return(0,K.f)(oe,qe,()=>{fe=De[pe.h](),(0,K.f)(oe,qe,()=>{let we,X;try{({value:we,done:X}=fe.next())}catch(te){return void oe.error(te)}X?oe.complete():oe.next(we)},0,!0)}),()=>(0,be.m)(fe?.return)&&fe.return()})}(De,qe);if((0,et.L)(De))return function Xe(De,qe){return ee((0,et.Q)(De),qe)}(De,qe)}throw(0,_e.z)(De)}(De,qe):(0,u.Xf)(De)}},8421:(ht,Me,F)=>{F.d(Me,{Xf:()=>ze});var u=F(655),$=F(1144),P=F(8239),le=F(9751),de=F(3670),ve=F(2206),ae=F(4532),pe=F(6495),be=F(3260),K=F(576),W=F(7849),ee=F(8822);function ze(Fe){if(Fe instanceof le.y)return Fe;if(null!=Fe){if((0,de.c)(Fe))return function Ne(Fe){return new le.y(Oe=>{const De=Fe[ee.L]();if((0,K.m)(De.subscribe))return De.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,$.z)(Fe))return function Te(Fe){return new le.y(Oe=>{for(let De=0;De<Fe.length&&!Oe.closed;De++)Oe.next(Fe[De]);Oe.complete()})}(Fe);if((0,P.t)(Fe))return function it(Fe){return new le.y(Oe=>{Fe.then(De=>{Oe.closed||(Oe.next(De),Oe.complete())},De=>Oe.error(De)).then(null,W.h)})}(Fe);if((0,ve.D)(Fe))return _e(Fe);if((0,pe.T)(Fe))return function Ce(Fe){return new le.y(Oe=>{for(const De of Fe)if(Oe.next(De),Oe.closed)return;Oe.complete()})}(Fe);if((0,be.L)(Fe))return function et(Fe){return _e((0,be.Q)(Fe))}(Fe)}throw(0,ae.z)(Fe)}function _e(Fe){return new le.y(Oe=>{(function Xe(Fe,Oe){var De,qe,oe,fe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Fe);!(qe=yield De.next()).done;)if(Oe.next(qe.value),Oe.closed)return}catch(we){oe={error:we}}finally{try{qe&&!qe.done&&(fe=De.return)&&(yield fe.call(De))}finally{if(oe)throw oe.error}}Oe.complete()})})(Fe,Oe).catch(De=>Oe.error(De))})}},6451:(ht,Me,F)=>{F.d(Me,{T:()=>ve});var u=F(8189),$=F(8421),P=F(515),le=F(3269),de=F(8996);function ve(...ae){const pe=(0,le.yG)(ae),be=(0,le._6)(ae,1/0),K=ae;return K.length?1===K.length?(0,$.Xf)(K[0]):(0,u.J)(be)((0,de.D)(K,pe)):P.E}},5403:(ht,Me,F)=>{F.d(Me,{x:()=>$});var u=F(930);function $(le,de,ve,ae,pe){return new P(le,de,ve,ae,pe)}class P extends u.Lv{constructor(de,ve,ae,pe,be,K){super(de),this.onFinalize=be,this.shouldUnsubscribe=K,this._next=ve?function(W){try{ve(W)}catch(ee){de.error(ee)}}:super._next,this._error=pe?function(W){try{pe(W)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(W){de.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ht,Me,F)=>{F.d(Me,{U:()=>P});var u=F(4482),$=F(5403);function P(le,de){return(0,u.e)((ve,ae)=>{let pe=0;ve.subscribe((0,$.x)(ae,be=>{ae.next(le.call(de,be,pe++))}))})}},8189:(ht,Me,F)=>{F.d(Me,{J:()=>P});var u=F(5577),$=F(4671);function P(le=1/0){return(0,u.z)($.y,le)}},5577:(ht,Me,F)=>{F.d(Me,{z:()=>pe});var u=F(4004),$=F(8421),P=F(4482),le=F(9672),de=F(5403),ae=F(576);function pe(be,K,W=1/0){return(0,ae.m)(K)?pe((ee,ze)=>(0,u.U)((Ne,Te)=>K(ee,Ne,ze,Te))((0,$.Xf)(be(ee,ze))),W):("number"==typeof K&&(W=K),(0,P.e)((ee,ze)=>function ve(be,K,W,ee,ze,Ne,Te,it){const Ce=[];let _e=0,et=0,Xe=!1;const Fe=()=>{Xe&&!Ce.length&&!_e&&K.complete()},Oe=qe=>_e<ee?De(qe):Ce.push(qe),De=qe=>{Ne&&K.next(qe),_e++;let oe=!1;(0,$.Xf)(W(qe,et++)).subscribe((0,de.x)(K,fe=>{ze?.(fe),Ne?Oe(fe):K.next(fe)},()=>{oe=!0},void 0,()=>{if(oe)try{for(_e--;Ce.length&&_e<ee;){const fe=Ce.shift();Te?(0,le.f)(K,Te,()=>De(fe)):De(fe)}Fe()}catch(fe){K.error(fe)}}))};return be.subscribe((0,de.x)(K,Oe,()=>{Xe=!0,Fe()})),()=>{it?.()}}(ee,ze,be,W)))}},5363:(ht,Me,F)=>{F.d(Me,{Q:()=>le});var u=F(9672),$=F(4482),P=F(5403);function le(de,ve=0){return(0,$.e)((ae,pe)=>{ae.subscribe((0,P.x)(pe,be=>(0,u.f)(pe,de,()=>pe.next(be),ve),()=>(0,u.f)(pe,de,()=>pe.complete(),ve),be=>(0,u.f)(pe,de,()=>pe.error(be),ve)))})}},3099:(ht,Me,F)=>{F.d(Me,{B:()=>de});var u=F(8421),$=F(7579),P=F(930),le=F(4482);function de(ae={}){const{connector:pe=(()=>new $.x),resetOnError:be=!0,resetOnComplete:K=!0,resetOnRefCountZero:W=!0}=ae;return ee=>{let ze,Ne,Te,it=0,Ce=!1,_e=!1;const et=()=>{Ne?.unsubscribe(),Ne=void 0},Xe=()=>{et(),ze=Te=void 0,Ce=_e=!1},Fe=()=>{const Oe=ze;Xe(),Oe?.unsubscribe()};return(0,le.e)((Oe,De)=>{it++,!_e&&!Ce&&et();const qe=Te=Te??pe();De.add(()=>{it--,0===it&&!_e&&!Ce&&(Ne=ve(Fe,W))}),qe.subscribe(De),!ze&&it>0&&(ze=new P.Hp({next:oe=>qe.next(oe),error:oe=>{_e=!0,et(),Ne=ve(Xe,be,oe),qe.error(oe)},complete:()=>{Ce=!0,et(),Ne=ve(Xe,K),qe.complete()}}),(0,u.Xf)(Oe).subscribe(ze))})(ee)}}function ve(ae,pe,...be){if(!0===pe)return void ae();if(!1===pe)return;const K=new P.Hp({next:()=>{K.unsubscribe(),ae()}});return pe(...be).subscribe(K)}},9468:(ht,Me,F)=>{F.d(Me,{R:()=>$});var u=F(4482);function $(P,le=0){return(0,u.e)((de,ve)=>{ve.add(P.schedule(()=>de.subscribe(ve),le))})}},8505:(ht,Me,F)=>{F.d(Me,{b:()=>de});var u=F(576),$=F(4482),P=F(5403),le=F(4671);function de(ve,ae,pe){const be=(0,u.m)(ve)||ae||pe?{next:ve,error:ae,complete:pe}:ve;return be?(0,$.e)((K,W)=>{var ee;null===(ee=be.subscribe)||void 0===ee||ee.call(be);let ze=!0;K.subscribe((0,P.x)(W,Ne=>{var Te;null===(Te=be.next)||void 0===Te||Te.call(be,Ne),W.next(Ne)},()=>{var Ne;ze=!1,null===(Ne=be.complete)||void 0===Ne||Ne.call(be),W.complete()},Ne=>{var Te;ze=!1,null===(Te=be.error)||void 0===Te||Te.call(be,Ne),W.error(Ne)},()=>{var Ne,Te;ze&&(null===(Ne=be.unsubscribe)||void 0===Ne||Ne.call(be)),null===(Te=be.finalize)||void 0===Te||Te.call(be)}))}):le.y}},4408:(ht,Me,F)=>{F.d(Me,{o:()=>de});var u=F(727);class $ extends u.w0{constructor(ae,pe){super()}schedule(ae,pe=0){return this}}const P={setInterval(ve,ae,...pe){const{delegate:be}=P;return be?.setInterval?be.setInterval(ve,ae,...pe):setInterval(ve,ae,...pe)},clearInterval(ve){const{delegate:ae}=P;return(ae?.clearInterval||clearInterval)(ve)},delegate:void 0};var le=F(8737);class de extends ${constructor(ae,pe){super(ae,pe),this.scheduler=ae,this.work=pe,this.pending=!1}schedule(ae,pe=0){var be;if(this.closed)return this;this.state=ae;const K=this.id,W=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(W,K,pe)),this.pending=!0,this.delay=pe,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(W,this.id,pe),this}requestAsyncId(ae,pe,be=0){return P.setInterval(ae.flush.bind(ae,this),be)}recycleAsyncId(ae,pe,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return pe;null!=pe&&P.clearInterval(pe)}execute(ae,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ae,pe);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,pe){let K,be=!1;try{this.work(ae)}catch(W){be=!0,K=W||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ae,scheduler:pe}=this,{actions:be}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(be,this),null!=ae&&(this.id=this.recycleAsyncId(pe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Me,F)=>{F.d(Me,{v:()=>P});var u=F(6063);class ${constructor(de,ve=$.now){this.schedulerActionCtor=de,this.now=ve}schedule(de,ve=0,ae){return new this.schedulerActionCtor(this,de).schedule(ae,ve)}}$.now=u.l.now;class P extends ${constructor(de,ve=$.now){super(de,ve),this.actions=[],this._active=!1}flush(de){const{actions:ve}=this;if(this._active)return void ve.push(de);let ae;this._active=!0;do{if(ae=de.execute(de.state,de.delay))break}while(de=ve.shift());if(this._active=!1,ae){for(;de=ve.shift();)de.unsubscribe();throw ae}}}},4986:(ht,Me,F)=>{F.d(Me,{P:()=>le,z:()=>P});var u=F(4408);const P=new(F(7565).v)(u.o),le=P},6063:(ht,Me,F)=>{F.d(Me,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ht,Me,F)=>{F.d(Me,{z:()=>u});const u={setTimeout($,P,...le){const{delegate:de}=u;return de?.setTimeout?de.setTimeout($,P,...le):setTimeout($,P,...le)},clearTimeout($){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(ht,Me,F)=>{F.d(Me,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Me,F)=>{F.d(Me,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Me,F)=>{F.d(Me,{_6:()=>ve,jO:()=>le,yG:()=>de});var u=F(576),$=F(3532);function P(ae){return ae[ae.length-1]}function le(ae){return(0,u.m)(P(ae))?ae.pop():void 0}function de(ae){return(0,$.K)(P(ae))?ae.pop():void 0}function ve(ae,pe){return"number"==typeof P(ae)?ae.pop():pe}},8737:(ht,Me,F)=>{function u($,P){if($){const le=$.indexOf(P);0<=le&&$.splice(le,1)}}F.d(Me,{P:()=>u})},3888:(ht,Me,F)=>{function u($){const le=$(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Me,{d:()=>u})},2806:(ht,Me,F)=>{F.d(Me,{O:()=>le,x:()=>P});var u=F(2416);let $=null;function P(de){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!$;if(ve&&($={errorThrown:!1,error:null}),de(),ve){const{errorThrown:ae,error:pe}=$;if($=null,ae)throw pe}}else de()}function le(de){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(ht,Me,F)=>{function u($,P,le,de=0,ve=!1){const ae=P.schedule(function(){le(),ve?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(ae),!ve)return ae}F.d(Me,{f:()=>u})},4671:(ht,Me,F)=>{function u($){return $}F.d(Me,{y:()=>u})},1144:(ht,Me,F)=>{F.d(Me,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ht,Me,F)=>{F.d(Me,{D:()=>$});var u=F(576);function $(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(ht,Me,F)=>{function u($){return"function"==typeof $}F.d(Me,{m:()=>u})},3670:(ht,Me,F)=>{F.d(Me,{c:()=>P});var u=F(8822),$=F(576);function P(le){return(0,$.m)(le[u.L])}},6495:(ht,Me,F)=>{F.d(Me,{T:()=>P});var u=F(2202),$=F(576);function P(le){return(0,$.m)(le?.[u.h])}},8239:(ht,Me,F)=>{F.d(Me,{t:()=>$});var u=F(576);function $(P){return(0,u.m)(P?.then)}},3260:(ht,Me,F)=>{F.d(Me,{L:()=>le,Q:()=>P});var u=F(655),$=F(576);function P(de){return(0,u.FC)(this,arguments,function*(){const ae=de.getReader();try{for(;;){const{value:pe,done:be}=yield(0,u.qq)(ae.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(pe)}}finally{ae.releaseLock()}})}function le(de){return(0,$.m)(de?.getReader)}},3532:(ht,Me,F)=>{F.d(Me,{K:()=>$});var u=F(576);function $(P){return P&&(0,u.m)(P.schedule)}},4482:(ht,Me,F)=>{F.d(Me,{A:()=>$,e:()=>P});var u=F(576);function $(le){return(0,u.m)(le?.lift)}function P(le){return de=>{if($(de))return de.lift(function(ve){try{return le(ve,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Me,F)=>{function u(){}F.d(Me,{Z:()=>u})},9635:(ht,Me,F)=>{F.d(Me,{U:()=>P,z:()=>$});var u=F(4671);function $(...le){return P(le)}function P(le){return 0===le.length?u.y:1===le.length?le[0]:function(ve){return le.reduce((ae,pe)=>pe(ae),ve)}}},7849:(ht,Me,F)=>{F.d(Me,{h:()=>P});var u=F(2416),$=F(3410);function P(le){$.z.setTimeout(()=>{const{onUnhandledError:de}=u.v;if(!de)throw le;de(le)})}},4532:(ht,Me,F)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>u})},655:(ht,Me,F)=>{function le(X,te){var me={};for(var ce in X)Object.prototype.hasOwnProperty.call(X,ce)&&te.indexOf(ce)<0&&(me[ce]=X[ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ce=Object.getOwnPropertySymbols(X);Ue<ce.length;Ue++)te.indexOf(ce[Ue])<0&&Object.prototype.propertyIsEnumerable.call(X,ce[Ue])&&(me[ce[Ue]]=X[ce[Ue]])}return me}function pe(X,te,me,ce){return new(me||(me=Promise))(function(He,mt){function an(mn){try{Ke(ce.next(mn))}catch(Tn){mt(Tn)}}function Wt(mn){try{Ke(ce.throw(mn))}catch(Tn){mt(Tn)}}function Ke(mn){mn.done?He(mn.value):function Ue(He){return He instanceof me?He:new me(function(mt){mt(He)})}(mn.value).then(an,Wt)}Ke((ce=ce.apply(X,te||[])).next())})}function Ce(X){return this instanceof Ce?(this.v=X,this):new Ce(X)}function _e(X,te,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ce=me.apply(X,te||[]),He=[];return Ue={},mt("next"),mt("throw"),mt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function mt(rn){ce[rn]&&(Ue[rn]=function(sn){return new Promise(function(Yt,jt){He.push([rn,sn,Yt,jt])>1||an(rn,sn)})})}function an(rn,sn){try{!function Wt(rn){rn.value instanceof Ce?Promise.resolve(rn.value.v).then(Ke,mn):Tn(He[0][2],rn)}(ce[rn](sn))}catch(Yt){Tn(He[0][3],Yt)}}function Ke(rn){an("next",rn)}function mn(rn){an("throw",rn)}function Tn(rn,sn){rn(sn),He.shift(),He.length&&an(He[0][0],He[0][1])}}function Xe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function ee(X){var te="function"==typeof Symbol&&Symbol.iterator,me=te&&X[te],ce=0;if(me)return me.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ce>=X.length&&(X=void 0),{value:X&&X[ce++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),me={},ce("next"),ce("throw"),ce("return"),me[Symbol.asyncIterator]=function(){return this},me);function ce(He){me[He]=X[He]&&function(mt){return new Promise(function(an,Wt){!function Ue(He,mt,an,Wt){Promise.resolve(Wt).then(function(Ke){He({value:Ke,done:an})},mt)}(an,Wt,(mt=X[He](mt)).done,mt.value)})}}}F.d(Me,{FC:()=>_e,KL:()=>Xe,_T:()=>le,mG:()=>pe,qq:()=>Ce})},4650:(ht,Me,F)=>{F.d(Me,{$8M:()=>Gl,$Z:()=>KD,AFp:()=>Sh,ALo:()=>Ks,AaK:()=>pe,BQk:()=>Yf,CHM:()=>Yh,CRH:()=>zg,CZH:()=>Pp,CqO:()=>tC,D6c:()=>VE,EJc:()=>Sl,EiD:()=>eu,EpF:()=>Qf,F$t:()=>fg,F4k:()=>ug,FYo:()=>cy,FiY:()=>We,G48:()=>ME,Gf:()=>tb,GfV:()=>uy,Gpc:()=>W,Hsn:()=>pg,JOm:()=>bo,JVY:()=>y0,Jf7:()=>z0,KtG:()=>Ho,L6k:()=>v0,LAX:()=>b0,LFG:()=>Kn,LSH:()=>C0,Lbi:()=>i_,Lck:()=>Qe,MAs:()=>Ki,MMx:()=>Gv,NdJ:()=>rv,O4$:()=>Fc,OlP:()=>An,Oqu:()=>wg,PXZ:()=>IE,Q6J:()=>ya,QGY:()=>Ws,QP$:()=>Le,QbO:()=>Fp,Qsj:()=>mD,R0b:()=>Cs,RDi:()=>_0,Rgc:()=>Un,SBq:()=>iu,Sil:()=>mb,Suo:()=>Ou,TTD:()=>Ms,TgZ:()=>ih,Tol:()=>np,Udp:()=>ep,VKq:()=>mc,WFA:()=>cc,X6Q:()=>ES,XFs:()=>Je,Xpm:()=>Se,Xts:()=>X_,Y36:()=>fu,YKP:()=>nE,YNc:()=>dr,Yjl:()=>j,Yz7:()=>sn,Z0I:()=>Pr,ZZ4:()=>Hp,_Bn:()=>ut,_UZ:()=>Zi,_Vd:()=>Nd,_c5:()=>$u,_uU:()=>wv,aQg:()=>Rb,c2e:()=>fS,cJS:()=>jt,cg1:()=>Tg,d8E:()=>ch,dDg:()=>a_,dqk:()=>Nt,eBb:()=>Y_,eFA:()=>kh,ekj:()=>tp,eoX:()=>vb,f3M:()=>D,g9A:()=>Np,h0i:()=>xt,hGG:()=>jp,hij:()=>bu,iGM:()=>El,ifc:()=>_t,ip1:()=>fb,jDz:()=>rE,kL8:()=>MC,lG2:()=>Q,lcZ:()=>bl,lqb:()=>Ql,lri:()=>Mh,mCW:()=>_,n5z:()=>Ps,n_E:()=>xp,oAB:()=>tn,oJD:()=>Cm,oxw:()=>ov,pB0:()=>Ad,q3G:()=>ni,q4F:()=>F0,qLn:()=>If,qOj:()=>nv,qZA:()=>Zf,qzn:()=>da,rWj:()=>Ah,s9C:()=>Xf,sBO:()=>Oh,sIi:()=>Gf,s_b:()=>wl,soG:()=>Tl,tb:()=>pb,tp0:()=>Mt,uIk:()=>_s,vHH:()=>Te,vpe:()=>Do,wAp:()=>St,xp6:()=>iw,ynx:()=>vu,z2F:()=>vc,z3N:()=>js,zSh:()=>Ef,zs3:()=>ul});var u=F(7579),$=F(727),P=F(9751),le=F(6451),de=F(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ve({__forward_ref__:ve});function W(s){return s.__forward_ref__=W,s.toString=function(){return pe(this())},s}function ee(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===W}class Te extends Error{constructor(o,l){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Te(-201,!1)}function Wt(s,o){null==s&&function Ke(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ri(s){return Hi(s,ji)||Hi(s,Dr)}function Pr(s){return null!==Ri(s)}function Hi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Yr(s){return s&&(s.hasOwnProperty(Xn)||s.hasOwnProperty(Qr))?s[Xn]:null}const ji=ve({\u0275prov:ve}),Xn=ve({\u0275inj:ve}),Dr=ve({ngInjectableDef:ve}),Qr=ve({ngInjectorDef:ve});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let ri;function In(s){const o=ri;return ri=s,o}function bi(s,o,l){const d=Ri(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Je.Optional?null:void 0!==o?o:void Oe(pe(s))}function Sn(s){return{toString:s}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),_t=(()=>{return(s=_t||(_t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_t;var s})();const Nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Oi={},kt=[],$i=ve({\u0275cmp:ve}),Ut=ve({\u0275dir:ve}),pr=ve({\u0275pipe:ve}),Jt=ve({\u0275mod:ve}),gi=ve({\u0275fac:ve}),Rn=ve({__NG_ELEMENT_ID__:ve});let tt=0;function Se(s){return Sn(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||kt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,id:"c"+tt++,styles:s.styles||kt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=z(s.inputs,d),h.outputs=z(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(It).filter(Dt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(se).filter(Dt):null,h})}function It(s){return O(s)||B(s)}function Dt(s){return null!==s}function tn(s){return Sn(()=>({type:s.type,bootstrap:s.bootstrap||kt,declarations:s.declarations||kt,imports:s.imports||kt,exports:s.exports||kt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return Oi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const Q=Se;function j(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[$i]||null}function B(s){return s[Ut]||null}function se(s){return s[pr]||null}function Le(s){const o=O(s)||B(s)||se(s);return null!==o&&o.standalone}function st(s,o){const l=s[Jt]||null;if(!l&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function gr(s){return Array.isArray(s)&&!0===s[1]}function ro(s){return 0!=(8&s.flags)}function Rl(s){return 2==(2&s.flags)}function ka(s){return 1==(1&s.flags)}function sr(s){return null!==s.template}function Sc(s){return 0!=(256&s[2])}function Si(s,o){return s.hasOwnProperty(gi)?s[gi]:null}class Lo{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ms(){return sd}function sd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Mc),Pl}function Pl(){const s=Vo(this),o=s?.current;if(o){const l=s.previous;if(l===Oi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Mc(s,o,l,d){const h=Vo(s)||function ns(s,o){return s[od]=o}(s,{previous:Oi,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],E=y[w];p[w]=new Lo(E&&E.currentValue,o,y===Oi),s[d]=o}Ms.ngInherit=!0;const od="__ngSimpleChanges__";function Vo(s){return s[od]||null}function Bn(s){for(;Array.isArray(s);)s=s[0];return s}function Tr(s,o){return Bn(o[s])}function xi(s,o){return Bn(o[s.index])}function ao(s,o){return s.data[o]}function Nr(s,o){return s[o]}function ln(s,o){const l=o[s];return oi(l)?l:l[0]}function As(s){return 64==(64&s[2])}function br(s,o){return null==o?null:s[o]}function Pa(s){s[18]=0}function $n(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Lt={lFrame:za(null),bindingsEnabled:!0};function lo(){return Lt.bindingsEnabled}function ke(){return Lt.lFrame.lView}function Qt(){return Lt.lFrame.tView}function Yh(s){return Lt.lFrame.contextLView=s,s[8]}function Ho(s){return Lt.lFrame.contextLView=null,s}function ai(){let s=jo();for(;null!==s&&64===s.type;)s=s.parent;return s}function jo(){return Lt.lFrame.currentTNode}function zi(s,o){const l=Lt.lFrame;l.currentTNode=s,l.isParent=o}function Ll(){return Lt.lFrame.isParent}function $o(){Lt.lFrame.isParent=!1}function li(){const s=Lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ha(){return Lt.lFrame.bindingIndex++}function rs(s){const o=Lt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ud(s,o){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=s,zo(o)}function zo(s){Lt.lFrame.currentDirectiveIndex=s}function Pc(s){const o=Lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ja(){return Lt.lFrame.currentQueryIndex}function Nc(s){Lt.lFrame.currentQueryIndex=s}function $a(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function dd(s,o,l){if(l&Je.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&Je.Host||(h=$a(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Lt.lFrame=Jh();return d.currentTNode=o,d.lView=s,!0}function Go(s){const o=Jh(),l=s[1];Lt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Jh(){const s=Lt.lFrame,o=null===s?null:s.child;return null===o?za(s):o}function za(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ef(){const s=Lt.lFrame;return Lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hd=ef;function ks(){const s=ef();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Nn(){return Lt.lFrame.selectedIndex}function ss(s){Lt.lFrame.selectedIndex=s}function Fn(){const s=Lt.lFrame;return ao(s.tView,s.selectedIndex)}function Fc(){Lt.lFrame.currentNamespace="svg"}function Vl(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Wo(s,o,l){Ko(s,o,3,l)}function qo(s,o,l,d){(3&s[2])===l&&Ko(s,o,l,d)}function pd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ko(s,o,l,d){const p=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(md(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function md(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class wr{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function os(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],y=l[d++],w=l[d++];s.setAttribute(o,y,w,p)}else{const p=h,y=l[++d];jc(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Wa(s){return 3===s||4===s||6===s}function jc(s){return 64===s.charCodeAt(0)}function qa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||_d(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function _d(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function rf(s){return-1!==s}function ci(s){return 32767&s}function Os(s,o){let l=function sf(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let $c=!0;function Ka(s){const o=$c;return $c=s,o}let yd=0;const ar={};function as(s,o){const l=jl(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,zc(d.data,s),zc(o,null),zc(d.blueprint,null));const h=Za(s,o),p=s.injectorIndex;if(rf(h)){const y=ci(h),w=Os(h,o),E=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|E[y+S]}return o[p+8]=h,p}function zc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function jl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Za(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=ta(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function uo(s,o,l){!function vd(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Rn)&&(d=l[Rn]),null==d&&(d=l[Rn]=yd++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Yo(s,o,l){if(l&Je.Optional||void 0!==s)return s;Oe()}function ho(s,o,l,d){if(l&Je.Optional&&void 0===d&&(d=null),0==(l&(Je.Self|Je.Host))){const h=s[9],p=In(void 0);try{return h?h.get(o,d,l&Je.Optional):bi(o,d,l&Je.Optional)}finally{In(p)}}return Yo(d,0,l)}function Qo(s,o,l,d=Je.Default,h){if(null!==s){if(1024&o[2]){const y=function cf(s,o,l,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=bd(p,y,l,d|Je.Self,ar);if(w!==ar)return w;let E=p.parent;if(!E){const S=y[21];if(S){const R=S.get(l,ar,d);if(R!==ar)return R}E=ta(y),y=y[15]}p=E}return h}(s,o,l,d,ar);if(y!==ar)return y}const p=bd(s,o,l,d,ar);if(p!==ar)return p}return ho(o,l,d,h)}function bd(s,o,l,d,h){const p=function lf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Rn)?s[Rn]:void 0;return"number"==typeof o?o>=0?255&o:Gc:o}(l);if("function"==typeof p){if(!dd(o,s,d))return d&Je.Host?Yo(h,0,d):ho(o,l,d,h);try{const y=p(d);if(null!=y||d&Je.Optional)return y;Oe()}finally{hd()}}else if("number"==typeof p){let y=null,w=jl(s,o),E=-1,S=d&Je.Host?o[16][6]:null;for((-1===w||d&Je.SkipSelf)&&(E=-1===w?Za(s,o):o[w+8],-1!==E&&zl(d,!1)?(y=o[1],w=ci(E),o=Os(E,o)):w=-1);-1!==w;){const R=o[1];if(Xo(p,w,R.data)){const L=$l(w,o,l,y,d,S);if(L!==ar)return L}E=o[w+8],-1!==E&&zl(d,o[1].data[w+8]===S)&&Xo(p,w,o)?(y=R,w=ci(E),o=Os(E,o)):w=-1}}return h}function $l(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],R=Qa(w,y,l,null==d?Rl(w)&&$c:d!=y&&0!=(3&w.type),h&Je.Host&&p===w);return null!==R?Lr(o,y,R,w):ar}function Qa(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,R=p>>20,Y=h?w+R:s.directiveEnd;for(let re=d?w:w+R;re<Y;re++){const Ie=y[re];if(re<E&&l===Ie||re>=E&&Ie.type===l)return re}if(h){const re=y[E];if(re&&sr(re)&&re.type===l)return E}return null}function Lr(s,o,l,d){let h=s[l];const p=o.data;if(function Hc(s){return s instanceof wr}(h)){const y=h;y.resolving&&function et(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${l}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(p[l]));const w=Ka(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?In(y.injectImpl):null;dd(s,d,Je.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Uc(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=sd(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==E&&In(E),Ka(w),y.resolving=!1,hd()}}return h}function Xo(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function zl(s,o){return!(s&Je.Self||s&Je.Host&&o)}class Jo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Qo(this._tNode,this._lView,o,d,l)}}function Gc(){return new Jo(ai(),ke())}function Ps(s){return Sn(()=>{const o=s.prototype.constructor,l=o[gi]||ea(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[gi]||ea(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ea(s){return ze(s)?()=>{const o=ea(ee(s));return o&&o()}:Si(s)}function ta(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Gl(s){return function Ya(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(Wa(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(ai(),s)}const na="__parameters__";function ra(s,o,l){return Sn(()=>{const d=function Wc(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,S,R){const L=E.hasOwnProperty(na)?E[na]:Object.defineProperty(E,na,{value:[]})[na];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class An{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=sn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ni(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Ni(d,o)):o!==s&&o.push(d)}return o}function ls(s,o){s.forEach(l=>Array.isArray(l)?ls(l,o):o(l))}function Xa(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function po(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function lr(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Gi(s,o,l){let d=xr(s,o);return d>=0?s[1|d]=l:(d=~d,function ft(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function oa(s,o){const l=xr(s,o);if(l>=0)return s[1|l]}function xr(s,o){return function Wi(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const qn={},Ur="__NG_DI_FLAG__",la="ngTempTokenPath",Kl=/\n/gm,Yc="__source";let ca;function us(s){const o=ca;return ca=s,o}function Dd(s,o=Je.Default){if(void 0===ca)throw new Te(-203,!1);return null===ca?bi(s,void 0,o):ca.get(s,o&Je.Optional?null:void 0,o)}function Kn(s,o=Je.Default){return(function Jn(){return ri}()||Dd)(ee(s),o)}function D(s,o=Je.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Kn(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const d=ee(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let h,p=Je.Default;for(let y=0;y<d.length;y++){const w=d[y],E=H(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(Kn(h,p))}else o.push(Kn(d))}return o}function k(s,o){return s[Ur]=o,s.prototype[Ur]=o,s}function H(s){return s[Ur]}const We=k(ra("Optional"),8),Mt=k(ra("SkipSelf"),4);let vm,gf,Yl;function _0(s){vm=s}function el(s){return function _f(){if(void 0===gf&&(gf=null,Nt.trustedTypes))try{gf=Nt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return gf}()?.createHTML(s)||s}function Xc(s){return function tl(){if(void 0===Yl&&(Yl=null,Nt.trustedTypes))try{Yl=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Yl}()?.createHTML(s)||s}class _o{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Td extends _o{getTypeName(){return"HTML"}}class yf extends _o{getTypeName(){return"Style"}}class vf extends _o{getTypeName(){return"Script"}}class Sd extends _o{getTypeName(){return"URL"}}class xd extends _o{getTypeName(){return"ResourceURL"}}function js(s){return s instanceof _o?s.changingThisBreaksApplicationSecurity:s}function da(s,o){const l=function Md(s){return s instanceof _o&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function y0(s){return new Td(s)}function v0(s){return new yf(s)}function Y_(s){return new vf(s)}function b0(s){return new Sd(s)}function Ad(s){return new xd(s)}class kd{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(el(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class bf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=el(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=el(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function C(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function M(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const N=C("area,br,col,hr,img,wbr"),ie=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xe=C("rp,rt"),kn=M(N,M(ie,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),M(xe,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),M(xe,ie)),hs=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rd=M(hs,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jc=C("script,style,template");class bm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!kn.hasOwnProperty(l))return this.sanitizedSomething=!0,!Jc.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!Rd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;hs[w]&&(E=_(E)),this.buf.push(" ",y,'="',rl(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();kn.hasOwnProperty(l)&&!N.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(rl(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Q_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cf=/([^\#-~ |!])/g;function rl(s){return s.replace(/&/g,"&amp;").replace(Q_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Cf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ha;function eu(s,o){let l=null;try{ha=ha||function il(s){const o=new bf(s);return function b(){try{return!!(new window.DOMParser).parseFromString(el(""),"text/html")}catch{return!1}}()?new kd(o):o}(s);let d=o?String(o):"";l=ha.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=ha.getInertBodyElement(d)}while(d!==p);return el((new bm).sanitizeChildren(tu(l)||l))}finally{if(l){const d=tu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function tu(s){return"content"in s&&function wm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function Cm(s){const o=Od();return o?Xc(o.sanitize(ni.HTML,s)||""):da(s,"HTML")?Xc(js(s)):eu(function mf(){return void 0!==vm?vm:typeof document<"u"?document:void 0}(),Ce(s))}function C0(s){const o=Od();return o?o.sanitize(ni.URL,s)||"":da(s,"URL")?js(s):_(Ce(s))}function Od(){const s=ke();return s&&s[12]}const X_=new An("ENVIRONMENT_INITIALIZER"),J_=new An("INJECTOR",-1),I0=new An("INJECTOR_DEF_TYPES");class aD{get(o,l=qn){if(l===qn){const d=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw d.name="NullInjectorError",d}return l}}function D0(...s){return{\u0275providers:T0(0,s)}}function T0(s,...o){const l=[],d=new Set;let h;return ls(o,p=>{const y=p;ty(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&ey(h,l),l}function ey(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];ls(h,p=>{o.push(p)})}}function ty(s,o,l,d){if(!(s=ee(s)))return!1;let h=null,p=Yr(s);const y=!p&&O(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Yr(E),!p)return!1;h=E}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of E)ty(S,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;d.add(h);try{ls(p.imports,R=>{ty(R,o,l,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&ey(S,o)}if(!w){const S=Si(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:kt},{provide:I0,useValue:h,multi:!0},{provide:X_,useValue:()=>Kn(h),multi:!0})}const E=p.providers;null==E||w||ls(E,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const S0=ve({provide:String,useValue:ve});function ny(s){return null!==s&&"object"==typeof s&&S0 in s}function sl(s){return"function"==typeof s}const Ef=new An("Set Injector scope."),Em={},ry={};let Im;function Dm(){return void 0===Im&&(Im=new aD),Im}class Ql{}class M0 extends Ql{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ay(o,y=>this.processProvider(y)),this.records.set(J_,Pd(void 0,this)),h.has("environment")&&this.records.set(Ql,Pd(void 0,this));const p=this.records.get(Ef);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(I0.multi,kt,Je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=us(this),d=In(void 0);try{return o()}finally{us(l),In(d)}}get(o,l=qn,d=Je.Default){this.assertNotDestroyed();const h=us(this),p=In(void 0);try{if(!(d&Je.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function HA(s){return"function"==typeof s||"object"==typeof s&&s instanceof An}(o)&&Ri(o);w=E&&this.injectableDefInScope(E)?Pd(Tm(o),Em):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&Je.Self?Dm():this.parent).get(o,l=d&Je.Optional&&l===qn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[la]=y[la]||[]).unshift(pe(o)),h)throw y;return function J(s,o,l,d){const h=s[la];throw o[Yc]&&h.unshift(o[Yc]),s.message=function ue(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Kl,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[la]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{In(p),us(h)}}resolveInjectorInitializers(){const o=us(this),l=In(void 0);try{const d=this.get(X_.multi,kt,Je.Self);for(const h of d)h()}finally{us(o),In(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(pe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let l=sl(o=ee(o))?o:ee(o&&o.provide);const d=function sy(s){return ny(s)?Pd(void 0,s.useValue):Pd(A0(s),Em)}(o);if(sl(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Pd(void 0,Em,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Em&&(l.value=ry,l.value=l.factory()),"object"==typeof l.value&&l.value&&function dD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ee(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Tm(s){const o=Ri(s),l=null!==o?o.factory:Si(s);if(null!==l)return l;if(s instanceof An)throw new Te(204,!1);if(s instanceof Function)return function uD(s){const o=s.length;if(o>0)throw lr(o,"?"),new Te(204,!1);const l=function Vn(s){const o=s&&(s[ji]||s[Dr]);if(o){const l=function Zr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Te(204,!1)}function A0(s,o,l){let d;if(sl(s)){const h=ee(s);return Si(h)||Tm(h)}if(ny(s))d=()=>ee(s.useValue);else if(function x0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function iy(s){return!(!s||!s.useExisting)}(s))d=()=>Kn(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function k0(s){return!!s.deps}(s))return Si(h)||Tm(h);d=()=>new h(...T(s.deps))}return d}function Pd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function oy(s){return!!s.\u0275providers}function ay(s,o){for(const l of s)Array.isArray(l)?ay(l,o):oy(l)?ay(l.\u0275providers,o):o(l)}class ly{}class fD{resolveComponentFactory(o){throw function nu(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nd=(()=>{class s{}return s.NULL=new fD,s})();function pD(){return Fd(ai(),ke())}function Fd(s,o){return new iu(xi(s,o))}let iu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=pD,s})();function P0(s){return s instanceof iu?s.nativeElement:s}class cy{}let mD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function N0(){const s=ke(),l=ln(ai().index,s);return(oi(l)?l:s)[11]}(),s})(),gD=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class uy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const F0=new uy("14.2.11"),Sm={};function ru(s){return s.ngOriginalError}class If{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&ru(o);for(;l&&ru(l);)l=ru(l);return l||null}}const $s=new Map;let Vd=0;const vi="__ngContext__";function wn(s,o){oi(o)?(s[vi]=o[20],function ou(s){$s.set(s[20],s)}(o)):s[vi]=o}function z0(s){return s.ownerDocument.defaultView}function ms(s){return s instanceof Function?s():s}var bo=(()=>((bo=bo||{})[bo.Important=1]="Important",bo[bo.DashCase=2]="DashCase",bo))();function G0(s,o){return undefined(s,o)}function Tf(s){const o=s[3];return gr(o)?o[3]:o}function km(s){return vy(s[13])}function yy(s){return vy(s[4])}function vy(s){for(;null!==s&&!gr(s);)s=s[4];return s}function au(s,o,l,d,h){if(null!=d){let p,y=!1;gr(d)?p=d:oi(d)&&(y=!0,d=d[0]);const w=Bn(d);0===s&&null!==l?null==h?wy(o,l,w):ec(o,l,w,h||null,!0):1===s&&null!==l?ec(o,l,w,h||null,!0):2===s?function kD(s,o,l){const d=uu(s,o);d&&function MD(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function Rf(s,o,l,d,h){const p=l[7];p!==Bn(l)&&au(o,s,d,p,h);for(let w=10;w<l.length;w++){const E=l[w];kf(E[1],E,s,o,d,p)}}(o,s,p,l,h)}}function en(s,o,l){return s.createElement(o,l)}function K0(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,$n(h,-1)),l.splice(d,1)}function Hd(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&K0(h,d),o>0&&(s[l-1][4]=d[4]);const p=po(s,10+o);!function xf(s,o){kf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function jd(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&kf(s,o,l,3,null,null),function SD(s){let o=s[13];if(!o)return Om(s[1],s);for(;o;){let l=null;if(oi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)oi(o)&&Om(o[1],o),o=o[3];null===o&&(o=s),oi(o)&&Om(o[1],o),l=o&&o[4]}o=l}}(o)}}function Om(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function xD(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof wr)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Pm(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):Bn(o[y]),E=d[h=l[p+2]],S=l[p+3];"boolean"==typeof S?w.removeEventListener(l[p],E,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&gr(o[3])){l!==o[3]&&K0(l,o);const d=o[19];null!==d&&d.detachView(s)}!function fy(s){$s.delete(s[20])}(o)}}function Nm(s,o,l){return function Mf(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===_t.None||h===_t.Emulated)return null}return xi(d,l)}(s,o.parent,l)}function ec(s,o,l,d,h){s.insertBefore(o,l,d,h)}function wy(s,o,l){s.appendChild(o,l)}function Z0(s,o,l,d,h){null!==d?ec(s,o,l,d,h):wy(s,o,l)}function uu(s,o){return s.parentNode(o)}function Y0(s,o,l){return X0(s,o,l)}let X0=function Q0(s,o,l){return 40&s.type?xi(s,l):null};function du(s,o,l,d){const h=Nm(s,d,o),p=o[11],w=Y0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)Z0(p,h,l[E],w,!1);else Z0(p,h,l,w,!1)}function Lm(s,o){if(null!==o){const l=o.type;if(3&l)return xi(o,s);if(4&l)return Af(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Lm(s,d);{const h=s[o.index];return gr(h)?Af(-1,h):Bn(h)}}if(32&l)return G0(o,s)()||Bn(s[o.index]);{const d=tc(s,o);return null!==d?Array.isArray(d)?d[0]:Lm(Tf(s[16]),d):Lm(s,o.next)}}return null}function tc(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Af(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Lm(d,h)}return o[7]}function Ey(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===o&&(w&&wn(Bn(w),d),l.flags|=4),64!=(64&l.flags))if(8&E)Ey(s,o,l.child,d,h,p,!1),au(o,s,h,w,p);else if(32&E){const S=G0(l,d);let R;for(;R=S();)au(o,s,h,R,p);au(o,s,h,w,p)}else 16&E?$d(s,o,d,l,h,p):au(o,s,h,w,p);l=y?l.projectionNext:l.next}}function kf(s,o,l,d,h,p){Ey(l,d,s.firstChild,o,h,p,!1)}function $d(s,o,l,d,h,p){const y=l[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)au(o,s,h,E[S],p);else Ey(s,o,E,y[3],h,p,!0)}function Iy(s,o,l){s.setAttribute(o,"style",l)}function Vm(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Dy(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const J0="ng-template";function OD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Dy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ty(s){return 4===s.type&&s.value!==J0}function PD(s,o,l){return o===(4!==s.type||l?s.value:J0)}function Sy(s,o,l){let d=4;const h=s.attrs||[],p=function ew(s){for(let o=0;o<s.length;o++)if(Wa(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!PD(s,E,l)||""===E&&1===o.length){if(Ar(d))return!1;y=!0}}else{const S=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!OD(s.attrs,S,l)){if(Ar(d))return!1;y=!0}continue}const L=ND(8&d?"class":E,h,Ty(s),l);if(-1===L){if(Ar(d))return!1;y=!0;continue}if(""!==S){let Y;Y=L>p?"":h[L+1].toLowerCase();const re=8&d?Y:null;if(re&&-1!==Dy(re,S,0)||2&d&&S!==Y){if(Ar(d))return!1;y=!0}}}}else{if(!y&&!Ar(d)&&!Ar(E))return!1;if(y&&Ar(E))continue;y=!1,d=E|1&d}}return Ar(d)||y}function Ar(s){return 0==(1&s)}function ND(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function tw(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Bm(s,o,l=!1){for(let d=0;d<o.length;d++)if(Sy(s,o[d],l))return!0;return!1}function cl(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Um(s,o){return s?":not("+o.trim()+")":o}function hu(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Ar(y)&&(o+=Um(p,h),h=""),d=y,p=p||!Ar(d);l++}return""!==h&&(o+=Um(p,h)),o}const Kt={};function iw(s){rw(Qt(),ke(),Nn()+s,!1)}function rw(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Wo(o,p,l)}else{const p=s.preOrderHooks;null!==p&&qo(o,p,0,l)}ss(l)}function lw(s,o=null,l=null,d){const h=xy(s,o,l,d);return h.resolveInjectorInitializers(),h}function xy(s,o=null,l=null,d,h=new Set){const p=[l||kt,D0(s)];return d=d||("object"==typeof s?void 0:pe(s)),new M0(p,o||Dm(),d||null,h)}let ul=(()=>{class s{static create(l,d){if(Array.isArray(l))return lw({name:""},d,l,"");{const h=l.name??"";return lw({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=qn,s.NULL=new aD,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Kn(J_)}),s.__NG_ELEMENT_ID__=-1,s})();function fu(s,o=Je.Default){const l=ke();return null===l?Kn(s,o):Qo(ai(),l,ee(s),o)}function KD(){throw new Error("invalid")}function Ny(s,o){return s<<17|o<<2}function pa(s){return s>>17&32767}function Fy(s){return 2|s}function dl(s){return(131068&s)>>2}function Pf(s,o){return-131069&s|o<<2}function zm(s){return 1|s}function Hf(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];Nc(h),y.contentQueries(2,o[p],p)}}}function mu(s,o,l,d,h,p,y,w,E,S,R){const L=o.blueprint.slice();return L[0]=h,L[2]=76|d,(null!==R||s&&1024&s[2])&&(L[2]|=1024),Pa(L),L[3]=L[15]=s,L[8]=l,L[10]=y||s&&s[10],L[11]=w||s&&s[11],L[12]=E||s&&s[12]||null,L[9]=S||s&&s[9]||null,L[6]=p,L[20]=function su(){return Vd++}(),L[21]=R,L[16]=2==o.type?s[16]:L,L}function hl(s,o,l,d,h){let p=s.data[o];if(null===p)p=function Km(s,o,l,d,h){const p=jo(),y=Ll(),E=s.data[o]=function rT(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,l,d,h),function cd(){return Lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Fl(){const s=Lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return zi(p,!0),p}function ma(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Zm(s,o,l){Go(o);try{const d=s.viewQuery;null!==d&&Xy(1,d,l);const h=s.template;null!==h&&Mw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Hf(s,o),s.staticViewQueries&&Xy(2,s.viewQuery,l);const p=s.components;null!==p&&function xw(s,o){for(let l=0;l<o.length;l++)pT(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ks()}}function Ym(s,o,l,d){const h=o[2];if(128!=(128&h)){Go(o);try{Pa(o),function Ua(s){return Lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Mw(s,o,l,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&Wo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&qo(o,S,0,null),pd(o,0)}if(function fT(s){for(let o=km(s);null!==o;o=yy(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(512&h[2])&&$n(p,1),h[2]|=512}}}(o),function hT(s){for(let o=km(s);null!==o;o=yy(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];As(d)&&Ym(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Hf(s,o),y){const S=s.contentCheckHooks;null!==S&&Wo(o,S)}else{const S=s.contentHooks;null!==S&&qo(o,S,1),pd(o,1)}!function tT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ss(~h);else{const p=h,y=l[++d],w=l[++d];ud(y,p),w(2,o[p])}}}finally{ss(-1)}}(s,o);const w=s.components;null!==w&&function Sw(s,o){for(let l=0;l<o.length;l++)eg(s,o[l])}(o,w);const E=s.viewQuery;if(null!==E&&Xy(2,E,d),y){const S=s.viewCheckHooks;null!==S&&Wo(o,S)}else{const S=s.viewHooks;null!==S&&qo(o,S,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,$n(o[3],-1))}finally{ks()}}}function Mw(s,o,l,d,h){const p=Nn(),y=2&d;try{ss(-1),y&&o.length>22&&rw(s,o,22,!1),l(d,h)}finally{ss(p)}}function Aw(s,o,l){if(ro(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function $y(s,o,l){!lo()||(function lT(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||as(l,o),wn(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],S=sr(E);S&&dT(o,l,E);const R=Lr(o,s,w,l);wn(R,o),null!==y&&Xm(0,w-h,R,E,0,y),S&&(ln(l.index,o)[8]=R)}}(s,o,l,xi(l,o)),128==(128&l.flags)&&function cT(s,o,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function Xh(){return Lt.lFrame.currentDirectiveIndex}();try{ss(p);for(let w=d;w<h;w++){const E=s.data[w],S=o[w];zo(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Fw(E,S)}}finally{ss(-1),zo(y)}}(s,o,l))}function zy(s,o,l=xi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function jf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Gy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Gy(s,o,l,d,h,p,y,w,E,S){const R=22+d,L=R+h,Y=function nT(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Kt);return l}(R,L),re="function"==typeof S?S():S;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:w,declTNode:o,data:Y.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:re,incompleteFirstPass:!1}}function kw(s,o,l,d){const h=zf(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&ng(s).push(d,h.length-1))}function Rw(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Wy(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let S=o.directiveStart;S<d;S++){const R=h[S],L=R.inputs,Y=null===p||Ty(o)?null:Hw(L,p);y.push(Y),w=Rw(L,S,w),E=Rw(R.outputs,S,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function jr(s,o,l,d,h,p,y,w){const E=xi(o,l);let R,S=o.inputs;!w&&null!=S&&(R=S[d])?(ig(s,l,R,d,h),Rl(o)&&qy(l,o.index)):3&o.type&&(d=function sT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(E,d,h))}function qy(s,o){const l=ln(o,s);16&l[2]||(l[2]|=32)}function Ky(s,o,l,d){let h=!1;if(lo()){const p=function Lw(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Bm(l,y.selectors,!1)&&(h||(h=[]),uo(as(l,o),s,y.type),sr(y)?(Qm(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,uT(l,s.data.length,p.length);for(let R=0;R<p.length;R++){const L=p[R];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,S=ma(s,o,p.length,null);for(let R=0;R<p.length;R++){const L=p[R];l.mergedAttrs=qa(l.mergedAttrs,L.hostAttrs),Uw(s,l,o,S,L),Bw(S,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const Y=L.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),S++}Wy(s,l)}y&&function Vw(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Te(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=qa(l.mergedAttrs,l.attrs),h}function Nw(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function aT(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=E&&w.push(E),w.push(d,h,y)}}function Fw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Qm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Bw(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;sr(o)&&(l[""]=s)}}function uT(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Uw(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Si(h.type)),y=new wr(p,sr(h),fu);s.blueprint[d]=y,l[d]=y,Nw(s,o,0,d,ma(s,l,h.hostVars,Kt),h)}function dT(s,o,l){const d=xi(o,s),h=jf(l),p=s[10],y=tg(s,mu(s,h,null,l.onPush?32:16,d,o,p,p.createRenderer(d,l),null,null,null));s[o.index]=y}function ga(s,o,l,d,h,p){const y=xi(s,o);!function Zy(s,o,l,d,h,p,y){if(null==p)s.removeAttribute(o,h,l);else{const w=null==y?Ce(p):y(p,d||"",h);s.setAttribute(o,h,w,l)}}(o[11],y,p,s.value,l,d,h)}function Xm(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const S=y[E++],R=y[E++],L=y[E++];null!==w?d.setInput(l,L,S,R):l[R]=L}}}function Hw(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Jm(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function eg(s,o){const l=ln(o,s);if(As(l)){const d=l[1];48&l[2]?Ym(d,l,d.template,l[8]):l[5]>0&&Yy(l)}}function Yy(s){for(let d=km(s);null!==d;d=yy(d))for(let h=10;h<d.length;h++){const p=d[h];if(As(p))if(512&p[2]){const y=p[1];Ym(y,p,y.template,p[8])}else p[5]>0&&Yy(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=ln(l[d],s);As(h)&&h[5]>0&&Yy(h)}}function pT(s,o){const l=ln(o,s),d=l[1];(function mT(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Zm(d,l,l[8])}function tg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Qy(s){for(;s;){s[2]|=32;const o=Tf(s);if(Sc(s)&&!o)return s;s=o}return null}function $f(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{Ym(s,o,s.template,l)}catch(y){throw d&&$w(o,y),y}finally{h.end&&h.end()}}function Xy(s,o,l){Nc(0),o(s,l)}function zf(s){return s[7]||(s[7]=[])}function ng(s){return s.cleanup||(s.cleanup=[])}function Jy(s,o,l){return(null===s||sr(s))&&(l=function ad(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function $w(s,o){const l=s[9],d=l?l.get(If,null):null;d&&d.handleError(o)}function ig(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],E=o[y],S=s.data[y];null!==S.setInput?S.setInput(E,h,d,w):E[w]=h}}function ev(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function rg(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(Bn(p)),gr(p))for(let w=10;w<p.length;w++){const E=p[w],S=E[1].firstChild;null!==S&&rg(E[1],E,S,d)}const y=l.type;if(8&y)rg(s,o,l.child,d);else if(32&y){const w=G0(l,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=tc(o,l);if(Array.isArray(w))d.push(...w);else{const E=Tf(o[16]);rg(E[1],E,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class gu{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return rg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(gr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Hd(o,d),po(l,d))}this._attachedToViewContainer=!1}jd(this._lView[1],this._lView)}onDestroy(o){kw(this._lView[1],this._lView,null,o)}markForCheck(){Qy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$f(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cu(s,o){kf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class zw extends gu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;$f(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Yd extends Nd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=O(o);return new _u(l,this.ngModule)}}function _T(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Qd{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,Sm,d);return h!==Sm||l===Sm?h:this.parentInjector.get(o,l,d)}}class _u extends ly{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Hm(s){return s.map(hu).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return _T(this.componentDef.inputs)}get outputs(){return _T(this.componentDef.outputs)}create(o,l,d,h){let p=(h=h||this.ngModule)instanceof Ql?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Qd(o,p):o,w=y.get(cy,null);if(null===w)throw new Te(407,!1);const E=y.get(gD,null),S=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=d?function iT(s,o,l){return s.selectRootElement(o,l===_t.ShadowDom)}(S,d,this.componentDef.encapsulation):en(S,R,function Gw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Y=this.componentDef.onPush?288:272,re=Gy(0,null,null,1,0,null,null,null,null,null),Ie=mu(null,re,null,Y,null,null,w,S,E,y,null);let $e,Ze;Go(Ie);try{const dt=function vT(s,o,l,d,h,p){const y=l[1];l[22]=s;const E=hl(y,22,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(ev(E,S,!0),null!==s&&(os(h,s,S),null!==E.classes&&Vm(h,s,E.classes),null!==E.styles&&Iy(h,s,E.styles)));const R=d.createRenderer(s,o),L=mu(l,jf(o),null,o.onPush?32:16,l[22],E,d,R,p||null,null,null);return y.firstCreatePass&&(uo(as(E,l),y,o.type),Qm(y,E),uT(E,l.length,1)),tg(l,L),l[22]=L}(L,this.componentDef,Ie,w,S);if(L)if(d)os(S,L,["ng-version",F0.full]);else{const{attrs:ct,classes:Pe}=function nw(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!Ar(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ct&&os(S,L,ct),Pe&&Pe.length>0&&Vm(S,L,Pe.join(" "))}if(Ze=ao(re,22),void 0!==l){const ct=Ze.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const At=l[Pe];ct.push(null!=At?Array.from(At):null)}}$e=function bT(s,o,l,d){const h=l[1],p=function Pw(s,o,l){const d=ai();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Uw(s,d,o,ma(s,o,1,null),l),Wy(s,d));const h=Lr(o,s,d.directiveStart,d);wn(h,o);const p=xi(d,o);return p&&wn(p,o),h}(h,l,o);if(s[8]=l[8]=p,null!==d)for(const w of d)w(p,o);if(o.contentQueries){const w=ai();o.contentQueries(1,p,w.directiveStart)}const y=ai();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ss(y.index),Nw(l[1],y,0,y.directiveStart,y.directiveEnd,o),Fw(o,p)),p}(dt,this.componentDef,Ie,[wT]),Zm(re,Ie,null)}finally{ks()}return new Ww(this.componentType,$e,Fd(Ze,Ie),Ie,Ze)}}class Ww extends class R0{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new zw(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;ig(p[1],p,h,o,l),qy(p,this._tNode.index)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function wT(){const s=ai();Vl(ke()[1],s)}function nv(s){let o=function tv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(sr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=Xd(s.inputs),y.declaredInputs=Xd(s.declaredInputs),y.outputs=Xd(s.outputs);const w=h.hostBindings;w&&CT(s,w);const E=h.viewQuery,S=h.contentQueries;if(E&&pk(s,E),S&&Kw(s,S),ae(s.inputs,h.inputs),ae(s.declaredInputs,h.declaredInputs),ae(s.outputs,h.outputs),sr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===nv&&(l=!1)}}o=Object.getPrototypeOf(o)}!function fk(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=qa(h.hostAttrs,l=qa(l,h.hostAttrs))}}(d)}function Xd(s){return s===Oi?{}:s===kt?[]:s}function pk(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function Kw(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function CT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let sg=null;function yu(){if(!sg){const s=Nt.Symbol;if(s&&s.iterator)sg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(sg=d)}}}return sg}function Gf(s){return!!Qw(s)&&(Array.isArray(s)||!(s instanceof Map)&&yu()in s)}function Qw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Cn(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function _s(s,o,l,d){const h=ke();return Cn(h,Ha(),o)&&(Qt(),ga(Fn(),h,s,o,l,d)),_s}function eh(s,o,l,d){return Cn(s,Ha(),l)?o+Ce(l)+d:Kt}function dr(s,o,l,d,h,p,y,w){const E=ke(),S=Qt(),R=s+22,L=S.firstCreatePass?function xT(s,o,l,d,h,p,y,w,E){const S=o.consts,R=hl(o,s,4,y||null,br(S,w));Ky(o,l,R,br(S,E)),Vl(o,R);const L=R.tViews=Gy(2,R,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,S,E,o,l,d,h,p,y):S.data[R];zi(L,!1);const Y=E[11].createComment("");du(S,E,Y,L),wn(Y,E),tg(E,E[R]=Jm(Y,E,Y,L)),ka(L)&&$y(S,E,L),null!=y&&zy(E,L,w)}function Ki(s){return Nr(function Ba(){return Lt.lFrame.contextLView}(),22+s)}function ya(s,o,l){const d=ke();return Cn(d,Ha(),o)&&jr(Qt(),Fn(),d,s,o,d[11],l,!1),ya}function iv(s,o,l,d,h){const y=h?"class":"style";ig(s,l,o.inputs[y],y,d)}function ih(s,o,l,d){const h=ke(),p=Qt(),y=22+s,w=h[11],E=h[y]=en(w,o,function Bc(){return Lt.lFrame.currentNamespace}()),S=p.firstCreatePass?function eC(s,o,l,d,h,p,y){const w=o.consts,S=hl(o,s,2,h,br(w,p));return Ky(o,l,S,br(w,y)),null!==S.attrs&&ev(S,S.attrs,!1),null!==S.mergedAttrs&&ev(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,l,d):p.data[y];zi(S,!0);const R=S.mergedAttrs;null!==R&&os(w,E,R);const L=S.classes;null!==L&&Vm(w,E,L);const Y=S.styles;return null!==Y&&Iy(w,E,Y),64!=(64&S.flags)&&du(p,h,E,S),0===function Fa(){return Lt.lFrame.elementDepthCount}()&&wn(E,h),function ld(){Lt.lFrame.elementDepthCount++}(),ka(S)&&($y(p,h,S),Aw(p,S,h)),null!==d&&zy(h,S),ih}function Zf(){let s=ai();Ll()?$o():(s=s.parent,zi(s,!1));const o=s;!function La(){Lt.lFrame.elementDepthCount--}();const l=Qt();return l.firstCreatePass&&(Vl(l,s),ro(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ul(s){return 0!=(16&s.flags)}(o)&&iv(l,o,ke(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Hl(s){return 0!=(32&s.flags)}(o)&&iv(l,o,ke(),o.stylesWithoutHost,!1),Zf}function Zi(s,o,l,d){return ih(s,o,l,d),Zf(),Zi}function vu(s,o,l){const d=ke(),h=Qt(),p=s+22,y=h.firstCreatePass?function MT(s,o,l,d,h){const p=o.consts,y=br(p,d),w=hl(o,s,8,"ng-container",y);return null!==y&&ev(w,y,!0),Ky(o,l,w,br(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,l):h.data[p];zi(y,!0);const w=d[p]=d[11].createComment("");return du(h,d,w,y),wn(w,d),ka(y)&&($y(h,d,y),Aw(h,y,d)),null!=l&&zy(d,y),vu}function Yf(){let s=ai();const o=Qt();return Ll()?$o():(s=s.parent,zi(s,!1)),o.firstCreatePass&&(Vl(o,s),ro(s)&&o.queries.elementEnd(s)),Yf}function Qf(){return ke()}function Ws(s){return!!s&&"function"==typeof s.then}function ug(s){return!!s&&"function"==typeof s.subscribe}const tC=ug;function rv(s,o,l,d){const h=ke(),p=Qt(),y=ai();return dg(p,h,h[11],y,s,o,0,d),rv}function cc(s,o){const l=ai(),d=ke(),h=Qt();return dg(h,d,Jy(Pc(h.data),l,d),l,s,o),cc}function dg(s,o,l,d,h,p,y,w){const E=ka(d),R=s.firstCreatePass&&ng(s),L=o[8],Y=zf(o);let re=!0;if(3&d.type||w){const Ze=xi(d,o),dt=w?w(Ze):Ze,ct=Y.length,Pe=w?dn=>w(Bn(dn[d.index])):d.index;let At=null;if(!w&&E&&(At=function nC(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=p,At.__ngLastListenerFn__=p,re=!1;else{p=iC(d,o,L,p,!1);const dn=l.listen(dt,h,p);Y.push(p,dn),R&&R.push(h,Pe,ct,ct+1)}}else p=iC(d,o,L,p,!1);const Ie=d.outputs;let $e;if(re&&null!==Ie&&($e=Ie[h])){const Ze=$e.length;if(Ze)for(let dt=0;dt<Ze;dt+=2){const Yn=o[$e[dt]][$e[dt+1]].subscribe(p),Wr=Y.length;Y.push(p,Yn),R&&R.push(h,d.index,Wr,-(Wr+1))}}}function sv(s,o,l,d){try{return!1!==l(d)}catch(h){return $w(s,h),!1}}function iC(s,o,l,d,h){return function p(y){if(y===Function)return d;Qy(2&s.flags?ln(s.index,o):o);let E=sv(o,0,d,y),S=p.__ngNextListenerFn__;for(;S;)E=sv(o,0,S,y)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function ov(s=1){return function Rs(s){return(Lt.lFrame.contextLView=function fd(s,o){for(;s>0;)o=o[15],s--;return o}(s,Lt.lFrame.contextLView))[8]}(s)}function hg(s,o){let l=null;const d=function FD(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Bm(s,p,!0):cl(d,p))return h}else l=h}return l}function fg(s){const o=ke()[16][6];if(!o.projection){const d=o.projection=lr(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?hg(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function pg(s,o=0,l){const d=ke(),h=Qt(),p=hl(h,22+s,16,null,l||null);null===p.projection&&(p.projection=o),$o(),64!=(64&p.flags)&&function RD(s,o,l){$d(o[11],0,o,l,Nm(s,l,o),Y0(l.parent||o[6],l,o))}(h,d,p)}function Xf(s,o,l){return av(s,"",o,"",l),Xf}function av(s,o,l,d,h){const p=ke(),y=eh(p,o,l,d);return y!==Kt&&jr(Qt(),Fn(),p,s,y,p[11],h,!1),av}function uv(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?pa(p):dl(p),E=!1;for(;0!==w&&(!1===E||y);){const R=s[w+1];lC(s[w],o)&&(E=!0,s[w+1]=d?zm(R):Fy(R)),w=d?pa(R):dl(R)}E&&(s[l+1]=d?Fy(p):zm(p))}function lC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xr(s,o)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jf(s){return s.substring(Mi.key,Mi.keyEnd)}function _g(s,o){const l=Mi.textEnd;return l===o?-1:(o=Mi.keyEnd=function cC(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Mi.key=o,l),oh(s,o,l))}function oh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function ep(s,o,l){return Co(s,o,l,!1),ep}function tp(s,o){return Co(s,o,null,!0),tp}function np(s){!function Eo(s,o,l,d){const h=Qt(),p=rs(2);h.firstUpdatePass&&pC(h,null,p,d);const y=ke();if(l!==Kt&&Cn(y,p,l)){const w=h.data[Nn()];if(bv(w,d)&&!gv(h,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=be(E,l||"")),iv(h,w,y,l,d)}else!function yv(s,o,l,d,h,p,y,w){h===Kt&&(h=kt);let E=0,S=0,R=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==R||null!==L;){const Y=E<h.length?h[E+1]:void 0,re=S<p.length?p[S+1]:void 0;let $e,Ie=null;R===L?(E+=2,S+=2,Y!==re&&(Ie=L,$e=re)):null===L||null!==R&&R<L?(E+=2,Ie=R):(S+=2,Ie=L,$e=re),null!==Ie&&vg(s,o,l,d,Ie,$e,y,w),R=E<h.length?h[E]:null,L=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function RT(s,o,l){if(null==l||""===l)return kt;const d=[],h=js(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(Gi,qs,s,!0)}function qs(s,o){for(let l=function hv(s){return function mv(s){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=s.length}(s),_g(s,oh(s,0,Mi.textEnd))}(o);l>=0;l=_g(o,l))Gi(s,Jf(o),!0)}function Co(s,o,l,d){const h=ke(),p=Qt(),y=rs(2);p.firstUpdatePass&&pC(p,s,y,d),o!==Kt&&Cn(h,y,o)&&vg(p,p.data[Nn()],h,h[11],s,h[y+1]=function sp(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(js(s)))),s}(o,l),d,y)}function gv(s,o){return o>=s.expandoStartIndex}function pC(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Nn()],y=gv(s,l);bv(p,d)&&null===o&&!y&&(o=!1),o=function AT(s,o,l,d){const h=Pc(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=ah(l=ip(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=ip(h,s,o,l,d),null===p){let E=function mC(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==dl(d))return s[pa(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=ip(null,s,o,E[1],d),E=ah(E,o.attrs,d),function _v(s,o,l,d){s[pa(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function kT(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=ah(d,s[p].hostAttrs,l);return ah(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function gg(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=pa(y),E=dl(y);s[d]=l;let R,S=!1;if(Array.isArray(l)){const L=l;R=L[1],(null===R||xr(L,R)>0)&&(S=!0)}else R=l;if(h)if(0!==E){const Y=pa(s[w+1]);s[d+1]=Ny(Y,w),0!==Y&&(s[Y+1]=Pf(s[Y+1],d)),s[w+1]=function YD(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Ny(w,0),0!==w&&(s[w+1]=Pf(s[w+1],d)),w=d;else s[d+1]=Ny(E,0),0===w?w=d:s[E+1]=Pf(s[E+1],d),E=d;S&&(s[d+1]=Fy(s[d+1])),uv(s,R,d,!0),uv(s,R,d,!1),function cv(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&xr(p,o)>=0&&(l[d+1]=zm(l[d+1]))}(o,R,s,d,p),y=Ny(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function ip(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=ah(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function ah(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Gi(s,y,!!l||o[++p]))}return void 0===s?null:s}function vg(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const E=s.data,S=E[w+1];bg(function gs(s){return 1==(1&s)}(S)?vv(E,o,l,h,dl(S),y):void 0)||(bg(p)||function $m(s){return 2==(2&s)}(S)&&(p=vv(E,null,l,h,w,y)),function zd(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:bo.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=bo.Important),s.setStyle(l,d,h,p))}}(d,y,Tr(Nn(),l),h,p))}function vv(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],S=Array.isArray(E),R=S?E[1]:E,L=null===R;let Y=l[h+1];Y===Kt&&(Y=L?kt:void 0);let re=L?oa(Y,d):R===d?Y:void 0;if(S&&!bg(re)&&(re=oa(E,d)),bg(re)&&(w=re,y))return w;const Ie=s[h+1];h=y?pa(Ie):dl(Ie)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=oa(E,d))}return w}function bg(s){return void 0!==s}function bv(s,o){return 0!=(s.flags&(o?16:32))}function wv(s,o=""){const l=ke(),d=Qt(),h=s+22,p=d.firstCreatePass?hl(d,h,1,o,null):d.data[h],y=l[h]=function Rm(s,o){return s.createText(o)}(l[11],o);du(d,l,y,p),zi(p,!1)}function wg(s){return bu("",s,""),wg}function bu(s,o,l){const d=ke(),h=eh(d,s,o,l);return h!==Kt&&function ac(s,o,l){const d=Tr(o,s);!function Sf(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,Nn(),h),bu}function ch(s,o,l){const d=ke();if(Cn(d,Ha(),o)){const p=Qt(),y=Fn();jr(p,y,d,s,o,Jy(Pc(p.data),y,d),l,!0)}return ch}const Io=void 0;var kv=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cu(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let uh={};function Tg(s){const o=function Sg(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=dc(o);if(l)return l;const d=o.split("-")[0];if(l=dc(d),l)return l;if("en"===d)return kv;throw new Te(701,!1)}function MC(s){return Tg(s)[St.PluralCase]}function dc(s){return s in uh||(uh[s]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[s]),uh[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const ml="en-US";let kC=ml;function pc(s,o,l,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)pc(s[p],o,l,d,h);else{const p=Qt(),y=ke();let w=sl(s)?s:ee(s.provide),E=A0(s);const S=ai(),R=1048575&S.providerIndexes,L=S.directiveStart,Y=S.providerIndexes>>20;if(sl(s)||!s.multi){const re=new wr(E,h,fu),Ie=$v(w,o,h?R:R+Y,L);-1===Ie?(uo(as(S,y),p,w),va(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(re),y.push(re)):(l[Ie]=re,y[Ie]=re)}else{const re=$v(w,o,R+Y,L),Ie=$v(w,o,R,R+Y),$e=re>=0&&l[re],Ze=Ie>=0&&l[Ie];if(h&&!Ze||!h&&!$e){uo(as(S,y),p,w);const dt=function zv(s,o,l,d,h){const p=new wr(s,l,fu);return p.multi=[],p.index=o,p.componentProviders=0,Lg(p,h,d&&!l),p}(h?Ei:je,l.length,h,d,E);!h&&Ze&&(l[Ie].providerFactory=dt),va(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(dt),y.push(dt)}else va(p,s,re>-1?re:Ie,Lg(l[h?Ie:re],E,!h&&d));!h&&d&&Ze&&l[Ie].componentProviders++}}}function va(s,o,l,d){const h=sl(o),p=function cD(s){return!!s.useClass}(o);if(h||p){const E=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,E]):S[R+1].push(d,E)}else S.push(l,E)}}}function Lg(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function $v(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function je(s,o,l,d){return yl(this.multi,[])}function Ei(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Lr(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),yl(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],yl(h,p);return p}function yl(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ut(s,o=[]){return l=>{l.providersResolver=(d,h)=>function Yi(s,o,l){const d=Qt();if(d.firstCreatePass){const h=sr(s);pc(l,d.data,d.blueprint,h,!0),pc(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class xt{}class nE{}function Qe(s,o){return new Ve(s,o??null)}class Ve extends xt{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);const d=st(o);this._bootstrapComponents=ms(d.bootstrap),this._r3Injector=xy(o,l,[{provide:xt,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ii extends nE{constructor(o){super(),this.moduleType=o}create(o){return new Ve(this.moduleType,o)}}class iE extends xt{constructor(o,l,d){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;const h=new M0([...o,{provide:xt,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],l||Dm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Gv(s,o,l=null){return new iE(s,o,l).injector}let GT=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=T0(0,l.type),h=d.length>0?Gv([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=sn({token:s,providedIn:"environment",factory:()=>new s(Kn(Ql))}),s})();function rE(s){s.getStandaloneInjector=o=>o.get(GT).getOrCreateStandaloneInjector(s)}function mc(s,o,l,d){return Qv(ke(),li(),s,o,l,d)}function Qv(s,o,l,d,h,p){const y=o+l;return Cn(s,y,h)?function _a(s,o,l){return s[o]=l}(s,y+1,p?d.call(p,h):d(h)):function bh(s,o){const l=s[o];return l===Kt?void 0:l}(s,y+1)}function Ks(s,o){const l=Qt();let d;const h=s+22;l.firstCreatePass?(d=function YT(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=Si(d.type)),y=In(fu);try{const w=Ka(!1),E=p();return Ka(w),function lg(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,ke(),h,E),E}finally{In(y)}}function bl(s,o,l){const d=s+22,h=ke(),p=Nr(h,d);return function Sp(s,o){return s[1].data[o].pure}(h,d)?Qv(h,li(),o,p.transform,l,p):p.transform(l)}function Cr(s){return o=>{setTimeout(s,void 0,o)}}const Do=class XT extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,p=l||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=Cr(p),h&&(h=Cr(h)),y&&(y=Cr(y)));const w=super.subscribe({next:h,error:p,complete:y});return o instanceof $.w0&&o.add(w),w}};function Tu(){return this._results[yu()]()}class xp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=yu(),d=xp.prototype;d[l]||(d[l]=Tu)}get changes(){return this._changes||(this._changes=new Do)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Ni(o);(this._changesDetected=!function Cd(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Un=(()=>{class s{}return s.__NG_ELEMENT_ID__=On,s})();const jg=Un,fr=class extends jg{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=mu(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Zm(d,h,o),new gu(h)}};function On(){return Mp(ai(),ke())}function Mp(s,o){return 4&s.type?new fr(o,s,Fd(s,o)):null}let wl=(()=>{class s{}return s.__NG_ELEMENT_ID__=ws,s})();function ws(){return fi(ai(),ke())}const JT=wl,Ai=class extends JT{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Fd(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Za(this._hostTNode,this._hostLView);if(rf(o)){const l=Os(o,this._hostLView),d=ci(o);return new Jo(l[1].data[d+8],l)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=dE(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(o,l,d,h,p){const y=o&&!function _i(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const E=y?o:new _u(O(o)),S=d||this.parentInjector;if(!p&&null==E.ngModule){const Y=(y?S:this.parentInjector).get(Ql,null);Y&&(p=Y)}const R=E.create(S,h,void 0,p);return this.insert(R.hostView,w),R}insert(o,l){const d=o._lView,h=d[1];if(function Rc(s){return gr(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const L=d[3],Y=new Ai(L,L[6],L[3]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function q0(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],Xa(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function by(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,d,y,p);const w=Af(p,y),E=d[11],S=uu(E,y[7]);return null!==S&&function TD(s,o,l,d,h,p){d[0]=h,d[6]=o,kf(s,d,l,1,h,p)}(h,y[6],E,d,S,w),o.attachToViewContainerRef(),Xa(ba(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=dE(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Hd(this._lContainer,l);d&&(po(ba(this._lContainer),l),jd(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Hd(this._lContainer,l);return d&&null!=po(ba(this._lContainer),l)?new gu(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function dE(s){return s[8]}function ba(s){return s[8]||(s[8]=[])}function fi(s,o){let l;const d=o[s.index];if(gr(d))l=d;else{let h;if(8&s.type)h=Bn(d);else{const p=o[11];h=p.createComment("");const y=xi(s,o);ec(p,uu(p,y),h,function AD(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=Jm(d,o,h,s),tg(o,l)}return new Ai(l,s,o)}class xu{constructor(o){this.queryList=o,this.matches=null}clone(){return new xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class eb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new eb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==nb(o,l).matches&&this.queries[l].setDirty()}}class Cl{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Mu{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Mu(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Au{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Au(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,hE(l,p)),this.matchTNodeWithReadOption(o,l,Qa(l,o,p,!1,!1))}else d===Un?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Qa(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===iu||h===wl||h===Un&&4&l.type)this.addMatch(l.index,-2);else{const p=Qa(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function hE(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function $g(s,o,l,d){return-1===l?function gc(s,o){return 11&s.type?Fd(s,o):4&s.type?Mp(s,o):null}(o,s):-2===l?function ku(s,o,l){return l===iu?Fd(o,s):l===Un?Mp(o,s):l===wl?fi(o,s):void 0}(s,o,d):Lr(s,s[1],l,o)}function To(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:$g(o,p[S],y[E+1],l.metadata.read))}h.matches=w}return h.matches}function Ru(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=To(s,o,h,l);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const S=p[w+1],R=o[-E];for(let L=10;L<R.length;L++){const Y=R[L];Y[17]===Y[3]&&Ru(Y[1],Y,S,d)}if(null!==R[9]){const L=R[9];for(let Y=0;Y<L.length;Y++){const re=L[Y];Ru(re[1],re,S,d)}}}}}return d}function El(s){const o=ke(),l=Qt(),d=ja();Nc(d+1);const h=nb(l,d);if(s.dirty&&function kc(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ru(l,o,d,[]):To(l,o,h,d);s.reset(p,P0),s.notifyOnChanges()}return!0}return!1}function tb(s,o,l){const d=Qt();d.firstCreatePass&&(wh(d,new Cl(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Gg(d,ke(),o)}function Ou(s,o,l,d){const h=Qt();if(h.firstCreatePass){const p=ai();wh(h,new Cl(o,l,d),p.index),function fE(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Gg(h,ke(),l)}function zg(){return function Pu(s,o){return s[19].queries[o].queryList}(ke(),ja())}function Gg(s,o,l){const d=new xp(4==(4&l));kw(s,o,d,d.destroy),null===o[19]&&(o[19]=new eb),o[19].queries.push(new xu(d))}function wh(s,o,l){null===s.queries&&(s.queries=new Mu),s.queries.track(new Au(o,l))}function nb(s,o){return s.queries.getByIndex(o)}function Rp(...s){}const fb=new An("Application Initializer");let Pp=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Ws(p))l.push(p);else if(tC(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Kn(fb,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Sh=new An("AppId",{providedIn:"root",factory:function bE(){return`${Hn()}${Hn()}${Hn()}`}});function Hn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Np=new An("Platform Initializer"),i_=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pb=new An("appBootstrapListener"),Fp=new An("AnimationModuleType");let fS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Tl=new An("LocaleId",{providedIn:"root",factory:()=>D(Tl,Je.Optional|Je.SkipSelf)||function wE(){return typeof $localize<"u"&&$localize.locale||ml}()}),Sl=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xh{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let mb=(()=>{class s{compileModuleSync(l){return new Ii(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=ms(st(l).declarations).reduce((y,w)=>{const E=O(w);return E&&y.push(new _u(E)),y},[]);return new xh(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const zr=(()=>Promise.resolve(0))();function r_(s){typeof Zone>"u"?zr.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Cs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Do(!1),this.onMicrotaskEmpty=new Do(!1),this.onStable=new Do(!1),this.onError=new Do(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Lp(){let s=Nt.requestAnimationFrame,o=Nt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function yS(s){const o=()=>{!function Vp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Nt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yb(s),s.isCheckStableRunning=!0,s_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return Zt(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),CE(s)}},onInvoke:(l,d,h,p,y,w,E)=>{try{return Zt(s),l.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),CE(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,yb(s),s_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new Te(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,wa,Rp,Rp);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const wa={};function s_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Zt(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function CE(s){s._nesting--,s_(s)}class o_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Do,this.onMicrotaskEmpty=new Do,this.onStable=new Do,this.onError=new Do}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const Mh=new An(""),Ah=new An("");let l_,a_=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l_||(function EE(s){l_=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),r_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())r_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Kn(Cs),Kn(vb),Kn(Ah))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),vb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return l_?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),yc=null;const bb=new An("AllowMultipleToken"),c_=new An("PlatformDestroyListeners");class IE{constructor(o,l){this.name=o,this.token=l}}function kh(s,o,l=[]){const d=`Platform: ${o}`,h=new An(d);return(p=[])=>{let y=Bu();if(!y||y.injector.get(bb,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function bS(s){if(yc&&!yc.get(bb,!1))throw new Te(400,!1);yc=s;const o=s.get(wb);(function u_(s){const o=s.get(Np,null);o&&o.forEach(l=>l())})(s)}(function d_(s=[],o){return ul.create({name:o,providers:[{provide:Ef,useValue:"platform"},{provide:c_,useValue:new Set([()=>yc=null])},...s]})}(w,d))}return function Ca(s){const o=Bu();if(!o)throw new Te(401,!1);return o}()}}function Bu(){return yc?.get(wb)??null}let wb=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function Eb(s,o){let l;return l="noop"===s?new o_:("zone.js"===s?void 0:s)||new Cs(o),l}(d?.ngZone,function Cb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Cs,useValue:h}];return h.run(()=>{const y=ul.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),E=w.injector.get(If,null);if(!E)throw new Te(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{E.handleError(R)}});w.onDestroy(()=>{Rh(this._modules,w),S.unsubscribe()})}),function DE(s,o,l){try{const d=l();return Ws(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=w.injector.get(Pp);return S.runInitializers(),S.donePromise.then(()=>(function RC(s){Wt(s,"Expected localeId to be defined"),"string"==typeof s&&(kC=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Tl,ml)||ml),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=TE({},d);return function vS(s,o,l){const d=new Ii(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(vc);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Te(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(c_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Kn(ul))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function TE(s,o){return Array.isArray(o)?o.reduce(TE,s):{...s,...o}}let vc=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),r_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,le.T)(p,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof ly;if(!this._injector.get(Pp).done)throw!h&&Le(l),new Te(405,false);let y;y=h?l:this._injector.get(Nd).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function Bp(s){return s.isBoundToModule}(y)?void 0:this._injector.get(xt),S=y.create(ul.NULL,[],d||y.selector,w),R=S.location.nativeElement,L=S.injector.get(Mh,null);return L?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Rh(this.components,S),L?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Rh(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(pb,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Rh(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Te(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Kn(Cs),Kn(Ql),Kn(If))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rh(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let h_=!0,Ib=!1;function ES(){return Ib=!0,h_}function ME(){if(Ib)throw new Error("Cannot enable prod mode after platform setup.");h_=!1}let Oh=(()=>{class s{}return s.__NG_ELEMENT_ID__=IS,s})();function IS(s){return function DS(s,o,l){if(Rl(s)&&!l){const d=ln(s.index,o);return new gu(d,d)}return 47&s.type?new gu(o[16],o):null}(ai(),ke(),16==(16&s))}class OE{constructor(){}supports(o){return Gf(o)}create(o){return new PE(o)}}const MS=(s,o)=>o;class PE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||MS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<FE(d,h,p)?l:d,w=FE(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,R=E-h;if(S!=R){for(let Y=0;Y<S;Y++){const re=Y<p.length?p[Y]:p[Y]=0,Ie=re+Y;R<=Ie&&Ie<S&&(p[Y]=re+1)}p[y.previousIndex]=R-S}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Gf(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function DT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[yu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new AS(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Mb),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class AS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Mb{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new NE,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FE(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class m_{constructor(){}supports(o){return o instanceof Map||Qw(o)}create(){return new er}}class er{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Qw(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Ab(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Ab{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g_(){return new Hp([new OE])}let Hp=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||g_()),deps:[[s,new Mt,new We]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:g_}),s})();function kb(){return new Rb([new m_])}let Rb=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||kb()),deps:[[s,new Mt,new We]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:kb}),s})();const $u=kh(null,"core",[]);let jp=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Kn(vc))},s.\u0275mod=tn({type:s}),s.\u0275inj=jt({}),s})();function VE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,Me,F)=>{F.d(Me,{Z:()=>Te});var u=F(2090),$=F(4859),P=F(9681),le=F(1877);class de{constructor(Ce,_e){this._delegate=Ce,this.firebase=_e,(0,P._addComponent)(Ce,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ce,_e=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Ce);return!Xe.isInitialized()&&"EXPLICIT"===(null===(et=Xe.getComponent())||void 0===et?void 0:et.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:_e})}_removeServiceInstance(Ce,_e=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(_e)}_addComponent(Ce){(0,P._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,P._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function be(){const it=function pe(it){const Ce={},_e={__esModule:!0,initializeApp:function Fe(oe,fe={}){const we=P.initializeApp(oe,fe);if((0,u.r3)(Ce,we.name))return Ce[we.name];const X=new it(we,_e);return Ce[we.name]=X,X},app:Xe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(oe){const fe=oe.name,we=fe.replace("-compat","");if(P._registerComponent(oe)&&"PUBLIC"===oe.type){const X=(te=Xe())=>{if("function"!=typeof te[we])throw ae.create("invalid-app-argument",{appName:fe});return te[we]()};void 0!==oe.serviceProps&&(0,u.ZB)(X,oe.serviceProps),_e[we]=X,it.prototype[we]=function(...te){return this._getService.bind(this,fe).apply(this,oe.multipleInstances?te:[])}}return"PUBLIC"===oe.type?_e[we]:null},removeApp:function et(oe){delete Ce[oe]},useAsService:function qe(oe,fe){return"serverAuth"===fe?null:fe},modularAPIs:P}};function Xe(oe){if(!(0,u.r3)(Ce,oe=oe||P._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:oe});return Ce[oe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Oe(){return Object.keys(Ce).map(oe=>Ce[oe])}}),Xe.App=it,_e}(de);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Ce(_e){(0,u.ZB)(it,_e)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),it}(),W=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=K;!function Ne(it){(0,P.registerVersion)("@firebase/app-compat","0.1.39",it)}()},9681:(ht,Me,F)=>{F.r(Me),F.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Yr,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>sn,_apps:()=>mn,_clearComponents:()=>Pr,_components:()=>Tn,_getProvider:()=>jt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Ri,deleteApp:()=>Qr,getApp:()=>Xn,getApps:()=>Dr,initializeApp:()=>ji,onLog:()=>Jn,registerVersion:()=>ri,setLogLevel:()=>In});var u=F(5861),$=F(4859),P=F(1877),le=F(2090),de=F(8766);class ve{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function ae(tt){return"VERSION"===tt.getComponent()?.type}(nt)){const It=nt.getImmediate();return`${It.library}/${It.version}`}return null}).filter(nt=>nt).join(" ")}}const pe="@firebase/app",K=new P.Yd("@firebase/app"),Wt="[DEFAULT]",Ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Tn=new Map;function rn(tt,Se){try{tt.container.addComponent(Se)}catch(nt){K.debug(`Component ${Se.name} failed to register with FirebaseApp ${tt.name}`,nt)}}function sn(tt,Se){tt.container.addOrOverwriteComponent(Se)}function Yt(tt){const Se=tt.name;if(Tn.has(Se))return K.debug(`There were multiple attempts to register component ${Se}.`),!1;Tn.set(Se,tt);for(const nt of mn.values())rn(nt,tt);return!0}function jt(tt,Se){const nt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),tt.container.getProvider(Se)}function Ri(tt,Se,nt=Wt){jt(tt,Se).clearInstance(nt)}function Pr(){Tn.clear()}const Vn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zr{constructor(Se,nt,It){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Yr="9.14.0";function ji(tt,Se={}){let nt=tt;"object"!=typeof Se&&(Se={name:Se});const It=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Se),Dt=It.name;if("string"!=typeof Dt||!Dt)throw Vn.create("bad-app-name",{appName:String(Dt)});if(nt||(nt=(0,le.aH)()),!nt)throw Vn.create("no-options");const tn=mn.get(Dt);if(tn){if((0,le.vZ)(nt,tn.options)&&(0,le.vZ)(It,tn.config))return tn;throw Vn.create("duplicate-app",{appName:Dt})}const q=new $.H0(Dt);for(const Q of Tn.values())q.addComponent(Q);const z=new Zr(nt,It,q);return mn.set(Dt,z),z}function Xn(tt=Wt){const Se=mn.get(tt);if(!Se&&tt===Wt)return ji();if(!Se)throw Vn.create("no-app",{appName:tt});return Se}function Dr(){return Array.from(mn.values())}function Qr(tt){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(tt){const Se=tt.name;mn.has(Se)&&(mn.delete(Se),yield Promise.all(tt.container.getProviders().map(nt=>nt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function ri(tt,Se,nt){var It;let Dt=null!==(It=Ke[tt])&&void 0!==It?It:tt;nt&&(Dt+=`-${nt}`);const tn=Dt.match(/\s|\//),q=Se.match(/\s|\//);if(tn||q){const z=[`Unable to register library "${Dt}" with version "${Se}":`];return tn&&z.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),tn&&q&&z.push("and"),q&&z.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void K.warn(z.join(" "))}Yt(new $.wA(`${Dt}-version`,()=>({library:Dt,version:Se}),"VERSION"))}function Jn(tt,Se){if(null!==tt&&"function"!=typeof tt)throw Vn.create("invalid-log-argument");(0,P.Am)(tt,Se)}function In(tt){(0,P.Ub)(tt)}const Sn="firebase-heartbeat-store";let xn=null;function bn(){return xn||(xn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(tt,Se)=>{0===Se&&tt.createObjectStore(Sn)}}).catch(tt=>{throw Vn.create("idb-open",{originalErrorMessage:tt.message})})),xn}function _t(){return(_t=(0,u.Z)(function*(tt){var Se;try{return(yield bn()).transaction(Sn).objectStore(Sn).get(si(tt))}catch(nt){if(nt instanceof le.ZR)K.warn(nt.message);else{const It=Vn.create("idb-get",{originalErrorMessage:null===(Se=nt)||void 0===Se?void 0:Se.message});K.warn(It.message)}}})).apply(this,arguments)}function Nt(tt,Se){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(tt,Se){var nt;try{const Dt=(yield bn()).transaction(Sn,"readwrite");return yield Dt.objectStore(Sn).put(Se,si(tt)),Dt.done}catch(It){if(It instanceof le.ZR)K.warn(It.message);else{const Dt=Vn.create("idb-set",{originalErrorMessage:null===(nt=It)||void 0===nt?void 0:nt.message});K.warn(Dt.message)}}})).apply(this,arguments)}function si(tt){return`${tt.name}!${tt.options.appId}`}class $i{constructor(Se){this.container=Se,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Jt(nt),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Se=this;return(0,u.Z)(function*(){const It=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=Ut();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!Se._heartbeatsCache.heartbeats.some(tn=>tn.date===Dt))return Se._heartbeatsCache.heartbeats.push({date:Dt,agent:It}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(tn=>{const q=new Date(tn.date).valueOf();return Date.now()-q<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,u.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const nt=Ut(),{heartbeatsToSend:It,unsentEntries:Dt}=function pr(tt,Se=1024){const nt=[];let It=tt.slice();for(const Dt of tt){const tn=nt.find(q=>q.agent===Dt.agent);if(tn){if(tn.dates.push(Dt.date),gi(nt)>Se){tn.dates.pop();break}}else if(nt.push({agent:Dt.agent,dates:[Dt.date]}),gi(nt)>Se){nt.pop();break}It=It.slice(1)}return{heartbeatsToSend:nt,unsentEntries:It}}(Se._heartbeatsCache.heartbeats),tn=(0,le.L)(JSON.stringify({version:2,heartbeats:It}));return Se._heartbeatsCache.lastSentHeartbeatDate=nt,Dt.length>0?(Se._heartbeatsCache.heartbeats=Dt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),tn})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,u.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function gt(tt){return _t.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const tn=yield nt.read();return Nt(nt.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const tn=yield nt.read();return Nt(nt.app,{lastSentHeartbeatDate:null!==(It=Se.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Se.heartbeats]})}})()}}function gi(tt){return(0,le.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Rn(tt){Yt(new $.wA("platform-logger",Se=>new ve(Se),"PRIVATE")),Yt(new $.wA("heartbeat",Se=>new $i(Se),"PRIVATE")),ri(pe,"0.8.4",tt),ri(pe,"0.8.4","esm2017"),ri("fire-js","")}("")},4859:(ht,Me,F)=>{F.d(Me,{H0:()=>pe,wA:()=>P});var u=F(5861),$=F(2090);class P{constructor(K,W,ee){this.name=K,this.instanceFactory=W,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const le="[DEFAULT]";class de{constructor(K,W){this.name=K,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const W=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(W)){const ee=new $.BH;if(this.instancesDeferred.set(W,ee),this.isInitialized(W)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:W});ze&&ee.resolve(ze)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(K){var W;const ee=this.normalizeInstanceIdentifier(K?.identifier),ze=null!==(W=K?.optional)&&void 0!==W&&W;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ne){if(ze)return null;throw Ne}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ae(be){return"EAGER"===be.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[W,ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(W);try{const Ne=this.getOrInitializeService({instanceIdentifier:ze});ee.resolve(Ne)}catch{}}}}clearInstance(K=le){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,u.Z)(function*(){const W=Array.from(K.instances.values());yield Promise.all([...W.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...W.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=le){return this.instances.has(K)}getOptions(K=le){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:W={}}=K,ee=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ee,options:W});for(const[Ne,Te]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ne)&&Te.resolve(ze);return ze}onInit(K,W){var ee;const ze=this.normalizeInstanceIdentifier(W),Ne=null!==(ee=this.onInitCallbacks.get(ze))&&void 0!==ee?ee:new Set;Ne.add(K),this.onInitCallbacks.set(ze,Ne);const Te=this.instances.get(ze);return Te&&K(Te,ze),()=>{Ne.delete(K)}}invokeOnInitCallbacks(K,W){const ee=this.onInitCallbacks.get(W);if(ee)for(const ze of ee)try{ze(K,W)}catch{}}getOrInitializeService({instanceIdentifier:K,options:W={}}){let ee=this.instances.get(K);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(be=K,be===le?void 0:be),options:W}),this.instances.set(K,ee),this.instancesOptions.set(K,W),this.invokeOnInitCallbacks(ee,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ee)}catch{}var be;return ee||null}normalizeInstanceIdentifier(K=le){return this.component?this.component.multipleInstances?K:le:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const W=this.getProvider(K.name);if(W.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);W.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const W=new de(K,this);return this.providers.set(K,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Me,F)=>{F.d(Me,{Am:()=>be,Ub:()=>pe,Yd:()=>ae,in:()=>$});const u=[];var $=(()=>{return(K=$||($={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",$;var K})();const P={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},le=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ve=(K,W,...ee)=>{if(W<K.logLevel)return;const ze=(new Date).toISOString(),Ne=de[W];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ne](`[${ze}]  ${K.name}:`,...ee)};class ae{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in $))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...W),this._logHandler(this,$.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...W),this._logHandler(this,$.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,$.INFO,...W),this._logHandler(this,$.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,$.WARN,...W),this._logHandler(this,$.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...W),this._logHandler(this,$.ERROR,...W)}}function pe(K){u.forEach(W=>{W.setLogLevel(K)})}function be(K,W){for(const ee of u){let ze=null;W&&W.level&&(ze=P[W.level]),ee.userLogHandler=null===K?null:(Ne,Te,...it)=>{const Ce=it.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Te>=(ze??Ne.logLevel)&&K({level:$[Te].toLowerCase(),message:Ce,args:it,type:Ne.name})}}}},8766:(ht,Me,F)=>{F.d(Me,{Lj:()=>Fe,X3:()=>Xe});var u=F(5861);let P,le;const ae=new WeakMap,pe=new WeakMap,be=new WeakMap,K=new WeakMap,W=new WeakMap;let Ne={get(fe,we,X){if(fe instanceof IDBTransaction){if("done"===we)return pe.get(fe);if("objectStoreNames"===we)return fe.objectStoreNames||be.get(fe);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return _e(fe[we])},set:(fe,we,X)=>(fe[we]=X,!0),has:(fe,we)=>fe instanceof IDBTransaction&&("done"===we||"store"===we)||we in fe};function Ce(fe){return"function"==typeof fe?function it(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...we){return fe.apply(et(this),we),_e(ae.get(this))}:function(...we){return _e(fe.apply(et(this),we))}:function(we,...X){const te=fe.call(et(this),we,...X);return be.set(te,we.sort?we.sort():[we]),_e(te)}}(fe):(fe instanceof IDBTransaction&&function ze(fe){if(pe.has(fe))return;const we=new Promise((X,te)=>{const me=()=>{fe.removeEventListener("complete",ce),fe.removeEventListener("error",Ue),fe.removeEventListener("abort",Ue)},ce=()=>{X(),me()},Ue=()=>{te(fe.error||new DOMException("AbortError","AbortError")),me()};fe.addEventListener("complete",ce),fe.addEventListener("error",Ue),fe.addEventListener("abort",Ue)});pe.set(fe,we)}(fe),((fe,we)=>we.some(X=>fe instanceof X))(fe,function de(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Ne):fe)}function _e(fe){if(fe instanceof IDBRequest)return function ee(fe){const we=new Promise((X,te)=>{const me=()=>{fe.removeEventListener("success",ce),fe.removeEventListener("error",Ue)},ce=()=>{X(_e(fe.result)),me()},Ue=()=>{te(fe.error),me()};fe.addEventListener("success",ce),fe.addEventListener("error",Ue)});return we.then(X=>{X instanceof IDBCursor&&ae.set(X,fe)}).catch(()=>{}),W.set(we,fe),we}(fe);if(K.has(fe))return K.get(fe);const we=Ce(fe);return we!==fe&&(K.set(fe,we),W.set(we,fe)),we}const et=fe=>W.get(fe);function Xe(fe,we,{blocked:X,upgrade:te,blocking:me,terminated:ce}={}){const Ue=indexedDB.open(fe,we),He=_e(Ue);return te&&Ue.addEventListener("upgradeneeded",mt=>{te(_e(Ue.result),mt.oldVersion,mt.newVersion,_e(Ue.transaction))}),X&&Ue.addEventListener("blocked",()=>X()),He.then(mt=>{ce&&mt.addEventListener("close",()=>ce()),me&&mt.addEventListener("versionchange",()=>me())}).catch(()=>{}),He}function Fe(fe,{blocked:we}={}){const X=indexedDB.deleteDatabase(fe);return we&&X.addEventListener("blocked",()=>we()),_e(X).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function oe(fe,we){if(!(fe instanceof IDBDatabase)||we in fe||"string"!=typeof we)return;if(qe.get(we))return qe.get(we);const X=we.replace(/FromIndex$/,""),te=we!==X,me=De.includes(X);if(!(X in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!Oe.includes(X))return;const ce=function(){var Ue=(0,u.Z)(function*(He,...mt){const an=this.transaction(He,me?"readwrite":"readonly");let Wt=an.store;return te&&(Wt=Wt.index(mt.shift())),(yield Promise.all([Wt[X](...mt),me&&an.done]))[0]});return function(mt){return Ue.apply(this,arguments)}}();return qe.set(we,ce),ce}!function Te(fe){Ne=fe(Ne)}(fe=>({...fe,get:(we,X,te)=>oe(we,X)||fe.get(we,X,te),has:(we,X)=>!!oe(we,X)||fe.has(we,X)}))},5861:(ht,Me,F)=>{function u(P,le,de,ve,ae,pe,be){try{var K=P[pe](be),W=K.value}catch(ee){return void de(ee)}K.done?le(W):Promise.resolve(W).then(ve,ae)}function $(P){return function(){var le=this,de=arguments;return new Promise(function(ve,ae){var pe=P.apply(le,de);function be(W){u(pe,ve,ae,be,K,"next",W)}function K(W){u(pe,ve,ae,be,K,"throw",W)}be(void 0)})}}F.d(Me,{Z:()=>$})}},ht=>{ht(ht.s=2848)}]);