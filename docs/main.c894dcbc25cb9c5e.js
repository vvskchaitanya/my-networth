"use strict";(self.webpackChunkmy_networth=self.webpackChunkmy_networth||[]).push([[179],{2011:(Ct,Fe,V)=>{V.d(Fe,{Dh:()=>ye,GT:()=>Ce,cc:()=>je,hO:()=>Xe,on:()=>Y,pX:()=>pe,xv:()=>De});var u=V(4650),G=V(127),N=V(5813);Ct=V.hmd(Ct);const de=["ngOnDestroy"],pe=(be,ct,at,$e={})=>new Proxy(be,{get:(Ue,Ae)=>at.runOutsideAngular(()=>{var it;if(be[Ae])return!(null===(it=$e?.spy)||void 0===it)&&it.get&&$e.spy.get(Ae,be[Ae]),be[Ae];if(de.indexOf(Ae)>-1)return()=>{};const ce=ct.toPromise().then(ge=>{const Te=ge&&ge[Ae];return"function"==typeof Te?Te.bind(ge):Te&&Te.then?Te.then(te=>at.run(()=>te)):at.run(()=>Te)});return new Proxy(()=>{},{get:(ge,Te)=>ce[Te],apply:(ge,Te,te)=>ce.then(re=>{var ve;const he=re&&re(...te);return!(null===(ve=$e?.spy)||void 0===ve)&&ve.apply&&$e.spy.apply(Ae,te,he),he})})})}),Ce=(be,ct)=>{ct.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach($e=>{Object.defineProperty(be.prototype,$e,Object.getOwnPropertyDescriptor(at.prototype||at,$e))})})};class ue{constructor(ct){return ct}}const ye=new u.OlP("angularfire2.app.options"),De=new u.OlP("angularfire2.app.name");function Y(be,ct,at){const Ue="object"==typeof at&&at||{};Ue.name=Ue.name||"string"==typeof at&&at||"[DEFAULT]";const it=G.Z.apps.filter(ce=>ce&&ce.name===Ue.name)[0]||ct.runOutsideAngular(()=>G.Z.initializeApp(be,Ue));try{JSON.stringify(be)!==JSON.stringify(it.options)&&W("error",`${it.name} Firebase App already initialized with different options${Ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(it)}const W=(be,...ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...ct)},ie={provide:ue,useFactory:Y,deps:[ye,u.R0b,[new u.FiY,De]]};let Xe=(()=>{class be{constructor(at){G.Z.registerVersion("angularfire",N.q4.full,"core"),G.Z.registerVersion("angularfire",N.q4.full,"app-compat"),G.Z.registerVersion("angular",u.q4F.full,at.toString())}static initializeApp(at,$e){return{ngModule:be,providers:[{provide:ye,useValue:at},{provide:De,useValue:$e}]}}}return be.\u0275fac=function(at){return new(at||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[ie]}),be})();function je(be,ct,at,$e,Ue){const[,Ae,it]=globalThis.\u0275AngularfireInstanceCache.find(ce=>ce[0]===be)||[];if(Ae)return function Re(be,ct){try{return be.toString()===ct.toString()}catch{return be===ct}}(Ue,it)||(Se("error",`${ct} was already initialized on the ${at} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Ue,was:it})),Ae;{const ce=$e();return globalThis.\u0275AngularfireInstanceCache.push([be,ce,Ue]),ce}}const gt=!!Ct.hot,Se=(be,...ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[be](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ct,Fe,V)=>{V.d(Fe,{q4:()=>ir,iC:()=>Ms,HU:()=>Sa,vb:()=>qr,JM:()=>vl});var u=V(4650),G=V(5867),N=V(5861),de=V(9681),pe=V(2090),Ce=V(4859),ue=V(1877),ye=V(8766);const De="@firebase/installations",Y="0.5.16",ie=`w:${Y}`,Xe="FIS_v2",ct=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(D){return D instanceof pe.ZR&&D.code.includes("request-failed")}function $e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ue(D){return{token:D.token,requestStatus:2,expiresIn:re(D.expiresIn),creationTime:Date.now()}}function Ae(D,S){return it.apply(this,arguments)}function it(){return(it=(0,N.Z)(function*(D,S){const j=(yield S.json()).error;return ct.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ce({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ge(D,{refreshToken:S}){const k=ce(D);return k.append("Authorization",function ve(D){return`${Xe} ${D}`}(S)),k}function Te(D){return te.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function re(D){return Number(D.replace("s","000"))}function he(D,S){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:k}){const j=$e(D),ne=ce(D),fe=S.getImmediate({optional:!0});if(fe){const jt=yield fe.getHeartbeatsHeader();jt&&ne.append("x-firebase-client",jt)}const nt={method:"POST",headers:ne,body:JSON.stringify({fid:k,authVersion:Xe,appId:D.appId,sdkVersion:ie})},xt=yield Te(()=>fetch(j,nt));if(xt.ok){const jt=yield xt.json();return{fid:jt.fid||k,registrationStatus:2,refreshToken:jt.refreshToken,authToken:Ue(jt.authToken)}}throw yield Ae("Create Installation",xt)})).apply(this,arguments)}function Ke(D){return new Promise(S=>{setTimeout(S,D)})}const bn=/^[cdef][\w-]{21}$/;function st(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function Dn(D){return function Dt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return bn.test(k)?k:""}catch{return""}}function Vn(D){return`${D.appName}!${D.appId}`}const yn=new Map;function vn(D,S){const k=Vn(D);ji(k,S),function ts(D,S){const k=function Zn(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=D=>{ji(D.data.key,D.data.fid)}),Ji}();k&&k.postMessage({key:D,fid:S}),function ps(){0===yn.size&&Ji&&(Ji.close(),Ji=null)}()}(k,S)}function ji(D,S){const k=yn.get(D);if(k)for(const j of k)j(S)}let Ji=null;const ci="firebase-installations-store";let jr=null;function gs(){return jr||(jr=(0,ye.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(ci)}})),jr}function lt(D,S){return gi.apply(this,arguments)}function gi(){return(gi=(0,N.Z)(function*(D,S){const k=Vn(D),ne=(yield gs()).transaction(ci,"readwrite"),fe=ne.objectStore(ci),Be=yield fe.get(k);return yield fe.put(S,k),yield ne.done,(!Be||Be.fid!==S.fid)&&vn(D,S.fid),S})).apply(this,arguments)}function ui(D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(D){const S=Vn(D),j=(yield gs()).transaction(ci,"readwrite");yield j.objectStore(ci).delete(S),yield j.done})).apply(this,arguments)}function Ri(D,S){return po.apply(this,arguments)}function po(){return(po=(0,N.Z)(function*(D,S){const k=Vn(D),ne=(yield gs()).transaction(ci,"readwrite"),fe=ne.objectStore(ci),Be=yield fe.get(k),nt=S(Be);return void 0===nt?yield fe.delete(k):yield fe.put(nt,k),yield ne.done,nt&&(!Be||Be.fid!==nt.fid)&&vn(D,nt.fid),nt})).apply(this,arguments)}function Bn(D){return Un.apply(this,arguments)}function Un(){return(Un=(0,N.Z)(function*(D){let S;const k=yield Ri(D.appConfig,j=>{const ne=On(j),fe=Tt(D,ne);return S=fe.registrationPromise,fe.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function On(D){return $t(D||{fid:st(),registrationStatus:0})}function Tt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ct.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},j=function St(D,S){return zt.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:j}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:dr(D)}:{installationEntry:S}}function zt(){return(zt=(0,N.Z)(function*(D,S){try{const k=yield he(D,S);return lt(D.appConfig,k)}catch(k){throw at(k)&&409===k.customData.serverCode?yield ui(D.appConfig):yield lt(D.appConfig,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function dr(D){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(D){let S=yield $i(D.appConfig);for(;1===S.registrationStatus;)yield Ke(100),S=yield $i(D.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:j}=yield Bn(D);return j||k}return S})).apply(this,arguments)}function $i(D){return Ri(D,S=>{if(!S)throw ct.create("installation-not-found");return $t(S)})}function $t(D){return function tr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Qt(D,S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},k){const j=hn(D,k),ne=ge(D,k),fe=S.getImmediate({optional:!0});if(fe){const jt=yield fe.getHeartbeatsHeader();jt&&ne.append("x-firebase-client",jt)}const nt={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:ie,appId:D.appId}})},xt=yield Te(()=>fetch(j,nt));if(xt.ok)return Ue(yield xt.json());throw yield Ae("Generate Auth Token",xt)})).apply(this,arguments)}function hn(D,{fid:S}){return`${$e(D)}/${S}/authTokens:generate`}function Di(D){return zn.apply(this,arguments)}function zn(){return(zn=(0,N.Z)(function*(D,S=!1){let k;const j=yield Ri(D.appConfig,fe=>{if(!mn(fe))throw ct.create("not-registered");const Be=fe.authToken;if(!S&&K(Be))return fe;if(1===Be.requestStatus)return k=ft(D,S),fe;{if(!navigator.onLine)throw ct.create("app-offline");const nt=J(fe);return k=Ot(D,nt),nt}});return k?yield k:j.authToken})).apply(this,arguments)}function ft(D,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,N.Z)(function*(D,S){let k=yield pt(D.appConfig);for(;1===k.authToken.requestStatus;)yield Ke(100),k=yield pt(D.appConfig);const j=k.authToken;return 0===j.requestStatus?Di(D,S):j})).apply(this,arguments)}function pt(D){return Ri(D,S=>{if(!mn(S))throw ct.create("not-registered");return function $(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Ot(D,S){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,N.Z)(function*(D,S){try{const k=yield Qt(D,S),j=Object.assign(Object.assign({},S),{authToken:k});return yield lt(D.appConfig,j),k}catch(k){if(!at(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const j=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield lt(D.appConfig,j)}else yield ui(D.appConfig);throw k}})).apply(this,arguments)}function mn(D){return void 0!==D&&2===D.registrationStatus}function K(D){return 2===D.requestStatus&&!function q(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function J(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function H(){return(H=(0,N.Z)(function*(D){const S=D,{installationEntry:k,registrationPromise:j}=yield Bn(S);return j?j.catch(console.error):Di(S).catch(console.error),k.fid})).apply(this,arguments)}function ze(){return(ze=(0,N.Z)(function*(D,S=!1){const k=D;return yield yt(k),(yield Di(k,S)).token})).apply(this,arguments)}function yt(D){return vt.apply(this,arguments)}function vt(){return(vt=(0,N.Z)(function*(D){const{registrationPromise:S}=yield Bn(D);S&&(yield S)})).apply(this,arguments)}function mo(D){return ct.create("missing-app-config-values",{valueName:D})}const Xo="installations",go=D=>{const S=D.getProvider("app").getImmediate(),k=function Hn(D){if(!D||!D.options)throw mo("App Configuration");if(!D.name)throw mo("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!D.options[k])throw mo(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},_o=D=>{const S=D.getProvider("app").getImmediate(),k=(0,de._getProvider)(S,Xo).getImmediate();return{getId:()=>function P(D){return H.apply(this,arguments)}(k),getToken:ne=>function le(D){return ze.apply(this,arguments)}(k,ne)}};(function zl(){(0,de._registerComponent)(new Ce.wA(Xo,go,"PUBLIC")),(0,de._registerComponent)(new Ce.wA("installations-internal",_o,"PRIVATE"))})(),(0,de.registerVersion)(De,Y),(0,de.registerVersion)(De,Y,"esm2017");const ys="@firebase/remote-config",hi=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fc{constructor(S,k,j,ne){this.client=S,this.storage=k,this.storageCache=j,this.logger=ne}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-k,ne=j<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ne}.`),ne}fetch(S){var k=this;return(0,N.Z)(function*(){const[j,ne]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ne&&k.isCachedDataFresh(S.cacheMaxAgeMillis,j))return ne;S.eTag=ne&&ne.eTag;const fe=yield k.client.fetch(S),Be=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Be.push(k.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Be),fe})()}}function Xa(D=navigator){return D.languages&&D.languages[0]||D.language}class Co{constructor(S,k,j,ne,fe,Be){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=j,this.projectId=ne,this.apiKey=fe,this.appId=Be}fetch(S){var k=this;return(0,N.Z)(function*(){var j,ne,fe;const[Be,nt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Rt={sdk_version:k.sdkVersion,app_instance_id:Be,app_instance_id_token:nt,app_id:k.appId,language_code:Xa()},si={method:"POST",headers:Jt,body:JSON.stringify(Rt)},Si=fetch(jt,si),Js=new Promise((_r,to)=>{S.signal.addEventListener(()=>{const su=new Error("The operation was aborted.");su.name="AbortError",to(su)})});let As;try{yield Promise.race([Si,Js]),As=yield Si}catch(_r){let to="fetch-client-network";throw"AbortError"===(null===(j=_r)||void 0===j?void 0:j.name)&&(to="fetch-timeout"),hi.create(to,{originalErrorMessage:null===(ne=_r)||void 0===ne?void 0:ne.message})}let Ro=As.status;const eo=As.headers.get("ETag")||void 0;let ls,Ci;if(200===As.status){let _r;try{_r=yield As.json()}catch(to){throw hi.create("fetch-client-parse",{originalErrorMessage:null===(fe=to)||void 0===fe?void 0:fe.message})}ls=_r.entries,Ci=_r.state}if("INSTANCE_STATE_UNSPECIFIED"===Ci?Ro=500:"NO_CHANGE"===Ci?Ro=304:("NO_TEMPLATE"===Ci||"EMPTY_CONFIG"===Ci)&&(ls={}),304!==Ro&&200!==Ro)throw hi.create("fetch-status",{httpStatus:Ro});return{status:Ro,eTag:eo,config:ls}})()}}class bs{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,N.Z)(function*(){const j=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,j)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:j}){var ne=this;return(0,N.Z)(function*(){yield function Mr(D,S){return new Promise((k,j)=>{const ne=Math.max(S-Date.now(),0),fe=setTimeout(k,ne);D.addEventListener(()=>{clearTimeout(fe),j(hi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const fe=yield ne.client.fetch(S);return yield ne.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Cm(D){if(!(D instanceof pe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(fe))throw fe;const Be={throttleEndTimeMillis:Date.now()+(0,pe.$s)(j),backoffCount:j+1};return yield ne.storage.setThrottleMetadata(Be),ne.attemptFetch(S,Be)}})()}}class nf{constructor(S,k,j,ne,fe){this.app=S,this._client=k,this._storageCache=j,this._storage=ne,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ja(D,S){var k;const j=D.target.error||void 0;return hi.create(S,{originalErrorMessage:j&&(null===(k=j)||void 0===k?void 0:k.message)})}const Jo="app_namespace_store";class rd{constructor(S,k,j,ne=function Dm(){return new Promise((D,S)=>{var k;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=ne=>{S(Ja(ne,"storage-open"))},j.onsuccess=ne=>{D(ne.target.result)},j.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Jo,{keyPath:"compositeKey"})}}catch(j){S(hi.create("storage-open",{originalErrorMessage:null===(k=j)||void 0===k?void 0:k.message}))}})}()){this.appId=S,this.appName=k,this.namespace=j,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((ne,fe)=>{var Be;const xt=j.transaction([Jo],"readonly").objectStore(Jo),jt=k.createCompositeKey(S);try{const Jt=xt.get(jt);Jt.onerror=Rt=>{fe(Ja(Rt,"storage-get"))},Jt.onsuccess=Rt=>{const si=Rt.target.result;ne(si?si.value:void 0)}}catch(Jt){fe(hi.create("storage-get",{originalErrorMessage:null===(Be=Jt)||void 0===Be?void 0:Be.message}))}})})()}set(S,k){var j=this;return(0,N.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((fe,Be)=>{var nt;const jt=ne.transaction([Jo],"readwrite").objectStore(Jo),Jt=j.createCompositeKey(S);try{const Rt=jt.put({compositeKey:Jt,value:k});Rt.onerror=si=>{Be(Ja(si,"storage-set"))},Rt.onsuccess=()=>{fe()}}catch(Rt){Be(hi.create("storage-set",{originalErrorMessage:null===(nt=Rt)||void 0===nt?void 0:nt.message}))}})})()}delete(S){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((ne,fe)=>{var Be;const xt=j.transaction([Jo],"readwrite").objectStore(Jo),jt=k.createCompositeKey(S);try{const Jt=xt.delete(jt);Jt.onerror=Rt=>{fe(Ja(Rt,"storage-delete"))},Jt.onsuccess=()=>{ne()}}catch(Jt){fe(hi.create("storage-delete",{originalErrorMessage:null===(Be=Jt)||void 0===Be?void 0:Be.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ea{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const k=S.storage.getLastFetchStatus(),j=S.storage.getLastSuccessfulFetchTimestampMillis(),ne=S.storage.getActiveConfig(),fe=yield k;fe&&(S.lastFetchStatus=fe);const Be=yield j;Be&&(S.lastSuccessfulFetchTimestampMillis=Be);const nt=yield ne;nt&&(S.activeConfig=nt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function uy(){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function sd(){(0,de._registerComponent)(new Ce.wA("remote-config",function D(S,{instanceIdentifier:k}){const j=S.getProvider("app").getImmediate(),ne=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hi.create("registration-window");if(!(0,pe.hl)())throw hi.create("indexed-db-unavailable");const{projectId:fe,apiKey:Be,appId:nt}=j.options;if(!fe)throw hi.create("registration-project-id");if(!Be)throw hi.create("registration-api-key");if(!nt)throw hi.create("registration-app-id");const xt=new rd(nt,j.name,k=k||"firebase"),jt=new ea(xt),Jt=new ue.Yd(ys);Jt.logLevel=ue.in.ERROR;const Rt=new Co(ne,de.SDK_VERSION,k,fe,Be,nt),si=new bs(Rt,xt),Si=new Fc(si,xt,jt,Jt),Js=new nf(j,Si,jt,xt,Jt);return function Gn(D){const S=(0,pe.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Js),Js},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(ys,"0.3.15"),(0,de.registerVersion)(ys,"0.3.15","esm2017")}();const Ni="/firebase-messaging-sw.js",na="/firebase-cloud-messaging-push-scope",zs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zl="google.c.a.c_id",Lc="google.c.a.c_l",ld="google.c.a.ts",ia="google.c.a.e";var Ar=(()=>{return(D=Ar||(Ar={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ar;var D})();function Cs(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pr(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(k),ne=new Uint8Array(j.length);for(let fe=0;fe<j.length;++fe)ne[fe]=j.charCodeAt(fe);return ne}const Eo="fcm_token_details_db",ra="fcm_token_object_Store";function Tm(D){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Eo))return null;let S=null;return(yield(0,ye.X3)(Eo,5,{upgrade:(j=(0,N.Z)(function*(ne,fe,Be,nt){var xt;if(fe<2||!ne.objectStoreNames.contains(ra))return;const jt=nt.objectStore(ra),Jt=yield jt.index("fcmSenderId").get(D);if(yield jt.clear(),Jt)if(2===fe){const Rt=Jt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;S={token:Rt.fcmToken,createTime:null!==(xt=Rt.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Cs(Rt.vapidKey)}}}else if(3===fe){const Rt=Jt;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Cs(Rt.auth),p256dh:Cs(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Cs(Rt.vapidKey)}}}else if(4===fe){const Rt=Jt;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Cs(Rt.auth),p256dh:Cs(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Cs(Rt.vapidKey)}}}}),function(fe,Be,nt,xt){return j.apply(this,arguments)})})).close(),yield(0,ye.Lj)(Eo),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Kn(S)?S:null;var j}),Vc.apply(this,arguments)}function Kn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const $r="firebase-messaging-store";let Fi=null;function Kl(){return Fi||(Fi=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore($r)}})),Fi}function Io(D){return ns.apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(D){const S=Rr(D),j=yield(yield Kl()).transaction($r).objectStore($r).get(S);if(j)return j;{const ne=yield Tm(D.appConfig.senderId);if(ne)return yield wn(D,ne),ne}})).apply(this,arguments)}function wn(D,S){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,N.Z)(function*(D,S){const k=Rr(D),ne=(yield Kl()).transaction($r,"readwrite");return yield ne.objectStore($r).put(S,k),yield ne.done,S})).apply(this,arguments)}function Gs(D){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,N.Z)(function*(D){const S=Rr(D),j=(yield Kl()).transaction($r,"readwrite");yield j.objectStore($r).delete(S),yield j.done})).apply(this,arguments)}function Rr({appConfig:D}){return D.appId}const Jn=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wt(D,S){return tl.apply(this,arguments)}function tl(){return(tl=(0,N.Z)(function*(D,S){var k;const j=yield rl(D),ne=Ve(S),fe={method:"POST",headers:j,body:JSON.stringify(ne)};let Be;try{Be=yield(yield fetch(Do(D.appConfig),fe)).json()}catch(nt){throw Jn.create("token-subscribe-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(Be.error)throw Jn.create("token-subscribe-failed",{errorInfo:Be.error.message});if(!Be.token)throw Jn.create("token-subscribe-no-token");return Be.token})).apply(this,arguments)}function Sm(D,S){return nl.apply(this,arguments)}function nl(){return(nl=(0,N.Z)(function*(D,S){var k;const j=yield rl(D),ne=Ve(S.subscriptionOptions),fe={method:"PATCH",headers:j,body:JSON.stringify(ne)};let Be;try{Be=yield(yield fetch(`${Do(D.appConfig)}/${S.token}`,fe)).json()}catch(nt){throw Jn.create("token-update-failed",{errorInfo:null===(k=nt)||void 0===k?void 0:k.toString()})}if(Be.error)throw Jn.create("token-update-failed",{errorInfo:Be.error.message});if(!Be.token)throw Jn.create("token-update-no-token");return Be.token})).apply(this,arguments)}function ud(D,S){return il.apply(this,arguments)}function il(){return(il=(0,N.Z)(function*(D,S){var k;const ne={method:"DELETE",headers:yield rl(D)};try{const Be=yield(yield fetch(`${Do(D.appConfig)}/${S}`,ne)).json();if(Be.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:Be.error.message})}catch(fe){throw Jn.create("token-unsubscribe-failed",{errorInfo:null===(k=fe)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Do({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function rl(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,N.Z)(function*({appConfig:D,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ve({p256dh:D,auth:S,endpoint:k,vapidKey:j}){const ne={web:{endpoint:k,auth:S,p256dh:D}};return j!==zs&&(ne.web.applicationPubKey=j),ne}const un=6048e5;function sf(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(D){const S=yield af(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Cs(S.getKey("auth")),p256dh:Cs(S.getKey("p256dh"))},j=yield Io(D.firebaseDependencies);if(j){if(xm(j.subscriptionOptions,k))return Date.now()>=j.createTime+un?Yl(D,{token:j.token,createTime:Date.now(),subscriptionOptions:k}):j.token;try{yield ud(D.firebaseDependencies,j.token)}catch(ne){console.warn(ne)}return Ql(D.firebaseDependencies,k)}return Ql(D.firebaseDependencies,k)})).apply(this,arguments)}function vi(D){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(D){const S=yield Io(D.firebaseDependencies);S&&(yield ud(D.firebaseDependencies,S.token),yield Gs(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Yl(D,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,N.Z)(function*(D,S){try{const k=yield Sm(D.firebaseDependencies,S),j=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield wn(D.firebaseDependencies,j),k}catch(k){throw yield vi(D),k}})).apply(this,arguments)}function Ql(D,S){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(D,S){const j={token:yield Wt(D,S),createTime:Date.now(),subscriptionOptions:S};return yield wn(D,j),j.token})).apply(this,arguments)}function af(D,S){return sl.apply(this,arguments)}function sl(){return(sl=(0,N.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pr(S)})})).apply(this,arguments)}function xm(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function To(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function bi(D,S){if(!S.notification)return;D.notification={};const k=S.notification.title;k&&(D.notification.title=k);const j=S.notification.body;j&&(D.notification.body=j);const ne=S.notification.image;ne&&(D.notification.image=ne);const fe=S.notification.icon;fe&&(D.notification.icon=fe)}(S,D),function is(D,S){!S.data||(D.data=S.data)}(S,D),function ol(D,S){var k,j,ne,fe,Be;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const nt=null!==(ne=null===(j=S.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==ne?ne:null===(fe=S.notification)||void 0===fe?void 0:fe.click_action;nt&&(D.fcmOptions.link=nt);const xt=null===(Be=S.fcmOptions)||void 0===Be?void 0:Be.analytics_label;xt&&(D.fcmOptions.analyticsLabel=xt)}(S,D),S}function al(D){return"object"==typeof D&&!!D&&Zl in D}function Es(D,S){const k=[];for(let j=0;j<D.length;j++)k.push(D.charAt(j)),j<S.length&&k.push(S.charAt(j));return k.join("")}function Hc(D){return Jn.create("missing-app-config-values",{valueName:D})}Es("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Es("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hd{constructor(S,k,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function dd(D){if(!D||!D.options)throw Hc("App Configuration Object");if(!D.name)throw Hc("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const j of S)if(!k[j])throw Hc(j);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ne,installations:k,analyticsProvider:j}}_delete(){return Promise.resolve()}}function lf(D){return ca.apply(this,arguments)}function ca(){return(ca=(0,N.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:na}),D.swRegistration.update().catch(()=>{})}catch(k){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=k)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function jc(D,S){return ll.apply(this,arguments)}function ll(){return(ll=(0,N.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield lf(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function $c(D,S){return cl.apply(this,arguments)}function cl(){return(cl=(0,N.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=zs)})).apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(D,S){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield $c(D,S?.vapidKey),yield jc(D,S?.serviceWorkerRegistration),sf(D)})).apply(this,arguments)}function cf(D,S,k){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(D,S,k){const j=uf(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:k[Zl],message_name:k[Lc],message_time:k[ld],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uf(D){switch(D){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qs(){return(qs=(0,N.Z)(function*(D,S){const k=S.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Ar.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(To(k)):D.onMessageHandler.next(To(k)));const j=k.data;al(j)&&"1"===j[ia]&&(yield cf(D,k.messageType,j))})).apply(this,arguments)}const Ws="@firebase/messaging",qn=D=>{const S=new hd(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function pd(D,S){return qs.apply(this,arguments)}(S,k)),S},Is=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:j=>function fd(D,S){return ua.apply(this,arguments)}(S,j)}};function zc(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,N.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wn(){(0,de._registerComponent)(new Ce.wA("messaging",qn,"PUBLIC")),(0,de._registerComponent)(new Ce.wA("messaging-internal",Is,"PRIVATE")),(0,de.registerVersion)(Ws,"0.11.0"),(0,de.registerVersion)(Ws,"0.11.0","esm2017")}();const fa="analytics",_d="firebase_id",Kc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yd="https://www.googletagmanager.com/gtag/js",ei=new ue.Yd("@firebase/analytics");function Jl(D){return Promise.all(D.map(S=>S.catch(k=>k)))}function ec(D,S){const k=document.createElement("script");k.src=`${yd}?l=${D}&id=${S}`,k.async=!0,document.head.appendChild(k)}function hf(D,S,k,j,ne,fe){return dl.apply(this,arguments)}function dl(){return(dl=(0,N.Z)(function*(D,S,k,j,ne,fe){const Be=j[ne];try{if(Be)yield S[Be];else{const xt=(yield Jl(k)).find(jt=>jt.measurementId===ne);xt&&(yield S[xt.appId])}}catch(nt){ei.error(nt)}D("config",ne,fe)})).apply(this,arguments)}function Ds(D,S,k,j,ne){return hl.apply(this,arguments)}function hl(){return(hl=(0,N.Z)(function*(D,S,k,j,ne){try{let fe=[];if(ne&&ne.send_to){let Be=ne.send_to;Array.isArray(Be)||(Be=[Be]);const nt=yield Jl(k);for(const xt of Be){const jt=nt.find(Rt=>Rt.measurementId===xt),Jt=jt&&S[jt.appId];if(!Jt){fe=[];break}fe.push(Jt)}}0===fe.length&&(fe=Object.values(S)),yield Promise.all(fe),D("event",j,ne||{})}catch(fe){ei.error(fe)}})).apply(this,arguments)}function vd(D){const S=window.document.getElementsByTagName("script");for(const k of Object.values(S))if(k.src&&k.src.includes(yd)&&k.src.includes(D))return k;return null}const wi=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pl=new class Qc{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function pa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function mf(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,N.Z)(function*(D){var S;const{appId:k,apiKey:j}=D,ne={method:"GET",headers:pa(j)},fe=Kc.replace("{app-id}",k),Be=yield fetch(fe,ne);if(200!==Be.status&&304!==Be.status){let nt="";try{const xt=yield Be.json();null!==(S=xt.error)&&void 0!==S&&S.message&&(nt=xt.error.message)}catch{}throw wi.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:nt})}return Be.json()})).apply(this,arguments)}function bd(D){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*(D,S=pl,k){const{appId:j,apiKey:ne,measurementId:fe}=D.options;if(!j)throw wi.create("no-app-id");if(!ne){if(fe)return{measurementId:fe,appId:j};throw wi.create("no-api-key")}const Be=S.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ml;return setTimeout((0,N.Z)(function*(){nt.abort()}),void 0!==k?k:6e4),wd({appId:j,apiKey:ne,measurementId:fe},Be,nt,S)})).apply(this,arguments)}function wd(D,S,k){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,N.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:k},j,ne=pl){var fe,Be;const{appId:nt,measurementId:xt}=D;try{yield Xc(j,S)}catch(jt){if(xt)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${null===(fe=jt)||void 0===fe?void 0:fe.message}]`),{appId:nt,measurementId:xt};throw jt}try{const jt=yield mf(D);return ne.deleteThrottleMetadata(nt),jt}catch(jt){const Jt=jt;if(!nc(Jt)){if(ne.deleteThrottleMetadata(nt),xt)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:nt,measurementId:xt};throw jt}const Rt=503===Number(null===(Be=Jt?.customData)||void 0===Be?void 0:Be.httpStatus)?(0,pe.$s)(k,ne.intervalMillis,30):(0,pe.$s)(k,ne.intervalMillis),si={throttleEndTimeMillis:Date.now()+Rt,backoffCount:k+1};return ne.setThrottleMetadata(nt,si),ei.debug(`Calling attemptFetch again in ${Rt} millis`),wd(D,si,j,ne)}})).apply(this,arguments)}function Xc(D,S){return new Promise((k,j)=>{const ne=Math.max(S-Date.now(),0),fe=setTimeout(k,ne);D.addEventListener(()=>{clearTimeout(fe),j(wi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function nc(D){if(!(D instanceof pe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ml{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let So,rc;function ma(){return(ma=(0,N.Z)(function*(D,S,k,j,ne){if(ne&&ne.global)D("event",k,j);else{const fe=yield S;D("event",k,Object.assign(Object.assign({},j),{send_to:fe}))}})).apply(this,arguments)}function ya(D){rc=D}function Jc(D){So=D}function Ks(){return va.apply(this,arguments)}function va(){return(va=(0,N.Z)(function*(){var D;if(!(0,pe.hl)())return ei.warn(wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(S){return ei.warn(wi.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function ba(){return(ba=(0,N.Z)(function*(D,S,k,j,ne,fe,Be){var nt;const xt=bd(D);xt.then(Si=>{k[Si.measurementId]=Si.appId,D.options.measurementId&&Si.measurementId!==D.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Si=>ei.error(Si)),S.push(xt);const jt=Ks().then(Si=>{if(Si)return j.getId()}),[Jt,Rt]=yield Promise.all([xt,jt]);vd(fe)||ec(fe,Jt.measurementId),rc&&(ne("consent","default",rc),ya(void 0)),ne("js",new Date);const si=null!==(nt=Be?.config)&&void 0!==nt?nt:{};return si.origin="firebase",si.update=!0,null!=Rt&&(si[_d]=Rt),ne("config",Jt.measurementId,si),So&&(ne("set",So),Jc(void 0)),Jt.measurementId})).apply(this,arguments)}class sc{constructor(S){this.app=S}_delete(){return delete zi[this.app.options.appId],Promise.resolve()}}let zi={},wa=[];const Mo={};let Ea,ss,Ca="dataLayer",Ed=!1;function yf(D,S,k){!function Mm(){const D=[];if((0,pe.ru)()&&D.push("This is a browser extension environment."),(0,pe.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((j,ne)=>`(${ne+1}) ${j}`).join(" "),k=wi.create("invalid-analytics-context",{errorInfo:S});ei.warn(k.message)}}();const j=D.options.appId;if(!j)throw wi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw wi.create("no-api-key");ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zi[j])throw wi.create("already-exists",{id:j});if(!Ed){!function tc(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Ca);const{wrappedGtag:fe,gtagCore:Be}=function fl(D,S,k,j,ne){let fe=function(...Be){window[j].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(fe=window[ne]),window[ne]=function Yc(D,S,k,j){function fe(){return(fe=(0,N.Z)(function*(Be,nt,xt){try{"event"===Be?yield Ds(D,S,k,nt,xt):"config"===Be?yield hf(D,S,k,j,nt,xt):"consent"===Be?D("consent","update",xt):D("set",nt)}catch(jt){ei.error(jt)}})).apply(this,arguments)}return function ne(Be,nt,xt){return fe.apply(this,arguments)}}(fe,D,S,k),{gtagCore:fe,wrappedGtag:window[ne]}}(zi,wa,Mo,Ca,"gtag");ss=fe,Ea=Be,Ed=!0}return zi[j]=function _f(D,S,k,j,ne,fe,Be){return ba.apply(this,arguments)}(D,wa,Mo,S,Ea,Ca,k),new sc(D)}function hy(){return vf.apply(this,arguments)}function vf(){return(vf=(0,N.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const tu="@firebase/analytics";!function Gi(){(0,de._registerComponent)(new Ce.wA(fa,(S,{options:k})=>yf(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,de._registerComponent)(new Ce.wA("analytics-internal",function D(S){try{const k=S.getProvider(fa).getImmediate();return{logEvent:(j,ne,fe)=>function In(D,S,k,j){D=(0,pe.m9)(D),function gl(D,S,k,j,ne){return ma.apply(this,arguments)}(ss,zi[D.app.options.appId],S,k,j).catch(ne=>ei.error(ne))}(k,j,ne,fe)}}catch(k){throw wi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,de.registerVersion)(tu,"0.8.4"),(0,de.registerVersion)(tu,"0.8.4","esm2017")}();var Ss=V(4408),Ao=V(7565);const ko=new class gr extends Ao.v{}(class yl extends Ss.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(S,k,j):(S.flush(this),0)}});var Et=V(4986),Ia=V(8505),Dd=V(9468),oc=V(5363);const ir=new u.GfV("7.4.1"),Da="__angularfire_symbol__analyticsIsSupportedValue",Gr="__angularfire_symbol__analyticsIsSupported",xs="__angularfire_symbol__remoteConfigIsSupportedValue",rr="__angularfire_symbol__remoteConfigIsSupported",nu="__angularfire_symbol__messagingIsSupportedValue",Ta="__angularfire_symbol__messagingIsSupported";function vl(D,S,k){if(S){if(1===S.length)return S[0];const fe=S.filter(Be=>Be.app===k);if(1===fe.length)return fe[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Gr]||(globalThis[Gr]=hy().then(D=>globalThis[Da]=D).catch(()=>globalThis[Da]=!1)),globalThis[Ta]||(globalThis[Ta]=zc().then(D=>globalThis[nu]=D).catch(()=>globalThis[nu]=!1)),globalThis[rr]||(globalThis[rr]=uy().then(D=>globalThis[xs]=D).catch(()=>globalThis[xs]=!1));const qr=(D,S)=>{const k=S?[S]:(0,G.C6)(),j=[];return k.forEach(ne=>{ne.container.getProvider(D).instances.forEach(Be=>{j.includes(Be)||j.push(Be)})}),j};function os(){}class ii{constructor(S,k=ko){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,j){const ne=this.zone;return this.delegate.schedule(function(Be){ne.runGuarded(()=>{S.apply(this,[Be])})},k,j)}}class as{constructor(S){this.zone=S,this.task=null}call(S,k){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),k.pipe((0,Ia.b)({next:j,complete:j,error:j})).subscribe(S).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sa=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ii(Zone.current)),this.insideAngular=k.run(()=>new ii(Zone.current,Et.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Qs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ms(D){return Qs(),function Sd(D){return function(k){return(k=k.lift(new as(D.ngZone))).pipe((0,Dd.R)(D.outsideAngular),(0,oc.Q)(D.insideAngular))}}(Qs())(D)}},8247:(Ct,Fe,V)=>{V.d(Fe,{$:()=>Do,A:()=>W,B:()=>je,G:()=>_o,H:()=>hr,J:()=>bs,L:()=>K,M:()=>Wl,N:()=>ad,P:()=>Et,Q:()=>Zl,R:()=>Am,T:()=>Lc,U:()=>zs,V:()=>Ar,W:()=>Cs,X:()=>Tm,Y:()=>el,Z:()=>Wt,_:()=>Sm,a:()=>Zs,a0:()=>sf,a1:()=>vi,a2:()=>Yl,a3:()=>Ql,a4:()=>af,a5:()=>xm,a6:()=>bi,a7:()=>is,a8:()=>al,a9:()=>Es,aA:()=>q,aB:()=>xt,aC:()=>ru,aD:()=>Xs,aE:()=>kt,aI:()=>pa,aL:()=>ia,aa:()=>lf,ab:()=>jc,ac:()=>$c,af:()=>cf,ag:()=>uf,ah:()=>pd,ak:()=>$r,al:()=>qc,an:()=>yd,ao:()=>dl,ap:()=>Te,aq:()=>qe,ar:()=>yt,as:()=>at,at:()=>Ma,au:()=>eo,av:()=>Gt,aw:()=>$e,ax:()=>ce,ay:()=>Si,az:()=>re,b:()=>wi,c:()=>nu,d:()=>km,e:()=>iu,f:()=>Sd,g:()=>j,h:()=>D,i:()=>va,j:()=>Be,k:()=>Sf,l:()=>Id,m:()=>io,o:()=>ye,r:()=>Ss,s:()=>Ti,u:()=>ko});var u=V(5861),G=V(2090),N=V(9681),de=V(1877),pe=V(655),Ce=V(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new de.Yd("@firebase/auth");function ct(b,...g){be.logLevel<=de.in.ERROR&&be.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function at(b,...g){throw it(b,...g)}function $e(b,...g){return it(b,...g)}function Ue(b,g,_){const E=Object.assign(Object.assign({},Re()),{[g]:_});return new G.LL("auth","Firebase",E).create(g,{appName:b.name})}function Ae(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&at(b,"argument-error"),Ue(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(b,...g){if("string"!=typeof b){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return gt.create(b,...g)}function ce(b,g,..._){if(!b)throw it(g,..._)}function ge(b){const g="INTERNAL ASSERTION FAILED: "+b;throw ct(g),new Error(g)}function Te(b,g){b||ge(g)}const te=new Map;function re(b){Te(b instanceof Function,"Expected a class definition");let g=te.get(b);return g?(Te(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,te.set(b,g),g)}function Ze(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ke(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class st{constructor(g,_){this.shortDelay=g,this.longDelay=_,Te(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(b,g){Te(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Vn{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vn=new st(3e4,6e4);function ln(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Xt(b,g,_,E){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(b,g,_,E,M={}){return ts(b,M,(0,u.Z)(function*(){let L={},oe={};E&&("GET"===g?oe=E:L={body:JSON.stringify(E)});const Ne=(0,G.xO)(Object.assign({key:b.config.apiKey},oe)).slice(1),_t=yield b._getAdditionalHeaders();return _t["Content-Type"]="application/json",b.languageCode&&(_t["X-Firebase-Locale"]=b.languageCode),Vn.fetch()(ms(b,b.config.apiHost,_,Ne),Object.assign({method:g,headers:_t,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ts(b,g,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(b,g,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},yn),g);try{const M=new er(b),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const oe=yield L.json();if("needConfirmation"in oe)throw ci(b,"account-exists-with-different-credential",oe);if(L.ok&&!("errorMessage"in oe))return oe;{const Ne=L.ok?oe.errorMessage:oe.error.message,[_t,Ft]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw ci(b,"credential-already-in-use",oe);if("EMAIL_EXISTS"===_t)throw ci(b,"email-already-in-use",oe);if("USER_DISABLED"===_t)throw ci(b,"user-disabled",oe);const dn=E[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw Ue(b,dn,Ft);at(b,dn)}}catch(M){if(M instanceof G.ZR)throw M;at(b,"network-request-failed")}})).apply(this,arguments)}function Zn(b,g,_,E){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(b,g,_,E,M={}){const L=yield Xt(b,g,_,E,M);return"mfaPendingCredential"in L&&at(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function ms(b,g,_,E){const M=`${g}${_}?${E}`;return b.config.emulator?Dn(b.config,M):`${b.config.apiScheme}://${M}`}class er{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E($e(this.auth,"network-request-failed")),vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(b,g,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=$e(b,g,E);return M.customData._tokenResponse=_,M}function gs(){return(gs=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function lt(b,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ui(b,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ri(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Un(){return(Un=(0,u.Z)(function*(b,g=!1){const _=(0,G.m9)(b),E=yield _.getIdToken(g),M=Tt(E);ce(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,oe=L?.sign_in_provider;return{claims:M,token:E,authTime:Ri(On(M.auth_time)),issuedAtTime:Ri(On(M.iat)),expirationTime:Ri(On(M.exp)),signInProvider:oe||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function On(b){return 1e3*Number(b)}function Tt(b){var g;const[_,E,M]=b.split(".");if(void 0===_||void 0===E||void 0===M)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,G.tV)(E);return L?JSON.parse(L):(ct("Failed to decode base64 JWT payload"),null)}catch(L){return ct("Caught error parsing JWT payload as JSON",null===(g=L)||void 0===g?void 0:g.toString()),null}}function zt(b,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof G.ZR&&_i(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function _i({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class $i{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,u.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class $t{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(b){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(b){var g;const _=b.auth,E=yield b.getIdToken(),M=yield zt(b,ui(_,{idToken:E}));ce(M?.users.length,_,"internal-error");const L=M.users[0];b._notifyReloadListener(L);const oe=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?zn(L.providerUserInfo):[],Ne=Di(b.providerData,oe),dn=!!b.isAnonymous&&!(b.email&&L.passwordHash||Ne?.length),$n={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ne,metadata:new $t(L.createdAt,L.lastLoginAt),isAnonymous:dn};Object.assign(b,$n)})).apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(b){const g=(0,G.m9)(b);yield tr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Di(b,g){return[...b.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}function zn(b){return b.map(g=>{var{providerId:_}=g,E=(0,pe._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Pe(){return(Pe=(0,u.Z)(function*(b,g){const _=yield ts(b,{},(0,u.Z)(function*(){const E=(0,G.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:L}=b.config,oe=ms(b,M,"/v1/token",`key=${L}`),Ne=yield b._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(oe,{method:"POST",headers:Ne,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ce(g.idToken,"internal-error"),ce(typeof g.idToken<"u","internal-error"),ce(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function St(b){const g=Tt(b);return ce(g,"internal-error"),ce(typeof g.exp<"u","internal-error"),ce(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,u.Z)(function*(){return ce(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:oe}=yield function ft(b,g){return Pe.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(M,L,Number(oe))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:M,expirationTime:L}=_,oe=new pt;return E&&(ce("string"==typeof E,"internal-error",{appName:g}),oe.refreshToken=E),M&&(ce("string"==typeof M,"internal-error",{appName:g}),oe.accessToken=M),L&&(ce("number"==typeof L,"internal-error",{appName:g}),oe.expirationTime=L),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ot(b,g){ce("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Nt{constructor(g){var{uid:_,auth:E,stsTokenManager:M}=g,L=(0,pe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new $t(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const E=yield zt(_,_.stsTokenManager.getToken(_.auth,g));return ce(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Bn(b){return Un.apply(this,arguments)}(this,g)}reload(){return function Tr(b){return hn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ce(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Nt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,u.Z)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield tr(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield zt(g,function jr(b,g){return gs.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,M,L,oe,Ne,_t,Ft,dn;const $n=null!==(E=_.displayName)&&void 0!==E?E:void 0,ks=null!==(M=_.email)&&void 0!==M?M:void 0,Po=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,Mf=null!==(oe=_.photoURL)&&void 0!==oe?oe:void 0,Pd=null!==(Ne=_.tenantId)&&void 0!==Ne?Ne:void 0,au=null!==(_t=_._redirectEventId)&&void 0!==_t?_t:void 0,Nm=null!==(Ft=_.createdAt)&&void 0!==Ft?Ft:void 0,by=null!==(dn=_.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:Af,emailVerified:Il,isAnonymous:ka,providerData:lu,stsTokenManager:cu}=_;ce(Af&&cu,g,"internal-error");const Fm=pt.fromJSON(this.name,cu);ce("string"==typeof Af,g,"internal-error"),Ot($n,g.name),Ot(ks,g.name),ce("boolean"==typeof Il,g,"internal-error"),ce("boolean"==typeof ka,g,"internal-error"),Ot(Po,g.name),Ot(Mf,g.name),Ot(Pd,g.name),Ot(au,g.name),Ot(Nm,g.name),Ot(by,g.name);const fi=new Nt({uid:Af,auth:g,email:ks,emailVerified:Il,displayName:$n,isAnonymous:ka,photoURL:Mf,phoneNumber:Po,tenantId:Pd,stsTokenManager:Fm,createdAt:Nm,lastLoginAt:by});return lu&&Array.isArray(lu)&&(fi.providerData=lu.map(Lm=>Object.assign({},Lm))),au&&(fi._redirectEventId=au),fi}static _fromIdTokenResponse(g,_,E=!1){return(0,u.Z)(function*(){const M=new pt;M.updateFromServerResponse(_);const L=new Nt({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield tr(L),L})()}}const K=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,u.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function q(b,g,_){return`firebase:${b}:${g}:${_}`}class J{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:M,name:L}=this.auth;this.fullUserKey=q(this.userKey,M.apiKey,L),this.fullPersistenceKey=q("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Nt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,u.Z)(function*(){if(!_.length)return new J(re(K),g,E);const M=(yield Promise.all(_.map(function(){var Ft=(0,u.Z)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let L=M[0]||re(K);const oe=q(E,g.config.apiKey,g.name);let Ne=null;for(const Ft of _)try{const dn=yield Ft._get(oe);if(dn){const $n=Nt._fromJSON(g,dn);Ft!==L&&(Ne=$n),L=Ft;break}}catch{}const _t=M.filter(Ft=>Ft._shouldAllowMigration);return L._shouldAllowMigration&&_t.length?(L=_t[0],Ne&&(yield L._set(oe,Ne.toJSON())),yield Promise.all(_.map(function(){var Ft=(0,u.Z)(function*(dn){if(dn!==L)try{yield dn._remove(oe)}catch{}});return function(dn){return Ft.apply(this,arguments)}}())),new J(L,g,E)):new J(L,g,E)})()}}function $(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ze(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(P(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(vt(g))return"Blackberry";if(Le(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||le(g))&&!g.includes("edge/"))return"Chrome";if(yt(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(b=(0,G.z$)()){return/firefox\//i.test(b)}function H(b=(0,G.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function le(b=(0,G.z$)()){return/crios\//i.test(b)}function ze(b=(0,G.z$)()){return/iemobile/i.test(b)}function yt(b=(0,G.z$)()){return/android/i.test(b)}function vt(b=(0,G.z$)()){return/blackberry/i.test(b)}function Le(b=(0,G.z$)()){return/webos/i.test(b)}function qe(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Gt(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Sn(b=(0,G.z$)()){return qe(b)||yt(b)||Le(b)||vt(b)||/windows phone/i.test(b)||ze(b)}function Hn(b,g=[]){let _;switch(b){case"Browser":_=$((0,G.z$)());break;case"Worker":_=`${$((0,G.z$)())}-${b}`;break;default:_=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${E}`}class mo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=L=>new Promise((oe,Ne)=>{try{oe(g(L))}catch(_t){Ne(_t)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,u.Z)(function*(){var E;if(_.auth.currentUser===g)return;const M=[];try{for(const L of _.queue)yield L(g),L.onAbort&&M.push(L.onAbort)}catch(L){M.reverse();for(const oe of M)try{oe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=L)||void 0===E?void 0:E.message})}})()}}class Xo{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new go(this),this.idTokenSubscription=new go(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=re(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,L;if(!E._deleted&&(E.persistenceManager=yield J.create(E,g),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let L=M,oe=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ne=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,_t=L?._redirectEventId,Ft=yield _.tryRedirectSignIn(g);(!Ne||Ne===_t)&&Ft?.user&&(L=Ft.user,oe=!0)}if(!L)return _.directlySetCurrentUser(null);if(!L._redirectEventId){if(oe)try{yield _.beforeStateQueue.runMiddleware(L)}catch(Ne){L=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ne))}return L?_.reloadAndSetCurrentUserOrClear(L):_.directlySetCurrentUser(null)}return ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===L._redirectEventId?_.directlySetCurrentUser(L):_.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){var E;try{yield tr(g)}catch(M){if("auth/network-request-failed"!==(null===(E=M)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const E=g?(0,G.m9)(g):null;return E&&ce(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return g&&ce(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(re(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new G.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,u.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&re(g)||_._popupRedirectResolver;ce(E,_,"argument-error"),_.redirectPersistenceManager=yield J.create(_,[re(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(oe,this,"internal-error"),oe.then(()=>L(this.currentUser)),"function"==typeof _?g.addObserver(_,E,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(E["X-Firebase-Client"]=M),E})()}}function kt(b){return(0,G.m9)(b)}class go{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _o(b,g,_){const E=kt(b);ce(E._canInitEmulator,E,"emulator-config-failed"),ce(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,L=zl(g),{host:oe,port:Ne}=function ys(b){const g=zl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const L=M[1];return{host:L,port:di(E.substr(L.length+1))}}{const[L,oe]=E.split(":");return{host:L,port:di(oe)}}}(g);E.config.emulator={url:`${L}//${oe}${null===Ne?"":`:${Ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:oe,port:Ne,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function yo(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function zl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function di(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class hr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ge("not implemented")}_getIdTokenResponse(g){return ge("not implemented")}_linkToIdToken(g,_){return ge("not implemented")}_getReauthenticationResolver(g){return ge("not implemented")}}function Sr(b,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:resetPassword",ln(b,g))})).apply(this,arguments)}function Gl(b,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ef(b,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:update",ln(b,g))})).apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithPassword",ln(b,g))})).apply(this,arguments)}function $s(b,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:sendOobCode",ln(b,g))})).apply(this,arguments)}function vs(b,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(b,g){return $s(b,g)})).apply(this,arguments)}function tf(b,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(b,g){return $s(b,g)})).apply(this,arguments)}function xr(b,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(b,g){return $s(b,g)})).apply(this,arguments)}function ql(b,g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(b,g){return $s(b,g)})).apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithEmailLink",ln(b,g))})).apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithEmailLink",ln(b,g))})).apply(this,arguments)}class Xa extends hr{constructor(g,_,E,M=null){super("password",E),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new Xa(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new Xa(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function Ya(b,g){return vo.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function fr(b,g){return Nc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:at(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Gl(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function wm(b,g){return Fc.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:at(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Co(b,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithIdp",ln(b,g))})).apply(this,arguments)}class bs extends hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new bs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):at("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=_,L=(0,pe._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const oe=new bs(E,M);return oe.idToken=L.idToken||void 0,oe.accessToken=L.accessToken||void 0,oe.secret=L.secret,oe.nonce=L.nonce,oe.pendingToken=L.pendingToken||null,oe}_getIdTokenResponse(g){return Co(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Co(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Co(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,G.xO)(_)}return g}}function Em(b,g){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:sendVerificationCode",ln(b,g))})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,g))})).apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(b,g){const _=yield Zn(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,g));if(_.temporaryProof)throw ci(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Im={USER_NOT_FOUND:"user-not-found"};function rd(){return(rd=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Im)})).apply(this,arguments)}class ea extends hr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ea({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ea({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function nf(b,g){return Ja.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Jo(b,g){return id.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Dm(b,g){return rd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:L}=g;return E||_||M||L?new ea({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:L}):null}}class ta{constructor(g){var _,E,M,L,oe,Ne;const _t=(0,G.zd)((0,G.pd)(g)),Ft=null!==(_=_t.apiKey)&&void 0!==_?_:null,dn=null!==(E=_t.oobCode)&&void 0!==E?E:null,$n=function sd(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=_t.mode)&&void 0!==M?M:null);ce(Ft&&dn&&$n,"argument-error"),this.apiKey=Ft,this.operation=$n,this.code=dn,this.continueUrl=null!==(L=_t.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(oe=_t.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Ne=_t.tenantId)&&void 0!==Ne?Ne:null}static parseLink(g){const _=function od(b){const g=(0,G.zd)((0,G.pd)(b)).link,_=g?(0,G.zd)((0,G.pd)(g)).deep_link_id:null,E=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(E?(0,G.zd)((0,G.pd)(E)).link:null)||E||_||g||b}(g);try{return new ta(_)}catch{return null}}}let Wl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return Xa._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=ta.parseLink(E);return ce(M,"argument-error"),Xa._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ni{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class na extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class zs extends na{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ce("providerId"in _&&"signInMethod"in _,"argument-error"),bs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ce(g.idToken||g.accessToken,"argument-error"),bs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return zs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return zs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:L,nonce:oe,providerId:Ne}=g;if(!E&&!M&&!_&&!L||!Ne)return null;try{return new zs(Ne)._credential({idToken:_,accessToken:E,nonce:oe,pendingToken:L})}catch{return null}}}let ad=(()=>{class b extends na{constructor(){super("facebook.com")}static credential(_){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Zl=(()=>{class b extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return b.credential(E,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Lc=(()=>{class b extends na{constructor(){super("github.com")}static credential(_){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ia extends hr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Co(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Co(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Co(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:L}=_;return E&&M&&L&&E===M?new ia(E,L):null}static _create(g,_){return new ia(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends Ni{constructor(g){ce(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ar.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ar.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ia.fromJSON(g);return ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return ia._create(E,_)}catch{return null}}}let Cs=(()=>{class b extends na{constructor(){super("twitter.com")}static credential(_,E){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return b.credential(E,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function pr(b,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signUp",ln(b,g))})).apply(this,arguments)}class kr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,M=!1){return(0,u.Z)(function*(){const L=yield Nt._fromIdTokenResponse(g,E,M),oe=ra(E);return new kr({user:L,providerId:oe,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=ra(E);return new kr({user:g,providerId:M,_tokenResponse:E,operationType:_})})()}}function ra(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Tm(b){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(b){var g;const _=kt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new kr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield pr(_,{returnSecureToken:!0}),M=yield kr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Kn extends G.ZR{constructor(g,_,E,M){var L;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Kn.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,M){return new Kn(g,_,E,M)}}function cd(b,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Kn._fromErrorAndOperation(b,L,g,E):L})}function rf(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function $r(b,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(b,g){const _=(0,G.m9)(b);yield ns(!0,_,g);const{providerUserInfo:E}=yield lt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=rf(E||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Kl(b,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(b,g,_=!1){const E=yield zt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return kr._forOperation(b,"link",E)})).apply(this,arguments)}function ns(b,g,_){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(b,g,_){yield tr(g);const M=!1===b?"provider-already-linked":"no-such-provider";ce(rf(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function Bc(b,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(b,g,_=!1){var E;const{auth:M}=b,L="reauthenticate";try{const oe=yield zt(b,cd(M,L,g,b),_);ce(oe.idToken,M,"internal-error");const Ne=Tt(oe.idToken);ce(Ne,M,"internal-error");const{sub:_t}=Ne;return ce(b.uid===_t,M,"user-mismatch"),kr._forOperation(b,L,oe)}catch(oe){throw"auth/user-not-found"===(null===(E=oe)||void 0===E?void 0:E.code)&&at(M,"user-mismatch"),oe}})).apply(this,arguments)}function Uc(b,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(b,g,_=!1){const E="signIn",M=yield cd(b,E,g),L=yield kr._fromIdTokenResponse(b,E,M);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function el(b,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(b,g){return Uc(kt(b),g)})).apply(this,arguments)}function Wt(b,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(b,g){const _=(0,G.m9)(b);return yield ns(!1,_,g.providerId),Kl(_,g)})).apply(this,arguments)}function Sm(b,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(b,g){return Bc((0,G.m9)(b),g)})).apply(this,arguments)}function ud(b,g){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(b,g){return Zn(b,"POST","/v1/accounts:signInWithCustomToken",ln(b,g))})).apply(this,arguments)}function Do(b,g){return rl.apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(b,g){const _=kt(b),E=yield ud(_,{token:g,returnSecureToken:!0}),M=yield kr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class sa{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ve._fromServerResponse(g,_):at(g,"internal-error")}}class Ve extends sa{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ve(_)}}function un(b,g,_){var E;ce((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function sf(b,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b),M={requestType:"PASSWORD_RESET",email:g};_&&un(E,M,_),yield tf(E,M)})).apply(this,arguments)}function vi(b,g,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(b,g,_){yield Sr((0,G.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Yl(b,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(b,g){yield ef((0,G.m9)(b),{oobCode:g})})).apply(this,arguments)}function Ql(b,g){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(b,g){const _=(0,G.m9)(b),E=yield Sr(_,{oobCode:g}),M=E.requestType;switch(ce(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(E.mfaInfo,_,"internal-error");default:ce(E.email,_,"internal-error")}let L=null;return E.mfaInfo&&(L=sa._fromServerResponse(kt(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function af(b,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(b,g){const{data:_}=yield Ql((0,G.m9)(b),g);return _.email})).apply(this,arguments)}function xm(b,g,_){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(b,g,_){const E=kt(b),M=yield pr(E,{returnSecureToken:!0,email:g,password:_}),L=yield kr._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}function bi(b,g,_){return el((0,G.m9)(b),Wl.credential(g,_))}function is(b,g,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b),M={requestType:"EMAIL_SIGNIN",email:g};ce(_.handleCodeInApp,E,"argument-error"),_&&un(E,M,_),yield xr(E,M)})).apply(this,arguments)}function al(b,g){return"EMAIL_SIGNIN"===ta.parseLink(g)?.operation}function Es(b,g,_){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b),M=Wl.credentialWithLink(g,_||Ze());return ce(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),el(E,M)})).apply(this,arguments)}function Hc(b,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:createAuthUri",ln(b,g))})).apply(this,arguments)}function lf(b,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(b,g){const E={identifier:g,continueUri:Ke()?Ze():"http://localhost"},{signinMethods:M}=yield Hc((0,G.m9)(b),E);return M||[]})).apply(this,arguments)}function jc(b,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(b,g){const _=(0,G.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&un(_.auth,M,g);const{email:L}=yield vs(_.auth,M);L!==b.email&&(yield b.reload())})).apply(this,arguments)}function $c(b,g,_){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&un(E.auth,L,_);const{email:oe}=yield ql(E.auth,L);oe!==b.email&&(yield b.reload())})).apply(this,arguments)}function fd(b,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(b,g){return Xt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cf(b,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,G.m9)(b),L={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},oe=yield zt(E,fd(E.auth,L));E.displayName=oe.displayName||null,E.photoURL=oe.photoUrl||null;const Ne=E.providerData.find(({providerId:_t})=>"password"===_t);Ne&&(Ne.displayName=E.displayName,Ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(oe)})).apply(this,arguments)}function uf(b,g){return qs((0,G.m9)(b),g,null)}function pd(b,g){return qs((0,G.m9)(b),null,g)}function qs(b,g,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(b,g,_){const{auth:E}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(L.email=g),_&&(L.password=_);const oe=yield zt(b,Gl(E,L));yield b._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class qn{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class Is extends qn{constructor(g,_,E,M){super(g,_,E),this.username=M}}class Wn extends qn{constructor(g,_){super(g,"facebook.com",_)}}class zc extends Is{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Gc extends qn{constructor(g,_){super(g,"google.com",_)}}class df extends Is{constructor(g,_,E){super(g,"twitter.com",_,E)}}function qc(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function md(b){var g,_;if(!b)return null;const{providerId:E}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const oe=null===(_=null===(g=Tt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(oe)return new qn(L,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!E)return null;switch(E){case"facebook.com":return new Wn(L,M);case"github.com":return new zc(L,M);case"google.com":return new Gc(L,M);case"twitter.com":return new df(L,M,b.screenName||null);case"custom":case"anonymous":return new qn(L,null);default:return new qn(L,E,M)}}(_)}class Or{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new Or("enroll",g,_)}static _fromMfaPendingCredential(g){return new Or("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Or._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Or._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Kc{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=kt(g),M=_.customData._serverResponse,L=(M.mfaInfo||[]).map(Ne=>sa._fromServerResponse(E,Ne));ce(M.mfaPendingCredential,E,"internal-error");const oe=Or._fromMfaPendingCredential(M.mfaPendingCredential);return new Kc(oe,L,function(){var Ne=(0,u.Z)(function*(_t){const Ft=yield _t._process(E,oe);delete M.mfaInfo,delete M.mfaPendingCredential;const dn=Object.assign(Object.assign({},M),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(_.operationType){case"signIn":const $n=yield kr._fromIdTokenResponse(E,_.operationType,dn);return yield E._updateCurrentUser($n.user),$n;case"reauthenticate":return ce(_.user,E,"internal-error"),kr._forOperation(_.user,_.operationType,dn);default:at(E,"internal-error")}});return function(_t){return Ne.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function yd(b,g){var _;const E=(0,G.m9)(b),M=g;return ce(g.customData.operationType,E,"argument-error"),ce(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Kc._fromError(E,M)}function ei(b,g){return Xt(b,"POST","/v2/accounts/mfaEnrollment:start",ln(b,g))}class tc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>sa._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new tc(g)}getSession(){var g=this;return(0,u.Z)(function*(){return Or._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,u.Z)(function*(){const M=g,L=yield E.getSession(),oe=yield zt(E.user,M._process(E.user.auth,L,_));return yield E.user._updateTokensIfNecessary(oe),E.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){var E;const M="string"==typeof g?g:g.uid,L=yield _.user.getIdToken(),oe=yield zt(_.user,function ec(b,g){return Xt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(b,g))}(_.user.auth,{idToken:L,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ne})=>Ne!==M),yield _.user._updateTokensIfNecessary(oe);try{yield _.user.reload()}catch(Ne){if("auth/user-token-expired"!==(null===(E=Ne)||void 0===E?void 0:E.code))throw Ne}})()}}const hf=new WeakMap;function dl(b){const g=(0,G.m9)(b);return hf.has(g)||hf.set(g,tc._fromUser(g)),hf.get(g)}const Ds="__sak";class hl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ds,"1"),this.storage.removeItem(Ds),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const wi=(()=>{class b extends hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yc(){const b=(0,G.z$)();return H(b)||qe(b)}()&&function _s(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),L=this.localCache[E];M!==L&&_(E,L,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Ne,_t,Ft)=>{this.notifyListeners(Ne,Ft)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(M);if(_.newValue!==Ne)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const L=()=>{const Ne=this.storage.getItem(M);!E&&this.localCache[M]===Ne||this.notifyListeners(M,Ne)},oe=this.storage.getItem(M);!function Zt(){return(0,G.w1)()&&10===document.documentMode}()||oe===_.newValue||_.newValue===_.oldValue?L():setTimeout(L,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,L=this;return(0,u.Z)(function*(){yield M().call(L,_,E),L.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,u.Z)(function*(){const L=yield E().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var E=()=>super._remove,M=this;return(0,u.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Zs=(()=>{class b extends hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let pl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(L=>L.isListeningto(_));if(E)return E;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const M=_,{eventId:L,eventType:oe,data:Ne}=M.data,_t=E.handlersMap[oe];if(!_t?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:oe});const Ft=Array.from(_t).map(function(){var $n=(0,u.Z)(function*(ks){return ks(M.origin,Ne)});return function(ks){return $n.apply(this,arguments)}}()),dn=yield function Qc(b){return Promise.all(b.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(Ft);M.ports[0].postMessage({status:"done",eventId:L,eventType:oe,response:dn})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function pa(b="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return b+_}class mf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var M=this;return(0,u.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let oe,Ne;return new Promise((_t,Ft)=>{const dn=pa("",20);L.port1.start();const $n=setTimeout(()=>{Ft(new Error("unsupported_event"))},E);Ne={messageChannel:L,onMessage(ks){const Po=ks;if(Po.data.eventId===dn)switch(Po.data.status){case"ack":clearTimeout($n),oe=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),_t(Po.data.response);break;default:clearTimeout($n),clearTimeout(oe),Ft(new Error("invalid_response"))}}},M.handlers.add(Ne),L.port1.addEventListener("message",Ne.onMessage),M.target.postMessage({eventType:g,eventId:dn,data:_},[L.port2])}).finally(()=>{Ne&&M.removeMessageHandler(Ne)})})()}}function ti(){return window}function mr(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function Ts(){return(Ts=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ml="firebaseLocalStorageDb",gl="firebaseLocalStorage",ma="fbase_key";class xo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ga(b,g){return b.transaction([gl],g?"readwrite":"readonly").objectStore(gl)}function ic(){const b=indexedDB.open(ml,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(gl,{keyPath:ma})}catch(M){_(M)}}),b.addEventListener("success",(0,u.Z)(function*(){const E=b.result;E.objectStoreNames.contains(gl)?g(E):(E.close(),yield function Cd(){const b=indexedDB.deleteDatabase(ml);return new xo(b).toPromise()}(),g(yield ic()))}))})}function _l(b,g,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(b,g,_){const E=ga(b,!0).put({[ma]:g,value:_});return new xo(E).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(b,g){const _=ga(b,!1).get(g),E=yield new xo(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function rc(b,g){const _=ga(b,!0).delete(g);return new xo(_).toPromise()}const va=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield ic()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const L=yield E._openDb();return yield _(L)}catch(L){if(M++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return mr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=pl._getInstance(function nc(){return mr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function wd(){return Ts.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new mf(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(E=L[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Xc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ic();return yield _l(_,Ds,"1"),yield rc(_,Ds),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(L=>_l(L,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const M=yield E._withRetries(L=>function gf(b,g){return _a.apply(this,arguments)}(L,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(M=>rc(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(oe=>{const Ne=ga(oe,!1).getAll();return new xo(Ne).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:oe,value:Ne}of E)L.add(oe),JSON.stringify(_.localCache[oe])!==JSON.stringify(Ne)&&(_.notifyListeners(oe,Ne),M.push(oe));for(const oe of Object.keys(_.localCache))_.localCache[oe]&&!L.has(oe)&&(_.notifyListeners(oe,null),M.push(oe));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function _f(b,g){return Xt(b,"POST","/v2/accounts/mfaSignIn:start",ln(b,g))}function zi(){return(zi=(0,u.Z)(function*(b){return(yield Xt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mo(b){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=M=>{const L=$e("internal-error");L.customData=M,_(L)},E.type="text/javascript",E.charset="UTF-8",function wa(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Ca(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ss=1e12;class Ed{constructor(g){this.auth=g,this.counter=ss,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new jn(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||ss;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ss))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(g||ss))||void 0===E||E.execute(),""})()}}class jn{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ce(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mm(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yf=Ca("rcb"),pw=new st(3e4,6e4);class hy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ti().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ce(function vf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ti().grecaptcha):new Promise((E,M)=>{const L=ti().setTimeout(()=>{M($e(g,"network-request-failed"))},pw.get());ti()[yf]=()=>{ti().clearTimeout(L),delete ti()[yf];const Ne=ti().grecaptcha;if(!Ne)return void M($e(g,"internal-error"));const _t=Ne.render;Ne.render=(Ft,dn)=>{const $n=_t(Ft,dn);return this.counter++,$n},this.hostLanguage=_,E(Ne)},Mo(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:yf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M($e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=ti().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mw{load(g){return(0,u.Z)(function*(){return new Ed(g)})()}clearedOneInstance(){}}const Ys="recaptcha",fy={theme:"light",type:"image"};class Am{constructor(g,_=Object.assign({},fy),E){this.parameters=_,this.type=Ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kt(E),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ce(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mw:new hy,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(L=>{const oe=Ne=>{!Ne||(g.tokenChangeListeners.delete(oe),L(Ne))};g.tokenChangeListeners.add(oe),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=ti()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ce(Ke()&&!mr(),g.auth,"internal-error"),yield function Oi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function sc(b){return zi.apply(this,arguments)}(g.auth);ce(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class In{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ea._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Ti(b,g,_){return tu.apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(b,g,_){const E=kt(b),M=yield Ao(E,g,(0,G.m9)(_));return new In(M,L=>el(E,L))})).apply(this,arguments)}function Id(b,g,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b);yield ns(!1,E,"phone");const M=yield Ao(E.auth,g,(0,G.m9)(_));return new In(M,L=>Wt(E,L))})).apply(this,arguments)}function Ss(b,g,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b),M=yield Ao(E.auth,g,(0,G.m9)(_));return new In(M,L=>Sm(E,L))})).apply(this,arguments)}function Ao(b,g,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(b,g,_){var E;const M=yield _.verify();try{let L;if(ce("string"==typeof M,b,"argument-error"),ce(_.type===Ys,b,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const oe=L.session;if("phoneNumber"in L)return ce("enroll"===oe.type,b,"internal-error"),(yield ei(b,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ce("signin"===oe.type,b,"internal-error");const Ne=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return ce(Ne,b,"missing-multi-factor-info"),(yield _f(b,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield Em(b,{phoneNumber:L.phoneNumber,recaptchaToken:M});return oe}}finally{_._reset()}})).apply(this,arguments)}function ko(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(b,g){yield Kl((0,G.m9)(b),g)})).apply(this,arguments)}let Et=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=kt(_)}verifyPhoneNumber(_,E){return Ao(this.auth,_,(0,G.m9)(E))}static credential(_,E){return ea._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?ea._fromTokenResponse(E,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ia(b,g){return g?re(g):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Dd extends hr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Co(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Co(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Co(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function oc(b){return Uc(b.auth,new Dd(b),b.bypassAuthState)}function ir(b){const{auth:g,user:_}=b;return ce(_,g,"internal-error"),Bc(_,new Dd(b),b.bypassAuthState)}function Da(b){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(b){const{auth:g,user:_}=b;return ce(_,g,"internal-error"),Kl(_,new Dd(b),b.bypassAuthState)})).apply(this,arguments)}class xs{constructor(g,_,E,M,L=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:L,tenantId:oe,error:Ne,type:_t}=g;if(Ne)return void _.reject(Ne);const Ft={auth:_.auth,requestUri:E,sessionId:M,tenantId:oe||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(_t)(Ft))}catch(dn){_.reject(dn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return oc;case"linkViaPopup":case"linkViaRedirect":return Da;case"reauthViaPopup":case"reauthViaRedirect":return ir;default:at(this.auth,"internal-error")}}resolve(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rr=new st(2e3,1e4);function nu(b,g,_){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(b,g,_){const E=kt(b);Ae(b,g,Ni);const M=Ia(E,_);return new vl(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function iu(b,g,_){return Td.apply(this,arguments)}function Td(){return(Td=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b);Ae(E.auth,g,Ni);const M=Ia(E.auth,_);return new vl(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function km(b,g,_){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b);Ae(E.auth,g,Ni);const M=Ia(E.auth,_);return new vl(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let vl=(()=>{class b extends xs{constructor(_,E,M,L,oe){super(_,E,L,oe),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return ce(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){Te(1===_.filter.length,"Popup operations only handle one event");const E=pa();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject($e(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,rr.get())};_()}}return b.currentPopupAction=null,b})();const os=new Map;class ii extends xs{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=os.get(_.auth._key());if(!E){try{const L=(yield function as(b,g){return Sa.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(L)}catch(M){E=()=>Promise.reject(M)}os.set(_.auth._key(),E)}return _.bypassAuthState||os.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,u.Z)(function*(b,g){const _=Ms(g),E=xa(b);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Qs(b,g){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(b,g){return xa(b)._set(Ms(g),"true")})).apply(this,arguments)}function Xs(){os.clear()}function ru(b,g){os.set(b._key(),g)}function xa(b){return re(b._redirectPersistence)}function Ms(b){return q("pendingRedirect",b.config.apiKey,b.name)}function Sd(b,g,_){return function ri(b,g,_){return cc.apply(this,arguments)}(b,g,_)}function cc(){return(cc=(0,u.Z)(function*(b,g,_){const E=kt(b);Ae(b,g,Ni);const M=Ia(E,_);return yield Qs(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function D(b,g,_){return function S(b,g,_){return k.apply(this,arguments)}(b,g,_)}function k(){return(k=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b);Ae(E.auth,g,Ni);const M=Ia(E.auth,_);yield Qs(M,E.auth);const L=yield Jt(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function j(b,g,_){return function ne(b,g,_){return fe.apply(this,arguments)}(b,g,_)}function fe(){return(fe=(0,u.Z)(function*(b,g,_){const E=(0,G.m9)(b);Ae(E.auth,g,Ni);const M=Ia(E.auth,_);yield ns(!1,E,g.providerId),yield Qs(M,E.auth);const L=yield Jt(E);return M._openRedirect(E.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Be(b,g){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(b,g){return yield kt(b)._initializationPromise,xt(b,g,!1)})).apply(this,arguments)}function xt(b,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(b,g,_=!1){const E=kt(b),M=Ia(E,g),oe=yield new ii(E,M,_).execute();return oe&&!_&&(delete oe.user._redirectEventId,yield E._persistUserIfCurrent(oe.user),yield E._setRedirectUser(null,g)),oe})).apply(this,arguments)}function Jt(b){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(b){const g=pa(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Si{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ro(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return As(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!As(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError($e(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Js(g))}saveEventToCache(g){this.cachedEventUids.add(Js(g)),this.lastProcessedEventTime=Date.now()}}function Js(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function As({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function eo(b){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(b,g={}){return Xt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Ci=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^https?/;function su(){return(su=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield eo(b);for(const _ of g)try{if(FT(_))return}catch{}at(b,"unauthorized-domain")})).apply(this,arguments)}function FT(b){const g=Ze(),{protocol:_,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const oe=new URL(b);return""===oe.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&oe.hostname===E}if(!_r.test(_))return!1;if(Ci.test(b))return E===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const py=new st(3e4,6e4);function bf(){const b=ti().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let no=null;function Rm(b){return no=no||function wf(b){return new Promise((g,_)=>{var E,M,L;function oe(){bf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{bf(),_($e(b,"network-request-failed"))},timeout:py.get()})}if(null!==(M=null===(E=ti().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(L=ti().gapi)||void 0===L||!L.load){const Ne=Ca("iframefcb");return ti()[Ne]=()=>{gapi.load?oe():_($e(b,"network-request-failed"))},Mo(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(_t=>_(_t))}oe()}}).catch(g=>{throw no=null,g})}(b),no}const Cf=new st(5e3,15e3),my={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pm(b){const g=b.config;ce(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Dn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},M=VT.get(b.config.apiHost);M&&(E.eid=M);const L=b._getFrameworks();return L.length&&(E.fw=L.join(",")),`${_}?${(0,G.xO)(E).slice(1)}`}function Ef(){return Ef=(0,u.Z)(function*(b){const g=yield Rm(b),_=ti().gapi;return ce(_,b,"internal-error"),g.open({where:document.body,url:Pm(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:my,dontclear:!0},E=>new Promise(function(){var M=(0,u.Z)(function*(L,oe){yield E.restyle({setHideOnLeave:!1});const Ne=$e(b,"network-request-failed"),_t=ti().setTimeout(()=>{oe(Ne)},Cf.get());function Ft(){ti().clearTimeout(_t),L(E)}E.ping(Ft).then(Ft,()=>{oe(Ne)})});return function(L,oe){return M.apply(this,arguments)}}()))}),Ef.apply(this,arguments)}const If={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yy{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ma(b,g,_,E,M,L){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const oe={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:N.SDK_VERSION,eventId:M};if(g instanceof Ni){g.setDefaultLanguage(b.languageCode),oe.providerId=g.providerId||"",(0,G.xb)(g.getCustomParameters())||(oe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[_t,Ft]of Object.entries(L||{}))oe[_t]=Ft}if(g instanceof na){const _t=g.getScopes().filter(Ft=>""!==Ft);_t.length>0&&(oe.scopes=_t.join(","))}b.tenantId&&(oe.tid=b.tenantId);const Ne=oe;for(const _t of Object.keys(Ne))void 0===Ne[_t]&&delete Ne[_t];return`${function Oo({config:b}){return b.emulator?Dn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,G.xO)(Ne).slice(1)}`}const xd="webStorageSupport",Sf=class Tf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zs,this._completeRedirectFn=xt,this._overrideRedirectResult=ru}_openPopup(g,_,E,M){var L=this;return(0,u.Z)(function*(){var oe;Te(null===(oe=L.eventManagers[g._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Ne=Ma(g,_,E,Ze(),M);return function uc(b,g,_,E=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),oe=Math.max((window.screen.availWidth-E)/2,0).toString();let Ne="";const _t=Object.assign(Object.assign({},If),{width:E.toString(),height:M.toString(),top:L,left:oe}),Ft=(0,G.z$)().toLowerCase();_&&(Ne=le(Ft)?"_blank":_),P(Ft)&&(g=g||"http://localhost",_t.scrollbars="yes");const dn=Object.entries(_t).reduce((ks,[Po,Mf])=>`${ks}${Po}=${Mf},`,"");if(function Tn(b=(0,G.z$)()){var g;return qe(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ft)&&"_self"!==Ne)return function wl(b,g){const _=document.createElement("a");_.href=b,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Ne),new yy(null);const $n=window.open(g||"",Ne,dn);ce($n,b,"popup-blocked");try{$n.focus()}catch{}return new yy($n)}(g,Ne,pa())})()}_openRedirect(g,_,E,M){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(g),function bd(b){ti().location.href=b}(Ma(g,_,E,Ze(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(Te(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const E=yield function gw(b){return Ef.apply(this,arguments)}(g),M=new Si(g);return E.register("authEvent",L=>(ce(L?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(xd,{type:xd},M=>{var L;const oe=null===(L=M?.[0])||void 0===L?void 0:L[xd];void 0!==oe&&_(!!oe),at(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function to(b){return su.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Sn()||H()||qe()}};class Ad extends class Md{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ad(g)}_finalizeEnroll(g,_,E){return function Jl(b,g){return Xt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ln(b,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ba(b,g){return Xt(b,"POST","/v2/accounts/mfaSignIn:finalize",ln(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let io=(()=>{class b{constructor(){}static assertion(_){return Ad._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Aa="@firebase/auth",kd="0.20.11";class _w{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var M;g((null===(M=E)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function vy(b){(0,N._registerComponent)(new Ce.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:L,authDomain:oe}=E.options;return((Ne,_t)=>{ce(L&&!L.includes(":"),"invalid-api-key",{appName:Ne.name}),ce(!oe?.includes(":"),"argument-error",{appName:Ne.name});const Ft={apiKey:L,authDomain:oe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(b)},dn=new Xo(Ne,_t,Ft);return function he(b,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(re);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,g?.popupRedirectResolver)}(dn,_),dn})(E,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Ce.wA("auth-internal",g=>{const _=kt(g.getProvider("auth").getImmediate());return new _w(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Aa,kd,function yw(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(Aa,kd,"esm2017")}("Browser")},2090:(Ct,Fe,V)=>{V.d(Fe,{$s:()=>pt,BH:()=>nn,G6:()=>Ae,L:()=>ye,LL:()=>yn,Pz:()=>bn,Sg:()=>st,UG:()=>Re,US:()=>Ce,ZB:()=>W,ZR:()=>Vn,aH:()=>Dt,b$:()=>be,eu:()=>ce,hl:()=>it,jU:()=>gt,m9:()=>mn,ne:()=>Un,pd:()=>po,r3:()=>er,ru:()=>Se,tV:()=>De,uI:()=>je,vZ:()=>lt,w1:()=>at,xO:()=>Ln,xb:()=>jr,z$:()=>Xe,zI:()=>ge,zd:()=>Ri});const de=function(K){const q=[];let J=0;for(let $=0;$<K.length;$++){let P=K.charCodeAt($);P<128?q[J++]=P:P<2048?(q[J++]=P>>6|192,q[J++]=63&P|128):55296==(64512&P)&&$+1<K.length&&56320==(64512&K.charCodeAt($+1))?(P=65536+((1023&P)<<10)+(1023&K.charCodeAt(++$)),q[J++]=P>>18|240,q[J++]=P>>12&63|128,q[J++]=P>>6&63|128,q[J++]=63&P|128):(q[J++]=P>>12|224,q[J++]=P>>6&63|128,q[J++]=63&P|128)}return q},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let P=0;P<K.length;P+=3){const H=K[P],le=P+1<K.length,ze=le?K[P+1]:0,yt=P+2<K.length,vt=yt?K[P+2]:0;let Gt=(15&ze)<<2|vt>>6,Tn=63&vt;yt||(Tn=64,le||(Gt=64)),$.push(J[H>>2],J[(3&H)<<4|ze>>4],J[Gt],J[Tn])}return $.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(de(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let J=0,$=0;for(;J<K.length;){const P=K[J++];if(P<128)q[$++]=String.fromCharCode(P);else if(P>191&&P<224){const H=K[J++];q[$++]=String.fromCharCode((31&P)<<6|63&H)}else if(P>239&&P<365){const yt=((7&P)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;q[$++]=String.fromCharCode(55296+(yt>>10)),q[$++]=String.fromCharCode(56320+(1023&yt))}else{const H=K[J++],le=K[J++];q[$++]=String.fromCharCode((15&P)<<12|(63&H)<<6|63&le)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const J=q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let P=0;P<K.length;){const H=J[K.charAt(P++)],ze=P<K.length?J[K.charAt(P)]:0;++P;const vt=P<K.length?J[K.charAt(P)]:64;++P;const qe=P<K.length?J[K.charAt(P)]:64;if(++P,null==H||null==ze||null==vt||null==qe)throw Error();$.push(H<<2|ze>>4),64!==vt&&($.push(ze<<4&240|vt>>2),64!==qe&&$.push(vt<<6&192|qe))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},ye=function(K){return function(K){const q=de(K);return Ce.encodeByteArray(q,!0)}(K).replace(/\./g,"")},De=function(K){try{return Ce.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function W(K,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return q}for(const J in q)!q.hasOwnProperty(J)||!ie(J)||(K[J]=W(K[J],q[J]));return K}function ie(K){return"__proto__"!==K}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){return"object"==typeof self&&self.self===self}function Se(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function at(){const K=Xe();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ae(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function ce(){return new Promise((K,q)=>{try{let J=!0;const $="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open($);P.onsuccess=()=>{P.result.close(),J||self.indexedDB.deleteDatabase($),K(!0)},P.onupgradeneeded=()=>{J=!1},P.onerror=()=>{var H;q((null===(H=P.error)||void 0===H?void 0:H.message)||"")}}catch(J){q(J)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const he=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=K&&De(K[1]);return q&&JSON.parse(q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Dt=()=>{var K;return null===(K=he())||void 0===K?void 0:K.config},bn=K=>{var q;return null===(q=he())||void 0===q?void 0:q[`_${K}`]};class nn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,J)=>{this.resolve=q,this.reject=J})}wrapCallback(q){return(J,$)=>{J?this.reject(J):this.resolve($),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(J):q(J,$))}}}function st(K,q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=q||"demo-project",P=K.iat||0,H=K.sub||K.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const le=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:P,exp:P+3600,auth_time:P,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},K);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(le)),""].join(".")}class Vn extends Error{constructor(q,J,$){super(J),this.code=q,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(q,J,$){this.service=q,this.serviceName=J,this.errors=$}create(q,...J){const $=J[0]||{},P=`${this.service}/${q}`,H=this.errors[q],le=H?function vn(K,q){return K.replace(ln,(J,$)=>{const P=q[$];return null!=P?String(P):`<${$}?>`})}(H,$):"Error";return new Vn(P,`${this.serviceName}: ${le} (${P}).`,$)}}const ln=/\{\$([^}]+)}/g;function er(K,q){return Object.prototype.hasOwnProperty.call(K,q)}function jr(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function lt(K,q){if(K===q)return!0;const J=Object.keys(K),$=Object.keys(q);for(const P of J){if(!$.includes(P))return!1;const H=K[P],le=q[P];if(gi(H)&&gi(le)){if(!lt(H,le))return!1}else if(H!==le)return!1}for(const P of $)if(!J.includes(P))return!1;return!0}function gi(K){return null!==K&&"object"==typeof K}function Ln(K){const q=[];for(const[J,$]of Object.entries(K))Array.isArray($)?$.forEach(P=>{q.push(encodeURIComponent(J)+"="+encodeURIComponent(P))}):q.push(encodeURIComponent(J)+"="+encodeURIComponent($));return q.length?"&"+q.join("&"):""}function Ri(K){const q={};return K.replace(/^\?/,"").split("&").forEach($=>{if($){const[P,H]=$.split("=");q[decodeURIComponent(P)]=decodeURIComponent(H)}}),q}function po(K){const q=K.indexOf("?");if(!q)return"";const J=K.indexOf("#",q);return K.substring(q,J>0?J:void 0)}function Un(K,q){const J=new On(K,q);return J.subscribe.bind(J)}class On{constructor(q,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{q(this)}).catch($=>{this.error($)})}next(q){this.forEachObserver(J=>{J.next(q)})}error(q){this.forEachObserver(J=>{J.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,J,$){let P;if(void 0===q&&void 0===J&&void 0===$)throw new Error("Missing Observer.");P=function St(K,q){if("object"!=typeof K||null===K)return!1;for(const J of q)if(J in K&&"function"==typeof K[J])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:J,complete:$},void 0===P.next&&(P.next=zt),void 0===P.error&&(P.error=zt),void 0===P.complete&&(P.complete=zt);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),H}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,q)}sendOne(q,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{J(this.observers[q])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}function pt(K,q=1e3,J=2){const $=q*Math.pow(J,K),P=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+P)}function mn(K){return K&&K._delegate?K._delegate:K}},1931:(Ct,Fe,V)=>{var u=V(4650);let G=null;function N(){return G}const ue=new u.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(){return(0,u.LFG)(W)}()},providedIn:"platform"}),n})();const Y=new u.OlP("Location Initialized");let W=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ie()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ie()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Xe(){return new W((0,u.LFG)(ue))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function gt(n){return n&&"?"!==n[0]?"?"+n:n}let Se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ct)},providedIn:"root"}),n})();const be=new u.OlP("appBaseHref");let ct=(()=>{class n extends Se{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+gt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const c=this.prepareExternalUrl(r+gt(o));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){const c=this.prepareExternalUrl(r+gt(o));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n extends Se{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let c=this.prepareExternalUrl(r+gt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){let c=this.prepareExternalUrl(r+gt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Re(it(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+gt(i))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,it(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=gt,n.joinWithSlash=je,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(u.LFG(Se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new $e((0,u.LFG)(Se))}()},providedIn:"root"}),n})();function it(n){return n.replace(/\/index.html$/,"")}function Gl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class vo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $s=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new vo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),bo(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{bo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function bo(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new tf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tf{constructor(){this.$implicit=null,this.ngIf=null}}function yi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class xr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let wo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ql=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new xr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(wo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class Cm{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class bs{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Em=new bs,nd=new Cm;let nf=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,u.QGY)(t))return Em;if((0,u.F4k)(t))return nd;throw function Mr(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ar="browser";function ra(n){return"server"===n}let cd=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new rf((0,u.LFG)(ue),window)}),n})();class rf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Fi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $r(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Io{}class qs extends class pd extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pe(n){G||(G=n)}(new qs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function md(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==t?null:function Is(n){qn=qn||document.createElement("a"),qn.setAttribute("href",n);const e=qn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gl(document.cookie,e)}}let qn,Ws=null;const Wn=new u.OlP("TRANSITION_ID"),Gc=[{provide:u.ip1,useFactory:function zc(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Wn,ue,u.zs3],multi:!0}];let qc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Wc=new u.OlP("EventManagerPlugins");let Zc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wc),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Xl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let da=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n extends da{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(gd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gd(n){N().remove(n)}const fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_d=/%COMP%/g;function ec(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ec(n,r,t):(r=r.replace(_d,n),t.push(r))}return t}function tc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let dl=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ds(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new vd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new ff(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ec(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zc),u.LFG(ha),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ds{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(fa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(fl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(fl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=fa[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=fa[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,tc(i)):this.eventManager.addEventListener(e,t,tc(i))}}function fl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vd extends Ds{constructor(e,t,i,r){super(e),this.component=i;const o=ec(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function ei(n){return"_ngcontent-%COMP%".replace(_d,n)}(r+"-"+i.id),this.hostAttr=function Jl(n){return"_nghost-%COMP%".replace(_d,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ff extends Ds{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ec(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wi=(()=>{class n extends Xl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pf=["alt","control","meta","shift"],Zs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pl=(()=>{class n extends Xl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),pf.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),c+=y+".")}),c+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=Zs[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pf.forEach(c=>{c!==r&&(0,Qc[c])(t)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ar},{provide:u.g9A,useValue:function wd(){qs.makeCurrent()},multi:!0},{provide:ue,useFactory:function Xc(){return(0,u.RDi)(document),document},deps:[]}]),So=new u.OlP(""),gl=[{provide:u.rWj,useClass:class df{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ma=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ts(){return new u.qLn},deps:[]},{provide:Wc,useClass:wi,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:Wc,useClass:pl,multi:!0,deps:[ue]},{provide:dl,useClass:dl,deps:[Zc,ha,u.AFp]},{provide:u.FYo,useExisting:dl},{provide:da,useExisting:ha},{provide:ha,useClass:ha,deps:[ue]},{provide:Zc,useClass:Zc,deps:[Wc,u.R0b]},{provide:Io,useClass:qc,deps:[]},[]];let xo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Wn,useExisting:u.AFp},Gc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(So,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ma,...gl],imports:[ws,u.hGG]}),n})(),rs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function _l(){return new rs((0,u.LFG)(ue))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ys=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(Am),i},providedIn:"root"}),n})(),Am=(()=>{class n extends Ys{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function fy(n){return new Am(n.get(ue))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var In=V(8996),Ti=V(9751);const{isArray:tu}=Array,{getPrototypeOf:Id,prototype:Gi,keys:Ss}=Object;function yl(n){if(1===n.length){const e=n[0];if(tu(e))return{args:e,keys:null};if(function Ao(n){return n&&"object"==typeof n&&Id(n)===Gi}(e)){const t=Ss(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var gr=V(8421),ko=V(3269),ni=V(5403),Et=V(4004);const{isArray:Ia}=Array;function oc(n){return(0,Et.U)(e=>function Dd(n,e){return Ia(e)?n(...e):n(e)}(n,e))}function ir(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Da(...n){const e=(0,ko.jO)(n),{args:t,keys:i}=yl(n),r=new Ti.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let p=c,y=c;for(let w=0;w<c;w++){let T=!1;(0,gr.Xf)(t[w]).subscribe((0,ni.x)(o,R=>{T||(T=!0,y--),h[w]=R},()=>p--,void 0,()=>{(!p||!T)&&(y||o.next(i?ir(i,h):h),o.complete())}))}});return e?r.pipe(oc(e)):r}const ii=new u.OlP("NgValidators"),as=new u.OlP("NgAsyncValidators");function S(n){return null!=n}function k(n){return(0,u.QGY)(n)?(0,In.D)(n):n}function j(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ne(n,e){return e.map(t=>t(n))}function Be(n){return n.map(e=>function fe(n){return!n.validate}(e)?e:t=>e.validate(t))}function xt(n){return null!=n?function nt(n){if(!n)return null;const e=n.filter(S);return 0==e.length?null:function(t){return j(ne(t,e))}}(Be(n)):null}function Jt(n){return null!=n?function jt(n){if(!n)return null;const e=n.filter(S);return 0==e.length?null:function(t){return Da(ne(t,e).map(k)).pipe((0,Et.U)(j))}}(Be(n)):null}function Rt(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Js(n){return n?Array.isArray(n)?n:[n]:[]}function As(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ro(n,e){const t=Js(e);return Js(n).forEach(r=>{As(t,r)||t.push(r)}),t}function eo(n,e){return Js(e).filter(t=>!As(n,t))}class Ci extends class ls{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let bf=(()=>{class n extends class to{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ci,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const wl="VALID",ou="INVALID",Cl="PENDING",Ma="DISABLED";function xd(n){return Array.isArray(n)?xt(n):n||null}function Sf(n){return Array.isArray(n)?Jt(n):n||null}function Md(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kd extends class Aa{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xd(this._rawValidators),this._composedAsyncValidatorFn=Sf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wl}get invalid(){return this.status===ou}get pending(){return this.status==Cl}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Sf(e)}addValidators(e){this.setValidators(Ro(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ro(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eo(e,this._rawAsyncValidators))}hasValidator(e){return As(this._rawValidators,e)}hasAsyncValidator(e){return As(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wl||this.status===Cl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cl,this._hasOwnPendingAsyncValidator=!0;const t=k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cl)?Cl:this._anyControlsHaveStatus(ou)?ou:wl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Md(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e,t,i){super(function Oo(n){return(Md(n)?n.validators:n)||null}(t),function Tf(n,e){return(Md(e)?e.asyncValidators:n)||null}(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function io(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function Ad(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g(n,e){const t=function si(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Rt(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Si(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Rt(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();xf(e._rawValidators,r),xf(e._rawAsyncValidators,r)}function L(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Af={provide:Ci,useExisting:(0,u.Gpc)(()=>ka)},Il=(()=>Promise.resolve())();let ka=(()=>{class n extends Ci{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new kd({},xt(t),Jt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Il.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),function El(n,e){g(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function E(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&L(n,e)})}(n,e),function oe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function M(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&L(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Il.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Il.then(()=>{const i=this._findContainer(t.path),r=new kd({});(function Ne(n,e){g(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Il.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Il.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Pd(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ii,10),u.Y36(as,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Af]),u.qOj]}),n})(),Nd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Iw]}),n})(),aO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oO]}),n})();function bt(...n){const e=(0,ko.yG)(n);return(0,In.D)(n,e)}var _n=V(7579);class Rs extends _n.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const $m=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hu=V(4671),Rf=V(9672);function Ny(...n){const e=(0,ko.yG)(n),t=(0,ko.jO)(n),{args:i,keys:r}=yl(n);if(0===i.length)return(0,In.D)([],e);const o=new Ti.y(function tS(n,e,t=hu.y){return i=>{Bw(e,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)Bw(e,()=>{const y=(0,In.D)(n[p],e);let w=!1;y.subscribe((0,ni.x)(i,T=>{o[p]=T,w||(w=!0,h--),h||i.next(t(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>ir(r,c):hu.y));return t?o.pipe(oc(t)):o}function Bw(n,e,t){n?(0,Rf.f)(t,n,e):e()}var Bd=V(8189);function zm(...n){return function nS(){return(0,Bd.J)(1)}()((0,In.D)(n,(0,ko.yG)(n)))}function Uw(n){return new Ti.y(e=>{(0,gr.Xf)(n()).subscribe(e)})}var iS=V(9635),ro=V(576);function Ud(n,e){const t=(0,ro.m)(n)?n:()=>n,i=r=>r.error(t());return new Ti.y(e?r=>e.schedule(i,0,r):i)}var fu=V(515),pu=V(727),qi=V(4482);function Fy(){return(0,qi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ni.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hw extends Ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ni.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pu.w0.EMPTY)}return e}refCount(){return Fy()(this)}}function Mn(n,e){return(0,qi.e)((t,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,ni.x)(i,p=>{r?.unsubscribe();let y=0;const w=o++;(0,gr.Xf)(n(p,w)).subscribe(r=(0,ni.x)(i,T=>i.next(e?e(p,T,w,y++):T),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function Os(n){return n<=0?()=>fu.E:(0,qi.e)((e,t)=>{let i=0;e.subscribe((0,ni.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function hc(...n){const e=(0,ko.yG)(n);return(0,qi.e)((t,i)=>{(e?zm(n,t,e):zm(n,t)).subscribe(i)})}function xi(n,e){return(0,qi.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var Pn=V(5577);function fc(n){return(0,qi.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ly(n=rS){return(0,qi.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rS(){return new $m}function Tl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,o)=>n(r,o,i)):hu.y,Os(1),t?fc(e):Ly(()=>new $m))}function Sl(n,e){return(0,ro.m)(e)?(0,Pn.z)(n,e,1):(0,Pn.z)(n,1)}var Wi=V(8505);function Ra(n){return(0,qi.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,ni.x)(t,void 0,void 0,c=>{o=(0,gr.Xf)(n(c,Ra(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function sS(n,e,t,i,r){return(o,c)=>{let h=t,p=e,y=0;o.subscribe((0,ni.x)(c,w=>{const T=y++;p=h?n(p,w,T):(h=!0,w),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function Hd(n,e){return(0,qi.e)(sS(n,e,arguments.length>=2,!0))}function Vy(n){return n<=0?()=>fu.E:(0,qi.e)((e,t)=>{let i=[];e.subscribe((0,ni.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function jw(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xi((r,o)=>n(r,o,i)):hu.y,Vy(1),t?fc(e):Ly(()=>new $m))}function By(n){return(0,Et.U)(()=>n)}function Of(n){return(0,qi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const rn="primary",Ps=Symbol("RouteTitle");class oS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jd(n){return new oS(n)}function uO(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function No(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!aS(n[r],e[r]))return!1;return!0}function aS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Fo(n){return Array.prototype.concat.apply([],n)}function Gm(n){return n.length>0?n[n.length-1]:null}function yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xl(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,In.D)(Promise.resolve(n)):bt(n)}const lS={exact:function jy(n,e,t){if(!_u(n.segments,e.segments)||!Nf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!jy(n.children[i],e.children[i],t))return!1;return!0},subset:mu},Gw={exact:function Hy(n,e){return No(n,e)},subset:function hO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aS(n[t],e[t]))},ignored:()=>!0};function qm(n,e,t){return lS[t.paths](n.root,e.root,t.matrixParams)&&Gw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mu(n,e,t){return Wm(n,e,e.segments,t)}function Wm(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!_u(r,t)||e.hasChildren()||!Nf(r,t,i))}if(n.segments.length===t.length){if(!_u(n.segments,t)||!Nf(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!mu(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_u(n.segments,r)&&Nf(n.segments,r,i)&&n.children[rn])&&Wm(n.children[rn],e,o,i)}}function Nf(n,e,t){return e.every((i,r)=>Gw[t](n[r].parameters,i.parameters))}class gu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jd(this.queryParams)),this._queryParamMap}toString(){return Ww.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}}class Ff{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=jd(this.parameters)),this._parameterMap}toString(){return zy(this)}}function _u(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new $y},providedIn:"root"}),n})();class $y{parse(e){const t=new Gy(e);return new gu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zd(e.root,!0)}`,i=function hS(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Km(t)}=${Km(r)}`).join("&"):`${Km(t)}=${Km(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function dS(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ww=new $y;function $d(n){return n.segments.map(e=>zy(e)).join("/")}function zd(n,e){if(!n.hasChildren())return $d(n);if(e){const t=n.children[rn]?zd(n.children[rn],!1):"",i=[];return yr(n.children,(r,o)=>{o!==rn&&i.push(`${o}:${zd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function uS(n,e){let t=[];return yr(n.children,(i,r)=>{r===rn&&(t=t.concat(e(i,r)))}),yr(n.children,(i,r)=>{r!==rn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===rn?[zd(n.children[rn],!1)]:[`${r}:${zd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${$d(n)}/${t[0]}`:`${$d(n)}/(${t.join("//")})`}}function Zm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Km(n){return Zm(n).replace(/%3B/gi,";")}function Ym(n){return Zm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lf(n){return decodeURIComponent(n)}function pc(n){return Lf(n.replace(/\+/g,"%20"))}function zy(n){return`${Ym(n.path)}${function Zw(n){return Object.keys(n).map(e=>`;${Ym(e)}=${Ym(n[e])}`).join("")}(n.parameters)}`}const fO=/^[^\/()?;=#]+/;function yu(n){const e=n.match(fO);return e?e[0]:""}const fS=/^[^=?&#]+/,Yw=/^[^&#]+/;class Gy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[rn]=new fn(e,t)),i}parseSegment(){const e=yu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Ff(Lf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=yu(this.remaining);r&&(i=r,this.capture(i))}e[Lf(t)]=Lf(i)}parseQueryParam(e){const t=function Kw(n){const e=n.match(fS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Qw(n){const e=n.match(Yw);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=pc(t),o=pc(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=rn);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[rn]:new fn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Qm(n){return n.segments.length>0?new fn([],{[rn]:n}):n}function vu(n){const e={};for(const i of Object.keys(n.children)){const o=vu(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Xm(n){if(1===n.numberOfChildren&&n.children[rn]){const e=n.children[rn];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}function mc(n){return n instanceof gu}function mS(n,e,t,i,r){if(0===t.length)return qd(e.root,e.root,e.root,i,r);const o=function Zy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return yr(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Jm(t,e,i)}(t);return o.toRoot()?qd(e.root,e.root,new fn([],{}),i,r):function c(p){const y=function gS(n,e,t,i){if(n.isAbsolute)return new Hf(e.root,!0,0);if(-1===i)return new Hf(t,t===e.root,0);return function Ky(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Hf(i,!1,r-o)}(t,i+(Gd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,p),w=y.processChildren?Wr(y.segmentGroup,y.index,o.commands):Yy(y.segmentGroup,y.index,o.commands);return qd(e.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Gd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uf(n){return"object"==typeof n&&null!=n&&n.outlets}function qd(n,e,t,i,r){let c,o={};i&&yr(i,(p,y)=>{o[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=n===e?t:Wy(n,e,t);const h=Qm(vu(c));return new gu(h,o,r)}function Wy(n,e,t){const i={};return yr(n.children,(r,o)=>{i[o]=r===e?t:Wy(r,e,t)}),new fn(n.segments,i)}class Jm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gd(i[0]))throw new u.vHH(4003,!1);const r=i.find(Uf);if(r&&r!==Gm(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Yy(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Wr(n,e,t);const i=function yS(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const c=n.segments[r],h=t[i];if(Uf(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!eC(p,y,c))return o;i+=2}else{if(!eC(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,i.pathIndex),{});return o.children[rn]=new fn(n.segments.slice(i.pathIndex),n.children),Wr(o,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?eg(n,e,t):i.match?Wr(n,0,r):eg(n,e,t)}function Wr(n,e,t){if(0===t.length)return new fn(n.segments,{});{const i=function _S(n){return Uf(n[0])?n[0].outlets:{[rn]:n}}(t),r={};return yr(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Yy(n.children[c],e,o))}),yr(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new fn(n.segments,r)}}function eg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Uf(o)){const p=vS(o.outlets);return new fn(i,p)}if(0===r&&Gd(t[0])){i.push(new Ff(n.segments[e].path,Jw(t[0]))),r++;continue}const c=Uf(o)?o.outlets[rn]:`${o}`,h=r<t.length-1?t[r+1]:null;c&&h&&Gd(h)?(i.push(new Ff(c,Jw(h))),r+=2):(i.push(new Ff(c,{})),r++)}return new fn(i,{})}function vS(n){const e={};return yr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=eg(new fn([],{}),0,t))}),e}function Jw(n){const e={};return yr(n,(t,i)=>e[i]=`${t}`),e}function eC(n,e,t){return n==t.path&&No(e,t.parameters)}class Ml{constructor(e,t){this.id=e,this.url=t}}class tg extends Ml{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bu extends Ml{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ng extends Ml{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tC extends Ml{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sn extends Ml{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC extends Ml{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iC extends Ml{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rC extends Ml{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bS extends Ml{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ES{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DS{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Al(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Al(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Xy(e,this._root).map(t=>t.value)}}function Al(n,e){if(n===e.value)return e;for(const t of e.children){const i=Al(n,t);if(i)return i}return null}function Xy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Xy(n,t);if(i.length)return i.unshift(e),i}return[]}class Lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class lC extends Qy{constructor(e,t){super(e),this.snapshot=t,_c(this,e)}toString(){return this.snapshot.toString()}}function TS(n,e){const t=function pO(n,e){const c=new Jy([],{},{},"",{},rn,e,null,n.root,-1,{});return new dC("",new Lo(c,[]))}(n,e),i=new Rs([new Ff("",{})]),r=new Rs({}),o=new Rs({}),c=new Rs({}),h=new Rs(""),p=new Wd(i,r,c,h,o,rn,e,t.root);return p.snapshot=t.root,new lC(new Lo(p,[]),t)}class Wd{constructor(e,t,i,r,o,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,Et.U)(y=>y[Ps]))??bt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>jd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>jd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cC(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function uC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Jy{constructor(e,t,i,r,o,c,h,p,y,w,T,R){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.[Ps],this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=w,this._correctedLastPathIndex=R??w,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dC extends Qy{constructor(e,t){super(t),this.url=e,_c(this,t)}toString(){return hC(this._root)}}function _c(n,e){e.value._routerState=n,e.children.forEach(t=>_c(n,t))}function hC(n){const e=n.children.length>0?` { ${n.children.map(hC).join(", ")} } `:"";return`${n.value}${e}`}function ig(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,No(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),No(e.params,t.params)||n.params.next(t.params),function dO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!No(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),No(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zd(n,e){const t=No(n.params,e.params)&&function cS(n,e){return _u(n,e)&&n.every((t,i)=>No(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zd(n.parent,e.parent))}function Kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function xS(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kd(n,i,r);return Kd(n,i)})}(n,e,t);return new Lo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Kd(n,h)),c}}const i=function MS(n){return new Wd(new Rs(n.url),new Rs(n.params),new Rs(n.queryParams),new Rs(n.fragment),new Rs(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Kd(n,o));return new Lo(i,r)}}const ev="ngNavigationCancelingError";function fC(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=pC(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function pC(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ev]=!0,i.cancellationCode=e,t&&(i.url=t),i}function tv(n){return mC(n)&&mc(n.url)}function mC(n){return n&&n[ev]}class gC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yd,this.attachRef=null}}let Yd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new gC,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qd=!1;let nv=(()=>{class n{constructor(t,i,r,o,c){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Qd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Qd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Qd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,Qd);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new iv(t,h,r.injector);if(i&&function AS(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yd),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class iv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Wd?this.route:e===Yd?this.childContexts:this.parent.get(e,t)}}let _C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[nv],encapsulation:2}),n})();function wu(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jf(n){const e=n.children&&n.children.map(jf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rn&&(t.component=_C),t}function Ns(n){return n.outlet||rn}function sg(n,e){const t=n.filter(i=>Ns(i)===e);return t.push(...n.filter(i=>Ns(i)!==e)),t}function og(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class mO{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ig(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=gc(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),yr(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=gc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=gc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=gc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new IS(o.value.snapshot))}),e.children.length&&this.forwardEvent(new oC(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(ig(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),ig(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=og(r.snapshot),p=h?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class $f{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cu{constructor(e,t){this.component=e,this.route=t}}function ov(n,e,t){const i=n._root;return ag(i,e?e._root:null,t,[i.value])}function yc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function ag(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=gc(e);return n.children.forEach(c=>{(function PS(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function NS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_u(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_u(n.url,e.url)||!No(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zd(n,e)||!No(n.queryParams,e.queryParams);default:return!Zd(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new $f(i)):(o.data=c.data,o._resolvedData=c._resolvedData),ag(n,e,o.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Cu(h.outlet.component,c))}else c&&zf(e,h,r),r.canActivateChecks.push(new $f(i)),ag(n,null,o.component?h?h.children:null:t,i,r)})(c,o[c.value.outlet],t,i.concat([c.value]),r),delete o[c.value.outlet]}),yr(o,(c,h)=>zf(c,t.getContext(h),r)),r}function zf(n,e,t){const i=gc(n),r=n.value;yr(i,(o,c)=>{zf(o,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Cu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Gf(n){return"function"==typeof n}function CC(n){return n instanceof $m||"EmptyError"===n?.name}const cv=Symbol("INITIAL_VALUE");function qf(){return Mn(n=>Ny(n.map(e=>e.pipe(Os(1),hc(cv)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===cv)return cv;if(!1===t||t instanceof gu)return t}return!0}),xi(e=>e!==cv),Os(1)))}function EC(n){return(0,iS.z)((0,Wi.b)(e=>{if(mc(e))throw fC(0,e)}),(0,Et.U)(e=>!0===e))}const Wf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dv(n,e,t,i,r){const o=Zf(n,e,t);return o.matched?function IC(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?bt(r.map(c=>{const h=yc(c,n);return xl(function wC(n){return n&&Gf(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(qf(),EC()):bt(!0)}(i=wu(e,i),e,t).pipe((0,Et.U)(c=>!0===c?o:{...Wf})):bt(o)}function Zf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Wf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||uO)(t,n,e);if(!r)return{...Wf};const o={};yr(r.posParams,(h,p)=>{o[p]=h.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function lg(n,e,t,i,r="corrected"){if(t.length>0&&function LS(n,e,t){return t.some(i=>Kf(n,e,i)&&Ns(i)!==rn)}(n,t,i)){const c=new fn(e,function DC(n,e,t,i){const r={};r[rn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Ns(o)!==rn){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Ns(o)]=c}return r}(n,e,i,new fn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function VS(n,e,t){return t.some(i=>Kf(n,e,i))}(n,t,i)){const c=new fn(n.segments,function bc(n,e,t,i,r,o){const c={};for(const h of i)if(Kf(n,t,h)&&!r[Ns(h)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[Ns(h)]=p}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new fn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Kf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function TC(n,e,t,i){return!!(Ns(n)===i||i!==rn&&Kf(e,t,n))&&("**"===n.path||Zf(e,n,t).matched)}function SC(n,e,t){return 0===e.length&&!n.children[t]}const Eu=!1;class Rl{constructor(e){this.segmentGroup=e||null}}class cg{constructor(e){this.urlTree=e}}function Pa(n){return Ud(new Rl(n))}function ug(n){return Ud(new cg(n))}class hv{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=lg(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,rn).pipe((0,Et.U)(o=>this.createUrlTree(vu(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ra(o=>{if(o instanceof cg)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Rl?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,rn).pipe((0,Et.U)(r=>this.createUrlTree(vu(r),e.queryParams,e.fragment))).pipe(Ra(r=>{throw r instanceof Rl?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Eu)}createUrlTree(e,t,i){const r=Qm(e);return new gu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Et.U)(o=>new fn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,In.D)(r).pipe(Sl(o=>{const c=i.children[o],h=sg(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,Et.U)(p=>({segment:p,outlet:o})))}),Hd((o,c)=>(o[c.outlet]=c.segment,o),{}),jw())}expandSegment(e,t,i,r,o,c){return(0,In.D)(i).pipe(Sl(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,c).pipe(Ra(y=>{if(y instanceof Rl)return bt(null);throw y}))),Tl(h=>!!h),Ra((h,p)=>{if(CC(h))return SC(t,r,o)?bt(new fn([],{})):Pa(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,c,h){return TC(r,t,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c):Pa(t):Pa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ug(o):this.lineralizeSegments(i,o).pipe((0,Pn.z)(c=>{const h=new fn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Zf(t,r,o);if(!h)return Pa(t);const T=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?ug(T):this.lineralizeSegments(r,T).pipe((0,Pn.z)(R=>this.expandSegment(e,t,i,R.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=wu(i,e),i.loadChildren?(i._loadedRoutes?bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Et.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new fn(r,{})))):bt(new fn(r,{}))):dv(t,i,r,e).pipe(Mn(({matched:c,consumedSegments:h,remainingSegments:p})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Pn.z)(w=>{const T=w.injector??e,R=w.routes,{segmentGroup:F,slicedSegments:U}=lg(t,h,p,R),X=new fn(F.segments,F.children);if(0===U.length&&X.hasChildren())return this.expandChildren(T,R,X).pipe((0,Et.U)(we=>new fn(h,we)));if(0===R.length&&0===U.length)return bt(new fn(h,{}));const z=Ns(i)===o;return this.expandSegment(T,X,R,U,z?rn:o,!0).pipe((0,Et.U)(Ie=>new fn(h.concat(Ie.segments),Ie.children)))})):Pa(t)))}getChildConfig(e,t,i){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function uv(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?bt(!0):bt(r.map(c=>{const h=yc(c,n);return xl(function gO(n){return n&&Gf(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(qf(),EC())}(e,t,i).pipe((0,Pn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Wi.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function xC(n){return Ud(pC(Eu,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[rn])return Ud(new u.vHH(4e3,Eu));r=r.children[rn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new gu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return yr(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let c={};return yr(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new fn(o,c)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Eu);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class pv{}class US{constructor(e,t,i,r,o,c,h,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const e=lg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rn).pipe((0,Et.U)(t=>{if(null===t)return null;const i=new Jy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Lo(i,t),o=new dC(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=cC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,In.D)(Object.keys(i.children)).pipe(Sl(r=>{const o=i.children[r],c=sg(t,r);return this.processSegmentGroup(e,c,o,r)}),Hd((r,o)=>r&&o?(r.push(...o),r):null),function $w(n,e=!1){return(0,qi.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,o=>{const c=n(o,r++);(c||e)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),fc(null),jw(),(0,Et.U)(r=>{if(null===r)return null;const o=mv(r);return function AC(n){n.sort((e,t)=>e.value.outlet===rn?-1:t.value.outlet===rn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,In.D)(t).pipe(Sl(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,o)),Tl(c=>!!c),Ra(c=>{if(CC(c))return SC(i,r,o)?bt([]):bt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!TC(t,i,r,o))return bt(null);let c;if("**"===t.path){const h=r.length>0?Gm(r).parameters:{},p=gv(i)+r.length;c=bt({snapshot:new Jy(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$S(t),Ns(t),t.component??t._loadedComponent??null,t,cs(i),p,OC(t),p),consumedSegments:[],remainingSegments:[]})}else c=dv(i,t,r,e).pipe((0,Et.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:w})=>{if(!h)return null;const T=gv(i)+p.length;return{snapshot:new Jy(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$S(t),Ns(t),t.component??t._loadedComponent??null,t,cs(i),T,OC(t),T),consumedSegments:p,remainingSegments:y}}));return c.pipe(Mn(h=>{if(null===h)return bt(null);const{snapshot:p,consumedSegments:y,remainingSegments:w}=h;e=t._injector??e;const T=t._loadedInjector??e,R=function HS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:U}=lg(i,y,w,R.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===U.length&&F.hasChildren())return this.processChildren(T,R,F).pipe((0,Et.U)(z=>null===z?null:[new Lo(p,z)]));if(0===R.length&&0===U.length)return bt([new Lo(p,[])]);const X=Ns(t)===o;return this.processSegment(T,R,F,U,X?rn:o).pipe((0,Et.U)(z=>null===z?null:[new Lo(p,z)]))}))}}function kC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mv(n){const e=[],t=new Set;for(const i of n){if(!kC(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=mv(i.children);e.push(new Lo(i.value,r))}return e.filter(i=>!t.has(i))}function cs(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $S(n){return n.data||{}}function OC(n){return n.resolve||{}}function FC(n){return"string"==typeof n.title||null===n.title}function hg(n){return Mn(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,Et.U)(()=>e)):bt(e)})}let LC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===rn);return i}getResolvedTitleForRoute(t){return t.data[Ps]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(VC)},providedIn:"root"}),n})(),VC=(()=>{class n extends LC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{}class Na extends class ZS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fg=new u.OlP("",{providedIn:"root",factory:()=>({})}),HC=new u.OlP("ROUTES");let pg=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=xl(t.loadComponent()).pipe((0,Wi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Of(()=>{this.componentLoaders.delete(t)})),r=new Hw(i,()=>new _n.x).pipe(Fy());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,w=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=Fo(p.get(HC,[],u.XFs.Self|u.XFs.Optional)));return{routes:y.map(jf),injector:p}}),Of(()=>{this.childrenLoaders.delete(i)})),c=new Hw(o,()=>new _n.x).pipe(Fy());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return xl(t()).pipe((0,Pn.z)(i=>i instanceof u.YKP||Array.isArray(i)?bt(i):(0,In.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KS{}class YS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vv(n){throw n}function QS(n,e,t){return e.parse("/")}const XS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qf(){const n=(0,u.f3M)(qw),e=(0,u.f3M)(Yd),t=(0,u.f3M)($e),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),o=(0,u.f3M)(HC,{optional:!0})??[],c=(0,u.f3M)(fg,{optional:!0})??{},h=(0,u.f3M)(VC),p=(0,u.f3M)(LC,{optional:!0}),y=(0,u.f3M)(KS,{optional:!0}),w=(0,u.f3M)(BC,{optional:!0}),T=new Zi(null,n,e,t,i,r,Fo(o));return y&&(T.urlHandlingStrategy=y),w&&(T.routeReuseStrategy=w),T.titleStrategy=p??h,function bv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,T),T}let Zi=(()=>{class n{constructor(t,i,r,o,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _n.x,this.errorHandler=vv,this.malformedUriErrorHandler=QS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new YS,this.routeReuseStrategy=new Na,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(pg),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new sC(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new wS(R)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const T=c.get(u.R0b);this.isNgZoneEnabled=T instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Pf(){return new gu(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TS(this.currentUrlTree,this.rootComponentType),this.transitions=new Rs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(xi(r=>0!==r.id),(0,Et.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Mn(r=>{let o=!1,c=!1;return bt(r).pipe((0,Wi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return JS(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(Mn(T=>{const R=this.transitions.getValue();return i.next(new tg(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions.getValue()?fu.E:Promise.resolve(T)}),function fv(n,e,t,i){return Mn(r=>function MC(n,e,t,i,r){return new hv(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Et.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wi.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function _v(n,e,t,i,r,o){return(0,Pn.z)(c=>function TO(n,e,t,i,r,o,c="emptyOnly",h="legacy"){return new US(n,e,t,i,r,c,h,o).recognize().pipe(Mn(p=>null===p?function BS(n){return new Ti.y(e=>e.error(n))}(new pv):bt(p)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,o).pipe((0,Et.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wi.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(F,T)}this.browserUrlTree=T.urlAfterRedirects}const R=new sn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(R)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:F,source:U,restoredState:X,extras:z}=h,ee=new tg(R,this.serializeUrl(F),U,X);i.next(ee);const Ie=TS(F,this.rootComponentType).snapshot;return bt(r={...h,targetSnapshot:Ie,urlAfterRedirects:F,extras:{...z,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),fu.E}),(0,Wi.b)(h=>{const p=new nC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,Et.U)(h=>r={...h,guards:ov(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function vO(n,e){return(0,Pn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?bt({...t,guardsResult:!0}):function bO(n,e,t,i){return(0,In.D)(n).pipe((0,Pn.z)(r=>function vc(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(h=>{const p=og(e)??r,y=yc(h,p);return xl(function bC(n){return n&&Gf(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):p.runInContext(()=>y(n,e,t,i))).pipe(Tl())})).pipe(qf()):bt(!0)}(r.component,r.route,t,e,i)),Tl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Pn.z)(h=>h&&function vC(n){return"boolean"==typeof n}(h)?function wO(n,e,t,i){return(0,In.D)(e).pipe(Sl(r=>zm(function EO(n,e){return null!==n&&e&&e(new CS(n)),bt(!0)}(r.route.parent,i),function CO(n,e){return null!==n&&e&&e(new ES(n)),bt(!0)}(r.route,i),function DO(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function av(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Uw(()=>bt(c.guards.map(p=>{const y=og(c.node)??t,w=yc(p,y);return xl(function _O(n){return n&&Gf(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(Tl())})).pipe(qf())));return bt(o).pipe(qf())}(n,r.path,t),function IO(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>Uw(()=>{const c=og(e)??t,h=yc(o,c);return xl(function FS(n){return n&&Gf(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Tl())}));return bt(r).pipe(qf())}(n,r.route,t))),Tl(r=>!0!==r,!0))}(i,o,n,e):bt(h)),(0,Et.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Wi.b)(h=>{if(r.guardsResult=h.guardsResult,mc(h.guardsResult))throw fC(0,h.guardsResult);const p=new iC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),xi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),hg(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,Wi.b)(p=>{const y=new rC(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Mn(p=>{let y=!1;return bt(p).pipe(function PC(n,e){return(0,Pn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return bt(t);let o=0;return(0,In.D)(r).pipe(Sl(c=>function zS(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!FC(r)&&(o[Ps]=r.title),function GS(n,e,t,i){const r=function qS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return bt({});const o={};return(0,In.D)(r).pipe((0,Pn.z)(c=>function NC(n,e,t,i){const r=og(e)??i,o=yc(n,r);return xl(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[c],e,t,i).pipe(Tl(),(0,Wi.b)(h=>{o[c]=h}))),Vy(1),By(o),Ra(c=>CC(c)?fu.E:Ud(c)))}(o,n,e,i).pipe((0,Et.U)(c=>(n._resolvedData=c,n.data=cC(n,t).resolve,r&&FC(r)&&(n.data[Ps]=r.title),null)))}(c.route,i,n,e)),(0,Wi.b)(()=>o++),Vy(1),(0,Pn.z)(c=>o===r.length?bt(t):fu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Wi.b)(p=>{const y=new bS(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),hg(h=>{const p=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Wi.b)(T=>{y.component=T}),(0,Et.U)(()=>{})));for(const T of y.children)w.push(...p(T));return w};return Ny(p(h.targetSnapshot.root)).pipe(fc(),Os(1))}),hg(()=>this.afterPreactivation()),(0,Et.U)(h=>{const p=function SS(n,e,t){const i=Kd(n,e._root,t?t._root:void 0);return new lC(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,Wi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(i=>(new mO(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Wi.b)({next(){o=!0},complete(){o=!0}}),Of(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ra(h=>{if(c=!0,mC(h)){tv(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new ng(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),tv(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JS(r.source)};this.scheduleNavigation(y,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new tC(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return fu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(jf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),mS(y,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=mc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function wv(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...XS}:!1===i?{...gg}:i,mc(t))return qm(this.currentUrlTree,t,r);const o=this.parseUrl(t);return qm(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,p,y;c?(h=c.resolve,p=c.reject,y=c.promise):y=new Promise((R,F)=>{h=R,p=F});const w=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:w,targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(R=>Promise.reject(R))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const o=new ng(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Qf()},providedIn:"root"}),n})();function JS(n){return"imperative"!==n}let Xf=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new _n.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi),u.Y36(Wd),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),_g=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new _n.x,this.subscription=t.events.subscribe(o=>{o instanceof bu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,c){return!!(0!==t||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi),u.Y36(Wd),u.Y36(Se))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),Cv=(()=>{class n{constructor(t,i,r,o,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof bu&&this.update()})}ngAfterContentInit(){bt(this.links.changes,this.linksWithHrefs.changes,bt(null)).pipe((0,Bd.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,In.D)(t).pipe((0,Bd.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function jC(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Xf,8),u.Y36(_g,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,Xf,5),u.Suo(r,_g,5)),2&t){let o;u.iGM(o=u.CRH())&&(i.links=o),u.iGM(o=u.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class yg{}let vg=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xi(t=>t instanceof bu),Sl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,u.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,In.D)(r).pipe((0,Bd.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):bt(null);const o=r.pipe((0,Pn.z)(c=>null===c?bt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,In.D)([o,c]).pipe((0,Bd.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(yg),u.LFG(pg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iu=new u.OlP("");let $C=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof DS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new DS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Jd(n,e){return{\u0275kind:n,\u0275providers:e}}function Du(n){return[{provide:HC,multi:!0,useValue:n}]}function tx(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Zi),r=n.get(GC);1===n.get(qC)&&i.initialNavigation(),n.get(Iv,null,u.XFs.Optional)?.setUpPreloading(),n.get(Iu,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const GC=new u.OlP("",{factory:()=>new _n.x}),qC=new u.OlP("",{providedIn:"root",factory:()=>1});const Iv=new u.OlP("");function Dv(n){return Jd(0,[{provide:Iv,useExisting:vg},{provide:yg,useExisting:n}])}const WC=new u.OlP("ROUTER_FORROOT_GUARD"),sx=[$e,{provide:qw,useClass:$y},{provide:Zi,useFactory:Qf},Yd,{provide:Wd,useFactory:function zC(n){return n.routerState.root},deps:[Zi]},pg];function ox(){return new u.PXZ("Router",Zi)}let ZC=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[sx,[],Du(t),{provide:WC,useFactory:AO,deps:[[Zi,new u.FiY,new u.tp0]]},{provide:fg,useValue:i||{}},i?.useHash?{provide:Se,useClass:at}:{provide:Se,useClass:ct},{provide:Iu,useFactory:()=>{const n=(0,u.f3M)(Zi),e=(0,u.f3M)(cd),t=(0,u.f3M)(fg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new $C(n,e,t)}},i?.preloadingStrategy?Dv(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:ox},i?.initialNavigation?Jf(i):[],[{provide:KC,useFactory:tx},{provide:u.tb,multi:!0,useExisting:KC}]]}}static forChild(t){return{ngModule:n,providers:[Du(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WC,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_C]}),n})();function AO(n){return"guarded"}function Jf(n){return["disabled"===n.initialNavigation?Jd(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Zi);return()=>{e.setUpLocationChangeListener()}}},{provide:qC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Jd(2,[{provide:qC,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Y,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(o=>{const c=e.get(Zi),h=e.get(GC);(function r(o){e.get(Zi).events.pipe(xi(h=>h instanceof bu||h instanceof ng||h instanceof tC),(0,Et.U)(h=>h instanceof bu||h instanceof ng&&(0===h.code||1===h.code)&&null),xi(h=>null!==h),Os(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),c.afterPreactivation=()=>(o(!0),i||h.closed?bt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const KC=new u.OlP("");let cx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"d-inline-block",2,"width","5px"],[1,"bottom"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Calculate and Track your Networth"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Create your profile by adding your income, assets and liabilities. Track your networth and Plan your wealth & investement management for bright future"),u._UZ(7,"br"),u.TgZ(8,"u"),u._uU(9,"Note:"),u.qZA(),u._UZ(10,"span",5),u._uU(11,"We do not provide financial advisors here, you are master of your wealth "),u.qZA()(),u._UZ(12,"div",6),u.qZA()())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),n})(),Fa=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-assets"]],decls:72,vars:0,consts:[[1,"table-reponsive"],[1,"table","table-hover","table-striped"]],template:function(t,i){1&t&&(u.TgZ(0,"h2"),u._uU(1,"Assets"),u.qZA(),u.TgZ(2,"div",0)(3,"table",1)(4,"thead")(5,"tr")(6,"th"),u._uU(7,"Name"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Type"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Purchase value"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"Current Value"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"Profit"),u.qZA()()(),u.TgZ(16,"tbody")(17,"tr")(18,"th"),u._uU(19,"Land"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Land"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"1000"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"2000"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"1000"),u.qZA()(),u.TgZ(28,"tr")(29,"th"),u._uU(30,"Land"),u.qZA(),u.TgZ(31,"th"),u._uU(32,"Land"),u.qZA(),u.TgZ(33,"th"),u._uU(34,"1000"),u.qZA(),u.TgZ(35,"th"),u._uU(36,"2000"),u.qZA(),u.TgZ(37,"th"),u._uU(38,"1000"),u.qZA()(),u.TgZ(39,"tr")(40,"th"),u._uU(41,"Land"),u.qZA(),u.TgZ(42,"th"),u._uU(43,"Land"),u.qZA(),u.TgZ(44,"th"),u._uU(45,"1000"),u.qZA(),u.TgZ(46,"th"),u._uU(47,"2000"),u.qZA(),u.TgZ(48,"th"),u._uU(49,"1000"),u.qZA()(),u.TgZ(50,"tr")(51,"th"),u._uU(52,"Land"),u.qZA(),u.TgZ(53,"th"),u._uU(54,"Land"),u.qZA(),u.TgZ(55,"th"),u._uU(56,"1000"),u.qZA(),u.TgZ(57,"th"),u._uU(58,"2000"),u.qZA(),u.TgZ(59,"th"),u._uU(60,"1000"),u.qZA()(),u.TgZ(61,"tr")(62,"th"),u._uU(63,"Land"),u.qZA(),u.TgZ(64,"th"),u._uU(65,"Land"),u.qZA(),u.TgZ(66,"th"),u._uU(67,"1000"),u.qZA(),u.TgZ(68,"th"),u._uU(69,"2000"),u.qZA(),u.TgZ(70,"th"),u._uU(71,"1000"),u.qZA()()()()())}}),n})(),ep=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-liabilities"]],decls:72,vars:0,consts:[[1,"table-reponsive"],[1,"table","table-hover","table-striped"]],template:function(t,i){1&t&&(u.TgZ(0,"h2"),u._uU(1,"Liabilities"),u.qZA(),u.TgZ(2,"div",0)(3,"table",1)(4,"thead")(5,"tr")(6,"th"),u._uU(7,"Name"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Type"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Lend Value"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"Payable Value"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"Loss"),u.qZA()()(),u.TgZ(16,"tbody")(17,"tr")(18,"th"),u._uU(19,"Land"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Land"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"1000"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"2000"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"1000"),u.qZA()(),u.TgZ(28,"tr")(29,"th"),u._uU(30,"Land"),u.qZA(),u.TgZ(31,"th"),u._uU(32,"Land"),u.qZA(),u.TgZ(33,"th"),u._uU(34,"1000"),u.qZA(),u.TgZ(35,"th"),u._uU(36,"2000"),u.qZA(),u.TgZ(37,"th"),u._uU(38,"1000"),u.qZA()(),u.TgZ(39,"tr")(40,"th"),u._uU(41,"Land"),u.qZA(),u.TgZ(42,"th"),u._uU(43,"Land"),u.qZA(),u.TgZ(44,"th"),u._uU(45,"1000"),u.qZA(),u.TgZ(46,"th"),u._uU(47,"2000"),u.qZA(),u.TgZ(48,"th"),u._uU(49,"1000"),u.qZA()(),u.TgZ(50,"tr")(51,"th"),u._uU(52,"Land"),u.qZA(),u.TgZ(53,"th"),u._uU(54,"Land"),u.qZA(),u.TgZ(55,"th"),u._uU(56,"1000"),u.qZA(),u.TgZ(57,"th"),u._uU(58,"2000"),u.qZA(),u.TgZ(59,"th"),u._uU(60,"1000"),u.qZA()(),u.TgZ(61,"tr")(62,"th"),u._uU(63,"Land"),u.qZA(),u.TgZ(64,"th"),u._uU(65,"Land"),u.qZA(),u.TgZ(66,"th"),u._uU(67,"1000"),u.qZA(),u.TgZ(68,"th"),u._uU(69,"2000"),u.qZA(),u.TgZ(70,"th"),u._uU(71,"1000"),u.qZA()()()()())}}),n})();function Pr(){}function Ol(n){return null==n?Pr:function(){return this.querySelector(n)}}function so(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function Tv(){return[]}function Su(n){return null==n?Tv:function(){return this.querySelectorAll(n)}}function xu(n){return function(){return this.matches(n)}}function Mu(n){return function(e){return e.matches(n)}}var ih=Array.prototype.find;function sh(){return this.firstElementChild}var QC=Array.prototype.filter;function XC(){return Array.from(this.children)}function Sv(n){return new Array(n.length)}function tp(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function iE(n){return function(){return n}}function ux(n,e,t,i,r,o){for(var h,c=0,p=e.length,y=o.length;c<y;++c)(h=e[c])?(h.__data__=o[c],i[c]=h):t[c]=new tp(n,o[c]);for(;c<p;++c)(h=e[c])&&(r[c]=h)}function dx(n,e,t,i,r,o,c){var h,p,F,y=new Map,w=e.length,T=o.length,R=new Array(w);for(h=0;h<w;++h)(p=e[h])&&(R[h]=F=c.call(p,p.__data__,h,e)+"",y.has(F)?r[h]=p:y.set(F,p));for(h=0;h<T;++h)F=c.call(n,o[h],h,o)+"",(p=y.get(F))?(i[h]=p,p.__data__=o[h],y.delete(F)):t[h]=new tp(n,o[h]);for(h=0;h<w;++h)(p=e[h])&&y.get(R[h])===p&&(r[h]=p)}function rE(n){return n.__data__}function sE(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Av(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}tp.prototype={constructor:tp,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Tg="http://www.w3.org/1999/xhtml";const Rv={svg:"http://www.w3.org/2000/svg",xhtml:Tg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ah(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Rv.hasOwnProperty(e)?{space:Rv[e],local:n}:n}function Ov(n){return function(){this.removeAttribute(n)}}function mx(n){return function(){this.removeAttributeNS(n.space,n.local)}}function lE(n,e){return function(){this.setAttribute(n,e)}}function cE(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function uE(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function dE(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Pv(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function hE(n){return function(){this.style.removeProperty(n)}}function Nv(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Fv(n,e,t){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function Au(n,e){return n.style.getPropertyValue(e)||Pv(n).getComputedStyle(n,null).getPropertyValue(e)}function pE(n){return function(){delete this[n]}}function mE(n,e){return function(){this[n]=e}}function gE(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function Lv(n){return n.trim().split(/^|\s+/)}function Sg(n){return n.classList||new _x(n)}function _x(n){this._node=n,this._names=Lv(n.getAttribute("class")||"")}function yE(n,e){for(var t=Sg(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function vE(n,e){for(var t=Sg(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function bE(n){return function(){yE(this,n)}}function yx(n){return function(){vE(this,n)}}function Ki(n,e){return function(){(e.apply(this,arguments)?yE:vE)(this,n)}}function vx(){this.textContent=""}function bx(n){return function(){this.textContent=n}}function CE(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function EE(){this.innerHTML=""}function IE(n){return function(){this.innerHTML=n}}function lh(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Ex(){this.nextSibling&&this.parentNode.appendChild(this)}function Ix(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kO(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Tg&&e.documentElement.namespaceURI===Tg?e.createElement(n):e.createElementNS(t,n)}}function Vv(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function xg(n){var e=ah(n);return(e.local?Vv:kO)(e)}function Dx(){return null}function Va(){var n=this.parentNode;n&&n.removeChild(this)}function Bo(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function xE(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function xx(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function Mx(n){return function(){var e=this.__on;if(e){for(var o,t=0,i=-1,r=e.length;t<r;++t)o=e[t],n.type&&o.type!==n.type||o.name!==n.name?e[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?e.length=i:delete this.__on}}}function Bv(n,e,t){return function(){var r,i=this.__on,o=function Sx(n){return function(e){n.call(this,e,this.__data__)}}(e);if(i)for(var c=0,h=i.length;c<h;++c)if((r=i[c]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),void(r.value=e);this.addEventListener(n.type,o,t),r={type:n.type,name:n.name,value:e,listener:o,options:t},i?i.push(r):this.__on=[r]}}function AE(n,e,t){var i=Pv(n),r=i.CustomEvent;"function"==typeof r?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function kE(n,e){return function(){return AE(this,n,e)}}function Ax(n,e){return function(){return AE(this,n,e.apply(this,arguments))}}_x.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var ip=[null];function Fs(n,e){this._groups=n,this._parents=e}function Uv(){return new Fs([[document.documentElement]],ip)}Fs.prototype=Uv.prototype={constructor:Fs,select:function wg(n){"function"!=typeof n&&(n=Ol(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var p,y,o=e[r],c=o.length,h=i[r]=new Array(c),w=0;w<c;++w)(p=o[w])&&(y=n.call(p,p.__data__,w,o))&&("__data__"in p&&(y.__data__=p.__data__),h[w]=y);return new Fs(i,this._parents)},selectAll:function nh(n){n="function"==typeof n?function th(n){return function(){return so(n.apply(this,arguments))}}(n):Su(n);for(var e=this._groups,t=e.length,i=[],r=[],o=0;o<t;++o)for(var p,c=e[o],h=c.length,y=0;y<h;++y)(p=c[y])&&(i.push(n.call(p,p.__data__,y,c)),r.push(p));return new Fs(i,r)},selectChild:function oh(n){return this.select(null==n?sh:function rh(n){return function(){return ih.call(this.children,n)}}("function"==typeof n?n:Mu(n)))},selectChildren:function eE(n){return this.selectAll(null==n?XC:function JC(n){return function(){return QC.call(this.children,n)}}("function"==typeof n?n:Mu(n)))},filter:function tE(n){"function"!=typeof n&&(n=xu(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var p,o=e[r],c=o.length,h=i[r]=[],y=0;y<c;++y)(p=o[y])&&n.call(p,p.__data__,y,o)&&h.push(p);return new Fs(i,this._parents)},data:function hx(n,e){if(!arguments.length)return Array.from(this,rE);var t=e?dx:ux,i=this._parents,r=this._groups;"function"!=typeof n&&(n=iE(n));for(var o=r.length,c=new Array(o),h=new Array(o),p=new Array(o),y=0;y<o;++y){var w=i[y],T=r[y],R=T.length,F=sE(n.call(w,w&&w.__data__,y,i)),U=F.length,X=h[y]=new Array(U),z=c[y]=new Array(U),ee=p[y]=new Array(R);t(w,T,X,z,ee,F,e);for(var Oe,Ye,Ie=0,we=0;Ie<U;++Ie)if(Oe=X[Ie]){for(Ie>=we&&(we=Ie+1);!(Ye=z[we])&&++we<U;);Oe._next=Ye||null}}return(c=new Fs(c,i))._enter=h,c._exit=p,c},enter:function nE(){return new Fs(this._enter||this._groups.map(Sv),this._parents)},exit:function xv(){return new Fs(this._exit||this._groups.map(Sv),this._parents)},join:function Mv(n,e,t){var i=this.enter(),r=this,o=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=e&&(r=e(r))&&(r=r.selection()),null==t?o.remove():t(o),i&&r?i.merge(r).order():r},merge:function fx(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,c=Math.min(r,i.length),h=new Array(r),p=0;p<c;++p)for(var F,y=t[p],w=i[p],T=y.length,R=h[p]=new Array(T),U=0;U<T;++U)(F=y[U]||w[U])&&(R[U]=F);for(;p<r;++p)h[p]=t[p];return new Fs(h,this._parents)},selection:function PE(){return this},order:function Cg(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var c,i=n[e],r=i.length-1,o=i[r];--r>=0;)(c=i[r])&&(o&&4^c.compareDocumentPosition(o)&&o.parentNode.insertBefore(c,o),o=c);return this},sort:function Eg(n){function e(T,R){return T&&R?n(T.__data__,R.__data__):!T-!R}n||(n=Av);for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var y,c=t[o],h=c.length,p=r[o]=new Array(h),w=0;w<h;++w)(y=c[w])&&(p[w]=y);p.sort(e)}return new Fs(r,this._parents).order()},call:function px(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Ig(){return Array.from(this)},node:function Dg(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,o=i.length;r<o;++r){var c=i[r];if(c)return c}return null},size:function oE(){let n=0;for(const e of this)++n;return n},empty:function aE(){return!this.node()},each:function kv(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var h,r=e[t],o=0,c=r.length;o<c;++o)(h=r[o])&&n.call(h,h.__data__,o,r);return this},attr:function gx(n,e){var t=ah(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==e?t.local?mx:Ov:"function"==typeof e?t.local?dE:uE:t.local?cE:lE)(t,e))},style:function fE(n,e,t){return arguments.length>1?this.each((null==e?hE:"function"==typeof e?Fv:Nv)(n,e,t??"")):Au(this.node(),n)},property:function _E(n,e){return arguments.length>1?this.each((null==e?pE:"function"==typeof e?gE:mE)(n,e)):this.node()[n]},classed:function wE(n,e){var t=Lv(n+"");if(arguments.length<2){for(var i=Sg(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each(("function"==typeof e?Ki:e?bE:yx)(t,e))},text:function wx(n){return arguments.length?this.each(null==n?vx:("function"==typeof n?CE:bx)(n)):this.node().textContent},html:function Cx(n){return arguments.length?this.each(null==n?EE:("function"==typeof n?lh:IE)(n)):this.node().innerHTML},raise:function DE(){return this.each(Ex)},lower:function TE(){return this.each(Ix)},append:function La(n){var e="function"==typeof n?n:xg(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function SE(n,e){var t="function"==typeof n?n:xg(n),i=null==e?Dx:"function"==typeof e?e:Ol(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Vo(){return this.each(Va)},clone:function ME(n){return this.select(n?xE:Bo)},datum:function Tx(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function np(n,e,t){var r,c,i=xx(n+""),o=i.length;if(!(arguments.length<2)){for(h=e?Bv:Mx,r=0;r<o;++r)this.each(h(i[r],e,t));return this}var h=this.node().__on;if(h)for(var w,p=0,y=h.length;p<y;++p)for(r=0,w=h[p];r<o;++r)if((c=i[r]).type===w.type&&c.name===w.name)return w.value},dispatch:function RE(n,e){return this.each(("function"==typeof e?Ax:kE)(n,e))},[Symbol.iterator]:function*OE(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var c,i=n[e],r=0,o=i.length;r<o;++r)(c=i[r])&&(yield c)}};const ku=Uv;var Mg={value:()=>{}};function Hv(){for(var i,n=0,e=arguments.length,t={};n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new rp(t)}function rp(n){this._=n}function NE(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function FE(n,e){for(var r,t=0,i=n.length;t<i;++t)if((r=n[t]).name===e)return r.value}function jv(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=Mg,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=t&&n.push({name:e,value:t}),n}rp.prototype=Hv.prototype={constructor:rp,on:function(n,e){var r,t=this._,i=NE(n+"",t),o=-1,c=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<c;)if(r=(n=i[o]).type)t[r]=jv(t[r],n.name,e);else if(null==e)for(r in t)t[r]=jv(t[r],n.name,null);return this}for(;++o<c;)if((r=(n=i[o]).type)&&(r=FE(t[r],n.name)))return r},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new rp(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(o=this._[n]).length;i<r;++i)o[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)}};const LE=Hv;var Ag,op,Ru=0,ch=0,sp=0,kg=0,Ou=0,Rg=0,ap="object"==typeof performance&&performance.now?performance:Date,BE="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $v(){return Ou||(BE(kx),Ou=ap.now()+Rg)}function kx(){Ou=0}function Og(){this._call=this._time=this._next=null}function UE(n,e,t){var i=new Og;return i.restart(n,e,t),i}function HE(){Ou=(kg=ap.now())+Rg,Ru=ch=0;try{!function Rx(){$v(),++Ru;for(var e,n=Ag;n;)(e=Ou-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Ru}()}finally{Ru=0,function Px(){for(var n,t,e=Ag,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Ag=t);op=n,zv(i)}(),Ou=0}}function Ox(){var n=ap.now(),e=n-kg;e>1e3&&(Rg-=e,kg=n)}function zv(n){Ru||(ch&&(ch=clearTimeout(ch)),n-Ou>24?(n<1/0&&(ch=setTimeout(HE,n-ap.now()-Rg)),sp&&(sp=clearInterval(sp))):(sp||(kg=ap.now(),sp=setInterval(Ox,1e3)),Ru=1,BE(HE)))}function Gv(n,e,t){var i=new Og;return i.restart(r=>{i.stop(),n(r+e)},e=null==e?0:+e,t),i}Og.prototype=UE.prototype={constructor:Og,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?$v():+t)+(null==e?0:+e),!this._next&&op!==this&&(op?op._next=this:Ag=this,op=this),this._call=n,this._time=t,zv()},stop:function(){this._call&&(this._call=null,this._time=1/0,zv())}};var jE=LE("start","end","cancel","interrupt"),$E=[];function uh(n,e,t,i,r,o){var c=n.__transition;if(c){if(t in c)return}else n.__transition={};!function dh(n,e,t){var r,i=n.__transition;function c(y){var w,T,R,F;if(1!==t.state)return p();for(w in i)if((F=i[w]).name===t.name){if(3===F.state)return Gv(c);4===F.state?(F.state=6,F.timer.stop(),F.on.call("interrupt",n,n.__data__,F.index,F.group),delete i[w]):+w<e&&(F.state=6,F.timer.stop(),F.on.call("cancel",n,n.__data__,F.index,F.group),delete i[w])}if(Gv(function(){3===t.state&&(t.state=4,t.timer.restart(h,t.delay,t.time),h(y))}),t.state=2,t.on.call("start",n,n.__data__,t.index,t.group),2===t.state){for(t.state=3,r=new Array(R=t.tween.length),w=0,T=-1;w<R;++w)(F=t.tween[w].value.call(n,n.__data__,t.index,t.group))&&(r[++T]=F);r.length=T+1}}function h(y){for(var w=y<t.duration?t.ease.call(null,y/t.duration):(t.timer.restart(p),t.state=5,1),T=-1,R=r.length;++T<R;)r[T].call(n,w);5===t.state&&(t.on.call("end",n,n.__data__,t.index,t.group),p())}function p(){for(var y in t.state=6,t.timer.stop(),delete i[e],i)return;delete n.__transition}i[e]=t,t.timer=UE(function o(y){t.state=1,t.timer.restart(c,t.delay,t.time),t.delay<=y&&c(y-t.delay)},0,t.time)}(n,t,{name:e,index:i,group:r,on:jE,tween:$E,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Pl(n,e){var t=Uo(n,e);if(t.state>0)throw new Error("too late; already scheduled");return t}function Ba(n,e){var t=Uo(n,e);if(t.state>3)throw new Error("too late; already running");return t}function Uo(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Pu(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Bt,Yv=180/Math.PI,Fg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nx(n,e,t,i,r,o){var c,h,p;return(c=Math.sqrt(n*n+e*e))&&(n/=c,e/=c),(p=n*t+e*i)&&(t-=n*p,i-=e*p),(h=Math.sqrt(t*t+i*i))&&(t/=h,i/=h,p/=h),n*i<e*t&&(n=-n,e=-e,p=-p,c=-c),{translateX:r,translateY:o,rotate:Math.atan2(e,n)*Yv,skewX:Math.atan(p)*Yv,scaleX:c,scaleY:h}}function zE(n,e,t,i){function r(y){return y.length?y.pop()+" ":""}return function(y,w){var T=[],R=[];return y=n(y),w=n(w),function o(y,w,T,R,F,U){if(y!==T||w!==R){var X=F.push("translate(",null,e,null,t);U.push({i:X-4,x:Pu(y,T)},{i:X-2,x:Pu(w,R)})}else(T||R)&&F.push("translate("+T+e+R+t)}(y.translateX,y.translateY,w.translateX,w.translateY,T,R),function c(y,w,T,R){y!==w?(y-w>180?w+=360:w-y>180&&(y+=360),R.push({i:T.push(r(T)+"rotate(",null,i)-2,x:Pu(y,w)})):w&&T.push(r(T)+"rotate("+w+i)}(y.rotate,w.rotate,T,R),function h(y,w,T,R){y!==w?R.push({i:T.push(r(T)+"skewX(",null,i)-2,x:Pu(y,w)}):w&&T.push(r(T)+"skewX("+w+i)}(y.skewX,w.skewX,T,R),function p(y,w,T,R,F,U){if(y!==T||w!==R){var X=F.push(r(F)+"scale(",null,",",null,")");U.push({i:X-4,x:Pu(y,T)},{i:X-2,x:Pu(w,R)})}else(1!==T||1!==R)&&F.push(r(F)+"scale("+T+","+R+")")}(y.scaleX,y.scaleY,w.scaleX,w.scaleY,T,R),y=w=null,function(F){for(var z,U=-1,X=R.length;++U<X;)T[(z=R[U]).i]=z.x(F);return T.join("")}}}var hh=zE(function Fx(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Fg:Nx(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Vx=zE(function Lx(n){return null!=n&&(Bt||(Bt=document.createElementNS("http://www.w3.org/2000/svg","g")),Bt.setAttribute("transform",n),n=Bt.transform.baseVal.consolidate())?Nx((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Fg},", ",")",")");function Lg(n,e){var t,i;return function(){var r=Ba(this,n),o=r.tween;if(o!==t)for(var c=0,h=(i=t=o).length;c<h;++c)if(i[c].name===e){(i=i.slice()).splice(c,1);break}r.tween=i}}function Vg(n,e,t){var i,r;if("function"!=typeof t)throw new Error;return function(){var o=Ba(this,n),c=o.tween;if(c!==i){r=(i=c).slice();for(var h={name:e,value:t},p=0,y=r.length;p<y;++p)if(r[p].name===e){r[p]=h;break}p===y&&r.push(h)}o.tween=r}}function GE(n,e,t){var i=n._id;return n.each(function(){var r=Ba(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Uo(r,i).value[e]}}function Bg(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Qv(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function up(){}var dp=1/.7,Nu="\\s*([+-]?\\d+)\\s*",ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bx=/^#([0-9a-f]{3,8})$/,Ux=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),hp=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),Hx=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${ph}\\)$`),jx=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${ph}\\)$`),$x=new RegExp(`^hsl\\(${ph},${Ua},${Ua}\\)$`),Ug=new RegExp(`^hsla\\(${ph},${Ua},${Ua},${ph}\\)$`),Xv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Jv(){return this.rgb().formatHex()}function mh(){return this.rgb().formatRgb()}function Nl(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Bx.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?WE(e):3===t?new Zr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?Hg(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?Hg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ux.exec(n))?new Zr(e[1],e[2],e[3],1):(e=hp.exec(n))?new Zr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Hx.exec(n))?Hg(e[1],e[2],e[3],e[4]):(e=jx.exec(n))?Hg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$x.exec(n))?Wx(e[1],e[2]/100,e[3]/100,1):(e=Ug.exec(n))?Wx(e[1],e[2]/100,e[3]/100,e[4]):Xv.hasOwnProperty(n)?WE(Xv[n]):"transparent"===n?new Zr(NaN,NaN,NaN,0):null}function WE(n){return new Zr(n>>16&255,n>>8&255,255&n,1)}function Hg(n,e,t,i){return i<=0&&(n=e=t=NaN),new Zr(n,e,t,i)}function Gx(n){return n instanceof up||(n=Nl(n)),n?new Zr((n=n.rgb()).r,n.g,n.b,n.opacity):new Zr}function fp(n,e,t,i){return 1===arguments.length?Gx(n):new Zr(n,e,t,i??1)}function Zr(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}function eb(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}`}function tb(){const n=jg(this.opacity);return`${1===n?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${1===n?")":`, ${n})`}`}function jg(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Fu(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function gh(n){return((n=Fu(n))<16?"0":"")+n.toString(16)}function Wx(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new oo(n,e,t,i)}function Zx(n){if(n instanceof oo)return new oo(n.h,n.s,n.l,n.opacity);if(n instanceof up||(n=Nl(n)),!n)return new oo;if(n instanceof oo)return n;var e=(n=n.rgb()).r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),o=Math.max(e,t,i),c=NaN,h=o-r,p=(o+r)/2;return h?(c=e===o?(t-i)/h+6*(t<i):t===o?(i-e)/h+2:(e-t)/h+4,h/=p<.5?o+r:2-o-r,c*=60):h=p>0&&p<1?0:c,new oo(c,h,p,n.opacity)}function oo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}function pp(n){return(n=(n||0)%360)<0?n+360:n}function $g(n){return Math.max(0,Math.min(1,n||0))}function nb(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function ib(n,e,t,i,r){var o=n*n,c=o*n;return((1-3*n+3*o-c)*e+(4-6*o+3*c)*t+(1+3*n+3*o-3*c)*i+c*r)/6}Bg(up,Nl,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Jv,formatHex:Jv,formatHex8:function qE(){return this.rgb().formatHex8()},formatHsl:function zx(){return Zx(this).formatHsl()},formatRgb:mh,toString:mh}),Bg(Zr,fp,Qv(up,{brighter(n){return n=null==n?dp:Math.pow(dp,n),new Zr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Zr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Zr(Fu(this.r),Fu(this.g),Fu(this.b),jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eb,formatHex:eb,formatHex8:function qx(){return`#${gh(this.r)}${gh(this.g)}${gh(this.b)}${gh(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:tb,toString:tb})),Bg(oo,function OO(n,e,t,i){return 1===arguments.length?Zx(n):new oo(n,e,t,i??1)},Qv(up,{brighter(n){return n=null==n?dp:Math.pow(dp,n),new oo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new oo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Zr(nb(n>=240?n-240:n+120,r,i),nb(n,r,i),nb(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new oo(pp(this.h),$g(this.s),$g(this.l),jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=jg(this.opacity);return`${1===n?"hsl(":"hsla("}${pp(this.h)}, ${100*$g(this.s)}%, ${100*$g(this.l)}%${1===n?")":`, ${n})`}`}}));const ZE=n=>()=>n;function QE(n,e){var t=e-n;return t?function KE(n,e){return function(t){return n+t*e}}(n,t):ZE(isNaN(n)?e:n)}const XE=function n(e){var t=function YE(n){return 1==(n=+n)?QE:function(e,t){return t-e?function Yx(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}(e,t,n):ZE(isNaN(e)?t:e)}}(e);function i(r,o){var c=t((r=fp(r)).r,(o=fp(o)).r),h=t(r.g,o.g),p=t(r.b,o.b),y=QE(r.opacity,o.opacity);return function(w){return r.r=c(w),r.g=h(w),r.b=p(w),r.opacity=y(w),r+""}}return i.gamma=n,i}(1);function _h(n){return function(e){var c,h,t=e.length,i=new Array(t),r=new Array(t),o=new Array(t);for(c=0;c<t;++c)h=fp(e[c]),i[c]=h.r||0,r[c]=h.g||0,o[c]=h.b||0;return i=n(i),r=n(r),o=n(o),h.opacity=1,function(p){return h.r=i(p),h.g=r(p),h.b=o(p),h+""}}}_h(function mp(n){var e=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),r=n[i],o=n[i+1];return ib((t-i/e)*e,i>0?n[i-1]:2*r-o,r,o,i<e-1?n[i+2]:2*o-r)}}),_h(function Kx(n){var e=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e);return ib((t-i/e)*e,n[(i+e-1)%e],n[i%e],n[(i+1)%e],n[(i+2)%e])}});var rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zg=new RegExp(rb.source,"g");function Jx(n,e){var i,r,o,t=rb.lastIndex=zg.lastIndex=0,c=-1,h=[],p=[];for(n+="",e+="";(i=rb.exec(n))&&(r=zg.exec(e));)(o=r.index)>t&&(o=e.slice(t,o),h[c]?h[c]+=o:h[++c]=o),(i=i[0])===(r=r[0])?h[c]?h[c]+=r:h[++c]=r:(h[++c]=null,p.push({i:c,x:Pu(i,r)})),t=zg.lastIndex;return t<e.length&&(o=e.slice(t),h[c]?h[c]+=o:h[++c]=o),h.length<2?p[0]?function JE(n){return function(e){return n(e)+""}}(p[0].x):function Xx(n){return function(){return n}}(e):(e=p.length,function(y){for(var T,w=0;w<e;++w)h[(T=p[w]).i]=T.x(y);return h.join("")})}function Gg(n,e){var t;return("number"==typeof e?Pu:e instanceof Nl?XE:(t=Nl(e))?(e=t,XE):Jx)(n,e)}function eM(n){return function(){this.removeAttribute(n)}}function eI(n){return function(){this.removeAttributeNS(n.space,n.local)}}function tI(n,e,t){var i,o,r=t+"";return function(){var c=this.getAttribute(n);return c===r?null:c===i?o:o=e(i=c,t)}}function tM(n,e,t){var i,o,r=t+"";return function(){var c=this.getAttributeNS(n.space,n.local);return c===r?null:c===i?o:o=e(i=c,t)}}function nM(n,e,t){var i,r,o;return function(){var c,p,h=t(this);return null==h?void this.removeAttribute(n):(c=this.getAttribute(n))===(p=h+"")?null:c===i&&p===r?o:(r=p,o=e(i=c,h))}}function iM(n,e,t){var i,r,o;return function(){var c,p,h=t(this);return null==h?void this.removeAttributeNS(n.space,n.local):(c=this.getAttributeNS(n.space,n.local))===(p=h+"")?null:c===i&&p===r?o:(r=p,o=e(i=c,h))}}function rM(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function nI(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function sM(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&nI(n,o)),t}return r._value=e,r}function oM(n,e){var t,i;function r(){var o=e.apply(this,arguments);return o!==i&&(t=(i=o)&&rM(n,o)),t}return r._value=e,r}function lM(n,e){return function(){Pl(this,n).delay=+e.apply(this,arguments)}}function cM(n,e){return e=+e,function(){Pl(this,n).delay=e}}function dM(n,e){return function(){Ba(this,n).duration=+e.apply(this,arguments)}}function hM(n,e){return e=+e,function(){Ba(this,n).duration=e}}function rI(n,e){if("function"!=typeof e)throw new Error;return function(){Ba(this,n).ease=e}}function ob(n,e,t){var i,r,o=function _M(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?Pl:Ba;return function(){var c=o(this,n),h=c.on;h!==i&&(r=(i=h).copy()).on(e,t),c.on=r}}var cb=ku.prototype.constructor;function Lu(n){return function(){this.style.removeProperty(n)}}function ub(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function CM(n,e,t){var i,r;function o(){var c=e.apply(this,arguments);return c!==r&&(i=(r=c)&&ub(n,c,t)),i}return o._value=e,o}function dI(n){return function(e){this.textContent=n.call(this,e)}}function hI(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&dI(r)),e}return i._value=n,i}var DM=0;function Fl(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function fb(){return++DM}var Cc=ku.prototype;Fl.prototype=function TM(n){return ku().transition(n)}.prototype={constructor:Fl,select:function yM(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=Ol(n));for(var i=this._groups,r=i.length,o=new Array(r),c=0;c<r;++c)for(var w,T,h=i[c],p=h.length,y=o[c]=new Array(p),R=0;R<p;++R)(w=h[R])&&(T=n.call(w,w.__data__,R,h))&&("__data__"in w&&(T.__data__=w.__data__),y[R]=T,uh(y[R],e,t,R,y,Uo(w,t)));return new Fl(o,this._parents,e,t)},selectAll:function vM(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=Su(n));for(var i=this._groups,r=i.length,o=[],c=[],h=0;h<r;++h)for(var w,p=i[h],y=p.length,T=0;T<y;++T)if(w=p[T]){for(var F,R=n.call(w,w.__data__,T,p),U=Uo(w,t),X=0,z=R.length;X<z;++X)(F=R[X])&&uh(F,e,t,X,R,U);o.push(R),c.push(w)}return new Fl(o,c,e,t)},selectChild:Cc.selectChild,selectChildren:Cc.selectChildren,filter:function mM(n){"function"!=typeof n&&(n=xu(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var p,o=e[r],c=o.length,h=i[r]=[],y=0;y<c;++y)(p=o[y])&&n.call(p,p.__data__,y,o)&&h.push(p);return new Fl(i,this._parents,this._name,this._id)},merge:function gM(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,o=Math.min(i,t.length),c=new Array(i),h=0;h<o;++h)for(var R,p=e[h],y=t[h],w=p.length,T=c[h]=new Array(w),F=0;F<w;++F)(R=p[F]||y[F])&&(T[F]=R);for(;h<i;++h)c[h]=e[h];return new Fl(c,this._parents,this._name,this._id)},selection:function bM(){return new cb(this._groups,this._parents)},transition:function pI(){for(var n=this._name,e=this._id,t=fb(),i=this._groups,r=i.length,o=0;o<r;++o)for(var p,c=i[o],h=c.length,y=0;y<h;++y)if(p=c[y]){var w=Uo(p,e);uh(p,n,t,y,c,{time:w.time+w.delay+w.duration,delay:0,duration:w.duration,ease:w.ease})}return new Fl(i,this._parents,n,t)},call:Cc.call,nodes:Cc.nodes,node:Cc.node,size:Cc.size,empty:Cc.empty,each:Cc.each,on:function ab(n,e){var t=this._id;return arguments.length<2?Uo(this.node(),t).on.on(n):this.each(ob(t,n,e))},attr:function sb(n,e){var t=ah(n),i="transform"===t?Vx:Gg;return this.attrTween(n,"function"==typeof e?(t.local?iM:nM)(t,i,GE(this,"attr."+n,e)):null==e?(t.local?eI:eM)(t):(t.local?tM:tI)(t,i,e))},attrTween:function aM(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var i=ah(n);return this.tween(t,(i.local?sM:oM)(i,e))},style:function cI(n,e,t){var i="transform"==(n+="")?hh:Gg;return null==e?this.styleTween(n,function aI(n,e){var t,i,r;return function(){var o=Au(this,n),c=(this.style.removeProperty(n),Au(this,n));return o===c?null:o===t&&c===i?r:r=e(t=o,i=c)}}(n,i)).on("end.style."+n,Lu(n)):"function"==typeof e?this.styleTween(n,function wM(n,e,t){var i,r,o;return function(){var c=Au(this,n),h=t(this),p=h+"";return null==h&&(this.style.removeProperty(n),p=h=Au(this,n)),c===p?null:c===i&&p===r?o:(r=p,o=e(i=c,h))}}(n,i,GE(this,"style."+n,e))).each(function FO(n,e){var t,i,r,h,o="style."+e,c="end."+o;return function(){var p=Ba(this,n),y=p.on,w=null==p.value[o]?h||(h=Lu(e)):void 0;(y!==t||r!==w)&&(i=(t=y).copy()).on(c,r=w),p.on=i}}(this._id,n)):this.styleTween(n,function lI(n,e,t){var i,o,r=t+"";return function(){var c=Au(this,n);return c===r?null:c===i?o:o=e(i=c,t)}}(n,i,e),t).on("end.style."+n,null)},styleTween:function db(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,CM(n,e,t??""))},text:function hb(n){return this.tween("text","function"==typeof n?function uI(n){return function(){var e=n(this);this.textContent=e??""}}(GE(this,"text",n)):function EM(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function fI(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,hI(n))},remove:function lb(){return this.on("end.remove",function oI(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function Mi(n,e){var t=this._id;if(n+="",arguments.length<2){for(var c,i=Uo(this.node(),t).tween,r=0,o=i.length;r<o;++r)if((c=i[r]).name===n)return c.value;return null}return this.each((null==e?Lg:Vg)(t,n,e))},delay:function uM(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?lM:cM)(e,n)):Uo(this.node(),e).delay},duration:function iI(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?dM:hM)(e,n)):Uo(this.node(),e).duration},ease:function fM(n){var e=this._id;return arguments.length?this.each(rI(e,n)):Uo(this.node(),e).ease},easeVarying:function sI(n){if("function"!=typeof n)throw new Error;return this.each(function pM(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Ba(this,n).ease=t}}(this._id,n))},end:function IM(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(o,c){var h={value:c},p={value:function(){0==--r&&o()}};t.each(function(){var y=Ba(this,i),w=y.on;w!==n&&((e=(n=w).copy())._.cancel.push(h),e._.interrupt.push(h),e._.end.push(p)),y.on=e}),0===r&&o()})},[Symbol.iterator]:Cc[Symbol.iterator]};var VO={time:null,delay:0,duration:250,ease:function xM(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function BO(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}ku.prototype.interrupt=function Kv(n){return this.each(function(){!function RO(n,e){var i,r,c,t=n.__transition,o=!0;if(t){for(c in e=null==e?null:e+"",t)(i=t[c]).name===e?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[c]):o=!1;o&&delete n.__transition}}(this,n)})},ku.prototype.transition=function MM(n){var e,t;n instanceof Fl?(e=n._id,n=n._name):(e=fb(),(t=VO).time=$v(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var p,c=i[o],h=c.length,y=0;y<h;++y)(p=c[y])&&uh(p,n,e,y,c,t||BO(p,e));return new Fl(i,this._parents,n,e)};Math;function vh(n){return{type:n}}["w","e"].map(vh),["n","s"].map(vh),["n","w","e","s","nw","ne","sw","se"].map(vh);class Ho extends Map{constructor(e,t=CI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(bh(this,e))}has(e){return super.has(bh(this,e))}set(e,t){return super.set(function wh({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}(this,e),t)}delete(e){return super.delete(function wI({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}(this,e))}}function bh({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function CI(n){return null!==n&&"object"==typeof n?n.valueOf():n}function RM(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n)}return this}Set;const yp=Symbol("implicit");function EI(){var n=new Ho,e=[],t=[],i=yp;function r(o){let c=n.get(o);if(void 0===c){if(i!==yp)return i;n.set(o,c=e.push(o)-1)}return t[c%t.length]}return r.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new Ho;for(const c of o)n.has(c)||n.set(c,e.push(c)-1);return r},r.range=function(o){return arguments.length?(t=Array.from(o),r):t.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return EI(e,t).unknown(i)},RM.apply(r,arguments),r}const Kg=Math.PI,Yg=2*Kg,Ll=1e-6,II=Yg-Ll;function bb(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function DI(){return new bb}bb.prototype=DI.prototype={constructor:bb,moveTo:function(n,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,e){this._+="L"+(this._x1=+n)+","+(this._y1=+e)},quadraticCurveTo:function(n,e,t,i){this._+="Q"+ +n+","+ +e+","+(this._x1=+t)+","+(this._y1=+i)},bezierCurveTo:function(n,e,t,i,r,o){this._+="C"+ +n+","+ +e+","+ +t+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(n,e,t,i,r){var o=this._x1,c=this._y1,h=(t=+t)-(n=+n),p=(i=+i)-(e=+e),y=o-n,w=c-e,T=y*y+w*w;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=e);else if(T>Ll)if(Math.abs(w*h-p*y)>Ll&&r){var R=t-o,F=i-c,U=h*h+p*p,X=R*R+F*F,z=Math.sqrt(U),ee=Math.sqrt(T),Ie=r*Math.tan((Kg-Math.acos((U+T-X)/(2*z*ee)))/2),we=Ie/ee,Oe=Ie/z;Math.abs(we-1)>Ll&&(this._+="L"+(n+we*y)+","+(e+we*w)),this._+="A"+r+","+r+",0,0,"+ +(w*R>y*F)+","+(this._x1=n+Oe*h)+","+(this._y1=e+Oe*p)}else this._+="L"+(this._x1=n)+","+(this._y1=e)},arc:function(n,e,t,i,r,o){n=+n,e=+e,o=!!o;var c=(t=+t)*Math.cos(i),h=t*Math.sin(i),p=n+c,y=e+h,w=1^o,T=o?i-r:r-i;if(t<0)throw new Error("negative radius: "+t);null===this._x1?this._+="M"+p+","+y:(Math.abs(this._x1-p)>Ll||Math.abs(this._y1-y)>Ll)&&(this._+="L"+p+","+y),t&&(T<0&&(T=T%Yg+Yg),T>II?this._+="A"+t+","+t+",0,1,"+w+","+(n-c)+","+(e-h)+"A"+t+","+t+",0,1,"+w+","+(this._x1=p)+","+(this._y1=y):T>Ll&&(this._+="A"+t+","+t+",0,"+ +(T>=Kg)+","+w+","+(this._x1=n+t*Math.cos(r))+","+(this._y1=e+t*Math.sin(r))))},rect:function(n,e,t,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +i+"h"+-t+"Z"},toString:function(){return this._}};const GO=DI;function vr(n){return function(){return n}}const Qg=Math.abs,br=Math.atan2,Vl=Math.cos,wb=Math.max,Cb=Math.min,ja=Math.sin,Ch=Math.sqrt,us=1e-12,Eh=Math.PI,Ih=Eh/2,vp=2*Eh;function TI(n){return n>1?0:n<-1?Eh:Math.acos(n)}function Eb(n){return n>=1?Ih:n<=-1?-Ih:Math.asin(n)}function SI(n){return n.innerRadius}function PM(n){return n.outerRadius}function xI(n){return n.startAngle}function MI(n){return n.endAngle}function NM(n){return n&&n.padAngle}function AI(n,e,t,i,r,o,c,h){var p=t-n,y=i-e,w=c-r,T=h-o,R=T*p-w*y;if(!(R*R<us))return[n+(R=(w*(e-o)-T*(n-r))/R)*p,e+R*y]}function Xg(n,e,t,i,r,o,c){var h=n-t,p=e-i,y=(c?o:-o)/Ch(h*h+p*p),w=y*p,T=-y*h,R=n+w,F=e+T,U=t+w,X=i+T,z=(R+U)/2,ee=(F+X)/2,Ie=U-R,we=X-F,Oe=Ie*Ie+we*we,Ye=r-o,tt=R*X-U*F,Lt=(we<0?-1:1)*Ch(wb(0,Ye*Ye*Oe-tt*tt)),on=(tt*we-Ie*Lt)/Oe,En=(-tt*Ie-we*Lt)/Oe,cn=(tt*we+Ie*Lt)/Oe,Rn=(-tt*Ie+we*Lt)/Oe,Vt=on-z,Ut=En-ee,me=cn-z,mt=Rn-ee;return Vt*Vt+Ut*Ut>me*me+mt*mt&&(on=cn,En=Rn),{cx:on,cy:En,x01:-w,y01:-T,x11:on*(r/Ye-1),y11:En*(r/Ye-1)}}function Lr(){var n=SI,e=PM,t=vr(0),i=null,r=xI,o=MI,c=NM,h=null;function p(){var y,w,T=+n.apply(this,arguments),R=+e.apply(this,arguments),F=r.apply(this,arguments)-Ih,U=o.apply(this,arguments)-Ih,X=Qg(U-F),z=U>F;if(h||(h=y=GO()),R<T&&(w=R,R=T,T=w),R>us)if(X>vp-us)h.moveTo(R*Vl(F),R*ja(F)),h.arc(0,0,R,F,U,!z),T>us&&(h.moveTo(T*Vl(U),T*ja(U)),h.arc(0,0,T,U,F,z));else{var Vt,Ut,ee=F,Ie=U,we=F,Oe=U,Ye=X,tt=X,Lt=c.apply(this,arguments)/2,on=Lt>us&&(i?+i.apply(this,arguments):Ch(T*T+R*R)),En=Cb(Qg(R-T)/2,+t.apply(this,arguments)),cn=En,Rn=En;if(on>us){var me=Eb(on/T*ja(Lt)),mt=Eb(on/R*ja(Lt));(Ye-=2*me)>us?(we+=me*=z?1:-1,Oe-=me):(Ye=0,we=Oe=(F+U)/2),(tt-=2*mt)>us?(ee+=mt*=z?1:-1,Ie-=mt):(tt=0,ee=Ie=(F+U)/2)}var se=R*Vl(ee),xe=R*ja(ee),We=T*Vl(Oe),et=T*ja(Oe);if(En>us){var Ht,ht=R*Vl(Ie),At=R*ja(Ie),Pt=T*Vl(we),ai=T*ja(we);if(X<Eh&&(Ht=AI(se,xe,Pt,ai,ht,At,We,et))){var Pi=se-Ht[0],ur=xe-Ht[1],tn=ht-Ht[0],li=At-Ht[1],Hi=1/ja(TI((Pi*tn+ur*li)/(Ch(Pi*Pi+ur*ur)*Ch(tn*tn+li*li)))/2),Qo=Ch(Ht[0]*Ht[0]+Ht[1]*Ht[1]);cn=Cb(En,(T-Qo)/(Hi-1)),Rn=Cb(En,(R-Qo)/(Hi+1))}}tt>us?Rn>us?(Vt=Xg(Pt,ai,se,xe,R,Rn,z),Ut=Xg(ht,At,We,et,R,Rn,z),h.moveTo(Vt.cx+Vt.x01,Vt.cy+Vt.y01),Rn<En?h.arc(Vt.cx,Vt.cy,Rn,br(Vt.y01,Vt.x01),br(Ut.y01,Ut.x01),!z):(h.arc(Vt.cx,Vt.cy,Rn,br(Vt.y01,Vt.x01),br(Vt.y11,Vt.x11),!z),h.arc(0,0,R,br(Vt.cy+Vt.y11,Vt.cx+Vt.x11),br(Ut.cy+Ut.y11,Ut.cx+Ut.x11),!z),h.arc(Ut.cx,Ut.cy,Rn,br(Ut.y11,Ut.x11),br(Ut.y01,Ut.x01),!z))):(h.moveTo(se,xe),h.arc(0,0,R,ee,Ie,!z)):h.moveTo(se,xe),T>us&&Ye>us?cn>us?(Vt=Xg(We,et,ht,At,T,-cn,z),Ut=Xg(se,xe,Pt,ai,T,-cn,z),h.lineTo(Vt.cx+Vt.x01,Vt.cy+Vt.y01),cn<En?h.arc(Vt.cx,Vt.cy,cn,br(Vt.y01,Vt.x01),br(Ut.y01,Ut.x01),!z):(h.arc(Vt.cx,Vt.cy,cn,br(Vt.y01,Vt.x01),br(Vt.y11,Vt.x11),!z),h.arc(0,0,T,br(Vt.cy+Vt.y11,Vt.cx+Vt.x11),br(Ut.cy+Ut.y11,Ut.cx+Ut.x11),z),h.arc(Ut.cx,Ut.cy,cn,br(Ut.y11,Ut.x11),br(Ut.y01,Ut.x01),!z))):h.arc(0,0,T,Oe,we,z):h.lineTo(We,et)}else h.moveTo(0,0);if(h.closePath(),y)return h=null,y+""||null}return p.centroid=function(){var y=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,w=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Eh/2;return[Vl(w)*y,ja(w)*y]},p.innerRadius=function(y){return arguments.length?(n="function"==typeof y?y:vr(+y),p):n},p.outerRadius=function(y){return arguments.length?(e="function"==typeof y?y:vr(+y),p):e},p.cornerRadius=function(y){return arguments.length?(t="function"==typeof y?y:vr(+y),p):t},p.padRadius=function(y){return arguments.length?(i=null==y?null:"function"==typeof y?y:vr(+y),p):i},p.startAngle=function(y){return arguments.length?(r="function"==typeof y?y:vr(+y),p):r},p.endAngle=function(y){return arguments.length?(o="function"==typeof y?y:vr(+y),p):o},p.padAngle=function(y){return arguments.length?(c="function"==typeof y?y:vr(+y),p):c},p.context=function(y){return arguments.length?(h=y??null,p):h},p}function FM(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function LM(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function qO(n){return n}function Bu(n,e,t){this.k=n,this.x=e,this.y=t}Bu.prototype={constructor:Bu,scale:function(n){return 1===n?this:new Bu(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new Bu(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Bu(1,0,0);let Db=(()=>{class n{constructor(){this.data=[{name:"Asset",value:"100",color:"green"},{name:"Liability",value:"200",color:"red"}],this.margin={top:10,right:30,bottom:30,left:40},this.width=200,this.height=200,this.radius=Math.min(this.width,this.height)/2-this.margin.left}ngOnInit(){this.createSvg(),this.createColors(this.data),this.drawChart()}createSvg(){this.svg=function OM(n){return"string"==typeof n?new Fs([[document.querySelector(n)]],[document.documentElement]):new Fs([[n]],ip)}("figure#donut").append("svg").attr("viewBox",`0 0 ${this.width} ${this.height}`).append("g").attr("transform","translate("+this.width/2+","+this.height/2+")")}createColors(t){let i=0;const r=["#6773f1","#32325d","#6162b5","#6586f6","#8b6ced","#1b1b1b","#212121"],o=[];this.data.forEach(c=>{c.color?o.push(c.color):(o.push(r[i]),i++)}),this.colors=EI().domain(t.map(c=>c.value.toString())).range(o)}drawChart(){var t=function WO(){var n=qO,e=LM,t=null,i=vr(0),r=vr(vp),o=vr(0);function c(h){var p,w,T,ee,Oe,y=(h=FM(h)).length,R=0,F=new Array(y),U=new Array(y),X=+i.apply(this,arguments),z=Math.min(vp,Math.max(-vp,r.apply(this,arguments)-X)),Ie=Math.min(Math.abs(z)/y,o.apply(this,arguments)),we=Ie*(z<0?-1:1);for(p=0;p<y;++p)(Oe=U[F[p]=p]=+n(h[p],p,h))>0&&(R+=Oe);for(null!=e?F.sort(function(Ye,tt){return e(U[Ye],U[tt])}):null!=t&&F.sort(function(Ye,tt){return t(h[Ye],h[tt])}),p=0,T=R?(z-y*we)/R:0;p<y;++p,X=ee)U[w=F[p]]={data:h[w],index:p,value:Oe=U[w],startAngle:X,endAngle:ee=X+(Oe>0?Oe*T:0)+we,padAngle:Ie};return U}return c.value=function(h){return arguments.length?(n="function"==typeof h?h:vr(+h),c):n},c.sortValues=function(h){return arguments.length?(e=h,t=null,c):e},c.sort=function(h){return arguments.length?(t=h,e=null,c):t},c.startAngle=function(h){return arguments.length?(i="function"==typeof h?h:vr(+h),c):i},c.endAngle=function(h){return arguments.length?(r="function"==typeof h?h:vr(+h),c):r},c.padAngle=function(h){return arguments.length?(o="function"==typeof h?h:vr(+h),c):o},c}().sort(null).value(c=>c.value),i=t(this.data),r=Lr().innerRadius(.5*this.radius).outerRadius(.8*this.radius),o=Lr().innerRadius(.9*this.radius).outerRadius(.9*this.radius);this.svg.selectAll("allSlices").data(i).enter().append("path").attr("d",r).attr("fill",c=>this.colors(c.data.value)).attr("stroke","white").style("stroke-width","2px").style("opacity",.7),this.svg.selectAll("allPolylines").data(i).enter().append("polyline").attr("stroke","black").style("fill","none").attr("stroke-width",1).attr("points",c=>{var h=r.centroid(c),p=o.centroid(c),y=o.centroid(c);return y[0]=.95*this.radius*(c.startAngle+(c.endAngle-c.startAngle)/2<Math.PI?1:-1),[h,p,y]}),this.svg.selectAll("allLabels").data(i).enter().append("text").text(c=>c.data.name).attr("transform",c=>{var h=o.centroid(c);return h[0]=.99*this.radius*(c.startAngle+(c.endAngle-c.startAngle)/2<Math.PI?1:-1),"translate("+h+")"}).style("text-anchor",c=>c.startAngle+(c.endAngle-c.startAngle)/2<Math.PI?"start":"end")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-networth"]],inputs:{data:"data"},decls:1,vars:0,consts:[["id","donut"]],template:function(t,i){1&t&&u._UZ(0,"figure",0)}}),n})(),PI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"container","mt-3"],[1,"row","m-2"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-networth"),u.qZA(),u.TgZ(3,"div",1),u._UZ(4,"app-assets"),u.qZA(),u.TgZ(5,"div",1),u._UZ(6,"app-liabilities"),u.qZA()())},dependencies:[Fa,ep,Db]}),n})();var Cp=(()=>{return(n=Cp||(Cp={})).USER="USER",n.ADMIN="ADMIN",Cp;var n})(),Uu=V(4986),sr=V(5813);function NI(){return(0,qi.e)((n,e)=>{let t,i=!1;n.subscribe((0,ni.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function Jg(n,e=hu.y){return n=n??HM,(0,qi.e)((t,i)=>{let r,o=!0;t.subscribe((0,ni.x)(i,c=>{const h=e(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function HM(n,e){return n===e}var Mt,ao=V(2011),jM=(V(5881),V(3942)),Me=V(5861),Bl=V(9681),Tb=V(4859),Ec=V(1877),Nn=V(2090),$M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ul={},e_=e_||{},en=$M||self;function t_(){}function Ip(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Dh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sb="closure_uid_"+(1e9*Math.random()>>>0),FI=0;function GM(n,e,t){return n.call.apply(n.bind,arguments)}function LI(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function wr(n,e,t){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GM:LI).apply(null,arguments)}function Dp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function or(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Ic(){this.s=this.s,this.o=this.o}Ic.prototype.s=!1,Ic.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function zM(n){Object.prototype.hasOwnProperty.call(n,Sb)&&n[Sb]||(n[Sb]=++FI)}(this)},Ic.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WM=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function n_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ZM(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Ip(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function Kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Kr.prototype.h=function(){this.defaultPrevented=!0};var KO=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{en.addEventListener("test",t_,e),en.removeEventListener("test",t_,e)}catch{}return n}();function xb(n){return/^[\s\xa0]*$/.test(n)}var KM=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function VI(n,e){return n<e?-1:n>e?1:0}function Mb(){var n=en.navigator;return n&&(n=n.userAgent)?n:""}function Hl(n){return-1!=Mb().indexOf(n)}function Th(n){return Th[" "](n),n}Th[" "]=t_;var r_,n,BI=Hl("Opera"),jl=Hl("Trident")||Hl("MSIE"),Ab=Hl("Edge"),i_=Ab||jl,YM=Hl("Gecko")&&!(-1!=Mb().toLowerCase().indexOf("webkit")&&!Hl("Edge"))&&!(Hl("Trident")||Hl("MSIE"))&&!Hl("Edge"),kb=-1!=Mb().toLowerCase().indexOf("webkit")&&!Hl("Edge");function Rb(){var n=en.document;return n?n.documentMode:void 0}e:{var s_="",UI=(n=Mb(),YM?/rv:([^\);]+)(\)|;)/.exec(n):Ab?/Edge\/([\d\.]+)/.exec(n):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kb?/WebKit\/(\S+)/.exec(n):BI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(UI&&(s_=UI?UI[1]:""),jl){var Ob=Rb();if(null!=Ob&&Ob>parseFloat(s_)){r_=String(Ob);break e}}r_=s_}var QM={};var QO=en.document&&jl&&(Rb()||parseInt(r_,10))||void 0;function o_(n,e){if(Kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(YM){e:{try{Th(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:XO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&o_.X.h.call(this)}}or(o_,Kr);var XO={2:"touch",3:"pen",4:"mouse"};o_.prototype.h=function(){o_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tp="closure_listenable_"+(1e6*Math.random()|0),JM=0;function eA(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++JM,this.ba=this.ea=!1}function Pb(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Nb(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Fb(n){const e={};for(const t in n)e[t]=n[t];return e}const Lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tA(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<Lb.length;o++)t=Lb[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ds(n){this.src=n,this.g={},this.h=0}function Vb(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=WM(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Pb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Sp(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==i)return r}return-1}ds.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Sp(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new eA(e,this.src,o,!!i,r)).ea=t,n.push(e)),e};var Bb="closure_lm_"+(1e6*Math.random()|0),hs={};function jI(n,e,t,i,r){if(i&&i.once)return $I(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jI(n,e[o],t,i,r);return null}return t=Hb(t),n&&n[Tp]?n.N(e,t,Dh(i)?!!i.capture:!!i,r):a_(n,e,t,!1,i,r)}function a_(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var c=Dh(r)?!!r.capture:!!r,h=u_(n);if(h||(n[Bb]=h=new ds(n)),(t=h.add(e,t,i,c,o)).proxy)return t;if(i=function nA(){const e=iA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)KO||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ub(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function $I(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$I(n,e[o],t,i,r);return null}return t=Hb(t),n&&n[Tp]?n.O(e,t,Dh(i)?!!i.capture:!!i,r):a_(n,e,t,!0,i,r)}function l_(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)l_(n,e[o],t,i,r);else i=Dh(i)?!!i.capture:!!i,t=Hb(t),n&&n[Tp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Sp(o=n.g[e],t,i,r))&&(Pb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=u_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Sp(e,t,i,r)),(t=-1<n?e[n]:null)&&c_(t))}function c_(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Tp])Vb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Ub(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=u_(e))?(Vb(t,n),0==t.h&&(t.src=null,e[Bb]=null)):Pb(n)}}}function Ub(n){return n in hs?hs[n]:hs[n]="on"+n}function iA(n,e){if(n.ba)n=!0;else{e=new o_(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&c_(n),n=t.call(i,e)}return n}function u_(n){return(n=n[Bb])instanceof ds?n:null}var d_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hb(n){return"function"==typeof n?n:(n[d_]||(n[d_]=function(e){return n.handleEvent(e)}),n[d_])}function Yi(){Ic.call(this),this.i=new ds(this),this.P=this,this.I=null}function Cr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Kr(e,n);else if(e instanceof Kr)e.target=e.target||n;else{var r=e;tA(e=new Kr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];r=xh(c,i,!0,e)&&r}if(r=xh(c=e.g=n,i,!0,e)&&r,r=xh(c,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=xh(c=e.g=t[o],i,!1,e)&&r}function xh(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ba&&c.capture==t){var h=c.listener,p=c.ha||c.src;c.ea&&Vb(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}or(Yi,Ic),Yi.prototype[Tp]=!0,Yi.prototype.removeEventListener=function(n,e,t,i){l_(this,n,e,t,i)},Yi.prototype.M=function(){if(Yi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Pb(t[i]);delete n.g[e],n.h--}}this.I=null},Yi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Yi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var $a=en.JSON.stringify;function zI(){var n=Gb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var $b,za=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rA,n=>n.reset());class rA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JO(n){en.setTimeout(()=>{throw n},0)}function GI(n,e){$b||function sA(){var n=en.Promise.resolve(void 0);$b=function(){n.then(eP)}}(),zb||($b(),zb=!0),Gb.add(n,e)}var zb=!1,Gb=new class jb{constructor(){this.h=this.g=null}add(e,t){const i=za.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function eP(){for(var n;n=zI();){try{n.h.call(n.g)}catch(t){JO(t)}var e=za;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zb=!1}function xp(n,e){Yi.call(this),this.h=n||1,this.g=e||en,this.j=wr(this.lb,this),this.l=Date.now()}function qb(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function h_(n,e,t){if("function"==typeof n)t&&(n=wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:en.setTimeout(n,e||0)}function oA(n){n.g=h_(()=>{n.g=null,n.i&&(n.i=!1,oA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}or(xp,Yi),(Mt=xp.prototype).ca=!1,Mt.R=null,Mt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(qb(this),this.start()))}},Mt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){xp.X.M.call(this),qb(this),delete this.g};class Wb extends Ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oA(this)}M(){super.M(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mh(n){Ic.call(this),this.h=n,this.g={}}or(Mh,Ic);var Zb=[];function Kb(n,e,t,i){Array.isArray(t)||(t&&(Zb[0]=t.toString()),t=Zb);for(var r=0;r<t.length;r++){var o=jI(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Yb(n){Nb(n.g,function(e,t){this.g.hasOwnProperty(t)&&c_(e)},n),n.g={}}function Mp(){this.g=!0}function Hu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return $a(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Mh.prototype.M=function(){Mh.X.M.call(this),Yb(this)},Mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mp.prototype.Aa=function(){this.g=!1},Mp.prototype.info=function(){};var Dc={},WI=null;function m_(){return WI=WI||new Yi}function lA(n){Kr.call(this,Dc.Pa,n)}function g_(n){const e=m_();Cr(e,new lA(e))}function Qb(n,e){Kr.call(this,Dc.STAT_EVENT,n),this.stat=e}function Yr(n){const e=m_();Cr(e,new Qb(e,n))}function ZI(n,e){Kr.call(this,Dc.Qa,n),this.size=e}function Ap(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},e)}Dc.Pa="serverreachability",or(lA,Kr),Dc.STAT_EVENT="statevent",or(Qb,Kr),Dc.Qa="timingevent",or(ZI,Kr);var Xb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},cA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function KI(){}function dA(){}KI.prototype.h=null;var e0,kp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ah(){Kr.call(this,"d")}function Jb(){Kr.call(this,"c")}function Rp(){}function jo(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Mh(this),this.O=n0,this.T=new xp(n=i_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}or(Ah,Kr),or(Jb,Kr),or(Rp,KI),Rp.prototype.g=function(){return new XMLHttpRequest},Rp.prototype.i=function(){return{}},e0=new Rp;var n0=45e3,Op={},__={};function Pp(n,e,t){n.K=1,n.v=b_(Ga(e)),n.s=t,n.P=!0,y_(n,null)}function y_(n,e){n.F=Date.now(),v_(n),n.A=Ga(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),vA(t.i,"t",i),n.C=0,t=n.l.H,n.h=new t0,n.g=yP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Wb(wr(n.La,n,n.g),n.N)),Kb(n.S,n.g,"readystatechange",n.ib),e=n.H?Fb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),g_(),function f_(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var w=y[0];y=y[1];var T=w.split("_");c=2<=T.length&&"type"==T[1]?c+(w+"=")+y+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Np(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function hA(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=tP(n,t),r==__){4==e&&(n.o=4,Yr(14),i=!1),Hu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Op){n.o=4,Yr(15),Hu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Hu(n.j,n.m,r,null),r0(n,r)}Np(n)&&r!=__&&r!=Op&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Yr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),EA(e),e.K=!0,Yr(11))):(Hu(n.j,n.m,t,"[Invalid Chunked Response]"),ju(n),Lp(n))}function tP(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?__:(t=Number(e.substring(t,i)),isNaN(t)?Op:(i+=1)+t>e.length?__:(e=e.substr(i,t),n.C=i+t,e))}function v_(n){n.V=Date.now()+n.O,fA(n,n.O)}function fA(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ap(wr(n.gb,n),e)}function Fp(n){n.B&&(en.clearTimeout(n.B),n.B=null)}function Lp(n){0==n.l.G||n.I||pP(n.l,n)}function ju(n){Fp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,qb(n.T),Yb(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function r0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||l(t.h,n)))if(!n.J&&l(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;tD(t),JI(t)}CA(t),Yr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ap(wr(t.cb,t),6e3));if(1>=a(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Hp(t,11)}else if((n.J||t.g==n)&&tD(t),!xb(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const w=y[3];null!=w&&(t.ma=w,t.j.info("VER="+t.ma));const T=y[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const R=y[5];null!=R&&"number"==typeof R&&0<R&&(t.J=i=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const U=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(d(o,o.h),o.h=null))}if(i.D){const X=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.za=X,Yn(i.F,i.D,X))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=_P(i,i.H?i.ka:null,i.V),c.J){f(i.h,c);var h=c,p=i.J;p&&h.setTimeout(p),h.B&&(Fp(h),v_(h)),i.g=c}else hP(i);0<t.i.length&&eD(t)}else"stop"!=y[0]&&"close"!=y[0]||Hp(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Hp(t,7):wA(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}g_()}catch{}}function s0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ip(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function YI(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ip(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function pA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ip(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(Mt=jo.prototype).setTimeout=function(n){this.O=n},Mt.ib=function(n){n=n.target;const e=this.L;e&&3==$o(n)?e.l():this.La(n)},Mt.La=function(n){try{if(n==this.g)e:{const w=$o(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||i_||this.g&&(this.h.h||this.g.fa()||T_(this.g)))){this.I||4!=w||7==e||g_(),Fp(this);var t=this.g.aa();this.Y=t;t:if(Np(this)){var i=T_(this.g);n="";var r=i.length,o=4==$o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ju(this),Lp(this);var c="";break t}this.h.i=new en.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function p_(n,e,t,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,w,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xb(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Yr(12),ju(this),Lp(this);break e}Hu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,r0(this,t)}this.P?(hA(this,w,c),i_&&this.i&&3==w&&(Kb(this.S,this.T,"tick",this.hb),this.T.start())):(Hu(this.j,this.m,c,null),r0(this,c)),4==w&&ju(this),this.i&&!this.I&&(4==w?pP(this.l,this):(this.i=!1,v_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),ju(this),Lp(this)}}}catch{}},Mt.hb=function(){if(this.g){var n=$o(this.g),e=this.g.fa();this.C<e.length&&(Fp(this),hA(this,n,e),this.i&&4!=n&&v_(this))}},Mt.cancel=function(){this.I=!0,ju(this)},Mt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(g_(),Yr(17)),ju(this),this.o=2,Lp(this)):fA(this,this.V-n)};var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $u(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $u){this.h=void 0!==e?e:n.h,kh(this,n.j),this.s=n.s,this.g=n.g,a0(this,n.m),this.l=n.l,e=n.i;var t=new C_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),l0(this,t),this.o=n.o}else n&&(t=String(n).match(o0))?(this.h=!!e,kh(this,t[1]||"",!0),this.s=Vp(t[2]||""),this.g=Vp(t[3]||"",!0),a0(this,t[4]),this.l=Vp(t[5]||"",!0),l0(this,t[6]||"",!0),this.o=Vp(t[7]||"")):(this.h=!!e,this.i=new C_(null,this.h))}function Ga(n){return new $u(n)}function kh(n,e,t){n.j=t?Vp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function a0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function l0(n,e,t){e instanceof C_?(n.i=e,function sP(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(yA(this,i),vA(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=w_(e,iP)),n.i=new C_(e,n.h))}function Yn(n,e,t){n.i.set(e,t)}function b_(n){return Yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function w_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$u.prototype.toString=function(){var n=[],e=this.j;e&&n.push(w_(e,QI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(w_(e,QI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(w_(t,"/"==t.charAt(0)?_A:gA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",w_(t,rP)),n.join("")};var QI=/[#\/\?@]/g,gA=/[#\?:]/g,_A=/[#\?]/g,iP=/[#\?@]/g,rP=/#/g;function C_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new Map,n.h=0,n.i&&function mA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yA(n,e){zu(n),e=Bp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function XI(n,e){return zu(n),e=Bp(n,e),n.g.has(e)}function vA(n,e,t){yA(n,e),0<t.length&&(n.i=null,n.g.set(Bp(n,e),n_(t)),n.h+=t.length)}function Bp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bA(n){this.l=n||aP,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ga&&en.g.Ga()&&en.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=C_.prototype).add=function(n,e){zu(this),this.i=null,n=Bp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Mt.forEach=function(n,e){zu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Mt.oa=function(){zu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},Mt.W=function(n){zu(this);let e=[];if("string"==typeof n)XI(this,n)&&(e=e.concat(this.g.get(Bp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Mt.set=function(n,e){return zu(this),this.i=null,XI(this,n=Bp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Mt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var aP=10;function s(n){return!!n.h||!!n.g&&n.g.size>=n.j}function a(n){return n.h?1:n.g?n.g.size:0}function l(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function d(n,e){n.g?n.g.add(e):n.h=e}function f(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function m(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return n_(n.i)}function v(){}function C(){this.g=new v}function I(n,e,t){const i=t||"";try{s0(n,function(r,o){let c=r;Dh(r)&&(c=$a(r)),e.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function O(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function B(n){this.l=n.ac||null,this.j=n.jb||!1}function Q(n,e){Yi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ae,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bA.prototype.cancel=function(){if(this.i=m(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},v.prototype.stringify=function(n){return en.JSON.stringify(n,void 0)},v.prototype.parse=function(n){return en.JSON.parse(n,void 0)},or(B,KI),B.prototype.g=function(){return new Q(this.l,this.j)},B.prototype.i=function(n){return function(){return n}}({}),or(Q,Yi);var ae=0;function ke(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Qe(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rt(n)}function rt(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=Q.prototype).open=function(n,e){if(this.readyState!=ae)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rt(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||en).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qe(this)),this.readyState=ae},Mt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rt(this)),this.g&&(this.readyState=3,rt(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof en.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ke(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Mt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qe(this):rt(this),3==this.readyState&&ke(this)}},Mt.Va=function(n){this.g&&(this.response=this.responseText=n,Qe(this))},Mt.Ua=function(n){this.g&&(this.response=n,Qe(this))},Mt.ga=function(){this.g&&Qe(this)},Mt.setRequestHeader=function(n,e){this.v.append(n,e)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Q.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wt=en.JSON.parse;function ut(n){Yi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=He,this.K=this.L=!1}or(ut,Yi);var He="",qt=/^https?$/i,Fn=["POST","PUT"];function Tc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,E_(n),Rh(n)}function E_(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function I_(n){if(n.h&&typeof e_<"u"&&(!n.C[1]||4!=$o(n)||2!=n.aa()))if(n.v&&4==$o(n))h_(n.Ha,0,n);else if(Cr(n,"readystatechange"),4==$o(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(o0)[1]||null;if(!r&&en.self&&en.self.location){var o=en.self.location.protocol;r=o.substr(0,o.length-1)}i=!qt.test(r?r.toLowerCase():"")}t=i}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var c=2<$o(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",E_(n)}}finally{Rh(n)}}}function Rh(n,e){if(n.g){D_(n);const t=n.g,i=n.C[0]?t_:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=i}catch{}}}function D_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function $o(n){return n.g?n.g.readyState:0}function T_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case He:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function S_(n){let e="";return Nb(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Up(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=S_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yn(n,e,t))}function Gu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lP(n){this.Ca=0,this.i=[],this.j=new Mp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gu("baseRetryDelayMs",5e3,n),this.bb=Gu("retryDelaySeedMs",1e4,n),this.$a=Gu("forwardChannelMaxRetries",2,n),this.ta=Gu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bA(n&&n.concurrentRequestLimit),this.Fa=new C,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wA(n){if(cP(n),3==n.G){var e=n.U++,t=Ga(n.F);Yn(t,"SID",n.I),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),c0(n,t),(e=new jo(n,n.j,e,void 0)).K=2,e.v=b_(Ga(t)),t=!1,en.navigator&&en.navigator.sendBeacon&&(t=en.navigator.sendBeacon(e.v.toString(),"")),!t&&en.Image&&((new Image).src=e.v,t=!0),t||(e.g=yP(e.l,null),e.g.da(e.v)),e.F=Date.now(),v_(e)}gP(n)}function JI(n){n.g&&(EA(n),n.g.cancel(),n.g=null)}function cP(n){JI(n),n.u&&(en.clearTimeout(n.u),n.u=null),tD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function eD(n){s(n.h)||n.m||(n.m=!0,GI(n.Ja,n),n.C=0)}function uP(n,e){var t;t=e?e.m:n.U++;const i=Ga(n.F);Yn(i,"SID",n.I),Yn(i,"RID",t),Yn(i,"AID",n.T),c0(n,i),n.o&&n.s&&Up(i,n.o,n.s),t=new jo(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=dP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),d(n.h,t),Pp(t,i,e)}function c0(n,e){n.ia&&Nb(n.ia,function(t,i){Yn(e,i,t)}),n.l&&s0({},function(t,i){Yn(e,i,t)})}function dP(n,e,t){t=Math.min(n.i.length,t);var i=n.l?wr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const w=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),h=!1;else try{I(w,c,"req"+y+"_")}catch{i&&i(w)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function hP(n){n.g||n.u||(n.Z=1,GI(n.Ia,n),n.A=0)}function CA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ap(wr(n.Ia,n),mP(n,n.A)),n.A++,0))}function EA(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function fP(n){n.g=new jo(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ga(n.sa);Yn(e,"RID","rpc"),Yn(e,"SID",n.I),Yn(e,"CI",n.L?"0":"1"),Yn(e,"AID",n.T),Yn(e,"TYPE","xmlhttp"),c0(n,e),n.o&&n.s&&Up(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=b_(Ga(e)),t.s=null,t.P=!0,y_(t,n)}function tD(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function pP(n,e){var t=null;if(n.g==e){tD(n),EA(n),n.g=null;var i=2}else{if(!l(n.h,e))return;t=e.D,f(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Cr(i=m_(),new ZI(i,t)),eD(n)}else hP(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function U2(n,e){return!(a(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ap(wr(n.Ja,n,e),mP(n,n.C)),n.C++,0)))}(n,e)||2==i&&CA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Hp(n,5);break;case 4:Hp(n,10);break;case 3:Hp(n,6);break;default:Hp(n,2)}}function mP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Hp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=wr(n.kb,n);t||(t=new $u("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||kh(t,"https"),b_(t)),function x(n,e){const t=new Mp;if(en.Image){const i=new Image;i.onload=Dp(O,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Dp(O,t,i,"TestLoadImage: error",!1,e),i.onabort=Dp(O,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Dp(O,t,i,"TestLoadImage: timeout",!1,e),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Yr(2);n.G=0,n.l&&n.l.va(e),gP(n),cP(n)}function gP(n){if(n.G=0,n.la=[],n.l){const e=m(n.h);(0!=e.length||0!=n.i.length)&&(ZM(n.la,e),ZM(n.la,n.i),n.h.i.length=0,n_(n.i),n.i.length=0),n.l.ua()}}function _P(n,e,t){var i=t instanceof $u?Ga(t):new $u(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),a0(i,i.m);else{var r=en.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new $u(null,void 0);i&&kh(o,i),e&&(o.g=e),r&&a0(o,r),t&&(o.l=t),i=o}return e=n.za,(t=n.D)&&e&&Yn(i,t,e),Yn(i,"VER",n.ma),c0(n,i),i}function yP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ut(t&&n.Da&&!n.ra?new B({jb:!0}):n.ra)).Ka(n.H),e}function vP(){}function nD(){if(jl&&!(10<=Number(QO)))throw Error("Environmental error: no available transport.")}function zo(n,e){Yi.call(this),this.g=new lP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!xb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xb(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new x_(this)}function bP(n){Ah.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wP(){Jb.call(this),this.status=1}function x_(n){this.g=n}(Mt=ut.prototype).Ka=function(n){this.L=n},Mt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():e0.g(),this.C=function uA(n){return n.h||(n.h=n.i())}(this.u?this.u:e0),this.g.onreadystatechange=wr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void Tc(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=en.FormData&&n instanceof en.FormData,!(0<=WM(Fn,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{D_(this),0<this.B&&((this.K=function pi(n){return jl&&function XM(){return function YO(n){var e=QM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=KM(String(r_)).split("."),t=KM("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",o=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=VI(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||VI(0==r[2].length,0==o[2].length)||VI(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.qa,this)):this.A=h_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Tc(this,o)}},Mt.qa=function(){typeof e_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),Rh(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rh(this,!0)),ut.X.M.call(this)},Mt.Ha=function(){this.s||(this.F||this.v||this.l?I_(this):this.fb())},Mt.fb=function(){I_(this)},Mt.aa=function(){try{return 2<$o(this)?this.g.status:-1}catch{return-1}},Mt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wt(e)}},Mt.Ea=function(){return this.m},Mt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=lP.prototype).ma=8,Mt.G=1,Mt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new jo(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Fb(o),tA(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dP(this,r,e),Yn(t=Ga(this.F),"RID",n),Yn(t,"CVER",22),this.D&&Yn(t,"X-HTTP-Session-Id",this.D),c0(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(S_(o)))+"&"+e:this.o&&Up(t,this.o,o)),d(this.h,r),this.Ya&&Yn(t,"TYPE","init"),this.O?(Yn(t,"$req",e),Yn(t,"SID","null"),r.Z=!0,Pp(r,t,null)):Pp(r,t,e),this.G=2}}else 3==this.G&&(n?uP(this,n):0==this.i.length||s(this.h)||uP(this))},Mt.Ia=function(){if(this.u=null,fP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ap(wr(this.eb,this),n)}},Mt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yr(10),JI(this),fP(this))},Mt.cb=function(){null!=this.v&&(this.v=null,JI(this),CA(this),Yr(19))},Mt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Yr(2)):(this.j.info("Failed to ping google.com"),Yr(1))},(Mt=vP.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Ra=function(){},nD.prototype.g=function(n,e){return new zo(n,e)},or(zo,Yi),zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Yr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=_P(n,null,n.V),eD(n)},zo.prototype.close=function(){wA(this.g)},zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$a(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&eD(e)},zo.prototype.M=function(){this.g.l=null,delete this.j,wA(this.g),delete this.g,zo.X.M.call(this)},or(bP,Ah),or(wP,Jb),or(x_,vP),x_.prototype.xa=function(){Cr(this.g,"a")},x_.prototype.wa=function(n){Cr(this.g,new bP(n))},x_.prototype.va=function(n){Cr(this.g,new wP)},x_.prototype.ua=function(){Cr(this.g,"b")},nD.prototype.createWebChannel=nD.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,Xb.NO_ERROR=0,Xb.TIMEOUT=8,Xb.HTTP_ERROR=6,cA.COMPLETE="complete",dA.EventType=kp,kp.OPEN="a",kp.CLOSE="b",kp.ERROR="c",kp.MESSAGE="d",Yi.prototype.listen=Yi.prototype.N,ut.prototype.listenOnce=ut.prototype.O,ut.prototype.getLastError=ut.prototype.Oa,ut.prototype.getLastErrorCode=ut.prototype.Ea,ut.prototype.getStatus=ut.prototype.aa,ut.prototype.getResponseJson=ut.prototype.Sa,ut.prototype.getResponseText=ut.prototype.fa,ut.prototype.send=ut.prototype.da,ut.prototype.setWithCredentials=ut.prototype.Ka;var H2=Ul.createWebChannelTransport=function(){return new nD},j2=Ul.getStatEventTarget=function(){return m_()},IA=Ul.ErrorCode=Xb,$2=Ul.EventType=cA,z2=Ul.Event=Dc,CP=Ul.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},G2=Ul.FetchXmlHttpFactory=B,iD=Ul.WebChannel=dA,q2=Ul.XhrIo=ut;const EP="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let M_="9.14.0";const Oh=new Ec.Yd("@firebase/firestore");function DA(){return Oh.logLevel}function Je(n,...e){if(Oh.logLevel<=Ec.in.DEBUG){const t=e.map(TA);Oh.debug(`Firestore (${M_}): ${n}`,...t)}}function Qi(n,...e){if(Oh.logLevel<=Ec.in.ERROR){const t=e.map(TA);Oh.error(`Firestore (${M_}): ${n}`,...t)}}function jp(n,...e){if(Oh.logLevel<=Ec.in.WARN){const t=e.map(TA);Oh.warn(`Firestore (${M_}): ${n}`,...t)}}function TA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function It(n="Unexpected state"){const e=`FIRESTORE (${M_}) INTERNAL ASSERTION FAILED: `+n;throw Qi(e),new Error(e)}function Kt(n,e){n||It()}function dt(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class Y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q2{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,Me.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt("string"==typeof i.accessToken),new IP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kt(null===e||"string"==typeof e),new Vr(e)}}class X2{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Kt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class J2{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new X2(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=o=>{null!=o.error&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,Je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Kt("string"==typeof t.token),this.A=t.token,new DP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class TP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=tU(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function an(n,e){return n<e?-1:n>e?1:0}function A_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function SP(n){return n+"\0"}class Ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ai.fromMillis(Date.now())}static fromDate(e){return Ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ai(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new Ai(0,0))}static max(){return new Yt(new Ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class u0{constructor(e,t,i){void 0===t?t=0:t>e.length&&It(),void 0===i?i=e.length-t:i>e.length-t&&It(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===u0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof u0?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),c=t.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class An extends u0{construct(e,t,i){return new An(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new An(t)}static emptyPath(){return new An([])}}const nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends u0{construct(e,t,i){return new Li(e,t,i)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ge(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ge(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Ge(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(t)}static emptyPath(){return new Li([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(An.fromString(e))}static fromName(e){return new ot(An.fromString(e).popFirst(5))}static empty(){return new ot(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===An.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return An.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new An(e.slice()))}}class rD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function SA(n){return n.fields.find(e=>2===e.kind)}function $p(n){return n.fields.filter(e=>2!==e.kind)}rD.UNKNOWN_ID=-1;class sD{constructor(e,t){this.fieldPath=e,this.kind=t}}class d0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new d0(0,Go.min())}}function xP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Yt.fromTimestamp(1e9===i?new Ai(t+1,0):new Ai(t,i));return new Go(r,ot.empty(),e)}function MP(n){return new Go(n.readTime,n.key,-1)}class Go{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Go(Yt.min(),ot.empty(),-1)}static max(){return new Go(Yt.max(),ot.empty(),-1)}}function xA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:an(n.largestBatchId,e.largestBatchId))}const AP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ph(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Me.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==AP)throw n;Je("LocalStore","Unexpectedly lost primary lease")}),MA.apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,i)=>{t(e)})}static reject(e){return new _e((t,i)=>{i(e)})}static waitFor(e){return new _e((t,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&t()},p=>i(p))}),c=!0,o===r&&t()})}static or(e){let t=_e.resolve(!1);for(const i of e)t=t.next(r=>r?_e.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new _e((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let p=0;p<o;p++){const y=p;t(e[y]).next(w=>{c[y]=w,++h,h===o&&i(c)},w=>r(w))}})}static doWhile(e,t){return new _e((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class oD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Er,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new h0(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=AA(i.target.error);this.P.reject(new h0(e,r))}}static open(e,t,i,r){try{return new oD(t,e.transaction(r,i))}catch(o){throw new h0(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oU(t)}}class $l{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===$l.D((0,Nn.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Je("SimpleDb","Removing database:",e),zp(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Nn.hl)())return!1;if($l.N())return!0;const e=(0,Nn.z$)(),t=$l.D(e),i=0<t&&t<10,r=$l.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new h0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ge(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ge(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new h0(e,h))},o.onupgradeneeded=c=>{Je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{Je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,Me.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.F(e);const p=oD.open(o.db,e,c?"readonly":"readwrite",i),y=r(p).next(w=>(p.V(),w)).catch(w=>(p.abort(w),_e.reject(w))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,w="FirebaseError"!==y.name&&h<3;if(Je("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sU{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return zp(this.U.delete())}}class h0 extends Ge{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nh(n){return"IndexedDbTransactionError"===n.name}class oU{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),zp(i)}add(e){return Je("SimpleDb","ADD",this.store.name,e,e),zp(this.store.add(e))}get(e){return zp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Je("SimpleDb","DELETE",this.store.name,e),zp(this.store.delete(e))}count(){return Je("SimpleDb","COUNT",this.store.name),zp(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new _e((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new _e((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(o,c,h)=>h.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new _e((i,r)=>{t.onerror=o=>{const c=AA(o.target.error);r(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}H(e,t){const i=[];return new _e((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new sU(h),y=t(h.primaryKey,h.value,p);if(y instanceof _e){const w=y.catch(T=>(p.done(),_e.reject(T)));i.push(w)}p.isDone?r():null===p.G?h.continue():h.continue(p.G)}}).next(()=>_e.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zp(n){return new _e((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=AA(i.target.error);t(r)}})}let RP=!1;function AA(n){const e=$l.D((0,Nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RP||(RP=!0,setTimeout(()=>{throw i},0)),i}}return n}class aU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{Je("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Nh(i)?Je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ph(i)}yield t.nt(6e4)}))}}class lU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,o=!0;return _e.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Je("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,o)).next(h=>(Je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,o)=>{const c=MP(o);xA(c,i)>0&&(i=c)}),new Go(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class lo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function OP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}lo.at=-1;class Vi{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new Vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aD(this.root,e,this.comparator,!1)}getReverseIterator(){return new aD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aD(this.root,e,this.comparator,!0)}}class aD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Qr.RED,this.left=r??Qr.EMPTY,this.right=o??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Qr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NP(this.data.getIterator())}getIteratorFrom(e){return new NP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class NP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function k_(n){return n.hasNext()?n.getNext():void 0}class qo{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new qo([])}unionWith(e){let t=new Qn(Li.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return A_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ir(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const uU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fh(n){if(Kt(!!n),"string"==typeof n){let e=0;const t=uU.exec(n);if(Kt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qp(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function kA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FP(n){const e=n.mapValue.fields.__previous_value__;return kA(e)?FP(e):e}function f0(n){const e=Fh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(e.seconds,e.nanos)}class dU{constructor(e,t,i,r,o,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Lh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}function p0(n){return null==n}function m0(n){return 0===n&&1/n==-1/0}function LP(n){return"number"==typeof n&&Number.isInteger(n)&&!m0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lD={nullValue:"NULL_VALUE"};function Wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kA(n)?4:HP(n)?9007199254740991:10:It()}function Sc(n,e){if(n===e)return!0;const t=Wp(n);if(t!==Wp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return f0(n).isEqual(f0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Fh(i.timestampValue),c=Fh(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,qp(n.bytesValue).isEqual(qp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bi(i.geoPointValue.latitude)===Bi(r.geoPointValue.latitude)&&Bi(i.geoPointValue.longitude)===Bi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bi(i.integerValue)===Bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Bi(i.doubleValue),c=Bi(r.doubleValue);return o===c?m0(o)===m0(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return A_(n.arrayValue.values||[],e.arrayValue.values||[],Sc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(OP(o)!==OP(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Sc(o[h],c[h])))return!1;return!0}(n,e);default:return It()}var r}function g0(n,e){return void 0!==(n.values||[]).find(t=>Sc(t,e))}function Bh(n,e){if(n===e)return 0;const t=Wp(n),i=Wp(e);if(t!==i)return an(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Bi(r.integerValue||r.doubleValue),h=Bi(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return VP(n.timestampValue,e.timestampValue);case 4:return VP(f0(n),f0(e));case 5:return an(n.stringValue,e.stringValue);case 6:return function(r,o){const c=qp(r),h=qp(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=an(c[p],h[p]);if(0!==y)return y}return an(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=an(Bi(r.latitude),Bi(o.latitude));return 0!==c?c:an(Bi(r.longitude),Bi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=Bh(c[p],h[p]);if(y)return y}return an(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Vh.mapValue&&o===Vh.mapValue)return 0;if(r===Vh.mapValue)return 1;if(o===Vh.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let w=0;w<h.length&&w<y.length;++w){const T=an(h[w],y[w]);if(0!==T)return T;const R=Bh(c[h[w]],p[y[w]]);if(0!==R)return R}return an(h.length,y.length)}(n.mapValue,e.mapValue);default:throw It()}}function VP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return an(n,e);const t=Fh(n),i=Fh(e),r=an(t.seconds,i.seconds);return 0!==r?r:an(t.nanos,i.nanos)}function R_(n){return RA(n)}function RA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Fh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qp(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=RA(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${RA(i.fields[h])}`;return o+"}"}(n.mapValue):It();var e}function Zp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OA(n){return!!n&&"integerValue"in n}function _0(n){return!!n&&"arrayValue"in n}function BP(n){return!!n&&"nullValue"in n}function UP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cD(n){return!!n&&"mapValue"in n}function y0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=y0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=y0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hU(n){return"nullValue"in n?lD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zp(Lh.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:It()}function fU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zp(Lh.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vh:It()}function jP(n,e){const t=Bh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $P(n,e){const t=Bh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=y0(t)}setAll(e){let t=Li.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=y0(c):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());cD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];cD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Gp(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Xr(y0(this.value))}}function zP(n){const e=[];return Gp(n.fields,(t,i)=>{const r=new Li([t]);if(cD(i)){const o=zP(i.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new qo(e)}class mi{constructor(e,t,i,r,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new mi(e,0,Yt.min(),Yt.min(),Xr.empty(),0)}static newFoundDocument(e,t,i){return new mi(e,1,t,Yt.min(),i,0)}static newNoDocument(e,t){return new mi(e,2,t,Yt.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,Yt.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pU{constructor(e,t=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.ht=null}}function GP(n,e=null,t=[],i=[],r=null,o=null,c=null){return new pU(n,e,t,i,r,o,c)}function Kp(n){const e=dt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+R_(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),p0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>R_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>R_(i)).join(",")),e.ht=t}return e.ht}function v0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!EU(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Sc(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YP(n.startAt,e.startAt)&&YP(n.endAt,e.endAt)}function uD(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function dD(n,e){return n.filters.filter(t=>t instanceof Jr&&t.field.isEqual(e))}function qP(n,e,t){let i=lD,r=!0;for(const o of dD(n,e)){let c=lD,h=!0;switch(o.op){case"<":case"<=":c=hU(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=lD}jP({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];jP({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function WP(n,e,t){let i=Vh,r=!0;for(const o of dD(n,e)){let c=Vh,h=!0;switch(o.op){case">=":case">":c=fU(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Vh}$P({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];$P({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Jr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new gU(e,t,i):"array-contains"===t?new vU(e,i):"in"===t?new bU(e,i):"not-in"===t?new wU(e,i):"array-contains-any"===t?new CU(e,i):new Jr(e,t,i)}static lt(e,t,i){return"in"===t?new _U(e,i):new yU(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Bh(t,this.value)):null!==t&&Wp(this.value)===Wp(t)&&this.ft(Bh(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gU extends Jr{constructor(e,t,i){super(e,t,i),this.key=ot.fromName(i.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.ft(t)}}class _U extends Jr{constructor(e,t){super(e,"in",t),this.keys=ZP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yU extends Jr{constructor(e,t){super(e,"not-in",t),this.keys=ZP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ot.fromName(i.referenceValue))}class vU extends Jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _0(t)&&g0(t.arrayValue,this.value)}}class bU extends Jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&g0(this.value.arrayValue,t)}}class wU extends Jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(g0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!g0(this.value.arrayValue,t)}}class CU extends Jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>g0(this.value.arrayValue,i))}}class Uh{constructor(e,t){this.position=e,this.inclusive=t}}class O_{constructor(e,t="asc"){this.field=e,this.dir=t}}function EU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function KP(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(i=o.field.isKeyField()?ot.comparator(ot.fromName(c.referenceValue),t.key):Bh(c,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function YP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sc(n.position[t],e.position[t]))return!1;return!0}class qu{constructor(e,t=null,i=[],r=[],o=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=p,this._t=null,this.wt=null}}function QP(n,e,t,i,r,o,c,h){return new qu(n,e,t,i,r,o,c,h)}function P_(n){return new qu(n)}function XP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function PA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function NA(n){for(const e of n.filters)if(e.dt())return e.field;return null}function FA(n){return null!==n.collectionGroup}function N_(n){const e=dt(n);if(null===e._t){e._t=[];const t=NA(e),i=PA(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new O_(t)),e._t.push(new O_(Li.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new O_(Li.keyField(),o))}}}return e._t}function Ls(n){const e=dt(n);if(!e.wt)if("F"===e.limitType)e.wt=GP(e.path,e.collectionGroup,N_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of N_(e))t.push(new O_(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Uh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Uh(e.startAt.position,e.startAt.inclusive):null;e.wt=GP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function hD(n,e,t){return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function b0(n,e){return v0(Ls(n),Ls(e))&&n.limitType===e.limitType}function JP(n){return`${Kp(Ls(n))}|lt:${n.limitType}`}function LA(n){return`Query(target=${function mU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${R_(i.value)}`;var i}).join(", ")}]`),p0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>R_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>R_(t)).join(",")),`Target(${e})`}(Ls(n))}; limitType=${n.limitType})`}function VA(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ot.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,c){const h=KP(r,o,c);return r.inclusive?h<=0:h<0}(t.startAt,N_(t),i)||t.endAt&&!function(r,o,c){const h=KP(r,o,c);return r.inclusive?h>=0:h>0}(t.endAt,N_(t),i)));var t,i}function eN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tN(n){return(e,t)=>{let i=!1;for(const r of N_(n)){const o=IU(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function IU(n,e,t){const i=n.field.isKeyField()?ot.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Bh(h,p):It()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return It()}}function nN(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m0(e)?"-0":e}}function iN(n){return{integerValue:""+n}}function rN(n,e){return LP(e)?iN(e):nN(n,e)}class fD{constructor(){this._=void 0}}function DU(n,e,t){return n instanceof F_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Yp?oN(n,e):n instanceof Qp?aN(n,e):function(i,r){const o=sN(i,r),c=lN(o)+lN(i.yt);return OA(o)&&OA(i.yt)?iN(c):nN(i.It,c)}(n,e)}function TU(n,e,t){return n instanceof Yp?oN(n,e):n instanceof Qp?aN(n,e):t}function sN(n,e){return n instanceof L_?OA(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class F_ extends fD{}class Yp extends fD{constructor(e){super(),this.elements=e}}function oN(n,e){const t=cN(e);for(const i of n.elements)t.some(r=>Sc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Qp extends fD{constructor(e){super(),this.elements=e}}function aN(n,e){let t=cN(e);for(const i of n.elements)t=t.filter(r=>!Sc(r,i));return{arrayValue:{values:t}}}class L_ extends fD{constructor(e,t){super(),this.It=e,this.yt=t}}function lN(n){return Bi(n.integerValue||n.doubleValue)}function cN(n){return _0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class w0{constructor(e,t){this.field=e,this.transform=t}}class xU{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mD{}function uN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new B_(n.key,ki.none()):new V_(n.key,n.data,ki.none());{const t=n.data,i=Xr.empty();let r=new Qn(Li.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Wu(n.key,i,new qo(r.toArray()),ki.none())}}function MU(n,e,t){n instanceof V_?function(i,r,o){const c=i.value.clone(),h=fN(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wu?function(i,r,o){if(!pD(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=fN(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(hN(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function C0(n,e,t,i){return n instanceof V_?function(r,o,c,h){if(!pD(r.precondition,o))return c;const p=r.value.clone(),y=pN(r.fieldTransforms,h,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Wu?function(r,o,c,h){if(!pD(r.precondition,o))return c;const p=pN(r.fieldTransforms,h,o),y=o.data;return y.setAll(hN(r)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(c=t,pD(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function AU(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=sN(i.transform,r||null);null!=o&&(null===t&&(t=Xr.empty()),t.set(i.field,o))}return t||null}function dN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&A_(t,i,(r,o)=>function SU(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yp&&i instanceof Yp||t instanceof Qp&&i instanceof Qp?A_(t.elements,i.elements,Sc):t instanceof L_&&i instanceof L_?Sc(t.yt,i.yt):t instanceof F_&&i instanceof F_);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class V_ extends mD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wu extends mD{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function fN(n,e,t){const i=new Map;Kt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,TU(c,h,t[r]))}return i}function pN(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,DU(o,c,e))}return i}class B_ extends mD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BA extends mD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kU{constructor(e){this.count=e}}var ar,kn;function mN(n){switch(n){default:return It();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function gN(n){if(void 0===n)return Qi("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case ar.OK:return Ee.OK;case ar.CANCELLED:return Ee.CANCELLED;case ar.UNKNOWN:return Ee.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Ee.INTERNAL;case ar.UNAVAILABLE:return Ee.UNAVAILABLE;case ar.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case ar.NOT_FOUND:return Ee.NOT_FOUND;case ar.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case ar.ABORTED:return Ee.ABORTED;case ar.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case ar.DATA_LOSS:return Ee.DATA_LOSS;default:return It()}}(kn=ar||(ar={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class Hh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gp(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return PP(this.inner)}size(){return this.innerSize}}const RU=new Vi(ot.comparator);function co(){return RU}const _N=new Vi(ot.comparator);function E0(...n){let e=_N;for(const t of n)e=e.insert(t.key,t);return e}function yN(n){let e=_N;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xc(){return I0()}function vN(){return I0()}function I0(){return new Hh(n=>n.toString(),(n,e)=>n.isEqual(e))}const OU=new Vi(ot.comparator),PU=new Qn(ot.comparator);function pn(...n){let e=PU;for(const t of n)e=e.add(t);return e}const NU=new Qn(an);function gD(){return NU}class D0{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,T0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new D0(Yt.min(),r,gD(),co(),pn())}}class T0{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new T0(i,t,pn(),pn(),pn())}}class _D{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class bN{constructor(e,t){this.targetId=e,this.At=t}}class wN{constructor(e,t,i=Ir.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class CN{constructor(){this.Rt=0,this.bt=IN(),this.Pt=Ir.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=pn(),t=pn(),i=pn();return this.bt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:It()}}),new T0(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=IN()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class FU{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=co(),this.qt=EN(),this.Kt=new Qn(an)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:It()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const o=r.target;if(uD(o))if(0===i){const c=new ot(o.path);this.jt(t,c,mi.newNoDocument(c,Yt.min()))}else Kt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((o,c)=>{const h=this.Xt(c);if(h){if(o.current&&uD(h.target)){const p=new ot(h.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,mi.newNoDocument(p,e))}o.Dt&&(t.set(c,o.xt()),o.Nt())}});let i=pn();this.qt.forEach((o,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Xt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,c)=>c.setReadTime(e));const r=new D0(e,t,this.Kt,this.Ut,i);return this.Ut=co(),this.qt=EN(),this.Kt=new Qn(an),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new CN,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Qn(an),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Je("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new CN),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function EN(){return new Vi(ot.comparator)}function IN(){return new Vi(ot.comparator)}const LU={asc:"ASCENDING",desc:"DESCENDING"},VU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class BU{constructor(e,t){this.databaseId=e,this.gt=t}}function S0(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DN(n,e){return n.gt?e.toBase64():e.toUint8Array()}function UU(n,e){return S0(n,e.toTimestamp())}function Br(n){return Kt(!!n),Yt.fromTimestamp(function(e){const t=Fh(e);return new Ai(t.seconds,t.nanos)}(n))}function UA(n,e){return(t=n,new An(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function TN(n){const e=An.fromString(n);return Kt(PN(e)),e}function x0(n,e){return UA(n.databaseId,e.path)}function Mc(n,e){const t=TN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(xN(t))}function HA(n,e){return UA(n.databaseId,e)}function SN(n){const e=TN(n);return 4===e.length?An.emptyPath():xN(e)}function M0(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xN(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MN(n,e,t){return{name:x0(n,e),fields:t.value.mapValue.fields}}function AN(n,e,t){const i=Mc(n,e.name),r=Br(e.updateTime),o=new Xr({mapValue:{fields:e.fields}}),c=mi.newFoundDocument(i,r,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function A0(n,e){let t;if(e instanceof V_)t={update:MN(n,e.key,e.value)};else if(e instanceof B_)t={delete:x0(n,e.key)};else if(e instanceof Wu)t={update:MN(n,e.key,e.data),updateMask:KU(e.fieldMask)};else{if(!(e instanceof BA))return It();t={verify:x0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof F_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof L_)return{fieldPath:o.field.canonicalString(),increment:c.yt};throw It()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:UU(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:It()),t;var r}function jA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ki.updateTime(Br(r.updateTime)):void 0!==r.exists?ki.exists(r.exists):ki.none():ki.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Kt("REQUEST_TIME"===c.setToServerValue),h=new F_):"appendMissingElements"in c?h=new Yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Qp(c.removeAllFromArray.values||[]):"increment"in c?h=new L_(o,c.increment):It();const p=Li.fromServerFormat(c.fieldPath);return new w0(p,h)}(n,r)):[];var r;if(e.update){const r=Mc(n,e.update.name),o=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new qo((e.updateMask.fieldPaths||[]).map(y=>Li.fromServerFormat(y)));return new Wu(r,o,c,t,i)}return new V_(r,o,t,i)}if(e.delete){const r=Mc(n,e.delete);return new B_(r,t)}if(e.verify){const r=Mc(n,e.verify);return new BA(r,t)}return It()}function kN(n,e){return{documents:[HA(n,e.path)]}}function $A(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=HA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(w=>function(T){if("=="===T.op){if(UP(T.value))return{unaryFilter:{field:U_(T.field),op:"IS_NAN"}};if(BP(T.value))return{unaryFilter:{field:U_(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(UP(T.value))return{unaryFilter:{field:U_(T.field),op:"IS_NOT_NAN"}};if(BP(T.value))return{unaryFilter:{field:U_(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:U_(T.field),op:qU(T.op),value:T.value}}}(w));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:U_((w=y).field),direction:GU(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=(y=e.limit,n.gt||p0(y)?y:{value:y});var y,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function RN(n){let e=SN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Kt(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=ON(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new O_(H_((T=w).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(w){let T;return T="object"==typeof w?w.value:w,p0(T)?null:T}(t.limit));let p=null;var w;t.startAt&&(p=new Uh((w=t.startAt).values||[],!!w.before));let y=null;return t.endAt&&(y=function(w){return new Uh(w.values||[],!w.before)}(t.endAt)),QP(e,r,c,o,h,"F",p,y)}function ON(n){return n?void 0!==n.unaryFilter?[ZU(n)]:void 0!==n.fieldFilter?[WU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ON(e)).reduce((e,t)=>e.concat(t)):It():[]}function GU(n){return LU[n]}function qU(n){return VU[n]}function U_(n){return{fieldPath:n.canonicalString()}}function H_(n){return Li.fromServerFormat(n.fieldPath)}function WU(n){return Jr.create(H_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=H_(n.unaryFilter.field);return Jr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=H_(n.unaryFilter.field);return Jr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=H_(n.unaryFilter.field);return Jr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=H_(n.unaryFilter.field);return Jr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return It()}}function KU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=NN(e)),e=YU(n.get(t),e);return NN(e)}function YU(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function NN(n){return n+"\x01\x01"}function Ac(n){const e=n.length;if(Kt(e>=2),2===e)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),An.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&It(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:It()}o=c+2}return new An(i)}const FN=["userId","batchId"];function yD(n,e){return[n,Vs(e)]}function LN(n,e,t){return[n,Vs(e),t]}const QU={},XU=["prefixPath","collectionGroup","readTime","documentId"],JU=["prefixPath","collectionGroup","documentId"],eH=["collectionGroup","readTime","prefixPath","documentId"],tH=["canonicalId","targetId"],nH=["targetId","path"],iH=["path","targetId"],rH=["collectionId","parent"],sH=["indexId","uid"],oH=["uid","sequenceNumber"],aH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lH=["indexId","uid","orderedDocumentKey"],cH=["userId","collectionPath","documentId"],uH=["userId","collectionPath","largestBatchId"],dH=["userId","collectionGroup","largestBatchId"],VN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hH=[...VN,"documentOverlays"],BN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UN=BN,fH=[...UN,"indexConfiguration","indexState","indexEntries"];class zA extends kP{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=dt(n);return $l.M(t.ie,e)}class GA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&MU(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=C0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=C0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vN();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const p=uN(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Yt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&A_(this.mutations,e.mutations,(t,i)=>dN(t,i))&&A_(this.baseMutations,e.baseMutations,(t,i)=>dN(t,i))}}class qA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Kt(e.mutations.length===i.length);let r=OU;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new qA(e,t,i,r)}}class WA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jh{constructor(e,t,i,r,o=Yt.min(),c=Yt.min(),h=Ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class HN{constructor(e){this.re=e}}function jN(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:x0(r=n.re,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:S0(r,o.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Xp(e.version)};else{if(!e.isUnknownDocument())return It();i.unknownDocument={path:t.path.toArray(),version:Xp(e.version)}}var r,o;return i}function vD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jp(n){const e=new Ai(n.seconds,n.nanoseconds);return Yt.fromTimestamp(e)}function em(n,e){const t=(e.baseMutations||[]).map(o=>jA(n.re,o));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(c.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const i=e.mutations.map(o=>jA(n.re,o)),r=Ai.fromMillis(e.localWriteTimeMs);return new GA(e.batchId,r,t,i)}function k0(n){const e=Jp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jp(n.lastLimboFreeSnapshotVersion):Yt.min();let i;var r;return void 0!==n.query.documents?(Kt(1===(r=n.query).documents.length),i=Ls(P_(SN(r.documents[0])))):i=Ls(RN(n.query)),new jh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken))}function $N(n,e){const t=Xp(e.snapshotVersion),i=Xp(e.lastLimboFreeSnapshotVersion);let r;r=uD(e.target)?kN(n.re,e.target):$A(n.re,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZA(n){const e=RN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?hD(e,e.limit,"L"):e}function KA(n,e){return new WA(e.largestBatchId,jA(n.re,e.overlayMutation))}function zN(n,e){const t=e.path.lastSegment();return[n,Vs(e.path.popLast()),t]}function GN(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xp(i.readTime),documentKey:Vs(i.documentKey.path),largestBatchId:i.largestBatchId}}class mH{getBundleMetadata(e,t){return qN(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Jp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return qN(e).put({bundleId:(i=t).id,createTime:Xp(Br(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return WN(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:ZA(r.bundledQuery),readTime:Jp(r.readTime)};var r})}saveNamedQuery(e,t){return WN(e).put({name:(i=t).name,readTime:Xp(Br(i.readTime)),bundledQuery:i.bundledQuery});var i}}function qN(n){return Ur(n,"bundles")}function WN(n){return Ur(n,"namedQueries")}class bD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new bD(e,t.uid||"")}getOverlay(e,t){return R0(e).get(zN(this.userId,t)).next(i=>i?KA(this.It,i):null)}getOverlays(e,t){const i=xc();return _e.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,c)=>{const h=new WA(t,c);r.push(this.ue(e,h))}),_e.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Vs(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(R0(e).Y("collectionPathOverlayIndex",h))}),_e.waitFor(o)}getOverlaysForCollection(e,t,i){const r=xc(),o=Vs(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return R0(e).W("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const y=KA(this.It,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=xc();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return R0(e).Z({index:"collectionGroupOverlayIndex",range:h},(p,y,w)=>{const T=KA(this.It,y);o.size()<r||T.largestBatchId===c?(o.set(T.getKey(),T),c=T.largestBatchId):w.done()}).next(()=>o)}ue(e,t){return R0(e).put(function(i,r,o){const[c,h,p]=zN(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:A0(i.re,o.mutation)}}(this.It,this.userId,t))}}function R0(n){return Ur(n,"documentOverlays")}class tm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Bi(e.integerValue));else if("doubleValue"in e){const i=Bi(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),m0(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(qp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?HP(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):It()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),ot.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function gH(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ZN(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=gH(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}tm.Te=new tm;class _H{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=ZN(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=ZN(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class yH{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class vH{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class O0{constructor(){this.Be=new _H,this.Le=new yH(this.Be),this.Ue=new vH(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class nm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new nm(this.indexId,this.documentKey,this.arrayValue,i)}}function im(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=KN(n.arrayValue,e.arrayValue),0!==t?t:(t=KN(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function KN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class bH{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=SA(e);if(void 0!==t&&!this.ze(t))return!1;const i=$p(e);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class wH{constructor(){this.Ye=new YA}addToCollectionParentIndex(e,t){return this.Ye.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(Go.min())}updateCollectionGroup(e,t,i){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class YA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qn(An.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qn(An.comparator)).toArray()}}const wD=new Uint8Array(0);class CH{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new YA,this.Ze=new Hh(i=>Kp(i),(i,r)=>v0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const o={collectionId:i,parent:Vs(r)};return YN(e).put(o)}return _e.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[SP(t),""],!1,!0);return YN(e).W(r).next(o=>{for(const c of o){if(c.collectionId!==t)break;i.push(Ac(c.parent))}return i})}addFieldIndex(e,t){const i=CD(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(t.indexState){const c=N0(e);return o.next(h=>{c.put(GN(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=CD(e),r=N0(e),o=P0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=P0(e);let r=!0;const o=new Map;return _e.forEach(this.tn(t),c=>this.en(e,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=pn();const h=[];return _e.forEach(o,(p,y)=>{var w;Je("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(we=>`${we.fieldPath}:${we.kind}`).join(",")}`} to execute ${Kp(t)}`);const T=function(we,Oe){const Ye=SA(Oe);if(void 0===Ye)return null;for(const tt of dD(we,Ye.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(y,p),R=function(we,Oe){const Ye=new Map;for(const tt of $p(Oe))for(const Lt of dD(we,tt.fieldPath))switch(Lt.op){case"==":case"in":Ye.set(tt.fieldPath.canonicalString(),Lt.value);break;case"not-in":case"!=":return Ye.set(tt.fieldPath.canonicalString(),Lt.value),Array.from(Ye.values())}return null}(y,p),F=function(we,Oe){const Ye=[];let tt=!0;for(const Lt of $p(Oe)){const on=0===Lt.kind?qP(we,Lt.fieldPath,we.startAt):WP(we,Lt.fieldPath,we.startAt);Ye.push(on.value),tt&&(tt=on.inclusive)}return new Uh(Ye,tt)}(y,p),U=function(we,Oe){const Ye=[];let tt=!0;for(const Lt of $p(Oe)){const on=0===Lt.kind?WP(we,Lt.fieldPath,we.endAt):qP(we,Lt.fieldPath,we.endAt);Ye.push(on.value),tt&&(tt=on.inclusive)}return new Uh(Ye,tt)}(y,p),X=this.nn(p,y,F),z=this.nn(p,y,U),ee=this.sn(p,y,R),Ie=this.rn(p.indexId,T,X,F.inclusive,z,U.inclusive,ee);return _e.forEach(Ie,we=>i.J(we,t.limit).next(Oe=>{Oe.forEach(Ye=>{const tt=ot.fromSegments(Ye.documentKey);c.has(tt)||(c=c.add(tt),h.push(tt))})}))}).next(()=>h)}return _e.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,o,c,h){const p=(null!=t?t.length:1)*Math.max(i.length,o.length),y=p/(null!=t?t.length:1),w=[];for(let T=0;T<p;++T){const R=t?this.on(t[T/y]):wD,F=this.un(e,R,i[T%y],r),U=this.cn(e,R,o[T%y],c),X=h.map(z=>this.un(e,R,z,!0));w.push(...this.createRange(F,U,X))}return w}un(e,t,i,r){const o=new nm(e,ot.empty(),t,i);return r?o:o.Ke()}cn(e,t,i,r){const o=new nm(e,ot.empty(),t,i);return r?o.Ke():o}en(e,t){const i=new bH(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const h of o)i.We(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;return _e.forEach(this.tn(t),r=>this.en(e,r).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new Qn(Li.comparator),p=!1;for(const y of c.filters){const w=y;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:h=h.add(w.field))}for(const y of c.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new O0;for(const r of $p(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const c=i.qe(r.kind);tm.Te.ce(o,c)}return i.$e()}on(e){const t=new O0;return tm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new O0;return tm.Te.ce(Zp(this.databaseId,t),i.qe(function(r){const o=$p(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new O0);let o=0;for(const c of $p(e)){const h=i[o++];for(const p of r)if(this.ln(t,c.fieldPath)&&_0(h))r=this.fn(r,c,h);else{const y=p.qe(c.kind);tm.Te.ce(h,y)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new O0;p.seed(h.$e()),tm.Te.ce(c,p.qe(t.kind)),o.push(p)}return o}ln(e,t){return!!e.filters.find(i=>i instanceof Jr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=CD(e),r=N0(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const c=[];return _e.forEach(o,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(y,w){const T=w?new d0(w.sequenceNumber,new Go(Jp(w.readTime),new ot(Ac(w.documentKey)),w.largestBatchId)):d0.empty(),R=y.fields.map(([F,U])=>new sD(Li.fromServerFormat(F),U));return new rD(y.indexId,y.collectionGroup,R,T)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:an(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=CD(e),o=N0(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>_e.forEach(h,p=>o.put(GN(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return _e.forEach(t,(r,o)=>{const c=i.get(r.collectionGroup);return(c?_e.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),_e.forEach(h,p=>this.wn(e,r,p).next(y=>{const w=this.mn(o,p);return y.isEqual(w)?_e.resolve():this.gn(e,o,p,y,w)}))))})}yn(e,t,i,r){return P0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return P0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=P0(e);let o=new Qn(im);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,h)=>{o=o.add(new nm(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}mn(e,t){let i=new Qn(im);const r=this.an(t,e);if(null==r)return i;const o=SA(t);if(null!=o){const c=e.data.field(o.fieldPath);if(_0(c))for(const h of c.arrayValue.values||[])i=i.add(new nm(t.indexId,e.key,this.on(h),r))}else i=i.add(new nm(t.indexId,e.key,wD,r));return i}gn(e,t,i,r,o){Je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,y,w,T){const R=h.getIterator(),F=p.getIterator();let U=k_(R),X=k_(F);for(;U||X;){let z=!1,ee=!1;if(U&&X){const Ie=y(U,X);Ie<0?ee=!0:Ie>0&&(z=!0)}else null!=U?ee=!0:z=!0;z?(w(X),X=k_(F)):ee?(T(U),U=k_(R)):(U=k_(R),X=k_(F))}}(r,o,im,h=>{c.push(this.yn(e,t,i,h))},h=>{c.push(this.pn(e,t,i,h))}),_e.waitFor(c)}_n(e){let t=1;return N0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>im(c,h)).filter((c,h,p)=>!h||0!==im(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=im(c,e),p=im(c,t);if(0===h)r[0]=e.Ke();else if(h>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(t);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,wD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,wD,[]]));return o}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(QN)}getMinOffset(e,t){return _e.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||It())).next(QN)}}function YN(n){return Ur(n,"collectionParents")}function P0(n){return Ur(n,"indexEntries")}function CD(n){return Ur(n,"indexConfiguration")}function N0(n){return Ur(n,"indexState")}function QN(n){Kt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;xA(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Go(e.readTime,e.documentKey,t)}const XN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new uo(e,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JN(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.Z({range:c},(w,T,R)=>(h++,R.delete()));o.push(p.next(()=>{Kt(1===h)}));const y=[];for(const w of t.mutations){const T=LN(e,w.key.path,t.batchId);o.push(r.delete(T)),y.push(w.key)}return _e.waitFor(o).next(()=>y)}function ED(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw It();e=n.noDocument}return JSON.stringify(e).length}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class ID{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Kt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new ID(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).Z({index:"userMutationsIndex",range:i},(r,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=j_(e),c=$h(e);return c.add({}).next(h=>{Kt("number"==typeof h);const p=new GA(h,t,i,r),y=function(R,F,U){const X=U.baseMutations.map(ee=>A0(R.re,ee)),z=U.mutations.map(ee=>A0(R.re,ee));return{userId:F,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:X,mutations:z}}(this.It,this.userId,p),w=[];let T=new Qn((R,F)=>an(R.canonicalString(),F.canonicalString()));for(const R of r){const F=LN(this.userId,R.key.path,h);T=T.add(R.key.path.popLast()),w.push(c.put(y)),w.push(o.put(F,QU))}return T.forEach(R=>{w.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.In[h]=p.keys()}),_e.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return $h(e).get(t).next(i=>i?(Kt(i.userId===this.userId),em(this.It,i)):null)}Tn(e,t){return this.In[t]?_e.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return $h(e).Z({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Kt(h.batchId>=i),o=em(this.It,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $h(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).W("userMutationsIndex",t).next(i=>i.map(r=>em(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=yD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return j_(e).Z({range:r},(c,h,p)=>{const[y,w,T]=c,R=Ac(w);if(y===this.userId&&t.path.isEqual(R))return $h(e).get(T).next(F=>{if(!F)throw It();Kt(F.userId===this.userId),o.push(em(this.It,F))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(an);const r=[];return t.forEach(o=>{const c=yD(this.userId,o.path),h=IDBKeyRange.lowerBound(c),p=j_(e).Z({range:h},(y,w,T)=>{const[R,F,U]=y,X=Ac(F);R===this.userId&&o.path.isEqual(X)?i=i.add(U):T.done()});r.push(p)}),_e.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=yD(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new Qn(an);return j_(e).Z({range:c},(p,y,w)=>{const[T,R,F]=p,U=Ac(R);T===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(F)):w.done()}).next(()=>this.En(e,h))}En(e,t){const i=[],r=[];return t.forEach(o=>{r.push($h(e).get(o).next(c=>{if(null===c)throw It();Kt(c.userId===this.userId),i.push(em(this.It,c))}))}),_e.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return JN(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_e.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return j_(e).Z({range:i},(o,c,h)=>{if(o[0]===this.userId){const p=Ac(o[1]);r.push(p)}else h.done()}).next(()=>{Kt(0===r.length)})})}containsKey(e,t){return eF(e,this.userId,t)}Rn(e){return tF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eF(n,e,t){const i=yD(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return j_(n).Z({range:o,X:!0},(h,p,y)=>{const[w,T,R]=h;w===e&&T===r&&(c=!0),y.done()}).next(()=>c)}function $h(n){return Ur(n,"mutations")}function j_(n){return Ur(n,"documentMutations")}function tF(n){return Ur(n,"mutationQueues")}class rm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new rm(0)}static vn(){return new rm(-1)}}class EH{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new rm(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Yt.fromTimestamp(new Ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Kt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return $_(e).Z((c,h)=>{const p=k0(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(e,p)))}).next(()=>_e.waitFor(o)).next(()=>r)}forEachTarget(e,t){return $_(e).Z((i,r)=>{const o=k0(r);t(o)})}Vn(e){return nF(e).get("targetGlobalKey").next(t=>(Kt(null!==t),t))}Sn(e,t){return nF(e).put("targetGlobalKey",t)}Dn(e,t){return $_(e).put($N(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Kp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return $_(e).Z({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const y=k0(h);v0(t,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=zh(e);return t.forEach(c=>{const h=Vs(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),_e.waitFor(r)}removeMatchingKeys(e,t,i){const r=zh(e);return _e.forEach(t,o=>{const c=Vs(o.path);return _e.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=zh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=zh(e);let o=pn();return r.Z({range:i,X:!0},(c,h,p)=>{const y=Ac(c[1]),w=new ot(y);o=o.add(w)}).next(()=>o)}containsKey(e,t){const i=Vs(t.path),r=IDBKeyRange.bound([i],[SP(i)],!1,!0);let o=0;return zh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,h],p,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}se(e,t){return $_(e).get(t).next(i=>i?k0(i):null)}}function $_(n){return Ur(n,"targets")}function nF(n){return Ur(n,"targetGlobal")}function zh(n){return Ur(n,"targetDocuments")}function iF([n,e],[t,i]){const r=an(n,t);return 0===r?an(e,i):r}class IH{constructor(e){this.xn=e,this.buffer=new Qn(iF),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iF(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DH{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Nh(i)?Je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ph(i)}yield t.Fn(3e5)}))}}class TH{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(lo.at);const i=new IH(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(XN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XN):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,o,c,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(o=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),DA()<=Ec.in.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${T} documents in `+(y-p)+`ms\nTotal Duration: ${y-w}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class SH{constructor(e,t){this.db=e,this.garbageCollector=new TH(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return DD(e,i)}removeReference(e,t,i){return DD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return DD(e,t)}Gn(e,t){return function(i,r){let o=!1;return tF(i).tt(c=>eF(i,c,r).next(h=>(h&&(o=!0),_e.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(e,(c,h)=>{if(h<=t){const p=this.Gn(e,c).next(y=>{if(!y)return o++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Yt.min()),zh(e).delete([0,Vs(c.path)])))});r.push(p)}}).next(()=>_e.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return DD(e,t)}Kn(e,t){const i=zh(e);let r,o=lo.at;return i.Z({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:y})=>{0===c?(o!==lo.at&&t(new ot(Ac(r)),o),o=y,r=p):o=lo.at}).next(()=>{o!==lo.at&&t(new ot(Ac(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function DD(n,e){return zh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vs(e.path),sequenceNumber:i}));var i}class rF{constructor(){this.changes=new Hh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?_e.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xH{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sm(e).put(i)}removeEntry(e,t,i){return sm(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],vD(o),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=mi.newInvalidDocument(t);return sm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(F0(t))},(r,o)=>{i=this.jn(t,o)}).next(()=>i)}Wn(e,t){let i={size:0,document:mi.newInvalidDocument(t)};return sm(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(F0(t))},(r,o)=>{i={document:this.jn(t,o),size:ED(o)}}).next(()=>i)}getEntries(e,t){let i=co();return this.zn(e,t,(r,o)=>{const c=this.jn(r,o);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=co(),r=new Vi(ot.comparator);return this.zn(e,t,(o,c)=>{const h=this.jn(o,c);i=i.insert(o,h),r=r.insert(o,ED(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return _e.resolve();let r=new Qn(lF);t.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(F0(r.first()),F0(r.last())),c=r.getIterator();let h=c.getNext();return sm(e).Z({index:"documentKeyIndex",range:o},(p,y,w)=>{const T=ot.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&lF(h,T)<0;)i(h,null),h=c.getNext();h&&h.isEqual(T)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?w.j(F0(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),vD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sm(e).W(IDBKeyRange.bound(r,o,!0)).next(c=>{let h=co();for(const p of c){const y=this.jn(ot.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(e,t,i,r){let o=co();const c=aF(t,i),h=aF(t,Go.max());return sm(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,y,w)=>{const T=this.jn(ot.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(T.key,T),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(e){return new MH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oF(e).get("remoteDocumentGlobalKey").next(t=>(Kt(!!t),t))}Qn(e,t){return oF(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function pH(n,e){let t;if(e.document)t=AN(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ot.fromSegments(e.noDocument.path),r=Jp(e.noDocument.readTime);t=mi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return It();{const i=ot.fromSegments(e.unknownDocument.path),r=Jp(e.unknownDocument.version);t=mi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ai(i[0],i[1]);return Yt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Yt.min()))return i}return mi.newInvalidDocument(e)}}function sF(n){return new xH(n)}class MH extends rF{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Hh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Qn((o,c)=>an(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,h.readTime)),c.isValidDocument()){const p=jN(this.Yn.It,c);r=r.add(o.path.popLast()),i+=ED(p)-h.size,t.push(this.Yn.addEntry(e,o,p))}else if(i-=h.size,this.trackRemovals){const p=jN(this.Yn.It,c.convertToNoDocument(Yt.min()));t.push(this.Yn.addEntry(e,o,p))}}),r.forEach(o=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Yn.updateMetadata(e,i)),_e.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((o,c)=>{this.Xn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function oF(n){return Ur(n,"remoteDocumentGlobal")}function sm(n){return Ur(n,"remoteDocumentsV14")}function F0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aF(n,e){const t=e.documentKey.path.toArray();return[n,vD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lF(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=an(t[o],i[o]),r)return r;return r=an(t.length,i.length),r||(r=an(t[t.length-2],i[i.length-2]),r||an(t[t.length-1],i[i.length-1]))}class AH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cF{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&C0(i.mutation,r,qo.empty(),Ai.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pn()){const r=xc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=E0();return o.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=xc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pn()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let o=co();const c=I0(),h=I0();return t.forEach((p,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Wu)?o=o.insert(y.key,y):void 0!==w&&(c.set(y.key,w.mutation.getFieldMask()),C0(w.mutation,y,w.mutation.getFieldMask(),Ai.now()))}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>{var T;return h.set(y,new AH(w,null!==(T=c.get(y))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=I0();let r=new Vi((c,h)=>c-h),o=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let w=i.get(p)||qo.empty();w=h.applyToLocalView(y,w),i.set(p,w);const T=(r.get(h.batchId)||pn()).add(p);r=r.insert(h.batchId,T)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,T=vN();w.forEach(R=>{if(!o.has(R)){const F=uN(t.get(R),i.get(R));null!==F&&T.set(R,F),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return _e.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ot.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):_e.resolve(xc());let h=-1,p=o;return c.next(y=>_e.forEach(y,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),o.get(w)?_e.resolve():this.getBaseDocument(e,w,T).next(R=>{p=p.insert(w,R)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,p,y,pn())).next(w=>({batchId:h,changes:yN(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(i=>{let r=E0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=E0();return this.indexManager.getCollectionParents(e,r).next(c=>_e.forEach(c,h=>{const p=(y=t,w=h.child(r),new qu(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((w,T)=>{o=o.insert(w,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(o=>{o.forEach((h,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,mi.newInvalidDocument(y)))});let c=E0();return r.forEach((h,p)=>{const y=o.get(h);void 0!==y&&C0(y.mutation,p,qo.empty(),Ai.now()),VA(t,p)&&(c=c.insert(h,p))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):_e.resolve(mi.newInvalidDocument(t))}}class kH{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _e.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Br(i.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:ZA(i.bundledQuery),readTime:Br(i.readTime)}),_e.resolve();var i}}class RH{constructor(){this.overlays=new Vi(ot.comparator),this.es=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xc();return _e.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ue(e,t,o)}),_e.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),_e.resolve()}getOverlaysForCollection(e,t,i){const r=xc(),o=t.length+1,c=new ot(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return _e.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Vi((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=xc(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=xc(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=r)););return _e.resolve(h)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new WA(t,i));let o=this.es.get(t);void 0===o&&(o=pn(),this.es.set(t,o)),this.es.set(t,o.add(i.key))}}class QA{constructor(){this.ns=new Qn(Hr.ss),this.rs=new Qn(Hr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Hr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Hr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new ot(new An([])),i=new Hr(t,e),r=new Hr(t,e+1),o=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),o.push(c.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ot(new An([])),i=new Hr(t,e),r=new Hr(t,e+1);let o=pn();return this.rs.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Hr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ot.comparator(e.key,t.key)||an(e._s,t._s)}static os(e,t){return an(e._s,t._s)||ot.comparator(e.key,t.key)}}class OH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Qn(Hr.ss)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.ws;this.ws++;const c=new GA(o,t,i,r);this.mutationQueue.push(c);for(const h of r)this.gs=this.gs.add(new Hr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,t){return _e.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),o=r<0?0:r;return _e.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hr(t,0),r=new Hr(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],c=>{const h=this.ys(c._s);o.push(h)}),_e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(an);return t.forEach(r=>{const o=new Hr(r,0),c=new Hr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,c],h=>{i=i.add(h._s)})}),_e.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ot.isDocumentKey(o)||(o=o.child(""));const c=new Hr(new ot(o),0);let h=new Qn(an);return this.gs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p._s)),!0)},c),_e.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Kt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return _e.forEach(t.mutations,r=>{const o=new Hr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Hr(t,0),r=this.gs.firstAfterOrEqual(i);return _e.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return _e.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PH{constructor(e){this.Es=e,this.docs=new Vi(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return _e.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let i=co();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():mi.newInvalidDocument(r))}),_e.resolve(i)}getAllFromCollection(e,t,i){let r=co();const o=new ot(t.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||xA(MP(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return _e.resolve(r)}getAllFromCollectionGroup(e,t,i,r){It()}As(e,t){return _e.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new NH(this)}getSize(e){return _e.resolve(this.size)}}class NH extends rF{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),_e.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class FH{constructor(e){this.persistence=e,this.Rs=new Hh(t=>Kp(t),v0),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new QA,this.targetCount=0,this.vs=rm.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),_e.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new rm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Dn(t),_e.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Rs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Rs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),_e.waitFor(o).next(()=>r)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return _e.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),_e.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),_e.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return _e.resolve(i)}containsKey(e,t){return _e.resolve(this.Ps.containsKey(t))}}class uF{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new lo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new FH(this),this.indexManager=new wH,this.remoteDocumentCache=new PH(i=>this.referenceDelegate.xs(i)),this.It=new HN(t),this.Ns=new kH(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new OH(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Je("MemoryPersistence","Starting transaction:",e);const r=new LH(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(e,t){return _e.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class LH extends kP{constructor(e){super(),this.currentSequenceNumber=e}}class TD{constructor(e){this.persistence=e,this.Fs=new QA,this.$s=null}static Bs(e){return new TD(e)}get Ls(){if(this.$s)return this.$s;throw It()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),_e.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Ls,i=>{const r=ot.fromPath(i);return this.Us(e,r).next(o=>{o||t.removeEntry(r,Yt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _e.or([()=>_e.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class VH{constructor(e){this.It=e}$(e,t,i,r){const o=new oD("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FN,{unique:!0}),h.createObjectStore("documentMutations"),dF(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=_e.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),dF(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FN,{unique:!0});const w=p.store("mutations"),T=y.map(R=>w.put(R));return _e.waitFor(T)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(o))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:cH});p.createIndex("collectionPathOverlayIndex",uH,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",dH,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:XU});p.createIndex("documentKeyIndex",JU),p.createIndex("collectionGroupIndex",eH)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:sH}).createIndex("sequenceNumberIndex",oH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:aH}).createIndex("documentKeyIndex",lH,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=ED(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>_e.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(h=>_e.forEach(h,p=>{Kt(p.userId===o.userId);const y=em(this.It,p);return JN(e,o.userId,y).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((c,h)=>{const p=new An(c),y=[0,Vs(p)];o.push(t.get(y).next(w=>w?_e.resolve():t.put({targetId:0,path:Vs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>_e.waitFor(o))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:rH});const i=t.store("collectionParents"),r=new YA,o=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:Vs(p)})}};return t.store("remoteDocuments").Z({X:!0},(c,h)=>{const p=new An(c);return o(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,h,p],y)=>{const w=Ac(h);return o(w.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const o=k0(r),c=$N(this.It,o);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((o,c)=>{const h=t.store("remoteDocumentsV14"),p=(y=c,y.document?new ot(An.fromString(y.document.name).popFirst(5)):y.noDocument?ot.fromSegments(y.noDocument.path):y.unknownDocument?ot.fromSegments(y.unknownDocument.path):It()).path.toArray();var y;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(w))}).next(()=>_e.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=sF(this.It),o=new uF(TD.Bs,this.It.re);return i.W().next(c=>{const h=new Map;return c.forEach(p=>{var y;let w=null!==(y=h.get(p.userId))&&void 0!==y?y:pn();em(this.It,p).keys().forEach(T=>w=w.add(T)),h.set(p.userId,w)}),_e.forEach(h,(p,y)=>{const w=new Vr(y),T=bD.oe(this.It,w),R=o.getIndexManager(w),F=ID.oe(w,this.It,R,o.referenceDelegate);return new cF(r,F,T,R).recalculateAndSaveOverlaysForDocumentKeys(new zA(t,lo.at),p).next()})})}}function dF(n){n.createObjectStore("targetDocuments",{keyPath:nH}).createIndex("documentTargetsIndex",iH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tH,{unique:!0}),n.createObjectStore("targetGlobal")}const XA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JA{constructor(e,t,i,r,o,c,h,p,y,w,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=o,this.window=c,this.document=h,this.Js=y,this.Ys=w,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=R=>Promise.resolve(),!JA.C())throw new Ge(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SH(this,r),this.ii=t+"main",this.It=new HN(p),this.ri=new $l(this.ii,this.Xs,new VH(this.It)),this.Cs=new EH(this.referenceDelegate,this.It),this.remoteDocumentCache=sF(this.It),this.Ns=new mH,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Ee.FAILED_PRECONDITION,XA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new lo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Me.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>SD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Nh(e))return Je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return L0(e).get("owner").next(t=>_e.resolve(this.mi(t)))}gi(e){return SD(e).delete(this.clientId)}yi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ur(i,"clientMetadata");return r.W().next(o=>{const c=e.Ii(o,18e5),h=o.filter(p=>-1===c.indexOf(p));return _e.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_e.resolve(!0):L0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ge(Ee.FAILED_PRECONDITION,XA);return!1}}return!(!this.networkEnabled||!this.inForeground)||SD(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new zA(t,lo.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>SD(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ID.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CH(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return bD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.Xs)?fH:14===c?UN:13===c?BN:12===c?hH:11===c?VN:void It();var c;let h;return this.ri.runTransaction(e,r,o,p=>(h=new zA(p,this.Ss?this.Ss.next():lo.at),"readwrite-primary"===t?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw Qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ge(Ee.FAILED_PRECONDITION,AP);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Vi(e){return L0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ge(Ee.FAILED_PRECONDITION,XA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return L0(e).put("owner",t)}static C(){return $l.C()}_i(e){const t=L0(e);return t.get("owner").next(i=>this.mi(i)?(Je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Qi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Qi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Qi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function L0(n){return Ur(n,"owner")}function SD(n){return Ur(n,"clientMetadata")}function ek(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tk{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=pn(),r=pn();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new tk(e,t.fromCache,i,r)}}class hF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(o=>o||this.Oi(e,t,r,i)).next(o=>o||this.Mi(e,t))}ki(e,t){if(XP(t))return _e.resolve(null);let i=Ls(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=hD(t,null,"F"),i=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=pn(...o);return this.Ni.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.Fi(t,h);return this.$i(t,y,c,p.readTime)?this.ki(e,hD(t,null,"F")):this.Bi(e,y,t,p)}))})))}Oi(e,t,i,r){return XP(t)||r.isEqual(Yt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(o=>{const c=this.Fi(t,o);return this.$i(t,c,i,r)?this.Mi(e,t):(DA()<=Ec.in.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LA(t)),this.Bi(e,c,t,xP(r,-1)))})}Fi(e,t){let i=new Qn(tN(e));return t.forEach((r,o)=>{VA(e,o)&&(i=i.add(o))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(e,t){return DA()<=Ec.in.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",LA(t)),this.Ni.getDocumentsMatchingQuery(e,t,Go.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class BH{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Vi(an),this.qi=new Hh(o=>Kp(o),v0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function fF(n,e,t,i){return new BH(n,e,t,i)}function pF(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,Me.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let p=pn();for(const y of r){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:h}))})})}),nk.apply(this,arguments)}function UH(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const w=p.batch,T=w.keys();let R=_e.resolve();return T.forEach(F=>{R=R.next(()=>y.getEntry(h,F)).next(U=>{const X=p.docVersions.get(F);Kt(null!==X),U.version.compareTo(X)<0&&(w.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=pn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function mF(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function HH(n,e){const t=dt(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const h=[];e.targetChanges.forEach((w,T)=>{const R=r.get(T);if(!R)return;h.push(t.Cs.removeMatchingKeys(o,w.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(o,w.addedDocuments,T)));let F=R.withSequenceNumber(o.currentSequenceNumber);var U,X,z;e.targetMismatches.has(T)?F=F.withResumeToken(Ir.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,i)),r=r.insert(T,F),X=F,z=w,(0===(U=R).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(o,F))});let p=co(),y=pn();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(gF(o,c,e.documentUpdates).next(w=>{p=w.Wi,y=w.zi})),!i.isEqual(Yt.min())){const w=t.Cs.getLastRemoteSnapshotVersion(o).next(T=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(w)}return _e.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(t.Ui=r,o))}function gF(n,e,t){let i=pn(),r=pn();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=co();return t.forEach((h,p)=>{const y=o.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Yt.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function jH(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function z_(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(o=>o?(r=o,_e.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new jh(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function G_(n,e,t){return ik.apply(this,arguments)}function ik(){return ik=(0,Me.Z)(function*(n,e,t){const i=dt(n),r=i.Ui.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Nh(c))throw c;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),ik.apply(this,arguments)}function xD(n,e,t){const i=dt(n);let r=Yt.min(),o=pn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,y){const w=dt(h),T=w.qi.get(y);return void 0!==T?_e.resolve(w.Ui.get(T)):w.Cs.getTargetData(p,y)}(i,c,Ls(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{o=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Yt.min(),t?o:pn())).next(h=>(vF(i,eN(e),h),{documents:h,Hi:o})))}function _F(n,e){const t=dt(n),i=dt(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.se(o,e).next(c=>c?c.target:null))}function yF(n,e){const t=dt(n),i=t.Ki.get(e)||Yt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,xP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vF(t,e,r),r))}function vF(n,e,t){let i=n.Ki.get(e)||Yt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(e,i)}function rk(){return rk=(0,Me.Z)(function*(n,e,t,i){const r=dt(n);let o=pn(),c=co();for(const y of t){const w=e.Ji(y.metadata.name);y.document&&(o=o.add(w));const T=e.Yi(y);T.setReadTime(e.Xi(y.metadata.readTime)),c=c.insert(w,T)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield z_(r,(y=i,Ls(P_(An.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>gF(y,h,c).next(w=>(h.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Cs.addMatchingKeys(y,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),rk.apply(this,arguments)}function zH(n,e){return sk.apply(this,arguments)}function sk(){return sk=(0,Me.Z)(function*(n,e,t=pn()){const i=yield z_(n,Ls(ZA(e.bundledQuery))),r=dt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Br(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(o,e);const h=i.withResumeToken(Ir.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,e))})}),sk.apply(this,arguments)}function bF(n,e){return`firestore_clients_${n}_${e}`}function wF(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ok(n,e){return`firestore_targets_${n}_${e}`}class MD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ge(r.error.code,r.error.message))),c?new MD(e,t,r.state,o):(Qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class V0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ge(i.error.code,i.error.message))),o?new V0(e,i.state,r):(Qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=gD();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=LP(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new AD(e,o):(Qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ak{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ak(t.clientId,t.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lk{constructor(){this.activeTargetIds=gD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ck{constructor(e,t,i,r,o){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Vi(an),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=bF(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new lk),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const o=e.getItem(bF(e.persistenceKey,r));if(o){const c=AD.Zi(r,o);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ok(this.persistenceKey,e));if(i){const r=V0.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ok(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Je("SharedClientState","READ",e,t),t}setItem(e,t){Je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(o){let c=lo.at;if(null!=o)try{const h=JSON.parse(o);Kt("number"==typeof h),c=h}catch(h){Qi("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==lo.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Mr(o)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new MD(this.currentUser,e,t,i),o=wF(this.persistenceKey,this.currentUser,e);this.setItem(o,r.tr())}Er(e){const t=wF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=ok(this.persistenceKey,e),o=new V0(e,t,i);this.setItem(r,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return AD.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return MD.Zi(new Vr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return V0.Zi(r,t)}yr(e){return ak.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),o=this.Ir(i),c=[],h=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Br(c,h).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=gD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class CF{constructor(){this.Lr=new lk,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new lk,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GH{qr(e){}shutdown(){}}class EF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WH{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ZH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,o){const c=this.ho(e,t);Je("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,o),this.fo(e,c,h,i).then(p=>(Je("RestConnection","Received: ",p),p),p=>{throw jp("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}_o(e,t,i,r,o,c){return this.ao(e,t,i,r,o)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+M_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}ho(e,t){return`${this.oo}/v1/${t}:${qH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((o,c)=>{const h=new q2;h.setWithCredentials(!0),h.listenOnce($2.COMPLETE,()=>{var y;try{switch(h.getLastErrorCode()){case IA.NO_ERROR:const w=h.getResponseJson();Je("Connection","XHR received:",JSON.stringify(w)),o(w);break;case IA.TIMEOUT:Je("Connection",'RPC "'+e+'" timed out'),c(new Ge(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case IA.HTTP_ERROR:const T=h.getStatus();if(Je("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){let R=h.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=null===(y=R)||void 0===y?void 0:y.error;if(F&&F.status&&F.message){const U=function(X){const z=X.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(z)>=0?z:Ee.UNKNOWN}(F.status);c(new Ge(U,F.message))}else c(new Ge(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ge(Ee.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{Je("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=H2(),c=j2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new G2({})),this.lo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Je("Connection","Creating WebChannel: "+p,h);const y=o.createWebChannel(p,h);let w=!1,T=!1;const R=new WH({Hr:U=>{T?Je("Connection","Not sending because WebChannel is closed:",U):(w||(Je("Connection","Opening WebChannel transport."),y.open(),w=!0),Je("Connection","WebChannel sending:",U),y.send(U))},Jr:()=>y.close()}),F=(U,X,z)=>{U.listen(X,ee=>{try{z(ee)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return F(y,iD.EventType.OPEN,()=>{T||Je("Connection","WebChannel transport opened.")}),F(y,iD.EventType.CLOSE,()=>{T||(T=!0,Je("Connection","WebChannel transport closed"),R.io())}),F(y,iD.EventType.ERROR,U=>{T||(T=!0,jp("Connection","WebChannel transport errored:",U),R.io(new Ge(Ee.UNAVAILABLE,"The operation could not be completed")))}),F(y,iD.EventType.MESSAGE,U=>{var X;if(!T){const z=U.data[0];Kt(!!z);const ee=z,Ie=ee.error||(null===(X=ee[0])||void 0===X?void 0:X.error);if(Ie){Je("Connection","WebChannel received error:",Ie);const we=Ie.status;let Oe=function(tt){const Lt=ar[tt];if(void 0!==Lt)return gN(Lt)}(we),Ye=Ie.message;void 0===Oe&&(Oe=Ee.INTERNAL,Ye="Unknown error status: "+we+" with message "+Ie.message),T=!0,R.io(new Ge(Oe,Ye)),y.close()}else Je("Connection","WebChannel received:",z),R.ro(z)}}),F(c,z2.STAT_EVENT,U=>{U.stat===CP.PROXY?Je("Connection","Detected buffering proxy"):U.stat===CP.NOPROXY&&Je("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.so()},0),R}}function IF(){return typeof window<"u"?window:null}function kD(){return typeof document<"u"?document:null}function B0(n){return new BU(n,!0)}class uk{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class DF{constructor(e,t,i,r,o,c,h,p){this.Hs=e,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uk(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Me.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Me.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Ee.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ge(Ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Me.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KH extends DF{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function jU(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:It(),r=e.targetChange.targetIds||[],o=function(p,y){return p.gt?(Kt(void 0===y||"string"==typeof y),Ir.fromBase64String(y||"")):(Kt(void 0===y||y instanceof Uint8Array),Ir.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=void 0===p.code?Ee.UNKNOWN:gN(p.code);return new Ge(y,p.message||"")}(c);t=new wN(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Mc(n,i.document.name),o=Br(i.document.updateTime),c=new Xr({mapValue:{fields:i.document.fields}}),h=mi.newFoundDocument(r,o,c);t=new _D(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Mc(n,i.document),o=i.readTime?Br(i.readTime):Yt.min(),c=mi.newNoDocument(r,o);t=new _D([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Mc(n,i.document);t=new _D([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return It();{const i=e.filter,o=new kU(i.count||0);t=new bN(i.targetId,o)}}var p;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Yt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Yt.min():o.readTime?Br(o.readTime):Yt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=M0(this.It),t.addTarget=function(r,o){let c;const h=o.target;return c=uD(h)?{documents:kN(r,h)}:{query:$A(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=DN(r,o.resumeToken):o.snapshotVersion.compareTo(Yt.min())>0&&(c.readTime=S0(r,o.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function zU(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return It()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=M0(this.It),t.removeTarget=e,this.Bo(t)}}class YH extends DF{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function $U(n,e){return n&&n.length>0?(Kt(void 0!==e),n.map(t=>function(i,r){let o=Br(i.updateTime?i.updateTime:r);return o.isEqual(Yt.min())&&(o=Br(r)),new xU(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Br(e.commitTime);return this.listener.Zo(i,t)}return Kt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=M0(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>A0(this.It,i))};this.Bo(t)}}class QH extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ge(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ge(Ee.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection._o(e,t,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ee.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class JH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Qi(t),this.ou=!1):Je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ej{constructor(e,t,i,r,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr(h=>{i.enqueueAndForget((0,Me.Z)(function*(){var p;Zu(c)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Me.Z)(function*(y){const w=dt(y);w._u.add(4),yield q_(w),w.gu.set("Unknown"),w._u.delete(4),yield U0(w)}),function(y){return p.apply(this,arguments)})(c))}))}),this.gu=new JH(i,r)}}function U0(n){return hk.apply(this,arguments)}function hk(){return hk=(0,Me.Z)(function*(n){if(Zu(n))for(const e of n.wu)yield e(!0)}),hk.apply(this,arguments)}function q_(n){return fk.apply(this,arguments)}function fk(){return fk=(0,Me.Z)(function*(n){for(const e of n.wu)yield e(!1)}),fk.apply(this,arguments)}function RD(n,e){const t=dt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),gk(t)?mk(t):Z_(t).ko()&&pk(t,e))}function H0(n,e){const t=dt(n),i=Z_(t);t.du.delete(e),i.ko()&&TF(t,e),0===t.du.size&&(i.ko()?i.Fo():Zu(t)&&t.gu.set("Unknown"))}function pk(n,e){n.yu.Mt(e.targetId),Z_(n).zo(e)}function TF(n,e){n.yu.Mt(e),Z_(n).Ho(e)}function mk(n){n.yu=new FU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Z_(n).start(),n.gu.uu()}function gk(n){return Zu(n)&&!Z_(n).No()&&n.du.size>0}function Zu(n){return 0===dt(n)._u.size}function SF(n){n.yu=void 0}function tj(n){return _k.apply(this,arguments)}function _k(){return _k=(0,Me.Z)(function*(n){n.du.forEach((e,t)=>{pk(n,e)})}),_k.apply(this,arguments)}function nj(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,Me.Z)(function*(n,e){SF(n),gk(n)?(n.gu.hu(e),mk(n)):n.gu.set("Unknown")}),yk.apply(this,arguments)}function ij(n,e,t){return vk.apply(this,arguments)}function vk(){return vk=(0,Me.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof wN&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield OD(n,i)}else if(e instanceof _D?n.yu.Gt(e):e instanceof bN?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Yt.min()))try{const i=yield mF(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const c=r.yu.te(o);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.du.get(p);y&&r.du.set(p,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const p=r.du.get(h);if(!p)return;r.du.set(h,p.withResumeToken(Ir.EMPTY_BYTE_STRING,p.snapshotVersion)),TF(r,h);const y=new jh(p.target,h,1,p.sequenceNumber);pk(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Je("RemoteStore","Failed to raise snapshot:",i),yield OD(n,i)}var i}),vk.apply(this,arguments)}function OD(n,e,t){return bk.apply(this,arguments)}function bk(){return bk=(0,Me.Z)(function*(n,e,t){if(!Nh(e))throw e;n._u.add(1),yield q_(n),n.gu.set("Offline"),t||(t=()=>mF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield U0(n)}))}),bk.apply(this,arguments)}function xF(n,e){return e().catch(t=>OD(n,t,e))}function W_(n){return wk.apply(this,arguments)}function wk(){return wk=(0,Me.Z)(function*(n){const e=dt(n),t=Gh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rj(e);)try{const r=yield jH(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,sj(e,r)}catch(r){yield OD(e,r)}MF(e)&&AF(e)}),wk.apply(this,arguments)}function rj(n){return Zu(n)&&n.fu.length<10}function sj(n,e){n.fu.push(e);const t=Gh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function MF(n){return Zu(n)&&!Gh(n).No()&&n.fu.length>0}function AF(n){Gh(n).start()}function oj(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Me.Z)(function*(n){Gh(n).eu()}),Ck.apply(this,arguments)}function aj(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Me.Z)(function*(n){const e=Gh(n);for(const t of n.fu)e.Xo(t.mutations)}),Ek.apply(this,arguments)}function lj(n,e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Me.Z)(function*(n,e,t){const i=n.fu.shift(),r=qA.from(i,e,t);yield xF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield W_(n)}),Ik.apply(this,arguments)}function cj(n,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Me.Z)(function*(n,e){var t;e&&Gh(n).Yo&&(yield(t=(0,Me.Z)(function*(i,r){if(mN(o=r.code)&&o!==Ee.ABORTED){const c=i.fu.shift();Gh(i).Mo(),yield xF(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield W_(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),MF(n)&&AF(n)}),Dk.apply(this,arguments)}function kF(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Me.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const i=Zu(t);t._u.add(3),yield q_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield U0(t)}),Tk.apply(this,arguments)}function Sk(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Me.Z)(function*(n,e){const t=dt(n);e?(t._u.delete(2),yield U0(t)):e||(t._u.add(2),yield q_(t),t.gu.set("Unknown"))}),xk.apply(this,arguments)}function Z_(n){return n.pu||(n.pu=function(e,t,i){const r=dt(e);return r.su(),new KH(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:tj.bind(null,n),Zr:nj.bind(null,n),Wo:ij.bind(null,n)}),n.wu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.pu.Mo(),gk(n)?mk(n):n.gu.set("Unknown")):(yield n.pu.stop(),SF(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Gh(n){return n.Iu||(n.Iu=function(e,t,i){const r=dt(e);return r.su(),new YH(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:oj.bind(null,n),Zr:cj.bind(null,n),tu:aj.bind(null,n),Zo:lj.bind(null,n)}),n.wu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Iu.Mo(),yield W_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Je("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Mk{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,h=new Mk(e,t,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K_(n,e){if(Qi("AsyncQueue",`${e}: ${n}`),Nh(n))return new Ge(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Y_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ot.comparator(t.key,i.key):(t,i)=>ot.comparator(t.key,i.key),this.keyedMap=E0(),this.sortedSet=new Vi(this.comparator)}static emptySet(e){return new Y_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Y_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Y_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class RF{constructor(){this.Tu=new Vi(ot.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):It():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Q_{constructor(e,t,i,r,o,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Q_(e,t,Y_.emptySet(t),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class uj{constructor(){this.Au=void 0,this.listeners=[]}}class dj{constructor(){this.queries=new Hh(e=>JP(e),b0),this.onlineState="Unknown",this.Ru=new Set}}function Ak(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Me.Z)(function*(n,e){const t=dt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new uj),r)try{o.Au=yield t.onListen(i)}catch(c){const h=K_(c,`Initialization of query '${LA(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&Pk(t)}),kk.apply(this,arguments)}function Rk(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Me.Z)(function*(n,e){const t=dt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Ok.apply(this,arguments)}function hj(n,e){const t=dt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Pu(r)&&(i=!0);c.Au=r}}i&&Pk(t)}function fj(n,e,t){const i=dt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function Pk(n){n.Ru.forEach(e=>{e.next()})}class Nk{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Q_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Q_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class pj{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class OF{constructor(e){this.It=e}Ji(e){return Mc(this.It,e)}Yi(e){return e.metadata.exists?AN(this.It,e.document,!1):mi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Br(e)}}class mj{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PF(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=An.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new OF(this.It);for(const r of e)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||pn()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function $H(n,e,t,i){return rk.apply(this,arguments)}(e.localStore,new OF(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield zH(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function PF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class NF{constructor(e){this.key=e}}class FF{constructor(e){this.key=e}}class LF{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=pn(),this.mutatedKeys=pn(),this.Gu=tN(e),this.Qu=new Y_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new RF,r=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,T)=>{const R=r.get(w),F=VA(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),X=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let z=!1;R&&F?R.data.isEqual(F.data)?U!==X&&(i.track({type:3,doc:F}),z=!0):this.Hu(R,F)||(i.track({type:2,doc:F}),z=!0,(p&&this.Gu(F,p)>0||y&&this.Gu(F,y)<0)&&(h=!0)):!R&&F?(i.track({type:0,doc:F}),z=!0):R&&!F&&(i.track({type:1,doc:R}),z=!0,(p||y)&&(h=!0)),z&&(F?(c=c.add(F),o=X?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,$i:h,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((y,w)=>function(T,R){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return F(T)-F(R)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const c=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==o.length||p?{snapshot:new Q_(this.query,e.Qu,r,o,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new RF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new FF(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new NF(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=pn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Q_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class gj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _j{constructor(e){this.key=e,this.nc=!1}}class yj{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Hh(h=>JP(h),b0),this.rc=new Map,this.oc=new Set,this.uc=new Vi(ot.comparator),this.cc=new Map,this.ac=new QA,this.hc={},this.lc=new Map,this.fc=rm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function vj(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Me.Z)(function*(n,e){const t=sR(n);let i,r;const o=t.ic.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const c=yield z_(t.localStore,Ls(e));t.isPrimaryClient&&RD(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield Lk(t,e,i,"current"===h,c.resumeToken)}return r}),Fk.apply(this,arguments)}function Lk(n,e,t,i,r){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Me.Z)(function*(n,e,t,i,r){n._c=(T,R,F)=>{return(U=(0,Me.Z)(function*(X,z,ee,Ie){let we=z.view.Wu(ee);we.$i&&(we=yield xD(X.localStore,z.query,!1).then(({documents:tt})=>z.view.Wu(tt,we)));const Oe=Ie&&Ie.targetChanges.get(z.targetId),Ye=z.view.applyChanges(we,X.isPrimaryClient,Oe);return Zk(X,z.targetId,Ye.Xu),Ye.snapshot}),function(X,z,ee,Ie){return U.apply(this,arguments)})(n,T,R,F);var U};const o=yield xD(n.localStore,e,!0),c=new LF(e,o.Hi),h=c.Wu(o.documents),p=T0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(h,n.isPrimaryClient,p);Zk(n,t,y.Xu);const w=new gj(e,t,c);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),y.snapshot}),Vk.apply(this,arguments)}function bj(n,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Me.Z)(function*(n,e){const t=dt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(o=>!b0(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),H0(t.remoteStore,i.targetId),X_(t,i.targetId)}).catch(Ph))):(X_(t,i.targetId),yield G_(t.localStore,i.targetId,!0))}),Bk.apply(this,arguments)}function Uk(){return Uk=(0,Me.Z)(function*(n,e,t){const i=oR(n);try{const r=yield function(o,c){const h=dt(o),p=Ai.now(),y=c.reduce((R,F)=>R.add(F.key),pn());let w,T;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let F=co(),U=pn();return h.Gi.getEntries(R,y).next(X=>{F=X,F.forEach((z,ee)=>{ee.isValidDocument()||(U=U.add(z))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,F)).next(X=>{w=X;const z=[];for(const ee of c){const Ie=AU(ee,w.get(ee.key).overlayedDocument);null!=Ie&&z.push(new Wu(ee.key,Ie,zP(Ie.value.mapValue),ki.exists(!0)))}return h.mutationQueue.addMutationBatch(R,p,z,c)}).next(X=>{T=X;const z=X.applyToLocalDocumentSet(w,U);return h.documentOverlayCache.saveOverlays(R,X.batchId,z)})}).then(()=>({batchId:T.batchId,changes:yN(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let p=o.hc[o.currentUser.toKey()];p||(p=new Vi(an)),p=p.insert(c,h),o.hc[o.currentUser.toKey()]=p}(i,r.batchId,t),yield Ku(i,r.changes),yield W_(i.remoteStore)}catch(r){const o=K_(r,"Failed to persist write");t.reject(o)}}),Uk.apply(this,arguments)}function VF(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Me.Z)(function*(n,e){const t=dt(n);try{const i=yield HH(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.cc.get(o);c&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Kt(c.nc):r.removedDocuments.size>0&&(Kt(c.nc),c.nc=!1))}),yield Ku(t,i,e)}catch(i){yield Ph(i)}}),Hk.apply(this,arguments)}function BF(n,e,t){const i=dt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((o,c)=>{const h=c.view.bu(e);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=dt(o);h.onlineState=c;let p=!1;h.queries.forEach((y,w)=>{for(const T of w.listeners)T.bu(c)&&(p=!0)}),p&&Pk(h)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Cj(n,e,t){return jk.apply(this,arguments)}function jk(){return jk=(0,Me.Z)(function*(n,e,t){const i=dt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),o=r&&r.key;if(o){let c=new Vi(ot.comparator);c=c.insert(o,mi.newNoDocument(o,Yt.min()));const h=pn().add(o),p=new D0(Yt.min(),new Map,new Qn(an),c,h);yield VF(i,p),i.uc=i.uc.remove(o),i.cc.delete(e),Kk(i)}else yield G_(i.localStore,e,!1).then(()=>X_(i,e,t)).catch(Ph)}),jk.apply(this,arguments)}function Ej(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,Me.Z)(function*(n,e){const t=dt(n),i=e.batch.batchId;try{const r=yield UH(t.localStore,e);Wk(t,i,null),qk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ku(t,r)}catch(r){yield Ph(r)}}),$k.apply(this,arguments)}function Ij(n,e,t){return zk.apply(this,arguments)}function zk(){return zk=(0,Me.Z)(function*(n,e,t){const i=dt(n);try{const r=yield function(o,c){const h=dt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(Kt(null!==w),y=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);Wk(i,e,t),qk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ku(i,r)}catch(r){yield Ph(r)}}),zk.apply(this,arguments)}function Gk(){return Gk=(0,Me.Z)(function*(n,e){const t=dt(n);Zu(t.remoteStore)||Je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=dt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=K_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Gk.apply(this,arguments)}function qk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Wk(n,e,t){const i=dt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function X_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||UF(n,i)})}function UF(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(H0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Kk(n))}function Zk(n,e,t){for(const i of t)i instanceof NF?(n.ac.addReference(i.key,e),Tj(n,i)):i instanceof FF?(Je("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||UF(n,i.key)):It()}function Tj(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Je("SyncEngine","New document in limbo: "+t),n.oc.add(i),Kk(n))}function Kk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ot(An.fromString(e)),i=n.fc.next();n.cc.set(i,new _j(t)),n.uc=n.uc.insert(t,i),RD(n.remoteStore,new jh(Ls(P_(t.path)),i,2,lo.at))}}function Ku(n,e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Me.Z)(function*(n,e,t){const i=dt(n),r=[],o=[],c=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,p)=>{c.push(i._c(p,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=tk.Ci(p.targetId,y);o.push(w)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(h=(0,Me.Z)(function*(p,y){const w=dt(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>_e.forEach(y,R=>_e.forEach(R.Si,F=>w.persistence.referenceDelegate.addReference(T,R.targetId,F)).next(()=>_e.forEach(R.Di,F=>w.persistence.referenceDelegate.removeReference(T,R.targetId,F)))))}catch(T){if(!Nh(T))throw T;Je("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const F=w.Ui.get(R),X=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);w.Ui=w.Ui.insert(R,X)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,o))}),Yk.apply(this,arguments)}function Sj(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,Me.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const i=yield pF(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(h=>{h.reject(new Ge(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ku(t,i.ji)}var r}),Qk.apply(this,arguments)}function xj(n,e){const t=dt(n),i=t.cc.get(e);if(i&&i.nc)return pn().add(i.key);{let r=pn();const o=t.rc.get(e);if(!o)return r;for(const c of o){const h=t.ic.get(c);r=r.unionWith(h.view.ju)}return r}}function Mj(n,e){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,Me.Z)(function*(n,e){const t=dt(n),i=yield xD(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&Zk(t,e.targetId,r.Xu),r}),Xk.apply(this,arguments)}function Aj(n,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,Me.Z)(function*(n,e){const t=dt(n);return yF(t.localStore,e).then(i=>Ku(t,i))}),Jk.apply(this,arguments)}function kj(n,e,t,i){return eR.apply(this,arguments)}function eR(){return eR=(0,Me.Z)(function*(n,e,t,i){const r=dt(n),o=yield function(c,h){const p=dt(c),y=dt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,h).next(T=>T?p.localDocuments.getDocuments(w,T):_e.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield W_(r.remoteStore):"acknowledged"===t||"rejected"===t?(Wk(r,e,i||null),qk(r,e),h=e,dt(dt(r.localStore).mutationQueue).An(h)):It(),yield Ku(r,o)):Je("SyncEngine","Cannot apply mutation batch with id: "+e)}),eR.apply(this,arguments)}function tR(){return tR=(0,Me.Z)(function*(n,e){const t=dt(n);if(sR(t),oR(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield HF(t,i.toArray());t.dc=!0,yield Sk(t.remoteStore,!0);for(const o of r)RD(t.remoteStore,o)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(X_(t,c),G_(t.localStore,c,!0))),H0(t.remoteStore,c)}),yield r,yield HF(t,i),function(o){const c=dt(o);c.cc.forEach((h,p)=>{H0(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new Vi(ot.comparator)}(t),t.dc=!1,yield Sk(t.remoteStore,!1)}}),tR.apply(this,arguments)}function HF(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,Me.Z)(function*(n,e,t){const i=dt(n),r=[],o=[];for(const c of e){let h;const p=i.rc.get(c);if(p&&0!==p.length){h=yield z_(i.localStore,Ls(p[0]));for(const y of p){const w=i.ic.get(y),T=yield Mj(i,w);T.snapshot&&o.push(T.snapshot)}}else{const y=yield _F(i.localStore,c);h=yield z_(i.localStore,y),yield Lk(i,jF(y),c,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(o),r}),nR.apply(this,arguments)}function jF(n){return QP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Oj(n){const e=dt(n);return dt(dt(e.localStore).persistence).vi()}function Pj(n,e,t,i){return iR.apply(this,arguments)}function iR(){return iR=(0,Me.Z)(function*(n,e,t,i){const r=dt(n);if(r.dc)return void Je("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield yF(r.localStore,eN(o[0])),h=D0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ir.EMPTY_BYTE_STRING);yield Ku(r,c,h);break}case"rejected":yield G_(r.localStore,e,!0),X_(r,e,i);break;default:It()}}),iR.apply(this,arguments)}function Nj(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,Me.Z)(function*(n,e,t){const i=sR(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Je("SyncEngine","Adding an already active target "+r);continue}const o=yield _F(i.localStore,r),c=yield z_(i.localStore,o);yield Lk(i,jF(o),c.targetId,!1,c.resumeToken),RD(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield G_(i.localStore,r,!1).then(()=>{H0(i.remoteStore,r),X_(i,r)}).catch(Ph))}}),rR.apply(this,arguments)}function sR(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cj.bind(null,e),e.sc.Wo=hj.bind(null,e.eventManager),e.sc.wc=fj.bind(null,e.eventManager),e}function oR(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,e),e}class $F{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.It=B0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return fF(this.persistence,new hF,e.initialUser,this.It)}yc(e){return new uF(TD.Bs,this.It)}gc(e){return new CF}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zF extends $F{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield oR(i.Ac.syncEngine),yield W_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return fF(this.persistence,new hF,e.initialUser,this.It)}Tc(e,t){return new DH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new lU(t,this.persistence);return new aU(e.asyncQueue,i)}yc(e){const t=ek(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?uo.withCacheSize(this.cacheSizeBytes):uo.DEFAULT;return new JA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,IF(),kD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new CF}}class Lj extends zF{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof ck&&(i.sharedClientState.syncEngine={Fr:kj.bind(null,r),$r:Pj.bind(null,r),Br:Nj.bind(null,r),vi:Oj.bind(null,r),Mr:Aj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Me.Z)(function*(c){yield function Rj(n,e){return tR.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}gc(e){const t=IF();if(!ck.C(t))throw new Ge(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ek(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ck(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class aR{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>BF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,i.syncEngine),yield Sk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dj}createDatastore(e){const t=B0(e.databaseInfo.databaseId),i=new ZH(e.databaseInfo);return new QH(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>BF(this.syncEngine,h,0),c=EF.C()?new EF:new GH,new ej(t,i,r,o,c);var t,i,r,o,c}createSyncEngine(e,t){return function(i,r,o,c,h,p,y){const w=new yj(i,r,o,c,h,p);return y&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const i=dt(t);Je("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield q_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function lR(n,e,t){if(!t)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GF(n,e,t,i){if(!0===e&&!0===i)throw new Ge(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qF(n){if(!ot.isDocumentKey(n))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WF(n){if(ot.isDocumentKey(n))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":It()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=PD(n);throw new Ge(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ZF(n,e){if(e<=0)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const KF=new Map;class YF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,GF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new K2;switch(t.type){case"gapi":return new J2(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ge(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KF.get(e);t&&(Je("ComponentProvider","Removing Datastore"),KF.delete(e),t.terminate())}(this),Promise.resolve()}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class fs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class kc extends fs{constructor(e,t,i){super(e,t,P_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new ot(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function XF(n,e,...t){if(n=(0,Nn.m9)(n),lR("collection","path",e),n instanceof j0){const i=An.fromString(e,...t);return WF(i),new kc(n,null,i)}{if(!(n instanceof Ei||n instanceof kc))throw new Ge(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(e,...t));return WF(i),new kc(n.firestore,null,i)}}function ND(n,e,...t){if(n=(0,Nn.m9)(n),1===arguments.length&&(e=TP.R()),lR("doc","path",e),n instanceof j0){const i=An.fromString(e,...t);return qF(i),new Ei(n,null,new ot(i))}{if(!(n instanceof Ei||n instanceof kc))throw new Ge(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(e,...t));return qF(i),new Ei(n.firestore,n instanceof kc?n.converter:null,new ot(i))}}function JF(n,e){return n=(0,Nn.m9)(n),e=(0,Nn.m9)(e),(n instanceof Ei||n instanceof kc)&&(e instanceof Ei||e instanceof kc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cR(n,e){return n=(0,Nn.m9)(n),e=(0,Nn.m9)(e),n instanceof fs&&e instanceof fs&&n.firestore===e.firestore&&b0(n._query,e._query)&&n.converter===e.converter}function eL(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class FD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bj{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Er,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const o=yield e.Cc(r);return new pj(JSON.parse(o),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class jj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ge(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(o,c){const h=dt(o),p=M0(h.It)+"/documents",y={documents:c.map(F=>x0(h.It,F))},w=yield h._o("BatchGetDocuments",p,y,c.length),T=new Map;w.forEach(F=>{const U=function HU(n,e){return"found"in e?function(t,i){Kt(!!i.found);const r=Mc(t,i.found.name),o=Br(i.found.updateTime),c=new Xr({mapValue:{fields:i.found.fields}});return mi.newFoundDocument(r,o,c)}(n,e):"missing"in e?function(t,i){Kt(!!i.missing),Kt(!!i.readTime);const r=Mc(t,i.missing),o=Br(i.readTime);return mi.newNoDocument(r,o)}(n,e):It()}(h.It,F);T.set(U.key.toString(),U)});const R=[];return c.forEach(F=>{const U=T.get(F.toString());Kt(!!U),R.push(U)}),R}),function(o,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new B_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ot.fromPath(r);e.mutations.push(new BA(o,e.precondition(o)))}),yield(i=(0,Me.Z)(function*(r,o){const c=dt(r),h=M0(c.It)+"/documents",p={writes:o.map(y=>A0(c.It,y))};yield c.ao("Commit",h,p)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw It();t=Yt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ge(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yt.min())?ki.exists(!1):ki.updateTime(t):ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yt.min()))throw new Ge(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(t)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $j{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new uk(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Me.Z)(function*(){const t=new jj(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Fc(o)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!p0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!mN(t)}return!1}}class zj{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=TP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Me.Z)(function*(h){Je("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=K_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function tL(n,e){return uR.apply(this,arguments)}function uR(){return uR=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(o){i.isEqual(o)||(yield pF(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uR.apply(this,arguments)}function nL(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hR(n);Je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>kF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>kF(e.remoteStore,o)),n.onlineComponents=e}),dR.apply(this,arguments)}function hR(n){return fR.apply(this,arguments)}function fR(){return fR=(0,Me.Z)(function*(n){return n.offlineComponents||(Je("FirestoreClient","Using default OfflineComponentProvider"),yield tL(n,new $F)),n.offlineComponents}),fR.apply(this,arguments)}function LD(n){return pR.apply(this,arguments)}function pR(){return pR=(0,Me.Z)(function*(n){return n.onlineComponents||(Je("FirestoreClient","Using default OnlineComponentProvider"),yield nL(n,new aR)),n.onlineComponents}),pR.apply(this,arguments)}function iL(n){return hR(n).then(e=>e.persistence)}function VD(n){return hR(n).then(e=>e.localStore)}function mR(n){return LD(n).then(e=>e.remoteStore)}function gR(n){return LD(n).then(e=>e.syncEngine)}function J_(n){return _R.apply(this,arguments)}function _R(){return _R=(0,Me.Z)(function*(n){const e=yield LD(n),t=e.eventManager;return t.onListen=vj.bind(null,e.syncEngine),t.onUnlisten=bj.bind(null,e.syncEngine),t}),_R.apply(this,arguments)}function sL(n,e,t={}){const i=new Er;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,o,c,h,p){const y=new FD({next:T=>{o.enqueueAndForget(()=>Rk(r,w));const R=T.docs.has(c);!R&&T.fromCache?p.reject(new Ge(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&h&&"server"===h.source?p.reject(new Ge(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new Nk(P_(c.path),y,{includeMetadataChanges:!0,Nu:!0});return Ak(r,w)}(yield J_(n),n.asyncQueue,e,t,i)})),i.promise}function oL(n,e,t={}){const i=new Er;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,o,c,h,p){const y=new FD({next:T=>{o.enqueueAndForget(()=>Rk(r,w)),T.fromCache&&"server"===h.source?p.reject(new Ge(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new Nk(c,y,{includeMetadataChanges:!0,Nu:!0});return Ak(r,w)}(yield J_(n),n.asyncQueue,e,t,i)})),i.promise}class Xj{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new uk(this,"async_queue_retry"),this.Wc=()=>{const t=kD();t&&Je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=kD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=kD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Er;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Nh(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=Mk.createAndSchedule(this,e,t,i,o=>this.Yc(o));return this.qc.push(r),r}zc(){this.Kc&&It()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function yR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Jj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ii extends j0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Xj,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aL(this),this._firestoreClient.terminate()}}function Xi(n){return n._firestoreClient||aL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aL(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dU(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new zj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function lL(n,e,t){const i=new Er;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield tL(n,t),yield nL(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===Ee.FAILED_PRECONDITION||c.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;jp("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function cL(n){if(n._initialized||n._terminated)throw new Ge(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Ir.fromBase64String(e))}catch(t){throw new Ge(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rc(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class om{constructor(e){this._methodName=e}}class BD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}const u3=/^__.*__$/;class d3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new V_(e,this.data,t,this.fieldTransforms)}}class uL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class UD{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new UD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $D(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(dL(this.sa)&&u3.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class h3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||B0(e)}da(e,t,i,r=!1){return new UD({sa:e,methodName:t,fa:i,path:Li.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=B0(n._databaseId);return new h3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HD(n,e,t,i,r,o={}){const c=n.da(o.merge||o.mergeFields?2:0,e,t,r);CR("Data must be an object, but it was:",c,i);const h=pL(i,c);let p,y;if(o.merge)p=new qo(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const T of o.mergeFields){const R=ER(e,T,t);if(!c.contains(R))throw new Ge(Ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);gL(w,R)||w.push(R)}p=new qo(w),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new d3(new Xr(h),p,y)}class $0 extends om{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $0}}function hL(n,e,t){return new UD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class vR extends om{_toFieldTransform(e){return new w0(e.path,new F_)}isEqual(e){return e instanceof vR}}class f3 extends om{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=hL(this,e,!0),i=this._a.map(o=>lm(o,t)),r=new Yp(i);return new w0(e.path,r)}isEqual(e){return this===e}}class p3 extends om{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=hL(this,e,!0),i=this._a.map(o=>lm(o,t)),r=new Qp(i);return new w0(e.path,r)}isEqual(e){return this===e}}class m3 extends om{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new L_(e.It,rN(e.It,this.wa));return new w0(e.path,t)}isEqual(e){return this===e}}function bR(n,e,t,i){const r=n.da(1,e,t);CR("Data must be an object, but it was:",r,i);const o=[],c=Xr.empty();Gp(i,(p,y)=>{const w=jD(e,p,t);y=(0,Nn.m9)(y);const T=r.ca(w);if(y instanceof $0)o.push(w);else{const R=lm(y,T);null!=R&&(o.push(w),c.set(w,R))}});const h=new qo(o);return new uL(c,h,r.fieldTransforms)}function wR(n,e,t,i,r,o){const c=n.da(1,e,t),h=[ER(e,i,t)],p=[r];if(o.length%2!=0)throw new Ge(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)h.push(ER(e,o[R])),p.push(o[R+1]);const y=[],w=Xr.empty();for(let R=h.length-1;R>=0;--R)if(!gL(y,h[R])){const F=h[R];let U=p[R];U=(0,Nn.m9)(U);const X=c.ca(F);if(U instanceof $0)y.push(F);else{const z=lm(U,X);null!=z&&(y.push(F),w.set(F,z))}}const T=new qo(y);return new uL(w,T,c.fieldTransforms)}function fL(n,e,t,i=!1){return lm(t,n.da(i?4:3,e))}function lm(n,e){if(mL(n=(0,Nn.m9)(n)))return CR("Unsupported field value:",e,n),pL(n,e);if(n instanceof om)return function(t,i){if(!dL(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const c of t){let h=lm(c,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rN(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ai.fromDate(t);return{timestampValue:S0(i.It,r)}}if(t instanceof Ai){const r=new Ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:S0(i.It,r)}}if(t instanceof BD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rc)return{bytesValue:DN(i.It,t._byteString)};if(t instanceof Ei){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:UA(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${PD(t)}`)}(n,e)}function pL(n,e){const t={};return PP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gp(n,(i,r)=>{const o=lm(r,e.ra(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function mL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof BD||n instanceof Rc||n instanceof Ei||n instanceof om)}function CR(n,e,t){if(!mL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=PD(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function ER(n,e,t){if((e=(0,Nn.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return jD(n,e);throw $D("Field path arguments must be of type string or ",n,!1,void 0,t)}const g3=new RegExp("[~\\*/\\[\\]]");function jD(n,e,t){if(e.search(g3)>=0)throw $D(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw $D(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $D(n,e,t,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ge(Ee.INVALID_ARGUMENT,h+n+p)}function gL(n,e){return n.some(t=>t.isEqual(e))}class z0{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _3 extends z0{data(){return super.data()}}function zD(n,e){return"string"==typeof e?jD(n,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function _L(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}function qh(n,...e){for(const t of e)n=t._apply(n);return n}class y3 extends G0{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=am(e.firestore),i=function(r,o,c,h,p,y,w){let T;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){EL(w,y);const F=[];for(const U of w)F.push(CL(h,r,U));T={arrayValue:{values:F}}}else T=CL(h,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||EL(w,y),T=fL(c,"where",w,"in"===y||"not-in"===y);const R=Jr.create(p,y,T);return function(F,U){if(U.dt()){const z=NA(F);if(null!==z&&!z.isEqual(U.field))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${z.toString()}' and '${U.field.toString()}'`);const ee=PA(F);null!==ee&&IL(0,U.field,ee)}const X=function(z,ee){for(const Ie of z.filters)if(ee.indexOf(Ie.op)>=0)return Ie.op;return null}(F,function(z){switch(z){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==X)throw new Ge(Ee.INVALID_ARGUMENT,X===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${X.toString()}' filters.`)}(r,R),R}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new fs(e.firestore,e.converter,function(r,o){const c=r.filters.concat([o]);return new qu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class b3 extends G0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new O_(r,o);return function(h,p){if(null===PA(h)){const y=NA(h);null!==y&&IL(0,y,p.field)}}(i,c),c}(e._query,this.ma,this.pa);return new fs(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new qu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class yL extends G0{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new fs(e.firestore,e.converter,hD(e._query,this.Ia,this.Ta))}}class vL extends G0{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=wL(e,this.type,this.Ea,this.Aa);return new fs(e.firestore,e.converter,(r=t,new qu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class bL extends G0{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=wL(e,this.type,this.Ea,this.Aa);return new fs(e.firestore,e.converter,(r=t,new qu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function wL(n,e,t,i){if(t[0]=(0,Nn.m9)(t[0]),t[0]instanceof z0)return function(r,o,c,h,p){if(!h)throw new Ge(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const w of N_(r))if(w.field.isKeyField())y.push(Zp(o,h.key));else{const T=h.data.field(w.field);if(kA(T))throw new Ge(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const R=w.field.canonicalString();throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}y.push(T)}return new Uh(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=am(n.firestore);return function(o,c,h,p,y,w){const T=o.explicitOrderBy;if(y.length>T.length)throw new Ge(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let F=0;F<y.length;F++){const U=y[F];if(T[F].field.isKeyField()){if("string"!=typeof U)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!FA(o)&&-1!==U.indexOf("/"))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const X=o.path.child(An.fromString(U));if(!ot.isDocumentKey(X))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const z=new ot(X);R.push(Zp(c,z))}else{const X=fL(h,p,U);R.push(X)}}return new Uh(R,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function CL(n,e,t){if("string"==typeof(t=(0,Nn.m9)(t))){if(""===t)throw new Ge(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FA(e)&&-1!==t.indexOf("/"))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(An.fromString(t));if(!ot.isDocumentKey(i))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zp(n,new ot(i))}if(t instanceof Ei)return Zp(n,t._key);throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PD(t)}.`)}function EL(n,e){if(!Array.isArray(n)||0===n.length)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IL(n,e,t){if(!t.isEqual(e))throw new Ge(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class IR{convertValue(e,t="none"){switch(Wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw It()}}convertObject(e,t){const i={};return Gp(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new BD(Bi(e.latitude),Bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=FP(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(f0(e));default:return null}}convertTimestamp(e){const t=Fh(e);return new Ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=An.fromString(e);Kt(PN(i));const r=new Lh(i.get(1),i.get(3)),o=new ot(i.popFirst(5));return r.isEqual(t)||Qi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function GD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class x3 extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends z0{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class q0 extends Qu{data(e={}){return super.data(e)}}class Wh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new q0(this._firestore,this._userDataWriter,i.key,i,new cm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new q0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new q0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:M3(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function M3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}function DL(n,e){return n instanceof Qu&&e instanceof Qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wh&&e instanceof Wh&&n._firestore===e._firestore&&cR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zh extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function TL(n,e,t){n=Cn(n,Ei);const i=Cn(n.firestore,Ii),r=GD(n.converter,e,t);return ey(i,[HD(am(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ki.none())])}function SL(n,e,t,...i){n=Cn(n,Ei);const r=Cn(n.firestore,Ii),o=am(r);let c;return c="string"==typeof(e=(0,Nn.m9)(e))||e instanceof Yu?wR(o,"updateDoc",n._key,e,t,i):bR(o,"updateDoc",n._key,e),ey(r,[c.toMutation(n._key,ki.exists(!0))])}function xL(n,...e){var t,i,r;n=(0,Nn.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||yR(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(yR(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let p,y,w;if(n instanceof Ei)y=Cn(n.firestore,Ii),w=P_(n._key.path),p={next:T=>{e[c]&&e[c](DR(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Cn(n,fs);y=Cn(T.firestore,Ii),w=T._query;const R=new Zh(y);p={next:F=>{e[c]&&e[c](new Wh(y,R,T,F))},error:e[c+1],complete:e[c+2]},_L(n._query)}return function(T,R,F,U){const X=new FD(U),z=new Nk(R,X,F);return T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return Ak(yield J_(T),z)})),()=>{X.bc(),T.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return Rk(yield J_(T),z)}))}}(Xi(y),w,h,p)}function ey(n,e){return function(t,i){const r=new Er;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function wj(n,e,t){return Uk.apply(this,arguments)}(yield gR(t),i,r)})),r.promise}(Xi(n),e)}function DR(n,e,t){const i=t.docs.get(e._key),r=new Zh(n);return new Qu(n,r,e._key,i,new cm(t.hasPendingWrites,t.fromCache),e.converter)}const B3={maxAttempts:5};class ML{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=am(e)}set(e,t,i){this._verifyNotCommitted();const r=Kh(e,this._firestore),o=GD(r.converter,t,i),c=HD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ki.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,Nn.m9)(t))||t instanceof Yu?wR(this._dataReader,"WriteBatch.update",o._key,t,i,r):bR(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kh(e,this._firestore);return this._mutations=this._mutations.concat(new B_(t._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kh(n,e){if((n=(0,Nn.m9)(n)).firestore!==e)throw new Ge(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class U3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=am(e)}get(e){const t=Kh(e,this._firestore),i=new x3(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return It();const o=r[0];if(o.isFoundDocument())return new z0(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new z0(this._firestore,i,t._key,null,t.converter);throw It()})}set(e,t,i){const r=Kh(e,this._firestore),o=GD(r.converter,t,i),c=HD(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const o=Kh(e,this._firestore);let c;return c="string"==typeof(t=(0,Nn.m9)(t))||t instanceof Yu?wR(this._dataReader,"Transaction.update",o._key,t,i,r):bR(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=Kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kh(e,this._firestore),i=new Zh(this._firestore);return super.get(e).then(r=>new Qu(this._firestore,i,t._key,r._document,new cm(!1,!1),t.converter))}}function TR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kL(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function RL(){if(!function cU(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){M_=Bl.SDK_VERSION,(0,Bl._registerComponent)(new Tb.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),c=new Ii(new Q2(t.getProvider("auth-internal")),new eU(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ge(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(h.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Bl.registerVersion)(EP,"3.7.3",n),(0,Bl.registerVersion)(EP,"3.7.3","esm2017")}();class W0{constructor(e){this._delegate=e}static fromBase64String(e){return RL(),new W0(Rc.fromBase64String(e))}static fromUint8Array(e){return kL(),new W0(Rc.fromUint8Array(e))}toBase64(){return RL(),this._delegate.toBase64()}toUint8Array(){return kL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SR(n){return function K3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Y3{enableIndexedDbPersistence(e,t){return function t3(n,e){cL(n=Cn(n,Ii));const t=Xi(n),i=n._freezeSettings(),r=new aR;return lL(t,r,new zF(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function n3(n){cL(n=Cn(n,Ii));const e=Xi(n),t=n._freezeSettings(),i=new aR;return lL(e,i,new Lj(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function r3(n){if(n._initialized&&!n._terminated)throw new Ge(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(i){if(!$l.C())return Promise.resolve();const r=i+"main";yield $l.delete(r)}),function(i){return t.apply(this,arguments)})(ek(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class OL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Lh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function QF(n,e,t,i={}){var r;const o=(n=Cn(n,j0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&jp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Vr.MOCK_USER;else{c=(0,Nn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ge(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vr(p)}n._authCredentials=new Y2(new IP(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function o3(n){return function Gj(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield iL(n),t=yield mR(n);return e.setNetworkEnabled(!0),function(i){const r=dt(i);return r._u.delete(0),U0(r)}(t)}))}(Xi(n=Cn(n,Ii)))}(this._delegate)}disableNetwork(){return function a3(n){return function qj(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield iL(n),t=yield mR(n);return e.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const o=dt(r);o._u.add(0),yield q_(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Xi(n=Cn(n,Ii)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,GF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s3(n){return function(e){const t=new Er;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function Dj(n,e){return Gk.apply(this,arguments)}(yield gR(e),t)})),t.promise}(Xi(n=Cn(n,Ii)))}(this._delegate)}onSnapshotsInSync(e){return function V3(n,e){return function Kj(n,e){const t=new FD(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield J_(n),r=t,dt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield J_(n),r=t,void dt(i).Ru.delete(r);var i,r}))}}(Xi(n=Cn(n,Ii)),yR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ty(this,XF(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,ND(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function Vj(n,e){if(n=Cn(n,j0),lR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(n,null,(t=e,new qu(An.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function H3(n,e,t){n=Cn(n,Ii);const i=Object.assign(Object.assign({},B3),t);return function(r){if(r.maxAttempts<1)throw new Ge(Ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const h=new Er;return r.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const p=yield function rL(n){return LD(n).then(e=>e.datastore)}(r);new $j(r.asyncQueue,p,c,o,h).run()})),h.promise}(Xi(n),r=>e(new U3(n,r)),i)}(this._delegate,t=>e(new PL(this,t)))}batch(){return Xi(this._delegate),new NL(new ML(this._delegate,e=>ey(this._delegate,e)))}loadBundle(e){return function l3(n,e){const t=Xi(n=Cn(n,Ii)),i=new Jj;return function Yj(n,e,t,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return eL(p,y);if(p instanceof ArrayBuffer)return eL(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Bj(p,c);var p}(t,B0(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function Fj(n,e,t){const i=dt(n);var r;(r=(0,Me.Z)(function*(o,c,h){try{const p=yield c.getMetadata();if(yield function(R,F){const U=dt(R),X=Br(F.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",z=>U.Ns.getBundleMetadata(z,F.id)).then(z=>!!z&&z.createTime.compareTo(X)>=0)}(o.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=p).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(PF(p));const y=new mj(p,o.localStore,c.It);let w=yield c.mc();for(;w;){const R=yield y.Fu(w);R&&h._updateProgress(R),w=yield c.mc()}const T=yield y.complete();return yield Ku(o,T.Lu,void 0),yield function(R,F){const U=dt(R);return U.persistence.runTransaction("Save bundle","readwrite",X=>U.Ns.saveBundleMetadata(X,F))}(o.localStore,p),h._completeWith(T.progress),Promise.resolve(T.Bu)}catch(p){return jp("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var R}),function(o,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield gR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function c3(n,e){return function Qj(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,i){const r=dt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield VD(n),e)}))}(Xi(n=Cn(n,Ii)),e).then(t=>t?new fs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class qD extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new W0(new Rc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class PL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}get(e){const t=dm(e);return this._delegate.get(t).then(i=>new Z0(this._firestore,new Qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=dm(e);return i?(TR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=dm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=dm(e);return this._delegate.delete(t),this}}class NL{constructor(e){this._delegate=e}set(e,t,i){const r=dm(e);return i?(TR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=dm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=dm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class um{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new K0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=um.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new um(e,new qD(e),t),r.set(t,o)),o}}um.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new Ei(t._delegate,i,new ot(e)))}static forKey(e,t,i){return new qa(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ty(this.firestore,XF(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Nn.m9)(e))instanceof Ei&&JF(this._delegate,e)}set(e,t){t=TR("DocumentReference.set",t);try{return t?TL(this._delegate,e,t):TL(this._delegate,e)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?SL(this._delegate,e):SL(this._delegate,e,t,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function F3(n){return ey(Cn(n.firestore,Ii),[new B_(n._key,ki.none())])}(this._delegate)}onSnapshot(...e){const t=FL(e),i=LL(e,r=>new Z0(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return xL(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function k3(n){n=Cn(n,Ei);const e=Cn(n.firestore,Ii),t=Xi(e),i=new Zh(e);return function Wj(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,o,c){try{const h=yield function(p,y){const w=dt(p);return w.persistence.runTransaction("read document","readonly",T=>w.localDocuments.getDocument(T,y))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ge(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=K_(h,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield VD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Qu(e,i,n._key,r,new cm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function R3(n){n=Cn(n,Ei);const e=Cn(n.firestore,Ii);return sL(Xi(e),n._key,{source:"server"}).then(t=>DR(e,n,t))}(this._delegate):function A3(n){n=Cn(n,Ei);const e=Cn(n.firestore,Ii);return sL(Xi(e),n._key).then(t=>DR(e,n,t))}(this._delegate),t.then(i=>new Z0(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function FL(n){for(const e of n)if("object"==typeof e&&!SR(e))return e;return{}}function LL(n,e){var t,i;let r;return r=SR(n[0])?n[0]:SR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DL(this._delegate,e._delegate)}}class K0 extends Z0{data(e){const t=this._delegate.data(e);return function Z2(n,e){n||It()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}where(e,t,i){try{return new Us(this.firestore,qh(this._delegate,function v3(n,e,t){const i=e,r=zD("where",n);return new y3(r,i,t)}(e,t,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,qh(this._delegate,function w3(n,e="asc"){const t=e,i=zD("orderBy",n);return new b3(i,t)}(e,t)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,qh(this._delegate,function C3(n){return ZF("limit",n),new yL("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,qh(this._delegate,function E3(n){return ZF("limitToLast",n),new yL("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,qh(this._delegate,function I3(...n){return new vL("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,qh(this._delegate,function D3(...n){return new vL("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,qh(this._delegate,function T3(...n){return new bL("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,qh(this._delegate,function S3(...n){return new bL("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return cR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function P3(n){n=Cn(n,fs);const e=Cn(n.firestore,Ii),t=Xi(e),i=new Zh(e);return function Zj(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,o,c){try{const h=yield xD(r,o,!0),p=new LF(o,h.Hi),y=p.Wu(h.documents),w=p.applyChanges(y,!1);c.resolve(w.snapshot)}catch(h){const p=K_(h,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield VD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Wh(e,i,n,r))}(this._delegate):"server"===e?.source?function N3(n){n=Cn(n,fs);const e=Cn(n.firestore,Ii),t=Xi(e),i=new Zh(e);return oL(t,n._query,{source:"server"}).then(r=>new Wh(e,i,n,r))}(this._delegate):function O3(n){n=Cn(n,fs);const e=Cn(n.firestore,Ii),t=Xi(e),i=new Zh(e);return _L(n._query),oL(t,n._query).then(r=>new Wh(e,i,n,r))}(this._delegate),t.then(i=>new xR(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=FL(e),i=LL(e,r=>new xR(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return xL(this._delegate,t,i)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}class X3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new K0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new K0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new X3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new K0(this._firestore,i))})}isEqual(e){return DL(this._delegate,e._delegate)}}class ty extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?ND(this._delegate):ND(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function L3(n,e){const t=Cn(n.firestore,Ii),i=ND(n),r=GD(n.converter,e);return ey(t,[HD(am(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return JF(this._delegate,e._delegate)}withConverter(e){return new ty(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function dm(n){return Cn(n,Ei)}class MR{constructor(...e){this._delegate=new Yu(...e)}static documentId(){return new MR(Li.keyField().canonicalString())}isEqual(e){return(e=(0,Nn.m9)(e))instanceof Yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class hm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $3(){return new vR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hm(e)}static delete(){const e=function j3(){return new $0("deleteField")}();return e._methodName="FieldValue.delete",new hm(e)}static arrayUnion(...e){const t=function z3(...n){return new f3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hm(t)}static arrayRemove(...e){const t=function G3(...n){return new p3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hm(t)}static increment(e){const t=function q3(n){return new m3("increment",n)}(e);return t._methodName="FieldValue.increment",new hm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const J3={Firestore:OL,GeoPoint:BD,Timestamp:Ai,Blob:W0,Transaction:PL,WriteBatch:NL,DocumentReference:qa,DocumentSnapshot:Z0,Query:Us,QueryDocumentSnapshot:K0,QuerySnapshot:xR,CollectionReference:ty,FieldPath:MR,FieldValue:hm,setLogLevel:function Q3(n){!function W2(n){Oh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function t$(n){(function e$(n,e){n.INTERNAL.registerComponent(new Tb.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},J3)))})(n,(e,t)=>new OL(e,t,new Y3)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(jM.Z);var AR=V(6451),WD=V(5363),n$=V(6063);class i$ extends _n.x{constructor(e=1/0,t=1/0,i=n$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;t||(i.push(e),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!e.closed;c+=i?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var VL=V(3099);function BL(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,VL.B)({connector:()=>new i$(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function UL(n,e){return(0,ro.m)(e)?Mn(()=>n,e):Mn(()=>n)}var kR=V(9468);V(5867);const OR=new Map,jL={activated:!1,tokenObservers:[]},l$={initialized:!1,enabled:!1};function es(n){return OR.get(n)||Object.assign({},jL)}function KD(){return l$}class p${constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new Nn.BH,yield function m$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hs=new Nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zL(n){if(!es(n).activated)throw Hs.create("use-before-activation",{appName:n.name})}function FR(n,e){return LR.apply(this,arguments)}function LR(){return LR=(0,Me.Z)(function*({url:n,body:e},t){var i,r;const o={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const F=yield c.getHeartbeatsHeader();F&&(o["X-Firebase-Client"]=F)}const h={method:"POST",body:JSON.stringify(e),headers:o};let p,y;try{p=yield fetch(n,h)}catch(F){throw Hs.create("fetch-network-error",{originalErrorMessage:null===(i=F)||void 0===i?void 0:i.message})}if(200!==p.status)throw Hs.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(F){throw Hs.create("fetch-parse-error",{originalErrorMessage:null===(r=F)||void 0===r?void 0:r.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(w[1]),R=Date.now();return{token:y.token,expireTimeMillis:R+T,issuedAtTimeMillis:R}}),LR.apply(this,arguments)}function v$(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Y0="firebase-app-check-store";let XD=null;function qL(){return XD||(XD=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;e(Hs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Y0,{keyPath:"compositeKey"})}}catch(i){e(Hs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),XD)}function VR(){return VR=(0,Me.Z)(function*(n,e){const i=(yield qL()).transaction(Y0,"readwrite"),o=i.objectStore(Y0).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var y;h(Hs.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),VR.apply(this,arguments)}const Q0=new Ec.Yd("@firebase/app-check");function HR(n,e){return(0,Nn.hl)()?function E$(n,e){return function WL(n,e){return VR.apply(this,arguments)}(function KL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Q0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YL(){return KD().enabled}function QL(){return $R.apply(this,arguments)}function $R(){return $R=(0,Me.Z)(function*(){const n=KD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$R.apply(this,arguments)}const M$={error:"UNKNOWN_ERROR"};function A$(n){return Nn.US.encodeString(JSON.stringify(n),!1)}function JD(n){return zR.apply(this,arguments)}function zR(){return zR=(0,Me.Z)(function*(n,e=!1){const t=n.app;zL(t);const i=es(t);let o,r=i.token;if(r&&!ny(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(ny(p)?r=p:yield HR(t,void 0))}if(!e&&r&&ny(r))return{token:r.token};let h,c=!1;if(YL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=FR(v$(t,yield QL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield HR(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield es(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Q0.warn(p.message):Q0.error(p),o=p}return r?o?h=ny(r)?{token:r.token,internalError:o}:eV(o):(h={token:r.token},i.token=r,yield HR(t,r)):h=eV(o),c&&JL(t,h),h}),zR.apply(this,arguments)}function qR(n,e){const t=es(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function XL(n){const{app:e}=n,t=es(e);let i=t.tokenRefresher;i||(i=function k$(n){const{app:e}=n;return new p$((0,Me.Z)(function*(){let i;if(i=es(e).token?yield JD(n,!0):yield JD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=es(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function JL(n,e){const t=es(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function ny(n){return n.expireTimeMillis-Date.now()>0}function eV(n){return{token:A$(M$),error:n}}class R${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=es(this.app);for(const t of e)qR(this.app,t.next);return Promise.resolve()}}const lV="app-check-internal";!function q$(){(0,Bl._registerComponent)(new Tb.wA("app-check",n=>function O$(n,e){return new R$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(lV).initialize()})),(0,Bl._registerComponent)(new Tb.wA(lV,n=>function P$(n){return{getToken:e=>JD(n,e),addTokenListener:e=>function GR(n,e,t,i){const{app:r}=n,o=es(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&ny(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),XL(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XL(n))}(n,"INTERNAL",e),removeTokenListener:e=>qR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bl.registerVersion)("@firebase/app-check","0.5.17")}();class YR{constructor(){return(0,sr.vb)("app-check")}}typeof window<"u"&&window,V(127);const uV=new u.OlP("angularfire2.auth.use-emulator"),dV=new u.OlP("angularfire2.auth.settings"),hV=new u.OlP("angularfire2.auth.tenant-id"),fV=new u.OlP("angularfire2.auth.langugage-code"),pV=new u.OlP("angularfire2.auth.use-device-language"),mV=new u.OlP("angularfire.auth.persistence"),gV=(n,e,t,i,r,o,c,h)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[y,w]of Object.entries(c))p.settings[y]=w;return h&&p.setPersistence(h),p},[t,i,r,o,c,h]);let tT=(()=>{class n{constructor(t,i,r,o,c,h,p,y,w,T,R,F){const U=new _n.x,X=bt(void 0).pipe((0,WD.Q)(c.outsideAngular),Mn(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Et.U)(()=>(0,ao.on)(t,o,i)),(0,Et.U)(z=>gV(z,o,h,y,w,T,p,R)),BL({bufferSize:1,refCount:!1}));if(ra(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{X.pipe(Tl()).subscribe();const ee=X.pipe(Mn(Oe=>Oe.getRedirectResult().then(Ye=>Ye,()=>null)),sr.iC,BL({bufferSize:1,refCount:!1})),Ie=X.pipe(Mn(Oe=>new Ti.y(Ye=>({unsubscribe:o.runOutsideAngular(()=>Oe.onAuthStateChanged(tt=>Ye.next(tt),tt=>Ye.error(tt),()=>Ye.complete()))})))),we=X.pipe(Mn(Oe=>new Ti.y(Ye=>({unsubscribe:o.runOutsideAngular(()=>Oe.onIdTokenChanged(tt=>Ye.next(tt),tt=>Ye.error(tt),()=>Ye.complete()))}))));this.authState=ee.pipe(UL(Ie),(0,kR.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular)),this.user=ee.pipe(UL(we),(0,kR.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Mn(Oe=>Oe?(0,In.D)(Oe.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Mn(Oe=>Oe?(0,In.D)(Oe.getIdTokenResult()):bt(null))),this.credential=(0,AR.T)(ee,U,this.authState.pipe(xi(Oe=>!Oe))).pipe((0,Et.U)(Oe=>Oe?.user?Oe:null),(0,kR.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular))}return(0,ao.pX)(this,X,o,{spy:{apply:(z,ee,Ie)=>{(z.startsWith("signIn")||z.startsWith("createUser"))&&Ie.then(we=>U.next(we))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ao.Dh),u.LFG(ao.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(sr.HU),u.LFG(uV,8),u.LFG(dV,8),u.LFG(hV,8),u.LFG(fV,8),u.LFG(pV,8),u.LFG(mV,8),u.LFG(YR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function _V(n,e){return function X$(n,e=Uu.z){return new Ti.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function XR(n,e){return _V(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function nT(n,e){return XR(n,e).pipe(hc(void 0),NI(),(0,Et.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(w=>w.doc.ref.isEqual(c.ref)),y=t?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function yV(n,e,t){return nT(n,t).pipe(Hd((i,r)=>function ez(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function tz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Jg(),(0,Et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function JR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function vV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=nT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(hc(void 0),NI(),xi(([i,r])=>r.length>0||!i),(0,Et.U)(([i,r])=>r),sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vV(e);return yV(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return XR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),sr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(sr.iC)}add(e){return this.ref.add(e)}doc(e){return new wV(this.ref.doc(e),this.afs)}}class wV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=CV(i,t);return new bV(r,o,this.afs)}snapshotChanges(){return function J$(n,e){return _V(n,e).pipe(hc(void 0),NI(),(0,Et.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(sr.iC)}}class nz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),xi(t=>t.length>0),sr.iC):nT(this.query,this.afs.schedulers.outsideAngular).pipe(sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vV(e);return yV(this.query,t,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(e={}){return XR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),sr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(sr.iC)}}const iz=new u.OlP("angularfire2.enableFirestorePersistence"),rz=new u.OlP("angularfire2.firestore.persistenceSettings"),sz=new u.OlP("angularfire2.firestore.settings"),oz=new u.OlP("angularfire2.firestore.use-emulator");function CV(n,e=(t=>t)){return{query:e(n),ref:n}}let az=(()=>{class n{constructor(t,i,r,o,c,h,p,y,w,T,R,F,U,X,z,ee,Ie){this.schedulers=p;const we=(0,ao.on)(t,h,i),Oe=w;T&&gV(we,h,R,U,X,z,F,ee),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${we.name}.firestore`,"AngularFirestore",we.name,()=>{const Ye=h.runOutsideAngular(()=>we.firestore());if(o&&Ye.settings(o),Oe&&Ye.useEmulator(...Oe),r&&!ra(c)){const tt=()=>{try{return(0,In.D)(Ye.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Lt){return typeof console<"u"&&console.warn(Lt),bt(!1)}};return[Ye,h.runOutsideAngular(tt)]}return[Ye,bt(!1)]},[o,Oe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=CV(r,i),h=this.schedulers.ngZone.run(()=>o);return new bV(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),o=this.firestore.collectionGroup(t);return new nz(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new wV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ao.Dh),u.LFG(ao.xv,8),u.LFG(iz,8),u.LFG(sz,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(sr.HU),u.LFG(rz,8),u.LFG(oz,8),u.LFG(tT,8),u.LFG(uV,8),u.LFG(dV,8),u.LFG(hV,8),u.LFG(fV,8),u.LFG(pV,8),u.LFG(mV,8),u.LFG(YR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class EV{}const Xu="*";function Oc(n,e){return{type:7,name:n,definitions:e,options:{}}}function ho(n,e=null){return{type:4,styles:e,timings:n}}function IV(n,e=null){return{type:2,steps:n,options:e}}function Xn(n){return{type:6,styles:n,offset:null}}function Ui(n,e,t){return{type:0,name:n,styles:e,options:t}}function js(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function DV(n){Promise.resolve().then(n)}class X0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?DV(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const SV=["toast-component",""];function dz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function hz(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function fz(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,hz,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function pz(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function mz(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function gz(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class Ez{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Dz{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new _n.x,this._activate=new _n.x,this._manualClose=new _n.x,this._resetTimeout=new _n.x,this._countDuplicate=new _n.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class iT{constructor(e,t,i,r,o,c){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=o,this.toastRef=c,this._onTap=new _n.x,this._onAction=new _n.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const MV=new u.OlP("ToastConfig");class Tz extends class Iz{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Sz{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let xz=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mz=(()=>{class n{constructor(t,i,r,o){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=o,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new Tz(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Sz(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xz),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rT=(()=>{class n{constructor(t,i,r,o,c){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},o=""){return this._preBuildNotification(o,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,o){const{includeTitleDuplicates:c}=this.toastrConfig;for(const h of this.toasts){const p=c&&h.title===t;if((!c||p)&&h.message===i)return h.toastRef.onDuplicate(r,o),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,o)):this._buildNotification(t,i,r,o)}_buildNotification(t,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const p=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let y=i;i&&o.enableHtml&&(y=this.sanitizer.sanitize(u.q3G.HTML,i));const w=new Dz(p),T=new iT(this.index,o,y,r,t,w),F=u.zs3.create({providers:[{provide:iT,useValue:T}],parent:this._injector}),U=new Ez(o.toastComponent,F),X=p.attach(U,o.newestOnTop);w.componentInstance=X.instance;const z={toastId:this.index,title:r||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:T.onTap(),onAction:T.onAction(),portal:X};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{z.toastRef.activate()})),this.toasts.push(z),z}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MV),u.LFG(Mz),u.LFG(u.zs3),u.LFG(Ys),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Az={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rT),u.Y36(iT),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",i.state),u.Tol(i.toastClasses),u.Udp("display",i.displayStyle))},attrs:SV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(u.YNc(0,dz,3,0,"button",0),u.YNc(1,fz,3,5,"div",1),u.YNc(2,pz,1,3,"div",2),u.YNc(3,mz,2,4,"div",3),u.YNc(4,gz,2,2,"div",4)),2&t&&(u.Q6J("ngIf",i.options.closeButton),u.xp6(1),u.Q6J("ngIf",i.title),u.xp6(1),u.Q6J("ngIf",i.message&&i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.message&&!i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.options.progressBar))},dependencies:[Gn],encapsulation:2,data:{animation:[Oc("flyInOut",[Ui("inactive",Xn({opacity:0})),Ui("active",Xn({opacity:1})),Ui("removed",Xn({opacity:0})),js("inactive => active",ho("{{ easeTime }}ms {{ easing }}")),js("active => removed",ho("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let kz=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:MV,useValue:{default:Az,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ws]}),n})(),t1=(()=>{class n{constructor(){this.isLoading=new _n.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sT=(()=>{class n{constructor(t,i,r,o){this.firestore=t,this.auth=i,this.toast=r,this.loader=o,this.UserUpdateEvent=new u.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.progressBar=!0,this.toast.toastrConfig.positionClass="toast-bottom-right",this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{if(this.loader.show(),null==t)return this.loader.hide(),void this.UserUpdateEvent.emit(void 0);console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(i=>{this.user=i.data(),null==this.user?(this.user={email:t.email,id:t.email,role:Cp.USER},this.users?.doc(t.email).set(this.user),console.log("FirestoreService: User Created",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user)):(console.log("FirestoreService: User Retrieved ",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user))})})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(r=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},r=>{this.loader.hide(),console.error("FirestoreService",r),this.toast.error("Unable to register User","Registration Error")})},i=>{this.loader.hide(),console.error("FirestoreService",i),this.handleRegisterError(i.code,t)}))}handleRegisterError(t,i){this.toast.error("auth/email-already-in-use"===t?i.id+" is already registered in our system.":"Unable to register "+i.id+" "+t,"Registration Error")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(az),u.LFG(tT),u.LFG(rT),u.LFG(t1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rz=(()=>{class n{constructor(t,i){this.firestore=t,this.toaster=i,this.editing=!1}ngOnInit(){}update(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sT),u.Y36(rT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile"]],decls:0,vars:0,template:function(t,i){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),n})();var Oz=V(8247);let n1;try{n1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{n1=!1}let J0,aT,fm,r1,fo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function kr(n){return n===Ar}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!n1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oT(n){return function Pz(){if(null==J0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>J0=!0}))}finally{J0=J0||!1}return J0}()?n:!!n.capture}function kV(){if(null==fm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fm=!1,fm;if("scrollBehavior"in document.documentElement.style)fm=!0;else{const n=Element.prototype.scrollTo;fm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fm}function ew(){if("object"!=typeof document||!document)return 0;if(null==aT){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),aT=0,0===n.scrollLeft&&(n.scrollLeft=1,aT=0===n.scrollLeft?1:2),n.remove()}return aT}function RV(n){if(function Nz(){if(null==r1){const n=typeof document<"u"?document.head:null;r1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return r1}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function pm(n){return n.composedPath?n.composedPath()[0]:n.target}function s1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function OV(n){return xi((e,t)=>n<=t)}var $z=V(5032);function Wo(n){return(0,qi.e)((e,t)=>{(0,gr.Xf)(n).subscribe((0,ni.x)(t,()=>t.complete(),$z.Z)),!t.closed&&e.subscribe(t)})}function Zo(n){return null!=n&&"false"!=`${n}`}function tw(n,e=0){return function zz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function lT(n){return Array.isArray(n)?n:[n]}function lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ry(n){return n instanceof u.SBq?n.nativeElement:n}let Gz=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Gz]}),n})();function PV(n,e=Uu.z){return(0,qi.e)((t,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=c+n,w=e.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);h()}t.subscribe((0,ni.x)(i,y=>{o=y,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}const NV=new Set;let sy,qz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Wz(n){if(!NV.has(n))try{sy||(sy=document.createElement("style"),sy.setAttribute("type","text/css"),document.head.appendChild(sy)),sy.sheet&&(sy.sheet.insertRule(`@media ${n} {body{ }}`,0),NV.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Kz=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new _n.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return FV(lT(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Ny(FV(lT(t)).map(c=>this._registerQuery(c).observable));return o=zm(o.pipe(Os(1)),o.pipe(OV(1),PV(0))),o.pipe((0,Et.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ti.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(hc(i),(0,Et.U)(({matches:c})=>({query:t,matches:c})),Wo(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qz),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let BV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Jz(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Xz(n){try{return n.frameElement}catch{return null}}(function aG(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===HV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=HV(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function sG(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function oG(n){return!function tG(n){return function iG(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function eG(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function nG(n){return function rG(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||UV(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function HV(n){if(!UV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class lG{constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Os(1)).subscribe(e)}}let cG=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new lG(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BV),u.LFG(u.R0b),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $V(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uG=new u.OlP("cdk-input-modality-detector-options"),dG={ignoreKeys:[18,17,224,91,16]},oy=oT({passive:!0,capture:!0});let hG=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Rs(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=pm(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jV(c)?"keyboard":"mouse"),this._mostRecentTarget=pm(c))},this._onTouchstart=c=>{$V(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=pm(c))},this._options={...dG,...o},this.modalityDetected=this._modality.pipe(OV(1)),this.modalityChanged=this.modalityDetected.pipe(Jg()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,oy),r.addEventListener("mousedown",this._onMousedown,oy),r.addEventListener("touchstart",this._onTouchstart,oy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oy),document.removeEventListener("mousedown",this._onMousedown,oy),document.removeEventListener("touchstart",this._onTouchstart,oy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo),u.LFG(u.R0b),u.LFG(ue),u.LFG(uG,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pG=new u.OlP("cdk-focus-monitor-default-options"),cT=oT({passive:!0,capture:!0});let a1=(()=>{class n{constructor(t,i,r,o,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _n.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=pm(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=ry(t);if(!this._platform.isBrowser||1!==r.nodeType)return bt(null);const o=RV(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new _n.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ry(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=ry(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=pm(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wo(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(fo),u.LFG(hG),u.LFG(ue,8),u.LFG(pG,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GV="cdk-high-contrast-black-on-white",qV="cdk-high-contrast-white-on-black",l1="cdk-high-contrast-active";let WV=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(Kz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(l1,GV,qV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(l1,GV):2===i&&t.add(l1,qV)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mG=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WV))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[o1]}),n})();const gG=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function _G(){return(0,u.f3M)(ue)}}),yG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let c1=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function vG(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?yG.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gG,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const wG=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function bG(){return!0}});let oi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!s1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WV),u.LFG(wG,8),u.LFG(ue))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ay,ay]}),n})();function CG(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Zo(e)}}}function uT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function YV(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zo(e)}}}let DG=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QV={enterDuration:225,exitDuration:150},u1=oT({passive:!0}),XV=["mousedown","touchstart"],JV=["mouseup","mouseleave","touchend","touchcancel"];class xG{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ry(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...QV,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function MG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,y=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const T=window.getComputedStyle(w),F=T.transitionDuration,U="none"===T.transitionProperty||"0s"===F||"0s, 0s"===F,X=new TG(this,w,i,U);w.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let z=null;return!U&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ee=()=>this._finishRippleTransition(X),Ie=()=>this._destroyRipple(X);w.addEventListener("transitionend",ee),w.addEventListener("transitioncancel",Ie),z={onTransitionEnd:ee,onTransitionCancel:Ie}}),this._activeRipples.set(X,z),(U||!y)&&this._finishRippleTransition(X),X}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...QV,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ry(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(XV))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(JV),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=jV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$V(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,u1)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(XV.forEach(e=>{this._triggerElement.removeEventListener(e,this,u1)}),this._pointerUpEventsRegistered&&JV.forEach(e=>{this._triggerElement.removeEventListener(e,this,u1)}))}}const AG=new u.OlP("mat-ripple-global-options");let d1=(()=>{class n{constructor(t,i,r,o,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new xG(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(fo),u.Y36(AG,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi,oi]}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi]}),n})(),eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[iw,ws,oi,kG]}),n})();const RG=["mat-button",""],OG=["*"],NG=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],FG=uT(CG(YV(class{constructor(n){this._elementRef=n}})));let tB=(()=>{class n extends FG{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of NG)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(a1),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&u.Gf(d1,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:RG,ngContentSelectors:OG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[d1],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[iw,oi,oi]}),n})(),iB=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.route=r}ngOnInit(){this.login()}login(){var t=new Oz.Q;t.addScope("email"),this.firestore.loader.show(),this.auth.signInWithPopup(t).then(i=>{this.firestore.loader.hide(),console.log("User Login Success ",i),this.firestore.toast.success(i.user?.email?i.user.email:"","User Login Success"),this.route.navigate(["dashboard"])}).catch(i=>{this.firestore.loader.hide(),console.error(i),this.handleError(i.code)})}handleError(t){switch(t){case"auth/user-not-found":this.firestore.toast.error("User not Found","Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;case"auth/configuration-not-found":this.firestore.toast.error("Configuration not found for authentication","Login Error");break;default:this.firestore.toast.error("Unable to login","Login Error")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tT),u.Y36(sT),u.Y36(Zi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"text-center"],[1,"mt-1"],["src","assets/icons/google.svg",2,"height","40px"],[1,"mt-3"],["mat-button","",1,"primary",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),u._uU(7,"Login"),u.qZA(),u.TgZ(8,"form",7)(9,"div",8)(10,"div",9),u._UZ(11,"img",10),u.qZA(),u.TgZ(12,"div",11)(13,"button",12),u.NdJ("click",function(){return i.login()}),u._uU(14," Sign In using Google"),u.qZA()()()()()()()()())},dependencies:[Nd,bf,ka,tB],styles:["label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),n})();const LG=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:cx},{path:"login",component:iB},{path:"profile",component:Rz},{path:"dashboard",component:PI},{path:"login",component:iB},{path:"logout",component:(()=>{class n{constructor(t,i){this.firestore=t,this.route=i}ngOnInit(){this.firestore.loader.show(),this.firestore.auth.signOut().then(()=>{this.firestore.loader.hide(),this.firestore.toast.success("User Logged out","Logout"),this.route.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sT),u.Y36(Zi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-logout"]],decls:0,vars:0,template:function(t,i){}}),n})()}];let VG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ZC.forRoot(LG),ZC]}),n})();var BG=V(1144);const UG=["addListener","removeListener"],HG=["addEventListener","removeEventListener"],jG=["on","off"];function rw(n,e,t,i){if((0,ro.m)(t)&&(i=t,t=void 0),i)return rw(n,e,t).pipe(oc(i));const[r,o]=function GG(n){return(0,ro.m)(n.addEventListener)&&(0,ro.m)(n.removeEventListener)}(n)?HG.map(c=>h=>n[c](e,h,t)):function $G(n){return(0,ro.m)(n.addListener)&&(0,ro.m)(n.removeListener)}(n)?UG.map(rB(n,e)):function zG(n){return(0,ro.m)(n.on)&&(0,ro.m)(n.off)}(n)?jG.map(rB(n,e)):[];if(!r&&(0,BG.z)(n))return(0,Pn.z)(c=>rw(c,e,t))((0,gr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ti.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>o(h)})}function rB(n,e){return t=>i=>n[t](e,i)}var sB=V(4408);const sw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=sw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new pu.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=sw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=sw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var oB=V(7565);new class WG extends oB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class qG extends sB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=sw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(sw.cancelAnimationFrame(t),e._scheduled=void 0)}});let h1,KG=1;const dT={};function aB(n){return n in dT&&(delete dT[n],!0)}const YG={setImmediate(n){const e=KG++;return dT[e]=!0,h1||(h1=Promise.resolve()),h1.then(()=>aB(e)&&n()),e},clearImmediate(n){aB(n)}},{setImmediate:QG,clearImmediate:XG}=YG,hT={setImmediate(...n){const{delegate:e}=hT;return(e?.setImmediate||QG)(...n)},clearImmediate(n){const{delegate:e}=hT;return(e?.clearImmediate||XG)(n)},delegate:void 0};new class e5 extends oB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class JG extends sB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(hT.clearImmediate(t),e._scheduled=void 0)}});var r5=V(3532);function lB(n,e=Uu.z){return function n5(n){return(0,qi.e)((e,t)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,t.next(y)}c&&t.complete()},p=()=>{o=null,c&&t.complete()};e.subscribe((0,ni.x)(t,y=>{i=!0,r=y,o||(0,gr.Xf)(n(y)).subscribe(o=(0,ni.x)(t,h,p))},()=>{c=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function o5(n=0,e,t=Uu.P){let i=-1;return null!=e&&((0,r5.K)(e)?t=e:i=e),new Ti.y(r=>{let o=function s5(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let f1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new _n.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ti.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(lB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(xi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ry(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(fo),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p1=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new _n.x,this._elementScrolled=new Ti.y(c=>this.ngZone.runOutsideAngular(()=>rw(this.elementRef.nativeElement,"scroll").pipe(Wo(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=ew()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==ew()?t.left=t.right:1==ew()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;kV()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==ew()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==ew()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(f1),u.Y36(u.R0b),u.Y36(c1,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fT=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new _n.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(lB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fo),u.LFG(u.R0b),u.LFG(ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),cB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ay,ow,ay,ow]}),n})();const uB=["*"],c5=["content"];function u5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r._onBackdropClicked())}),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function d5(n,e){1&n&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const h5=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],f5=["mat-drawer","mat-drawer-content","*"],p5={transformDrawer:Oc("transform",[Ui("open, open-instant",Xn({transform:"none",visibility:"visible"})),Ui("void",Xn({"box-shadow":"none",visibility:"hidden"})),js("void => open-instant",ho("0ms")),js("void <=> open, open-instant => void",ho("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},m5=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function g5(){return!1}}),dB=new u.OlP("MAT_DRAWER_CONTAINER");let m1=(()=>{class n extends p1{constructor(t,i,r,o,c){super(r,o,c),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>fB)),u.Y36(u.SBq),u.Y36(f1),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&u.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[u._Bn([{provide:p1,useExisting:n}]),u.qOj],ngContentSelectors:uB,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),hB=(()=>{class n{constructor(t,i,r,o,c,h,p,y){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=h,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new _n.x,this._animationEnd=new _n.x,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(xi(w=>w),(0,Et.U)(()=>{})),this.openedStart=this._animationStarted.pipe(xi(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),By(void 0)),this._closedStream=this.openedChange.pipe(xi(w=>!w),(0,Et.U)(()=>{})),this.closedStart=this._animationStarted.pipe(xi(w=>w.fromState!==w.toState&&"void"===w.toState),By(void 0)),this._destroyed=new _n.x,this.onPositionChanged=new u.vpe,this._modeChanged=new _n.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{rw(this._elementRef.nativeElement,"keydown").pipe(xi(w=>27===w.keyCode&&!this.disableClose&&!function jz(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(w)),Wo(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(Jg((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:R}=w;(0===R.indexOf("open")&&"void"===T||"void"===R&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Zo(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Zo(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Zo(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Os(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(cG),u.Y36(a1),u.Y36(fo),u.Y36(u.R0b),u.Y36(BV),u.Y36(ue,8),u.Y36(dB,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&u.Gf(c5,5),2&t){let r;u.iGM(r=u.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&u.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&t&&(u.uIk("align",null),u.d8E("@transform",i._animationState),u.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:uB,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA())},dependencies:[p1],encapsulation:2,data:{animation:[p5.transformDrawer]},changeDetection:0}),n})(),fB=(()=>{class n{constructor(t,i,r,o,c,h=!1,p){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new _n.x,this._doCheckSubject=new _n.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new _n.x,t&&t.change.pipe(Wo(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Wo(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Zo(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Zo(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(hc(this._allDrawers),Wo(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(hc(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(PV(10),Wo(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(xi(i=>i.fromState!==i.toState),Wo(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Wo(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Wo(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Os(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Wo((0,AR.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(c1,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(fT),u.Y36(m5),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,m1,5),u.Suo(r,hB,5)),2&t){let o;u.iGM(o=u.CRH())&&(i._content=o.first),u.iGM(o=u.CRH())&&(i._allDrawers=o)}},viewQuery:function(t,i){if(1&t&&u.Gf(m1,5),2&t){let r;u.iGM(r=u.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:dB,useExisting:n}])],ngContentSelectors:f5,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(u.F$t(h5),u.YNc(0,u5,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,d5,2,0,"mat-drawer-content",1)),2&t&&(u.Q6J("ngIf",i.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!i._content))},dependencies:[Gn,m1],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),_5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ws,oi,ow,ow,oi]}),n})();class pB{}class mB{}class Ju{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ju?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ju;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ju?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class y5{encodeKey(e){return gB(e)}encodeValue(e){return gB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const b5=/%(\d[a-f0-9])/gi,w5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gB(n){return encodeURIComponent(n).replace(b5,(e,t)=>w5[t]??e)}function pT(n){return`${n}`}class Yh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new y5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(pT):[pT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Yh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(pT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class C5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _B(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yB(n){return typeof Blob<"u"&&n instanceof Blob}function vB(n){return typeof FormData<"u"&&n instanceof FormData}class aw{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function E5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ju),this.context||(this.context=new C5),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Yh,this.urlWithParams=t}serializeBody(){return null===this.body?null:_B(this.body)||yB(this.body)||vB(this.body)||function I5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vB(this.body)?null:yB(this.body)?this.body.type||null:_B(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((T,R)=>T.set(R,e.setHeaders[R]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((T,R)=>T.set(R,e.setParams[R]),y)),new aw(t,i,o,{params:y,headers:p,context:w,reportProgress:h,responseType:r,withCredentials:c})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class g1{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ju,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _1 extends g1{constructor(e={}){super(e),this.type=cr.ResponseHeader}clone(e={}){return new _1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mT extends g1{constructor(e={}){super(e),this.type=cr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new mT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bB extends g1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function y1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let v1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof aw)o=t;else{let p,y;p=r.headers instanceof Ju?r.headers:new Ju(r.headers),r.params&&(y=r.params instanceof Yh?r.params:new Yh({fromObject:r.params})),o=new aw(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=bt(o).pipe(Sl(p=>this.handler.handle(p)));if(t instanceof aw||"events"===r.observe)return c;const h=c.pipe(xi(p=>p instanceof mT));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Et.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Et.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Yh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,y1(r,i))}post(t,i,r={}){return this.request("POST",t,y1(r,i))}put(t,i,r={}){return this.request("PUT",t,y1(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pB))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wB{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const b1=new u.OlP("HTTP_INTERCEPTORS");let D5=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const T5=/^\)\]\}',?\n/;let CB=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ti.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((F,U)=>r.setRequestHeader(F,U.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const F=t.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(t.responseType){const F=t.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const o=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const F=r.statusText||"OK",U=new Ju(r.getAllResponseHeaders()),X=function S5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new _1({headers:U,status:r.status,statusText:F,url:X}),c},p=()=>{let{headers:F,status:U,statusText:X,url:z}=h(),ee=null;204!==U&&(ee=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=ee?200:0);let Ie=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof ee){const we=ee;ee=ee.replace(T5,"");try{ee=""!==ee?JSON.parse(ee):null}catch(Oe){ee=we,Ie&&(Ie=!1,ee={error:Oe,text:ee})}}Ie?(i.next(new mT({body:ee,headers:F,status:U,statusText:X,url:z||void 0})),i.complete()):i.error(new bB({error:ee,headers:F,status:U,statusText:X,url:z||void 0}))},y=F=>{const{url:U}=h(),X=new bB({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(X)};let w=!1;const T=F=>{w||(i.next(h()),w=!0);let U={type:cr.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(U.total=F.total),"text"===t.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},R=F=>{let U={type:cr.UploadProgress,loaded:F.loaded};F.lengthComputable&&(U.total=F.total),i.next(U)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",T),null!==o&&r.upload&&r.upload.addEventListener("progress",R)),r.send(o),i.next({type:cr.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",T),null!==o&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Io))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const w1=new u.OlP("XSRF_COOKIE_NAME"),C1=new u.OlP("XSRF_HEADER_NAME");class EB{}let x5=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(u.Lbi),u.LFG(w1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),E1=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EB),u.LFG(C1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),M5=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(b1,[]);this.chain=i.reduceRight((r,o)=>new wB(r,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mB),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),A5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:E1,useClass:D5}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:w1,useValue:t.cookieName}:[],t.headerName?{provide:C1,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[E1,{provide:b1,useExisting:E1,multi:!0},{provide:EB,useClass:x5},{provide:w1,useValue:"XSRF-TOKEN"},{provide:C1,useValue:"X-XSRF-TOKEN"}]}),n})(),k5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[v1,{provide:pB,useClass:M5},CB,{provide:mB,useExisting:CB}],imports:[A5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const R5=["*"];let gT;function lw(n){return function O5(){if(void 0===gT&&(gT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(gT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return gT}()?.createHTML(n)||n}function IB(n){return Error(`Unable to find icon with the name "${n}"`)}function DB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class mm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let _T=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new mm(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw TB(r);const h=lw(c);return this._addSvgIconConfig(t,i,new mm("",h,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new mm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(u.q3G.HTML,i);if(!o)throw TB(i);const c=lw(o);return this._addSvgIconSetConfig(t,new mm("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw DB(t);const r=this._cachedIconsByUrl.get(i);return r?bt(yT(r)):this._loadSvgIconFromConfig(new mm(t,null)).pipe((0,Wi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Et.U)(o=>yT(o)))}getNamedSvgIcon(t,i=""){const r=SB(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Ud(IB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?bt(yT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Et.U)(i=>yT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?bt(r):Da(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Ra(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),bt(null)})))).pipe((0,Et.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw IB(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(c,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wi.b)(i=>t.svgText=i),(0,Et.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?bt(null):this._fetchIcon(t).pipe((0,Wi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(lw("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(lw("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:c,value:h}=r[o];"id"!==c&&i.setAttribute(c,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function P5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!c)throw DB(i);const h=this._inProgressUrlFetches.get(c);if(h)return h;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,Et.U)(y=>lw(y)),Of(()=>this._inProgressUrlFetches.delete(c)),(0,VL.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(SB(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return F5(o)?new mm(o.url,null,o.options):new mm(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(v1,8),u.LFG(Ys),u.LFG(ue,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yT(n){return n.cloneNode(!0)}function SB(n,e){return n+":"+e}function F5(n){return!(!n.url||!n.options)}const L5=uT(class{constructor(n){this._elementRef=n}}),V5=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),B5=new u.OlP("mat-icon-location",{providedIn:"root",factory:function U5(){const n=(0,u.f3M)(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),xB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],H5=xB.map(n=>`[${n}]`).join(", "),j5=/^url\(['"]?#(.*?)['"]?\)$/;let $5=(()=>{class n extends L5{constructor(t,i,r,o,c,h){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pu.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Zo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(H5),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)xB.forEach(c=>{const h=i[o],p=h.getAttribute(c),y=p?p.match(j5):null;if(y){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:c,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Os(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_T),u.$8M("aria-hidden"),u.Y36(B5),u.Y36(u.qLn),u.Y36(V5,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:R5,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi,oi]}),n})();const z5=["*",[["mat-toolbar-row"]]],G5=["*","mat-toolbar-row"],q5=uT(class{constructor(n){this._elementRef=n}});let W5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),AB=(()=>{class n extends q5{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(fo),u.Y36(ue))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,W5,5),2&t){let o;u.iGM(o=u.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:G5,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(z5),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Z5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi,oi]}),n})();function K5(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function Y5(n,e){if(1&n&&(u.ynx(0),u.YNc(1,K5,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","top"==t.align)}}function Q5(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function X5(n,e){if(1&n&&(u.ynx(0),u.YNc(1,Q5,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}function J5(n,e){if(1&n&&(u.TgZ(0,"button",19),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function e6(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,J5,2,3,"button",18),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}let t6=(()=>{class n{constructor(t,i){this.firestore=t,this.router=i,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(t=>{this.user=t,this.loadMenu()})}onResize(t){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let t=[];null==this.user?(t.push({name:"Home",link:"/home",class:"active-link",align:"bottom"}),t.push({name:"Login",link:"/login",class:"active-link",align:"bottom"})):(t.push({name:this.user.email,link:"/dashboard",class:"active",align:"top"}),t.push({name:"Dashboard",link:"/dashboard",class:"active-link",align:"bottom"}),t.push({name:"My Profile",link:"/profile",class:"active-link",align:"bottom"}),t.push({name:"Logout",link:"/logout",class:"active-link",align:"bottom"})),this.menu=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sT),u.Y36(Zi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,i){1&t&&u.NdJ("resize",function(o){return i.onResize(o)},!1,u.Jf7)},decls:31,vars:6,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/rupee.jpg","alt","logo",1,"logo"],[1,"title-lg"],[1,"title-sm"],[1,"d-inline-block",2,"width","5px"],[1,"example-spacer"],[1,"d-none","d-md-block"],[1,"row"],[1,"col","text-end","d-inline"],[4,"ngFor","ngForOf"],[1,"col"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","","class","menu-left",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(27);return u.KtG(c.toggle())}),u.TgZ(3,"mat-icon"),u._uU(4,"menu"),u.qZA()()(),u.TgZ(5,"span"),u._UZ(6,"img",2),u.qZA(),u.TgZ(7,"span")(8,"span",3),u._uU(9,"M"),u.qZA(),u.TgZ(10,"span",4),u._uU(11,"Y"),u.qZA(),u._UZ(12,"span",5),u.TgZ(13,"span",3),u._uU(14,"N"),u.qZA(),u.TgZ(15,"span",4),u._uU(16,"ETWORTH"),u.qZA()(),u._UZ(17,"span",6),u.TgZ(18,"div",7)(19,"div",8)(20,"div",9),u.YNc(21,Y5,2,1,"ng-container",10),u.qZA()(),u.TgZ(22,"div",8)(23,"div",11),u.YNc(24,X5,2,1,"ng-container",10),u.qZA()()()(),u.TgZ(25,"mat-drawer-container",12)(26,"mat-drawer",13,14)(28,"div",15),u.YNc(29,e6,2,1,"div",10),u.qZA()(),u._UZ(30,"router-outlet"),u.qZA()}2&t&&(u.xp6(21),u.Q6J("ngForOf",i.menu),u.xp6(3),u.Q6J("ngForOf",i.menu),u.xp6(1),u.Udp("height",i.contentScreenHeight,"px"),u.Q6J("hasBackdrop",!0),u.xp6(4),u.Q6J("ngForOf",i.menu))},dependencies:[$s,Gn,nv,Xf,Cv,hB,fB,$5,AB,tB],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-lg[_ngcontent-%COMP%]{font-size:30px;color:teal}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}.mat-button[_ngcontent-%COMP%]{line-height:30px}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.mat-button[_ngcontent-%COMP%]{line-height:36px}}"]}),n})(),n6=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(t,i){1&t&&(u.TgZ(0,"mat-toolbar"),u._UZ(1,"span",0),u.TgZ(2,"span"),u._uU(3,"\xa9 Design and Developed by V.V.S.K Chaitanya"),u.qZA(),u._UZ(4,"span",0),u.qZA())},dependencies:[AB],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function i6(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}function r6(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}const o6=uT(class{constructor(n){this._elementRef=n}},"primary"),a6=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function l6(){return{diameter:100}}});class ed extends o6{constructor(e,t,i,r,o,c,h,p){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=pu.w0.EMPTY,this.mode="determinate";const y=ed._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(i.head)||y.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&c&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=tw(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=tw(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,tw(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=RV(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=ed._diameters;let r=i.get(e);if(!r||!r.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ed._diameters=new WeakMap,ed.\u0275fac=function(e){return new(e||ed)(u.Y36(u.SBq),u.Y36(fo),u.Y36(ue,8),u.Y36(u.QbO,8),u.Y36(a6),u.Y36(u.sBO),u.Y36(fT),u.Y36(u.R0b))},ed.\u0275cmp=u.Xpm({type:ed,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(u.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(u.O4$(),u.TgZ(0,"svg",0,1),u.YNc(2,i6,1,11,"circle",2),u.YNc(3,r6,1,9,"circle",3),u.qZA()),2&e&&(u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===t.mode),u.uIk("viewBox",t._getViewBox()),u.xp6(2),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},dependencies:[wo,ql],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let u6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi,ws,oi]}),n})();function d6(n,e){if(1&n&&(u.TgZ(0,"div",1),u._UZ(1,"mat-progress-spinner",2),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("color",t.color)}}let h6=(()=>{class n{constructor(t){this.loaderService=t,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(t1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(t,i){1&t&&(u.YNc(0,d6,2,1,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,i.isLoading))},dependencies:[Gn,ed,nf],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})(),f6=(()=>{class n{constructor(){this.title="webedu"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[nv,t6,n6,h6]}),n})();const kB_firebase={apiKey:"AIzaSyD0jp-Q3QfD9G1zEwAAKeZEvOwUkE4cEFE",authDomain:"vvsk-networth.firebaseapp.com",projectId:"vvsk-networth",storageBucket:"vvsk-networth.appspot.com",messagingSenderId:"662970629985",appId:"1:662970629985:web:829ce9af1bcbbef2928f20"};function RB(n){return new u.vHH(3e3,!1)}function Z6(){return typeof window<"u"&&typeof window.document<"u"}function D1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qh(n){switch(n.length){case 0:return new X0;case 1:return n[0];default:return new TV(n)}}function OB(n,e,t,i,r=new Map,o=new Map){const c=[],h=[];let p=-1,y=null;if(i.forEach(w=>{const T=w.get("offset"),R=T==p,F=R&&y||new Map;w.forEach((U,X)=>{let z=X,ee=U;if("offset"!==X)switch(z=e.normalizePropertyName(z,c),ee){case"!":ee=r.get(X);break;case Xu:ee=o.get(X);break;default:ee=e.normalizeStyleValue(X,z,ee,c)}F.set(z,ee)}),R||h.push(F),y=F,p=T}),c.length)throw function F6(n){return new u.vHH(3502,!1)}();return h}function T1(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&S1(t,"start",n)));break;case"done":n.onDone(()=>i(t&&S1(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&S1(t,"destroy",n)))}}function S1(n,e,t){const o=x1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function x1(n,e,t,i,r="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Ko(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function PB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let M1=(n,e)=>!1,NB=(n,e,t)=>[],FB=null;function A1(n){const e=n.parentNode||n.host;return e===FB?null:e}(D1()||typeof Element<"u")&&(Z6()?(FB=(()=>document.documentElement)(),M1=(n,e)=>{for(;e;){if(e===n)return!0;e=A1(e)}return!1}):M1=(n,e)=>n.contains(e),NB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let gm=null,LB=!1;const VB=M1,BB=NB;let UB=(()=>{class n{validateStyleProperty(t){return function Y6(n){gm||(gm=function Q6(){return typeof document<"u"?document.body:null}()||{},LB=!!gm.style&&"WebkitAppearance"in gm.style);let e=!0;return gm.style&&!function K6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gm.style,!e&&LB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return VB(t,i)}getParentElement(t){return A1(t)}query(t,i,r){return BB(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,c,h=[],p){return new X0(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),k1=(()=>{class n{}return n.NOOP=new UB,n})();const R1="ng-enter",vT="ng-leave",bT="ng-trigger",wT=".ng-trigger",jB="ng-animating",O1=".ng-animating";function td(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:P1(parseFloat(e[1]),e[2])}function P1(n,e){return"s"===e?1e3*n:n}function CT(n,e,t){return n.hasOwnProperty("duration")?n:function e4(n,e,t){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(RB()),{duration:0,delay:0,easing:""};r=P1(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=P1(parseFloat(p),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function p6(){return new u.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function m6(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,RB())}return{duration:r,delay:o,easing:c}}(n,e,t)}function cw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $B(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Xh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function GB(n,e,t){return t?e+":"+t+";":""}function qB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=GB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=GB(0,s4(t),n.style[t]));n.setAttribute("style",e)}function Pc(n,e,t){n.style&&(e.forEach((i,r)=>{const o=F1(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),D1()&&qB(n))}function _m(n,e){n.style&&(e.forEach((t,i)=>{const r=F1(i);n.style[r]=""}),D1()&&qB(n))}function uw(n){return Array.isArray(n)?1==n.length?n[0]:IV(n):n}const N1=new RegExp("{{\\s*(.+?)\\s*}}","g");function WB(n){let e=[];if("string"==typeof n){let t;for(;t=N1.exec(n);)e.push(t[1]);N1.lastIndex=0}return e}function dw(n,e,t){const i=n.toString(),r=i.replace(N1,(o,c)=>{let h=e[c];return null==h&&(t.push(function _6(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function ET(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const r4=/-+([a-z0-9])/g;function F1(n){return n.replace(r4,(...e)=>e[1].toUpperCase())}function s4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function y6(n){return new u.vHH(3004,!1)}()}}function ZB(n,e){return window.getComputedStyle(n)[e]}function d4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function h4(n,e,t){if(":"==n[0]){const p=function f4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function R6(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function k6(n){return new u.vHH(3015,!1)}()),e;const r=i[1],o=i[2],c=i[3];e.push(KB(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&e.push(KB(c,r))}(i,t,e)):t.push(n),t}const ST=new Set(["true","1"]),xT=new Set(["false","0"]);function KB(n,e){const t=ST.has(n)||xT.has(n),i=ST.has(e)||xT.has(e);return(r,o)=>{let c="*"==n||n==r,h="*"==e||e==o;return!c&&t&&"boolean"==typeof r&&(c=r?ST.has(n):xT.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?ST.has(e):xT.has(e)),c&&h}}const p4=new RegExp("s*:selfs*,?","g");function L1(n,e,t,i){return new m4(n).build(e,t,i)}class m4{constructor(e){this._driver=e}build(e,t,i){const r=new y4(t);return this._resetContextStyleTimingState(r),Yo(this,uw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function b6(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function w6(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{WB(p).forEach(y=>{c.hasOwnProperty(y)||o.add(y)})})}),o.size&&(ET(o.values()),t.errors.push(function C6(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Yo(this,uw(e.animation),t);return{type:1,matchers:d4(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ym(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Yo(this,i,t)),options:ym(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(c=>{t.currentTime=i;const h=Yo(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:ym(e.options)}}visitAnimate(e,t){const i=function b4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return V1(CT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=V1(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=CT(t,e);return V1(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Xn({});if(5==o.type)r=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const y={};i.easing&&(y.easing=i.easing),c=Xn(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Xu?i.push(h):t.errors.push(new u.vHH(3002,!1)):i.push($B(h));let o=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let p of h.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),w=y.get(p);let T=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(t.errors.push(function I6(n,e,t,i,r){return new u.vHH(3010,!1)}()),T=!1),o=w.startTime),T&&y.set(p,{startTime:o,endTime:r}),t.options&&function n4(n,e,t){const i=e.params||{},r=WB(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function g6(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function D6(){return new u.vHH(3011,!1)}()),i;let o=0;const c=[];let h=!1,p=!1,y=0;const w=e.steps.map(ee=>{const Ie=this._makeStyleAst(ee,t);let we=null!=Ie.offset?Ie.offset:function v4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ie.styles),Oe=0;return null!=we&&(o++,Oe=Ie.offset=we),p=p||Oe<0||Oe>1,h=h||Oe<y,y=Oe,c.push(Oe),Ie});p&&t.errors.push(function T6(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function S6(){return new u.vHH(3200,!1)}());const T=e.steps.length;let R=0;o>0&&o<T?t.errors.push(function x6(){return new u.vHH(3202,!1)}()):0==o&&(R=1/(T-1));const F=T-1,U=t.currentTime,X=t.currentAnimateTimings,z=X.duration;return w.forEach((ee,Ie)=>{const we=R>0?Ie==F?1:R*Ie:c[Ie],Oe=we*z;t.currentTime=U+X.delay+Oe,X.duration=Oe,this._validateStyleAst(ee,t),ee.offset=we,i.styles.push(ee)}),i}visitReference(e,t){return{type:8,animation:Yo(this,uw(e.animation),t),options:ym(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ym(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ym(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function g4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(p4,"")),n=n.replace(/@\*/g,wT).replace(/@\w+/g,t=>wT+"-"+t.slice(1)).replace(/:animating/g,O1),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ko(t.collectedStyles,t.currentQuerySelector,new Map);const h=Yo(this,uw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:ym(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function M6(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:CT(e.timings,t.errors,!0);return{type:12,animation:Yo(this,uw(e.animation),t),timings:i,options:null}}}class y4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ym(n){return n?(n=cw(n)).params&&(n.params=function _4(n){return n?cw(n):null}(n.params)):n={},n}function V1(n,e,t){return{duration:n,delay:e,easing:t}}function B1(n,e,t,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class MT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const E4=new RegExp(":enter","g"),D4=new RegExp(":leave","g");function U1(n,e,t,i,r,o=new Map,c=new Map,h,p,y=[]){return(new T4).buildKeyframes(n,e,t,i,r,o,c,h,p,y)}class T4{buildKeyframes(e,t,i,r,o,c,h,p,y,w=[]){y=y||new MT;const T=new H1(e,t,y,r,o,w,[]);T.options=p;const R=p.delay?td(p.delay):0;T.currentTimeline.delayNextStep(R),T.currentTimeline.setStyles([c],null,T.errors,p),Yo(this,i,T);const F=T.timelines.filter(U=>U.containsAnimation());if(F.length&&h.size){let U;for(let X=F.length-1;X>=0;X--){const z=F[X];if(z.element===t){U=z;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,T.errors,p)}return F.length?F.map(U=>U.buildKeyframes()):[B1(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const c="number"==typeof o?o:td(dw(o,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const c=null!=i.duration?td(i.duration):null,h=null!=i.delay?td(i.delay):null;return 0!==c&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,c,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Yo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=AT);const c=td(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Yo(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?td(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Yo(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return CT(t.params?dw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?td(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=AT);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,w)=>{t.currentQueryIndex=w;const T=t.createSubContext(e.options,y);o&&T.delayNextStep(o),y===t.element&&(p=T.currentTimeline),Yo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=t.currentTimeline;p&&w.delayNextStep(p);const T=w.currentTime;Yo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const AT={};class H1{constructor(e,t,i,r,o,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new kT(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=td(i.duration)),null!=i.delay&&(r.delay=td(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=dw(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new H1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=AT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new S4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(E4,"."+this._enterClassName)).replace(D4,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&c.push(function A6(n){return new u.vHH(3014,!1)}()),h}}class kT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Xu),this._currentKeyframe.set(t,Xu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},c=function x4(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Xu)}else Xh(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const y=dw(p,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Xu),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Xh(h,new Map,this._backFill);y.forEach((w,T)=>{"!"===w?e.add(T):w===Xu&&t.add(T)}),i||y.set("offset",p/this.duration),r.push(y)});const o=e.size?ET(e.values()):[],c=t.size?ET(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return B1(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class S4 extends kT{constructor(e,t,i,r,o,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=i+t,h=t/c,p=Xh(e[0]);p.set("offset",0),o.push(p);const y=Xh(e[0]);y.set("offset",XB(h)),o.push(y);const w=e.length-1;for(let T=1;T<=w;T++){let R=Xh(e[T]);const F=R.get("offset");R.set("offset",XB((t+F*i)/c)),o.push(R)}i=c,t=0,r="",e=o}return B1(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function XB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class j1{}const M4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class A4 extends j1{normalizePropertyName(e,t){return F1(e)}normalizeStyleValue(e,t,i,r){let o="";const c=i.toString().trim();if(M4.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function v6(n,e){return new u.vHH(3005,!1)}())}return c+o}}function JB(n,e,t,i,r,o,c,h,p,y,w,T,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:T,errors:R}}const $1={};class e2{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function k4(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,c,h,p,y,w){const T=[],R=this.ast.options&&this.ast.options.params||$1,U=this.buildStyles(i,h&&h.params||$1,T),X=p&&p.params||$1,z=this.buildStyles(r,X,T),ee=new Set,Ie=new Map,we=new Map,Oe="void"===r,Ye={params:R4(X,R),delay:this.ast.options?.delay},tt=w?[]:U1(e,t,this.ast.animation,o,c,U,z,Ye,y,T);let Lt=0;if(tt.forEach(En=>{Lt=Math.max(En.duration+En.delay,Lt)}),T.length)return JB(t,this._triggerName,i,r,Oe,U,z,[],[],Ie,we,Lt,T);tt.forEach(En=>{const cn=En.element,Rn=Ko(Ie,cn,new Set);En.preStyleProps.forEach(Ut=>Rn.add(Ut));const Vt=Ko(we,cn,new Set);En.postStyleProps.forEach(Ut=>Vt.add(Ut)),cn!==t&&ee.add(cn)});const on=ET(ee.values());return JB(t,this._triggerName,i,r,Oe,U,z,tt,on,Ie,we,Lt)}}function R4(n,e){const t=cw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class O4{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=cw(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=dw(c,r,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),i.set(p,c)})}),i}}class N4{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new O4(r.style,r.options&&r.options.params||{},i))}),t2(this.states,"true","1"),t2(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new e2(e,r,this.states))}),this.fallbackTransition=function F4(n,e,t){return new e2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function t2(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const L4=new MT;class V4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=L1(this._driver,t,i,[]);if(i.length)throw function L6(n){return new u.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=OB(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=U1(this._driver,t,o,R1,vT,new Map,new Map,i,L4,r),c.forEach(w=>{const T=Ko(h,w.element,new Map);w.postStyleProps.forEach(R=>T.set(R,null))})):(r.push(function V6(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function B6(n){return new u.vHH(3504,!1)}();h.forEach((w,T)=>{w.forEach((R,F)=>{w.set(F,this._driver.computeStyle(T,F,Xu))})});const y=Qh(c.map(w=>{const T=h.get(w.element);return this._buildPlayer(w,new Map,T)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function U6(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=x1(t,"","","");return T1(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const n2="ng-animate-queued",z1="ng-animate-disabled",$4=[],r2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},z4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class G1{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Z4(n){return n??null}(i?e.value:e),i){const o=cw(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hw="void",q1=new G1(hw);class G4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Za(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function H6(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function j6(n){return new u.vHH(3303,!1)}();if(!function K4(n){return"start"==n||"done"==n}(i))throw function $6(n,e){return new u.vHH(3400,!1)}();const o=Ko(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};o.push(c);const h=Ko(this._engine.statesByElement,e,new Map);return h.has(t)||(Za(e,bT),Za(e,bT+"-"+t),h.set(t,q1)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function z6(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),c=new W1(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Za(e,bT),Za(e,bT+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const y=new G1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(t,y),p||(p=q1),y.value!==hw&&p.value===y.value){if(!function X4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(p.params,y.params)){const X=[],z=o.matchStyles(p.value,p.params,X),ee=o.matchStyles(y.value,y.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{_m(e,z),Pc(e,ee)})}return}const R=Ko(this._engine.playersByElement,e,[]);R.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let F=o.matchTransition(p.value,y.value,e,y.params),U=!1;if(!F){if(!r)return;F=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:p,toState:y,player:c,isFallbackTransition:U}),U||(Za(e,n2),c.onStart(()=>{ly(e,n2)})),c.onDone(()=>{let X=this.players.indexOf(c);X>=0&&this.players.splice(X,1);const z=this._engine.playersByElement.get(e);if(z){let ee=z.indexOf(c);ee>=0&&z.splice(ee,1)}}),this.players.push(c),R.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,wT,!0);i.forEach(r=>{if(r[Wa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const w=this.trigger(e,y,hw,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Qh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=i.get(c)||q1,w=new G1(hw),T=new W1(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Wa];(!o||o===r2)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=x1(o,i.triggerName,i.fromState.value,i.toState.value);p._data=e,T1(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class q4{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new G4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(RT(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!RT(t))return;const o=t[Wa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Za(e,z1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ly(e,z1))}removeNode(e,t,i,r){if(RT(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Wa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return RT(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,wT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,O1,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wa];if(t&&t.setForRemoval){if(e[Wa]=r2,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(z1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Qh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function G6(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new MT,r=[],o=new Map,c=[],h=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(se=>{w.add(se);const xe=this.driver.query(se,".ng-animate-queued",!0);for(let We=0;We<xe.length;We++)w.add(xe[We])});const T=this.bodyNode,R=Array.from(this.statesByElement.keys()),F=a2(R,this.collectedEnterElements),U=new Map;let X=0;F.forEach((se,xe)=>{const We=R1+X++;U.set(xe,We),se.forEach(et=>Za(et,We))});const z=[],ee=new Set,Ie=new Set;for(let se=0;se<this.collectedLeaveElements.length;se++){const xe=this.collectedLeaveElements[se],We=xe[Wa];We&&We.setForRemoval&&(z.push(xe),ee.add(xe),We.hasAnimation?this.driver.query(xe,".ng-star-inserted",!0).forEach(et=>ee.add(et)):Ie.add(xe))}const we=new Map,Oe=a2(R,Array.from(ee));Oe.forEach((se,xe)=>{const We=vT+X++;we.set(xe,We),se.forEach(et=>Za(et,We))}),e.push(()=>{F.forEach((se,xe)=>{const We=U.get(xe);se.forEach(et=>ly(et,We))}),Oe.forEach((se,xe)=>{const We=we.get(xe);se.forEach(et=>ly(et,We))}),z.forEach(se=>{this.processLeaveNode(se)})});const Ye=[],tt=[];for(let se=this._namespaceList.length-1;se>=0;se--)this._namespaceList[se].drainQueuedTransitions(t).forEach(We=>{const et=We.player,ht=We.element;if(Ye.push(et),this.collectedEnterElements.length){const tn=ht[Wa];if(tn&&tn.setForMove){if(tn.previousTriggersValues&&tn.previousTriggersValues.has(We.triggerName)){const li=tn.previousTriggersValues.get(We.triggerName),Hi=this.statesByElement.get(We.element);if(Hi&&Hi.has(We.triggerName)){const Qo=Hi.get(We.triggerName);Qo.value=li,Hi.set(We.triggerName,Qo)}}return void et.destroy()}}const At=!T||!this.driver.containsElement(T,ht),Pt=we.get(ht),ai=U.get(ht),Ht=this._buildInstruction(We,i,ai,Pt,At);if(Ht.errors&&Ht.errors.length)return void tt.push(Ht);if(At)return et.onStart(()=>_m(ht,Ht.fromStyles)),et.onDestroy(()=>Pc(ht,Ht.toStyles)),void r.push(et);if(We.isFallbackTransition)return et.onStart(()=>_m(ht,Ht.fromStyles)),et.onDestroy(()=>Pc(ht,Ht.toStyles)),void r.push(et);const Pi=[];Ht.timelines.forEach(tn=>{tn.stretchStartingKeyframe=!0,this.disabledNodes.has(tn.element)||Pi.push(tn)}),Ht.timelines=Pi,i.append(ht,Ht.timelines),c.push({instruction:Ht,player:et,element:ht}),Ht.queriedElements.forEach(tn=>Ko(h,tn,[]).push(et)),Ht.preStyleProps.forEach((tn,li)=>{if(tn.size){let Hi=p.get(li);Hi||p.set(li,Hi=new Set),tn.forEach((Qo,cy)=>Hi.add(cy))}}),Ht.postStyleProps.forEach((tn,li)=>{let Hi=y.get(li);Hi||y.set(li,Hi=new Set),tn.forEach((Qo,cy)=>Hi.add(cy))})});if(tt.length){const se=[];tt.forEach(xe=>{se.push(function q6(n,e){return new u.vHH(3505,!1)}())}),Ye.forEach(xe=>xe.destroy()),this.reportError(se)}const Lt=new Map,on=new Map;c.forEach(se=>{const xe=se.element;i.has(xe)&&(on.set(xe,xe),this._beforeAnimationBuild(se.player.namespaceId,se.instruction,Lt))}),r.forEach(se=>{const xe=se.element;this._getPreviousPlayers(xe,!1,se.namespaceId,se.triggerName,null).forEach(et=>{Ko(Lt,xe,[]).push(et),et.destroy()})});const En=z.filter(se=>c2(se,p,y)),cn=new Map;o2(cn,this.driver,Ie,y,Xu).forEach(se=>{c2(se,p,y)&&En.push(se)});const Vt=new Map;F.forEach((se,xe)=>{o2(Vt,this.driver,new Set(se),p,"!")}),En.forEach(se=>{const xe=cn.get(se),We=Vt.get(se);cn.set(se,new Map([...Array.from(xe?.entries()??[]),...Array.from(We?.entries()??[])]))});const Ut=[],me=[],mt={};c.forEach(se=>{const{element:xe,player:We,instruction:et}=se;if(i.has(xe)){if(w.has(xe))return We.onDestroy(()=>Pc(xe,et.toStyles)),We.disabled=!0,We.overrideTotalTime(et.totalTime),void r.push(We);let ht=mt;if(on.size>1){let Pt=xe;const ai=[];for(;Pt=Pt.parentNode;){const Ht=on.get(Pt);if(Ht){ht=Ht;break}ai.push(Pt)}ai.forEach(Ht=>on.set(Ht,ht))}const At=this._buildAnimation(We.namespaceId,et,Lt,o,Vt,cn);if(We.setRealPlayer(At),ht===mt)Ut.push(We);else{const Pt=this.playersByElement.get(ht);Pt&&Pt.length&&(We.parentPlayer=Qh(Pt)),r.push(We)}}else _m(xe,et.fromStyles),We.onDestroy(()=>Pc(xe,et.toStyles)),me.push(We),w.has(xe)&&r.push(We)}),me.forEach(se=>{const xe=o.get(se.element);if(xe&&xe.length){const We=Qh(xe);se.setRealPlayer(We)}}),r.forEach(se=>{se.parentPlayer?se.syncPlayerEvents(se.parentPlayer):se.destroy()});for(let se=0;se<z.length;se++){const xe=z[se],We=xe[Wa];if(ly(xe,vT),We&&We.hasAnimation)continue;let et=[];if(h.size){let At=h.get(xe);At&&At.length&&et.push(...At);let Pt=this.driver.query(xe,O1,!0);for(let ai=0;ai<Pt.length;ai++){let Ht=h.get(Pt[ai]);Ht&&Ht.length&&et.push(...Ht)}}const ht=et.filter(At=>!At.destroyed);ht.length?Y4(this,xe,ht):this.processLeaveNode(xe)}return z.length=0,Ut.forEach(se=>{this.players.push(se),se.onDone(()=>{se.destroy();const xe=this.players.indexOf(se);this.players.splice(xe,1)}),se.play()}),Ut}elementContainsData(e,t){let i=!1;const r=t[Wa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==hw;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,w=y!==o,T=Ko(i,y,[]);this._getPreviousPlayers(y,w,c,h,t.toState).forEach(F=>{const U=F.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),F.destroy(),T.push(F)})}_m(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,c){const h=t.triggerName,p=t.element,y=[],w=new Set,T=new Set,R=t.timelines.map(U=>{const X=U.element;w.add(X);const z=X[Wa];if(z&&z.removedBeforeQueried)return new X0(U.duration,U.delay);const ee=X!==p,Ie=function Q4(n){const e=[];return l2(n,e),e}((i.get(X)||$4).map(Lt=>Lt.getRealPlayer())).filter(Lt=>!!Lt.element&&Lt.element===X),we=o.get(X),Oe=c.get(X),Ye=OB(0,this._normalizer,0,U.keyframes,we,Oe),tt=this._buildPlayer(U,Ye,Ie);if(U.subTimeline&&r&&T.add(X),ee){const Lt=new W1(e,h,X);Lt.setRealPlayer(tt),y.push(Lt)}return tt});y.forEach(U=>{Ko(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function W4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),w.forEach(U=>Za(U,jB));const F=Qh(R);return F.onDestroy(()=>{w.forEach(U=>ly(U,jB)),Pc(p,t.toStyles)}),T.forEach(U=>{Ko(r,U,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new X0(e.duration,e.delay)}}class W1{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new X0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>T1(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function RT(n){return n&&1===n.nodeType}function s2(n,e){const t=n.style.display;return n.style.display=e??"none",t}function o2(n,e,t,i,r){const o=[];t.forEach(p=>o.push(s2(p)));const c=[];i.forEach((p,y)=>{const w=new Map;p.forEach(T=>{const R=e.computeStyle(y,T,r);w.set(T,R),(!R||0==R.length)&&(y[Wa]=z4,c.push(y))}),n.set(y,w)});let h=0;return t.forEach(p=>s2(p,o[h++])),c}function a2(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),o=new Map;function c(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?1:c(y),o.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function Za(n,e){n.classList?.add(e)}function ly(n,e){n.classList?.remove(e)}function Y4(n,e,t){Qh(t).onDone(()=>n.processLeaveNode(e))}function l2(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof TV?l2(i.players,e):e.push(i)}}function c2(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class OT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new q4(e,t,i),this._timelineEngine=new V4(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],w=L1(this._driver,o,p,[]);if(p.length)throw function N6(n,e){return new u.vHH(3404,!1)}();h=function P4(n,e,t){return new N4(n,e,t)}(r,w,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,c]=PB(i);this._timelineEngine.command(o,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[c,h]=PB(i);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pc(this._element,this._initialStyles),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_m(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_m(this._element,this._endStyles),this._endStyles=null),Pc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Z1(n){let e=null;return n.forEach((t,i)=>{(function tq(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class u2{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:ZB(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class nq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VB(e,t)}getParentElement(e){return A1(e)}query(e,t,i){return BB(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,w=c.filter(F=>F instanceof u2);(function o4(n,e){return 0===n||0===e})(i,r)&&w.forEach(F=>{F.currentSnapshot.forEach((U,X)=>y.set(X,U))});let T=function t4(n){return n.length?n[0]instanceof Map?n:n.map(e=>$B(e)):[]}(t).map(F=>Xh(F));T=function a4(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(h=>c.set(h,ZB(n,h)))}}return e}(e,T,y);const R=function J4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Z1(e[0]),e.length>1&&(i=Z1(e[e.length-1]))):e instanceof Map&&(t=Z1(e)),t||i?new eq(n,t,i):null}(e,T);return new u2(e,T,p,R)}}let iq=(()=>{class n extends EV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?IV(t):t;return d2(this._renderer,null,i,"register",[r]),new rq(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rq extends class lz{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new sq(this._id,e,t||{},this._renderer)}}class sq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return d2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function d2(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const h2="@.disabled";let oq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new f2("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,h,t,w.name,w)};return i.data.animation.forEach(p),new aq(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(OT),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class f2{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==h2?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class aq extends f2{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==h2?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function lq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function cq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let uq=(()=>{class n extends OT{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(k1),u.LFG(j1),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const p2=[{provide:EV,useClass:iq},{provide:j1,useFactory:function dq(){return new A4}},{provide:OT,useClass:uq},{provide:u.FYo,useFactory:function hq(n,e,t){return new oq(n,e,t)},deps:[dl,OT,u.R0b]}],K1=[{provide:k1,useFactory:()=>new nq},{provide:u.QbO,useValue:"BrowserAnimations"},...p2],m2=[{provide:k1,useClass:UB},{provide:u.QbO,useValue:"NoopAnimations"},...p2];let fq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?m2:K1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:K1,imports:[xo]}),n})(),pq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Y1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class mq extends Y1{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class gq extends Y1{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _q extends Y1{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class vq extends class yq{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof mq?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof gq?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _q?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let NT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ws,oi,pq,NT]}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ws,oi,o1,oi]}),n})(),Mq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ws,oi,NT,iw,o1,mG,oi]}),n})();const y2=kV();class Aq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=lr(-this._previousScrollPosition.left),e.style.top=lr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),y2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),y2&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class kq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v2{enable(){}disable(){}attach(){}}function Q1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function b2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Rq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Q1(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Oq=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new v2,this.close=c=>new kq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Aq(this._viewportRuler,this._document),this.reposition=c=>new Rq(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f1),u.LFG(fT),u.LFG(u.R0b),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pq{constructor(e){if(this.scrollStrategy=new v2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Nq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let w2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fq=(()=>{class n extends w2{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lq=(()=>{class n extends w2{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=pm(o)},this._clickListener=o=>{const c=pm(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const w=p[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(h))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(fo),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||s1()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),s1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(fo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vq{constructor(e,t,i,r,o,c,h,p,y,w=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new _n.x,this._attachments=new _n.x,this._detachments=new _n.x,this._locationChanges=pu.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new _n.x,this._outsidePointerEvents=new _n.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Os(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=lr(this._config.width),e.height=lr(this._config.height),e.minWidth=lr(this._config.minWidth),e.minHeight=lr(this._config.minHeight),e.maxWidth=lr(this._config.maxWidth),e.maxHeight=lr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=lT(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Wo((0,AR.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const E2="cdk-overlay-connected-position-bounding-box",Bq=/([A-Za-z%]+)$/;class Uq{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _n.x,this._resizeSubscription=pu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(E2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(p,t,h),w=this._getOverlayFit(y,t,i,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,y,i)?o.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(o.length){let h=null,p=-1;for(const y of o){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>p&&(p=w,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=D2(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(h+=y);let R=0-h,F=h+o.height-i.height,U=this._subtractOverflows(o.width,0-c,c+o.width-i.width),X=this._subtractOverflows(o.height,R,F),z=U*X;return{visibleArea:z,isCompletelyWithinViewport:o.width*o.height===z,fitsInViewportVertically:X===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,c=I2(this._overlayRef.getConfig().minHeight),h=I2(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=D2(t),o=this._viewportRect,c=Math.max(e.x+r.width-o.width,0),h=Math.max(e.y+r.height-o.height,0),p=Math.max(o.top-i.top-e.y,0),y=Math.max(o.left-i.left-e.x,0);let w=0,T=0;return w=r.width<=o.width?y||-c:e.x<this._viewportMargin?o.left-i.left-e.x:0,T=r.height<=o.height?p||-h:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:w,y:T},{x:e.x+w,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Nq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,c,h,w,T,R;if("top"===t.overlayY)c=e.y,o=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;o=2*F,c=e.y-F,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)R=i.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,w=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;w=2*F,T=e.x-F,w>U&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-U/2)}return{top:c,left:T,bottom:h,right:R,width:w,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=lr(i.height),r.top=lr(i.top),r.bottom=lr(i.bottom),r.width=lr(i.width),r.left=lr(i.left),r.right=lr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=lr(o)),c&&(r.maxWidth=lr(c))}this._lastBoundingBoxSize=i,vm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();vm(i,this._getExactOverlayY(t,e,w)),vm(i,this._getExactOverlayX(t,e,w))}else i.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=lr(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=lr(c.maxWidth):o&&(i.maxWidth="")),vm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=lr(o.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=lr(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:b2(e,i),isOriginOutsideView:Q1(e,i),isOverlayClipped:b2(t,i),isOverlayOutsideView:Q1(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lT(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function vm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function I2(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Bq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function D2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const T2="cdk-global-overlay-wrapper";class Hq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(T2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,T=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let F="",U="",X="";p?X="flex-start":"center"===w?(X="center",R?U=T:F=T):R?"left"===w||"end"===w?(X="flex-end",F=T):("right"===w||"start"===w)&&(X="flex-start",U=T):"left"===w||"start"===w?(X="flex-start",F=T):("right"===w||"end"===w)&&(X="flex-end",U=T),e.position=this._cssPosition,e.marginLeft=p?"0":F,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":U,t.justifyContent=X,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(T2),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let jq=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Hq}flexibleConnectedTo(t){return new Uq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fT),u.LFG(ue),u.LFG(fo),u.LFG(C2))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$q=0,X1=(()=>{class n{constructor(t,i,r,o,c,h,p,y,w,T,R,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=y,this._directionality=w,this._location=T,this._outsideClickDispatcher=R,this._animationsModuleType=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new Pq(t);return c.direction=c.direction||this._directionality.value,new Vq(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$q++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new vq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oq),u.LFG(C2),u.LFG(u._Vd),u.LFG(jq),u.LFG(Fq),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ue),u.LFG(c1),u.LFG($e),u.LFG(Lq),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qq={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[X1],useFactory:function Gq(n){return()=>n.scrollStrategies.reposition()}};let Wq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[X1,qq],imports:[ay,NT,cB,cB]}),n})();const Xq={provide:new u.OlP("mat-select-scroll-strategy"),deps:[X1],useFactory:function Qq(n){return()=>n.scrollStrategies.reposition()}};let Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Xq],imports:[ws,Wq,eB,oi,ow,_2,eB,oi]}),n})(),eW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oi,oi]}),n})(),tW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ay]}),n})(),J1=(()=>{class n{constructor(){this.changes=new _n.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hW={provide:J1,deps:[[new u.FiY,new u.tp0,J1]],useFactory:function dW(n){return n||new J1}};let fW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hW,DG],imports:[oi,ws,NT,nB,tW,MB,iw,oi]}),n})(),SW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[iw,oi,oi]}),n})(),xW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_5,MB,Z5,Mq,nB,bq,_2,eW,Jq,u6,fW,SW]}),n})(),MW=(()=>{class n{constructor(t){this.loaderService=t}intercept(t,i){return this.loaderService.show(),i.handle(t).pipe(Of(()=>this.loaderService.hide()))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),AW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[f6]}),n.\u0275inj=u.cJS({providers:[{provide:b1,useClass:MW,multi:!0}],imports:[xo,aO,VG,ao.hO.initializeApp(kB_firebase),fq,xW,kz.forRoot(),k5]}),n})();(0,u.G48)(),ml().bootstrapModule(AW).catch(n=>console.error(n))},5867:(Ct,Fe,V)=>{V.d(Fe,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=V(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(Ct,Fe,V)=>{V.d(Fe,{Z:()=>u.Z});var u=V(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Ct,Fe,V)=>{V.r(Fe);var u=V(5861),G=V(3942),N=V(8247),de=V(2090),ue=(V(9681),V(1877),V(4859));function ye(){return window}function W(){return(W=(0,u.Z)(function*($,P,H){var le;const{BuildInfo:ze}=ye();(0,N.ap)(P.sessionId,"AuthEvent did not contain a session ID");const yt=yield be(P.sessionId),vt={};return(0,N.aq)()?vt.ibi=ze.packageName:(0,N.ar)()?vt.apn=ze.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),ze.displayName&&(vt.appDisplayName=ze.displayName),vt.sessionId=yt,(0,N.at)($,H,P.type,void 0,null!==(le=P.eventId)&&void 0!==le?le:void 0,vt)})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*($){const{BuildInfo:P}=ye(),H={};(0,N.aq)()?H.iosBundleId=P.packageName:(0,N.ar)()?H.androidPackageName=P.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),yield(0,N.au)($,H)})).apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*($,P,H){const{cordova:le}=ye();let ze=()=>{};try{yield new Promise((yt,vt)=>{let Le=null;function qe(){var Zt;yt();const Sn=null===(Zt=le.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Sn&&Sn(),"function"==typeof H?.close&&H.close()}function Gt(){Le||(Le=window.setTimeout(()=>{vt((0,N.aw)($,"redirect-cancelled-by-user"))},2e3))}function Tn(){"visible"===document?.visibilityState&&Gt()}P.addPassiveListener(qe),document.addEventListener("resume",Gt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Tn,!1),ze=()=>{P.removePassiveListener(qe),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",Tn,!1),Le&&window.clearTimeout(Le)}})}finally{ze()}})).apply(this,arguments)}function be($){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*($){const P=at($),H=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(H)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function at($){if((0,N.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const P=new ArrayBuffer($.length),H=new Uint8Array(P);for(let le=0;le<$.length;le++)H[le]=$.charCodeAt(le);return H}class Ue extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(P)),super.onEvent(P)}initialized(){var P=this;return(0,u.Z)(function*(){yield P.initPromise})()}}function ce($){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*($){const P=yield re()._get(ve($));return P&&(yield re()._remove(ve($))),P})).apply(this,arguments)}function te(){const $=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const le=Math.floor(Math.random()*P.length);$.push(P.charAt(le))}return $.join("")}function re(){return(0,N.az)(N.b)}function ve($){return(0,N.aA)("authEvent",$.config.apiKey,$.name)}function Ke($){if(!$?.includes("?"))return{};const[P,...H]=$.split("?");return(0,de.zd)(H.join("?"))}function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function ln(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function ji($=(0,de.z$)()){return!("file:"!==ln()&&"ionic:"!==ln()&&"capacitor:"!==ln()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function ms(){try{const $=self.localStorage,P=N.aI();if($)return $.setItem(P,"1"),$.removeItem(P),!function ps($=(0,de.z$)()){return function Ji(){return(0,de.w1)()&&11===document?.documentMode}()||function Zn($=(0,de.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,de.hl)()}catch{return er()&&(0,de.hl)()}return!1}function er(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ci(){return(function Xt(){return"http:"===ln()||"https:"===ln()}()||(0,de.ru)()||ji())&&!function ts(){return(0,de.b$)()||(0,de.UG)()}()&&ms()&&!er()}function jr(){return ji()&&typeof document<"u"}function lt(){return(lt=(0,u.Z)(function*(){return!!jr()&&new Promise($=>{const P=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),$(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=N.ax,Ri="persistence";function Bn($){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*($){yield $._initializationPromise;const P=Tt(),H=N.aA(Ri,$.config.apiKey,$.name);P&&P.setItem(H,$._getPersistence())})).apply(this,arguments)}function Tt(){var $;try{return(null===($=function gi(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const St=N.ax;class zt{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class bn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(P){var H=this;return(0,u.Z)(function*(){const le=P._key();let ze=H.eventManagers.get(le);return ze||(ze=new Ue(P),H.eventManagers.set(le,ze),H.attachCallbackListeners(P,ze)),ze})()}_openPopup(P){(0,N.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,H,le,ze){var yt=this;return(0,u.Z)(function*(){!function Se($){var P,H,le,ze,yt,vt,Le,qe,Gt,Tn;const Zt=ye();(0,N.ax)("function"==typeof(null===(P=Zt?.universalLinks)||void 0===P?void 0:P.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(H=Zt?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(yt=null===(ze=null===(le=Zt?.cordova)||void 0===le?void 0:le.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===yt?void 0:yt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(qe=null===(Le=null===(vt=Zt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===qe?void 0:qe.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Tn=null===(Gt=Zt?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===Tn?void 0:Tn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const vt=yield yt._initialize(P);yield vt.initialized(),vt.resetRedirect(),(0,N.aD)(),yield yt._originValidation(P);const Le=function Ae($,P,H=null){return{type:P,eventId:H,urlResponse:null,sessionId:te(),postBody:null,tenantId:$.tenantId,error:(0,N.aw)($,"no-auth-event")}}(P,le,ze);yield function it($,P){return re()._set(ve($),P)}(P,Le);const qe=yield function Y($,P,H){return W.apply(this,arguments)}(P,Le,H),Gt=yield function je($){const{cordova:P}=ye();return new Promise(H=>{P.plugins.browsertab.isAvailable(le=>{let ze=null;le?P.plugins.browsertab.openUrl($):ze=P.InAppBrowser.open($,(0,N.av)()?"_blank":"_system","location=yes"),H(ze)})})}(qe);return function Re($,P,H){return gt.apply(this,arguments)}(P,vt,Gt)})()}_isIframeWebStorageSupported(P,H){throw new Error("Method not implemented.")}_originValidation(P){const H=P._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ie($){return Xe.apply(this,arguments)}(P)),this.originValidationPromises[H]}attachCallbackListeners(P,H){const{universalLinks:le,handleOpenURL:ze,BuildInfo:yt}=ye(),vt=setTimeout((0,u.Z)(function*(){yield ce(P),H.onEvent(st())}),500),Le=function(){var Tn=(0,u.Z)(function*(Zt){clearTimeout(vt);const Sn=yield ce(P);let _s=null;Sn&&Zt?.url&&(_s=function Te($,P){var H,le;const ze=function Ze($){const P=Ke($),H=P.link?decodeURIComponent(P.link):void 0,le=Ke(H).link,ze=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Ke(ze).link||ze||le||H||$}(P);if(ze.includes("/__/auth/callback")){const yt=Ke(ze),vt=yt.firebaseError?function he($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(yt.firebaseError)):null,Le=null===(le=null===(H=vt?.code)||void 0===H?void 0:H.split("auth/"))||void 0===le?void 0:le[1],qe=Le?(0,N.aw)(Le):null;return qe?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:ze,postBody:null}}return null}(Sn,Zt.url)),H.onEvent(_s||st())});return function(Sn){return Tn.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,Le);const qe=ze,Gt=`${yt.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Tn=(0,u.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Gt)&&Le({url:Zt}),"function"==typeof qe)try{qe(Zt)}catch(Sn){console.error(Sn)}});return function(Zt){return Tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(P){var H=this;return(0,u.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,H,le,ze){var yt=this;return(0,u.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(P,H,le,ze)})()}_openRedirect(P,H,le,ze){var yt=this;return(0,u.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(P,H,le,ze)})()}_isIframeWebStorageSupported(P,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,H)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return jr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,u.Z)(function*(){if(P.underlyingResolver)return;const H=yield function gs(){return lt.apply(this,arguments)}();P.underlyingResolver=H?P.cordovaResolver:P.browserResolver})()}}function dr($){return $.unwrap()}function $i($){return tr($)}function tr($){const{_tokenResponse:P}=$ instanceof de.ZR?$.customData:$;if(!P)return null;if(!($ instanceof de.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return N.P.credentialFromResult($);const H=P.providerId;if(!H||H===N.o.PASSWORD)return null;let le;switch(H){case N.o.GOOGLE:le=N.Q;break;case N.o.FACEBOOK:le=N.N;break;case N.o.GITHUB:le=N.T;break;case N.o.TWITTER:le=N.W;break;default:const{oauthIdToken:ze,oauthAccessToken:yt,oauthTokenSecret:vt,pendingToken:Le,nonce:qe}=P;return yt||vt||ze||Le?Le?H.startsWith("saml.")?N.aL._create(H,Le):N.J._fromParams({providerId:H,signInMethod:H,pendingToken:Le,idToken:ze,accessToken:yt}):new N.U(H).credential({idToken:ze,accessToken:yt,rawNonce:qe}):null}return $ instanceof de.ZR?le.credentialFromError($):le.credentialFromResult($)}function Qt($,P){return P.catch(H=>{throw H instanceof de.ZR&&function $t($,P){var H,le;const ze=null===(H=P.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(le=P)||void 0===le?void 0:le.code))P.resolver=new Di($,N.an($,P));else if(ze){const yt=tr(P),vt=P;yt&&(vt.credential=yt,vt.tenantId=ze.tenantId||void 0,vt.email=ze.email||void 0,vt.phoneNumber=ze.phoneNumber||void 0)}}($,H),H}).then(H=>{const ze=H.user;return{operationType:H.operationType,credential:$i(H),additionalUserInfo:N.al(H),user:zn.getOrCreate(ze)}})}function Tr($,P){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*($,P){const H=yield P;return{verificationId:H.verificationId,confirm:le=>Qt($,H.confirm(le))}})).apply(this,arguments)}class Di{constructor(P,H){this.resolver=H,this.auth=function _i($){return $.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Qt(dr(this.auth),this.resolver.resolveSignIn(P))}}class zn{constructor(P){this._delegate=P,this.multiFactor=N.ao(P)}static getOrCreate(P){return zn.USER_MAP.has(P)||zn.USER_MAP.set(P,new zn(P)),zn.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var H=this;return(0,u.Z)(function*(){return Qt(H.auth,N.Z(H._delegate,P))})()}linkWithPhoneNumber(P,H){var le=this;return(0,u.Z)(function*(){return Tr(le.auth,N.l(le._delegate,P,H))})()}linkWithPopup(P){var H=this;return(0,u.Z)(function*(){return Qt(H.auth,N.d(H._delegate,P,zt))})()}linkWithRedirect(P){var H=this;return(0,u.Z)(function*(){return yield Bn(N.aE(H.auth)),N.g(H._delegate,P,zt)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var H=this;return(0,u.Z)(function*(){return Qt(H.auth,N._(H._delegate,P))})()}reauthenticateWithPhoneNumber(P,H){return Tr(this.auth,N.r(this._delegate,P,H))}reauthenticateWithPopup(P){return Qt(this.auth,N.e(this._delegate,P,zt))}reauthenticateWithRedirect(P){var H=this;return(0,u.Z)(function*(){return yield Bn(N.aE(H.auth)),N.h(H._delegate,P,zt)})()}sendEmailVerification(P){return N.ab(this._delegate,P)}unlink(P){var H=this;return(0,u.Z)(function*(){return yield N.ak(H._delegate,P),H})()}updateEmail(P){return N.ag(this._delegate,P)}updatePassword(P){return N.ah(this._delegate,P)}updatePhoneNumber(P){return N.u(this._delegate,P)}updateProfile(P){return N.af(this._delegate,P)}verifyBeforeUpdateEmail(P,H){return N.ac(this._delegate,P,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const ft=N.ax;let Pe=(()=>{class ${constructor(H,le){if(this.app=H,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=H.options;ft(ze,"invalid-api-key",{appName:H.name}),ft(ze,"invalid-api-key",{appName:H.name});const yt=typeof window<"u"?zt:void 0;this._delegate=le.initialize({options:{persistence:Ot(ze,H.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,le){N.G(this._delegate,H,le)}applyActionCode(H){return N.a2(this._delegate,H)}checkActionCode(H){return N.a3(this._delegate,H)}confirmPasswordReset(H,le){return N.a1(this._delegate,H,le)}createUserWithEmailAndPassword(H,le){var ze=this;return(0,u.Z)(function*(){return Qt(ze._delegate,N.a5(ze._delegate,H,le))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return N.aa(this._delegate,H)}isSignInWithEmailLink(H){return N.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,u.Z)(function*(){ft(ci(),H._delegate,"operation-not-supported-in-this-environment");const le=yield N.j(H._delegate,zt);return le?Qt(H._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function Dn($,P){(0,N.aE)($)._logFramework(P)}(this._delegate,H)}onAuthStateChanged(H,le,ze){const{next:yt,error:vt,complete:Le}=pt(H,le,ze);return this._delegate.onAuthStateChanged(yt,vt,Le)}onIdTokenChanged(H,le,ze){const{next:yt,error:vt,complete:Le}=pt(H,le,ze);return this._delegate.onIdTokenChanged(yt,vt,Le)}sendSignInLinkToEmail(H,le){return N.a7(this._delegate,H,le)}sendPasswordResetEmail(H,le){return N.a0(this._delegate,H,le||void 0)}setPersistence(H){var le=this;return(0,u.Z)(function*(){let ze;switch(function po($,P){Ln(Object.values(ui).includes(P),$,"invalid-persistence-type"),(0,de.b$)()?Ln(P!==ui.SESSION,$,"unsupported-persistence-type"):(0,de.UG)()?Ln(P===ui.NONE,$,"unsupported-persistence-type"):er()?Ln(P===ui.NONE||P===ui.LOCAL&&(0,de.hl)(),$,"unsupported-persistence-type"):Ln(P===ui.NONE||ms(),$,"unsupported-persistence-type")}(le._delegate,H),H){case ui.SESSION:ze=N.a;break;case ui.LOCAL:ze=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case ui.NONE:ze=N.L;break;default:return N.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Qt(this._delegate,N.X(this._delegate))}signInWithCredential(H){return Qt(this._delegate,N.Y(this._delegate,H))}signInWithCustomToken(H){return Qt(this._delegate,N.$(this._delegate,H))}signInWithEmailAndPassword(H,le){return Qt(this._delegate,N.a6(this._delegate,H,le))}signInWithEmailLink(H,le){return Qt(this._delegate,N.a9(this._delegate,H,le))}signInWithPhoneNumber(H,le){return Tr(this._delegate,N.s(this._delegate,H,le))}signInWithPopup(H){var le=this;return(0,u.Z)(function*(){return ft(ci(),le._delegate,"operation-not-supported-in-this-environment"),Qt(le._delegate,N.c(le._delegate,H,zt))})()}signInWithRedirect(H){var le=this;return(0,u.Z)(function*(){return ft(ci(),le._delegate,"operation-not-supported-in-this-environment"),yield Bn(le._delegate),N.f(le._delegate,H,zt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return N.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=ui,$})();function pt($,P,H){let le=$;"function"!=typeof $&&({next:le,error:P,complete:H}=$);const ze=le;return{next:vt=>ze(vt&&zn.getOrCreate(vt)),error:P,complete:H}}function Ot($,P){const H=function On($,P){const H=Tt();if(!H)return[];const le=N.aA(Ri,$,P);switch(H.getItem(le)){case ui.NONE:return[N.L];case ui.LOCAL:return[N.i,N.a];case ui.SESSION:return[N.a];default:return[]}}($,P);if(typeof self<"u"&&!H.includes(N.i)&&H.push(N.i),typeof window<"u")for(const le of[N.b,N.a])H.includes(le)||H.push(le);return H.includes(N.L)||H.push(N.L),H}class Nt{constructor(){this.providerId="phone",this._delegate=new N.P(dr(G.Z.auth()))}static credential(P,H){return N.P.credential(P,H)}verifyPhoneNumber(P,H){return this._delegate.verifyPhoneNumber(P,H)}unwrap(){return this._delegate}}Nt.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Nt.PROVIDER_ID=N.P.PROVIDER_ID;const mn=N.ax;class K{constructor(P,H,le=G.Z.app()){var ze;mn(null===(ze=le.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new N.R(P,H,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J($){$.INTERNAL.registerComponent(new ue.wA("auth-compat",P=>{const H=P.getProvider("app-compat").getImmediate(),le=P.getProvider("auth");return new Pe(H,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:Nt,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:K,TwitterAuthProvider:N.W,Auth:Pe,AuthCredential:N.H,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.2.24")}(G.Z)},9751:(Ct,Fe,V)=>{V.d(Fe,{y:()=>ye});var u=V(930),G=V(727),N=V(8822),de=V(9635),pe=V(2416),Ce=V(576),ue=V(2806);let ye=(()=>{class ie{constructor(je){je&&(this._subscribe=je)}lift(je){const Re=new ie;return Re.source=this,Re.operator=je,Re}subscribe(je,Re,gt){const Se=function W(ie){return ie&&ie instanceof u.Lv||function Y(ie){return ie&&(0,Ce.m)(ie.next)&&(0,Ce.m)(ie.error)&&(0,Ce.m)(ie.complete)}(ie)&&(0,G.Nn)(ie)}(je)?je:new u.Hp(je,Re,gt);return(0,ue.x)(()=>{const{operator:be,source:ct}=this;Se.add(be?be.call(Se,ct):ct?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(je){try{return this._subscribe(je)}catch(Re){je.error(Re)}}forEach(je,Re){return new(Re=De(Re))((gt,Se)=>{const be=new u.Hp({next:ct=>{try{je(ct)}catch(at){Se(at),be.unsubscribe()}},error:Se,complete:gt});this.subscribe(be)})}_subscribe(je){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(je)}[N.L](){return this}pipe(...je){return(0,de.U)(je)(this)}toPromise(je){return new(je=De(je))((Re,gt)=>{let Se;this.subscribe(be=>Se=be,be=>gt(be),()=>Re(Se))})}}return ie.create=Xe=>new ie(Xe),ie})();function De(ie){var Xe;return null!==(Xe=ie??pe.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(Ct,Fe,V)=>{V.d(Fe,{x:()=>ue});var u=V(9751),G=V(727);const de=(0,V(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=V(8737),Ce=V(2806);let ue=(()=>{class De extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ie=new ye(this,this);return ie.operator=W,ie}_throwIfClosed(){if(this.closed)throw new de}next(W){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(W)}})}error(W){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ie}=this;for(;ie.length;)ie.shift().error(W)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ie,isStopped:Xe,observers:je}=this;return ie||Xe?G.Lc:(this.currentObservers=null,je.push(W),new G.w0(()=>{this.currentObservers=null,(0,pe.P)(je,W)}))}_checkFinalizedStatuses(W){const{hasError:ie,thrownError:Xe,isStopped:je}=this;ie?W.error(Xe):je&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return De.create=(Y,W)=>new ye(Y,W),De})();class ye extends ue{constructor(Y,W){super(),this.destination=Y,this.source=W}next(Y){var W,ie;null===(ie=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ie||ie.call(W,Y)}error(Y){var W,ie;null===(ie=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ie||ie.call(W,Y)}complete(){var Y,W;null===(W=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===W||W.call(Y)}_subscribe(Y){var W,ie;return null!==(ie=null===(W=this.source)||void 0===W?void 0:W.subscribe(Y))&&void 0!==ie?ie:G.Lc}}},930:(Ct,Fe,V)=>{V.d(Fe,{Hp:()=>gt,Lv:()=>ie});var u=V(576),G=V(727),N=V(2416),de=V(7849),pe=V(5032);const Ce=De("C",void 0,void 0);function De($e,Ue,Ae){return{kind:$e,value:Ue,error:Ae}}var Y=V(3410),W=V(2806);class ie extends G.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,G.Nn)(Ue)&&Ue.add(this)):this.destination=at}static create(Ue,Ae,it){return new gt(Ue,Ae,it)}next(Ue){this.isStopped?ct(function ye($e){return De("N",$e,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?ct(function ue($e){return De("E",void 0,$e)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?ct(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function je($e,Ue){return Xe.call($e,Ue)}class Re{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Ue)}catch(it){Se(it)}}error(Ue){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Ue)}catch(it){Se(it)}else Se(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Ae){Se(Ae)}}}class gt extends ie{constructor(Ue,Ae,it){let ce;if(super(),(0,u.m)(Ue)||!Ue)ce={next:Ue??void 0,error:Ae??void 0,complete:it??void 0};else{let ge;this&&N.v.useDeprecatedNextContext?(ge=Object.create(Ue),ge.unsubscribe=()=>this.unsubscribe(),ce={next:Ue.next&&je(Ue.next,ge),error:Ue.error&&je(Ue.error,ge),complete:Ue.complete&&je(Ue.complete,ge)}):ce=Ue}this.destination=new Re(ce)}}function Se($e){N.v.useDeprecatedSynchronousErrorHandling?(0,W.O)($e):(0,de.h)($e)}function ct($e,Ue){const{onStoppedNotification:Ae}=N.v;Ae&&Y.z.setTimeout(()=>Ae($e,Ue))}const at={closed:!0,next:pe.Z,error:function be($e){throw $e},complete:pe.Z}},727:(Ct,Fe,V)=>{V.d(Fe,{Lc:()=>Ce,w0:()=>pe,Nn:()=>ue});var u=V(576);const N=(0,V(3888).d)(De=>function(W){De(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ie,Xe)=>`${Xe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var de=V(8737);class pe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const je of W)je.remove(this);else W.remove(this);const{initialTeardown:ie}=this;if((0,u.m)(ie))try{ie()}catch(je){Y=je instanceof N?je.errors:[je]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const je of Xe)try{ye(je)}catch(Re){Y=Y??[],Re instanceof N?Y=[...Y,...Re.errors]:Y.push(Re)}}if(Y)throw new N(Y)}}add(Y){var W;if(Y&&Y!==this)if(this.closed)ye(Y);else{if(Y instanceof pe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(Y)}}_hasParent(Y){const{_parentage:W}=this;return W===Y||Array.isArray(W)&&W.includes(Y)}_addParent(Y){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(Y),W):W?[W,Y]:Y}_removeParent(Y){const{_parentage:W}=this;W===Y?this._parentage=null:Array.isArray(W)&&(0,de.P)(W,Y)}remove(Y){const{_finalizers:W}=this;W&&(0,de.P)(W,Y),Y instanceof pe&&Y._removeParent(this)}}pe.EMPTY=(()=>{const De=new pe;return De.closed=!0,De})();const Ce=pe.EMPTY;function ue(De){return De instanceof pe||De&&"closed"in De&&(0,u.m)(De.remove)&&(0,u.m)(De.add)&&(0,u.m)(De.unsubscribe)}function ye(De){(0,u.m)(De)?De():De.unsubscribe()}},2416:(Ct,Fe,V)=>{V.d(Fe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ct,Fe,V)=>{V.d(Fe,{E:()=>G});const G=new(V(9751).y)(pe=>pe.complete())},8996:(Ct,Fe,V)=>{V.d(Fe,{D:()=>Ue});var u=V(8421),G=V(5363),N=V(9468),Ce=V(9751),ye=V(2202),De=V(576),Y=V(9672);function ie(Ae,it){if(!Ae)throw new Error("Iterable cannot be null");return new Ce.y(ce=>{(0,Y.f)(ce,it,()=>{const ge=Ae[Symbol.asyncIterator]();(0,Y.f)(ce,it,()=>{ge.next().then(Te=>{Te.done?ce.complete():ce.next(Te.value)})},0,!0)})})}var Xe=V(3670),je=V(8239),Re=V(1144),gt=V(6495),Se=V(2206),be=V(4532),ct=V(3260);function Ue(Ae,it){return it?function $e(Ae,it){if(null!=Ae){if((0,Xe.c)(Ae))return function de(Ae,it){return(0,u.Xf)(Ae).pipe((0,N.R)(it),(0,G.Q)(it))}(Ae,it);if((0,Re.z)(Ae))return function ue(Ae,it){return new Ce.y(ce=>{let ge=0;return it.schedule(function(){ge===Ae.length?ce.complete():(ce.next(Ae[ge++]),ce.closed||this.schedule())})})}(Ae,it);if((0,je.t)(Ae))return function pe(Ae,it){return(0,u.Xf)(Ae).pipe((0,N.R)(it),(0,G.Q)(it))}(Ae,it);if((0,Se.D)(Ae))return ie(Ae,it);if((0,gt.T)(Ae))return function W(Ae,it){return new Ce.y(ce=>{let ge;return(0,Y.f)(ce,it,()=>{ge=Ae[ye.h](),(0,Y.f)(ce,it,()=>{let Te,te;try{({value:Te,done:te}=ge.next())}catch(re){return void ce.error(re)}te?ce.complete():ce.next(Te)},0,!0)}),()=>(0,De.m)(ge?.return)&&ge.return()})}(Ae,it);if((0,ct.L)(Ae))return function at(Ae,it){return ie((0,ct.Q)(Ae),it)}(Ae,it)}throw(0,be.z)(Ae)}(Ae,it):(0,u.Xf)(Ae)}},8421:(Ct,Fe,V)=>{V.d(Fe,{Xf:()=>Xe});var u=V(655),G=V(1144),N=V(8239),de=V(9751),pe=V(3670),Ce=V(2206),ue=V(4532),ye=V(6495),De=V(3260),Y=V(576),W=V(7849),ie=V(8822);function Xe($e){if($e instanceof de.y)return $e;if(null!=$e){if((0,pe.c)($e))return function je($e){return new de.y(Ue=>{const Ae=$e[ie.L]();if((0,Y.m)(Ae.subscribe))return Ae.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,G.z)($e))return function Re($e){return new de.y(Ue=>{for(let Ae=0;Ae<$e.length&&!Ue.closed;Ae++)Ue.next($e[Ae]);Ue.complete()})}($e);if((0,N.t)($e))return function gt($e){return new de.y(Ue=>{$e.then(Ae=>{Ue.closed||(Ue.next(Ae),Ue.complete())},Ae=>Ue.error(Ae)).then(null,W.h)})}($e);if((0,Ce.D)($e))return be($e);if((0,ye.T)($e))return function Se($e){return new de.y(Ue=>{for(const Ae of $e)if(Ue.next(Ae),Ue.closed)return;Ue.complete()})}($e);if((0,De.L)($e))return function ct($e){return be((0,De.Q)($e))}($e)}throw(0,ue.z)($e)}function be($e){return new de.y(Ue=>{(function at($e,Ue){var Ae,it,ce,ge;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,u.KL)($e);!(it=yield Ae.next()).done;)if(Ue.next(it.value),Ue.closed)return}catch(Te){ce={error:Te}}finally{try{it&&!it.done&&(ge=Ae.return)&&(yield ge.call(Ae))}finally{if(ce)throw ce.error}}Ue.complete()})})($e,Ue).catch(Ae=>Ue.error(Ae))})}},6451:(Ct,Fe,V)=>{V.d(Fe,{T:()=>Ce});var u=V(8189),G=V(8421),N=V(515),de=V(3269),pe=V(8996);function Ce(...ue){const ye=(0,de.yG)(ue),De=(0,de._6)(ue,1/0),Y=ue;return Y.length?1===Y.length?(0,G.Xf)(Y[0]):(0,u.J)(De)((0,pe.D)(Y,ye)):N.E}},5403:(Ct,Fe,V)=>{V.d(Fe,{x:()=>G});var u=V(930);function G(de,pe,Ce,ue,ye){return new N(de,pe,Ce,ue,ye)}class N extends u.Lv{constructor(pe,Ce,ue,ye,De,Y){super(pe),this.onFinalize=De,this.shouldUnsubscribe=Y,this._next=Ce?function(W){try{Ce(W)}catch(ie){pe.error(ie)}}:super._next,this._error=ye?function(W){try{ye(W)}catch(ie){pe.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(W){pe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(Ct,Fe,V)=>{V.d(Fe,{U:()=>N});var u=V(4482),G=V(5403);function N(de,pe){return(0,u.e)((Ce,ue)=>{let ye=0;Ce.subscribe((0,G.x)(ue,De=>{ue.next(de.call(pe,De,ye++))}))})}},8189:(Ct,Fe,V)=>{V.d(Fe,{J:()=>N});var u=V(5577),G=V(4671);function N(de=1/0){return(0,u.z)(G.y,de)}},5577:(Ct,Fe,V)=>{V.d(Fe,{z:()=>ye});var u=V(4004),G=V(8421),N=V(4482),de=V(9672),pe=V(5403),ue=V(576);function ye(De,Y,W=1/0){return(0,ue.m)(Y)?ye((ie,Xe)=>(0,u.U)((je,Re)=>Y(ie,je,Xe,Re))((0,G.Xf)(De(ie,Xe))),W):("number"==typeof Y&&(W=Y),(0,N.e)((ie,Xe)=>function Ce(De,Y,W,ie,Xe,je,Re,gt){const Se=[];let be=0,ct=0,at=!1;const $e=()=>{at&&!Se.length&&!be&&Y.complete()},Ue=it=>be<ie?Ae(it):Se.push(it),Ae=it=>{je&&Y.next(it),be++;let ce=!1;(0,G.Xf)(W(it,ct++)).subscribe((0,pe.x)(Y,ge=>{Xe?.(ge),je?Ue(ge):Y.next(ge)},()=>{ce=!0},void 0,()=>{if(ce)try{for(be--;Se.length&&be<ie;){const ge=Se.shift();Re?(0,de.f)(Y,Re,()=>Ae(ge)):Ae(ge)}$e()}catch(ge){Y.error(ge)}}))};return De.subscribe((0,pe.x)(Y,Ue,()=>{at=!0,$e()})),()=>{gt?.()}}(ie,Xe,De,W)))}},5363:(Ct,Fe,V)=>{V.d(Fe,{Q:()=>de});var u=V(9672),G=V(4482),N=V(5403);function de(pe,Ce=0){return(0,G.e)((ue,ye)=>{ue.subscribe((0,N.x)(ye,De=>(0,u.f)(ye,pe,()=>ye.next(De),Ce),()=>(0,u.f)(ye,pe,()=>ye.complete(),Ce),De=>(0,u.f)(ye,pe,()=>ye.error(De),Ce)))})}},3099:(Ct,Fe,V)=>{V.d(Fe,{B:()=>pe});var u=V(8421),G=V(7579),N=V(930),de=V(4482);function pe(ue={}){const{connector:ye=(()=>new G.x),resetOnError:De=!0,resetOnComplete:Y=!0,resetOnRefCountZero:W=!0}=ue;return ie=>{let Xe,je,Re,gt=0,Se=!1,be=!1;const ct=()=>{je?.unsubscribe(),je=void 0},at=()=>{ct(),Xe=Re=void 0,Se=be=!1},$e=()=>{const Ue=Xe;at(),Ue?.unsubscribe()};return(0,de.e)((Ue,Ae)=>{gt++,!be&&!Se&&ct();const it=Re=Re??ye();Ae.add(()=>{gt--,0===gt&&!be&&!Se&&(je=Ce($e,W))}),it.subscribe(Ae),!Xe&&gt>0&&(Xe=new N.Hp({next:ce=>it.next(ce),error:ce=>{be=!0,ct(),je=Ce(at,De,ce),it.error(ce)},complete:()=>{Se=!0,ct(),je=Ce(at,Y),it.complete()}}),(0,u.Xf)(Ue).subscribe(Xe))})(ie)}}function Ce(ue,ye,...De){if(!0===ye)return void ue();if(!1===ye)return;const Y=new N.Hp({next:()=>{Y.unsubscribe(),ue()}});return ye(...De).subscribe(Y)}},9468:(Ct,Fe,V)=>{V.d(Fe,{R:()=>G});var u=V(4482);function G(N,de=0){return(0,u.e)((pe,Ce)=>{Ce.add(N.schedule(()=>pe.subscribe(Ce),de))})}},8505:(Ct,Fe,V)=>{V.d(Fe,{b:()=>pe});var u=V(576),G=V(4482),N=V(5403),de=V(4671);function pe(Ce,ue,ye){const De=(0,u.m)(Ce)||ue||ye?{next:Ce,error:ue,complete:ye}:Ce;return De?(0,G.e)((Y,W)=>{var ie;null===(ie=De.subscribe)||void 0===ie||ie.call(De);let Xe=!0;Y.subscribe((0,N.x)(W,je=>{var Re;null===(Re=De.next)||void 0===Re||Re.call(De,je),W.next(je)},()=>{var je;Xe=!1,null===(je=De.complete)||void 0===je||je.call(De),W.complete()},je=>{var Re;Xe=!1,null===(Re=De.error)||void 0===Re||Re.call(De,je),W.error(je)},()=>{var je,Re;Xe&&(null===(je=De.unsubscribe)||void 0===je||je.call(De)),null===(Re=De.finalize)||void 0===Re||Re.call(De)}))}):de.y}},4408:(Ct,Fe,V)=>{V.d(Fe,{o:()=>pe});var u=V(727);class G extends u.w0{constructor(ue,ye){super()}schedule(ue,ye=0){return this}}const N={setInterval(Ce,ue,...ye){const{delegate:De}=N;return De?.setInterval?De.setInterval(Ce,ue,...ye):setInterval(Ce,ue,...ye)},clearInterval(Ce){const{delegate:ue}=N;return(ue?.clearInterval||clearInterval)(Ce)},delegate:void 0};var de=V(8737);class pe extends G{constructor(ue,ye){super(ue,ye),this.scheduler=ue,this.work=ye,this.pending=!1}schedule(ue,ye=0){var De;if(this.closed)return this;this.state=ue;const Y=this.id,W=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(W,Y,ye)),this.pending=!0,this.delay=ye,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(W,this.id,ye),this}requestAsyncId(ue,ye,De=0){return N.setInterval(ue.flush.bind(ue,this),De)}recycleAsyncId(ue,ye,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ye;null!=ye&&N.clearInterval(ye)}execute(ue,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(ue,ye);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ye){let Y,De=!1;try{this.work(ue)}catch(W){De=!0,Y=W||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ye}=this,{actions:De}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(De,this),null!=ue&&(this.id=this.recycleAsyncId(ye,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ct,Fe,V)=>{V.d(Fe,{v:()=>N});var u=V(6063);class G{constructor(pe,Ce=G.now){this.schedulerActionCtor=pe,this.now=Ce}schedule(pe,Ce=0,ue){return new this.schedulerActionCtor(this,pe).schedule(ue,Ce)}}G.now=u.l.now;class N extends G{constructor(pe,Ce=G.now){super(pe,Ce),this.actions=[],this._active=!1}flush(pe){const{actions:Ce}=this;if(this._active)return void Ce.push(pe);let ue;this._active=!0;do{if(ue=pe.execute(pe.state,pe.delay))break}while(pe=Ce.shift());if(this._active=!1,ue){for(;pe=Ce.shift();)pe.unsubscribe();throw ue}}}},4986:(Ct,Fe,V)=>{V.d(Fe,{P:()=>de,z:()=>N});var u=V(4408);const N=new(V(7565).v)(u.o),de=N},6063:(Ct,Fe,V)=>{V.d(Fe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Ct,Fe,V)=>{V.d(Fe,{z:()=>u});const u={setTimeout(G,N,...de){const{delegate:pe}=u;return pe?.setTimeout?pe.setTimeout(G,N,...de):setTimeout(G,N,...de)},clearTimeout(G){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(Ct,Fe,V)=>{V.d(Fe,{h:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ct,Fe,V)=>{V.d(Fe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ct,Fe,V)=>{V.d(Fe,{_6:()=>Ce,jO:()=>de,yG:()=>pe});var u=V(576),G=V(3532);function N(ue){return ue[ue.length-1]}function de(ue){return(0,u.m)(N(ue))?ue.pop():void 0}function pe(ue){return(0,G.K)(N(ue))?ue.pop():void 0}function Ce(ue,ye){return"number"==typeof N(ue)?ue.pop():ye}},8737:(Ct,Fe,V)=>{function u(G,N){if(G){const de=G.indexOf(N);0<=de&&G.splice(de,1)}}V.d(Fe,{P:()=>u})},3888:(Ct,Fe,V)=>{function u(G){const de=G(pe=>{Error.call(pe),pe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}V.d(Fe,{d:()=>u})},2806:(Ct,Fe,V)=>{V.d(Fe,{O:()=>de,x:()=>N});var u=V(2416);let G=null;function N(pe){if(u.v.useDeprecatedSynchronousErrorHandling){const Ce=!G;if(Ce&&(G={errorThrown:!1,error:null}),pe(),Ce){const{errorThrown:ue,error:ye}=G;if(G=null,ue)throw ye}}else pe()}function de(pe){u.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=pe)}},9672:(Ct,Fe,V)=>{function u(G,N,de,pe=0,Ce=!1){const ue=N.schedule(function(){de(),Ce?G.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(G.add(ue),!Ce)return ue}V.d(Fe,{f:()=>u})},4671:(Ct,Fe,V)=>{function u(G){return G}V.d(Fe,{y:()=>u})},1144:(Ct,Fe,V)=>{V.d(Fe,{z:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(Ct,Fe,V)=>{V.d(Fe,{D:()=>G});var u=V(576);function G(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(Ct,Fe,V)=>{function u(G){return"function"==typeof G}V.d(Fe,{m:()=>u})},3670:(Ct,Fe,V)=>{V.d(Fe,{c:()=>N});var u=V(8822),G=V(576);function N(de){return(0,G.m)(de[u.L])}},6495:(Ct,Fe,V)=>{V.d(Fe,{T:()=>N});var u=V(2202),G=V(576);function N(de){return(0,G.m)(de?.[u.h])}},8239:(Ct,Fe,V)=>{V.d(Fe,{t:()=>G});var u=V(576);function G(N){return(0,u.m)(N?.then)}},3260:(Ct,Fe,V)=>{V.d(Fe,{L:()=>de,Q:()=>N});var u=V(655),G=V(576);function N(pe){return(0,u.FC)(this,arguments,function*(){const ue=pe.getReader();try{for(;;){const{value:ye,done:De}=yield(0,u.qq)(ue.read());if(De)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ye)}}finally{ue.releaseLock()}})}function de(pe){return(0,G.m)(pe?.getReader)}},3532:(Ct,Fe,V)=>{V.d(Fe,{K:()=>G});var u=V(576);function G(N){return N&&(0,u.m)(N.schedule)}},4482:(Ct,Fe,V)=>{V.d(Fe,{A:()=>G,e:()=>N});var u=V(576);function G(de){return(0,u.m)(de?.lift)}function N(de){return pe=>{if(G(pe))return pe.lift(function(Ce){try{return de(Ce,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ct,Fe,V)=>{function u(){}V.d(Fe,{Z:()=>u})},9635:(Ct,Fe,V)=>{V.d(Fe,{U:()=>N,z:()=>G});var u=V(4671);function G(...de){return N(de)}function N(de){return 0===de.length?u.y:1===de.length?de[0]:function(Ce){return de.reduce((ue,ye)=>ye(ue),Ce)}}},7849:(Ct,Fe,V)=>{V.d(Fe,{h:()=>N});var u=V(2416),G=V(3410);function N(de){G.z.setTimeout(()=>{const{onUnhandledError:pe}=u.v;if(!pe)throw de;pe(de)})}},4532:(Ct,Fe,V)=>{function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Fe,{z:()=>u})},655:(Ct,Fe,V)=>{function de(te,re){var ve={};for(var he in te)Object.prototype.hasOwnProperty.call(te,he)&&re.indexOf(he)<0&&(ve[he]=te[he]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(he=Object.getOwnPropertySymbols(te);Ze<he.length;Ze++)re.indexOf(he[Ze])<0&&Object.prototype.propertyIsEnumerable.call(te,he[Ze])&&(ve[he[Ze]]=te[he[Ze]])}return ve}function ye(te,re,ve,he){return new(ve||(ve=Promise))(function(Ke,Dt){function bn(Dn){try{st(he.next(Dn))}catch(Vn){Dt(Vn)}}function nn(Dn){try{st(he.throw(Dn))}catch(Vn){Dt(Vn)}}function st(Dn){Dn.done?Ke(Dn.value):function Ze(Ke){return Ke instanceof ve?Ke:new ve(function(Dt){Dt(Ke)})}(Dn.value).then(bn,nn)}st((he=he.apply(te,re||[])).next())})}function Se(te){return this instanceof Se?(this.v=te,this):new Se(te)}function be(te,re,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,he=ve.apply(te,re||[]),Ke=[];return Ze={},Dt("next"),Dt("throw"),Dt("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Dt(yn){he[yn]&&(Ze[yn]=function(vn){return new Promise(function(ln,Xt){Ke.push([yn,vn,ln,Xt])>1||bn(yn,vn)})})}function bn(yn,vn){try{!function nn(yn){yn.value instanceof Se?Promise.resolve(yn.value.v).then(st,Dn):Vn(Ke[0][2],yn)}(he[yn](vn))}catch(ln){Vn(Ke[0][3],ln)}}function st(yn){bn("next",yn)}function Dn(yn){bn("throw",yn)}function Vn(yn,vn){yn(vn),Ke.shift(),Ke.length&&bn(Ke[0][0],Ke[0][1])}}function at(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,re=te[Symbol.asyncIterator];return re?re.call(te):(te=function ie(te){var re="function"==typeof Symbol&&Symbol.iterator,ve=re&&te[re],he=0;if(ve)return ve.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&he>=te.length&&(te=void 0),{value:te&&te[he++],done:!te}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ve={},he("next"),he("throw"),he("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function he(Ke){ve[Ke]=te[Ke]&&function(Dt){return new Promise(function(bn,nn){!function Ze(Ke,Dt,bn,nn){Promise.resolve(nn).then(function(st){Ke({value:st,done:bn})},Dt)}(bn,nn,(Dt=te[Ke](Dt)).done,Dt.value)})}}}V.d(Fe,{FC:()=>be,KL:()=>at,_T:()=>de,mG:()=>ye,qq:()=>Se})},4650:(Ct,Fe,V)=>{V.d(Fe,{$8M:()=>sc,$Z:()=>kS,AFp:()=>Ab,ALo:()=>vh,AaK:()=>ye,BQk:()=>Dg,CHM:()=>sf,CRH:()=>SI,CZH:()=>jl,CqO:()=>Rv,D6c:()=>_A,EJc:()=>HI,EiD:()=>lu,EpF:()=>aE,F$t:()=>Pv,F4k:()=>Tg,FYo:()=>Ry,FiY:()=>nt,G48:()=>m_,Gf:()=>TI,GfV:()=>Oy,Gpc:()=>W,Hsn:()=>hE,JOm:()=>Fo,JVY:()=>_w,Jf7:()=>$w,KtG:()=>oa,L6k:()=>yw,LAX:()=>vw,LFG:()=>ri,LSH:()=>ww,Lbi:()=>r_,Lck:()=>wM,MAs:()=>sE,MMx:()=>db,NdJ:()=>ah,O4$:()=>zc,OlP:()=>jn,Oqu:()=>ku,PXZ:()=>$b,Q6J:()=>xv,QGY:()=>kv,QP$:()=>ze,QbO:()=>Ob,Qsj:()=>XT,R0b:()=>hs,RDi:()=>gw,Rgc:()=>wh,SBq:()=>du,Sil:()=>JM,Suo:()=>Eb,TTD:()=>zs,TgZ:()=>Cg,Tol:()=>SE,Udp:()=>Vv,VKq:()=>Vu,WFA:()=>Ov,X6Q:()=>WI,XFs:()=>lt,Xpm:()=>Pe,Xts:()=>wy,Y36:()=>wu,YKP:()=>lI,YNc:()=>rE,Yjl:()=>$,Yz7:()=>vn,Z0I:()=>ts,ZZ4:()=>kh,_Bn:()=>aI,_UZ:()=>Av,_Vd:()=>Ld,_c5:()=>QI,_uU:()=>PE,aQg:()=>Yn,c2e:()=>QM,cJS:()=>Xt,cg1:()=>Kv,d8E:()=>uh,dDg:()=>Hb,dqk:()=>zt,eBb:()=>vy,eFA:()=>xp,ekj:()=>xg,eoX:()=>Yi,f3M:()=>D,g9A:()=>Rb,h0i:()=>Lu,hGG:()=>gA,hij:()=>Mg,iGM:()=>vp,ifc:()=>St,ip1:()=>BI,jDz:()=>uI,kL8:()=>Yv,lG2:()=>J,lcZ:()=>bI,lqb:()=>dc,lri:()=>u_,mCW:()=>_,n5z:()=>Ks,n_E:()=>bh,oAB:()=>mn,oJD:()=>Lm,oxw:()=>dE,pB0:()=>Rd,q3G:()=>fi,q4F:()=>Nw,qLn:()=>Rf,qOj:()=>Dv,qZA:()=>Eg,qzn:()=>Aa,rWj:()=>d_,s9C:()=>Nv,sBO:()=>Yr,sIi:()=>Jf,s_b:()=>yp,soG:()=>Sh,tb:()=>s_,tp0:()=>jt,uIk:()=>Tv,vHH:()=>Re,vpe:()=>Ho,wAp:()=>Bt,xp6:()=>nC,ynx:()=>Ig,z2F:()=>f_,z3N:()=>io,zSh:()=>kf,zs3:()=>Al});var u=V(7579),G=V(727),N=V(9751),de=V(6451),pe=V(3099);function Ce(s){for(let a in s)if(s[a]===Ce)return a;throw Error("Could not find renamed property on target object.")}function ue(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function De(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Y=Ce({__forward_ref__:Ce});function W(s){return s.__forward_ref__=W,s.toString=function(){return ye(this())},s}function ie(s){return Xe(s)?s():s}function Xe(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===W}class Re extends Error{constructor(a,l){super(function gt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Ue(s,a){throw new Re(-201,!1)}function nn(s,a){null==s&&function st(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function vn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function ji(s){return Ji(s,er)||Ji(s,jr)}function ts(s){return null!==ji(s)}function Ji(s,a){return s.hasOwnProperty(a)?s[a]:null}function ms(s){return s&&(s.hasOwnProperty(ci)||s.hasOwnProperty(gs))?s[ci]:null}const er=Ce({\u0275prov:Ce}),ci=Ce({\u0275inj:Ce}),jr=Ce({ngInjectableDef:Ce}),gs=Ce({ngInjectorDef:Ce});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let gi;function Ln(s){const a=gi;return gi=s,a}function Ri(s,a,l){const d=ji(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&lt.Optional?null:void 0!==a?a:void Ue(ye(s))}function Bn(s){return{toString:s}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$i={},$t=[],tr=Ce({\u0275cmp:Ce}),Qt=Ce({\u0275dir:Ce}),Tr=Ce({\u0275pipe:Ce}),hn=Ce({\u0275mod:Ce}),Di=Ce({\u0275fac:Ce}),zn=Ce({__NG_ELEMENT_ID__:Ce});let ft=0;function Pe(s){return Bn(()=>{const l=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c"+ft++,styles:s.styles||$t,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return f.inputs=q(s.inputs,d),f.outputs=q(s.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ot).filter(Nt):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(le).filter(Nt):null,f})}function Ot(s){return P(s)||H(s)}function Nt(s){return null!==s}function mn(s){return Bn(()=>({type:s.type,bootstrap:s.bootstrap||$t,declarations:s.declarations||$t,imports:s.imports||$t,exports:s.exports||$t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function q(s,a){if(null==s)return $i;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}const J=Pe;function $(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function P(s){return s[tr]||null}function H(s){return s[Qt]||null}function le(s){return s[Tr]||null}function ze(s){const a=P(s)||H(s)||le(s);return null!==a&&a.standalone}function yt(s,a){const l=s[hn]||null;if(!l&&!0===a)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return l}function yi(s){return Array.isArray(s)&&"object"==typeof s[1]}function xr(s){return Array.isArray(s)&&!0===s[1]}function wo(s){return 0!=(8&s.flags)}function ql(s){return 2==(2&s.flags)}function Qa(s){return 1==(1&s.flags)}function fr(s){return null!==s.template}function Nc(s){return 0!=(256&s[2])}function Ni(s,a){return s.hasOwnProperty(Di)?s[Di]:null}class na{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function zs(){return ad}function ad(s){return s.type.prototype.ngOnChanges&&(s.setInput=Lc),Zl}function Zl(){const s=ia(this),a=s?.current;if(a){const l=s.previous;if(l===$i)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Lc(s,a,l,d){const f=ia(s)||function ws(s,a){return s[ld]=a}(s,{previous:$i,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],I=v[C];m[C]=new na(I&&I.currentValue,a,v===$i),s[d]=a}zs.ngInherit=!0;const ld="__ngSimpleChanges__";function ia(s){return s[ld]||null}function Kn(s){for(;Array.isArray(s);)s=s[0];return s}function $r(s,a){return Kn(a[s])}function Fi(s,a){return Kn(a[s.index])}function Io(s,a){return s.data[a]}function ns(s,a){return s[a]}function wn(s,a){const l=a[s];return yi(l)?l:l[0]}function Gs(s){return 64==(64&s[2])}function Rr(s,a){return null==a?null:s[a]}function el(s){s[18]=0}function Jn(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Wt={lFrame:ul(null),bindingsEnabled:!0};function Do(){return Wt.bindingsEnabled}function Ve(){return Wt.lFrame.lView}function un(){return Wt.lFrame.tView}function sf(s){return Wt.lFrame.contextLView=s,s[8]}function oa(s){return Wt.lFrame.contextLView=null,s}function vi(){let s=aa();for(;null!==s&&64===s.type;)s=s.parent;return s}function aa(){return Wt.lFrame.currentTNode}function nr(s,a){const l=Wt.lFrame;l.currentTNode=s,l.isParent=a}function Ql(){return Wt.lFrame.isParent}function la(){Wt.lFrame.isParent=!1}function bi(){const s=Wt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function al(){return Wt.lFrame.bindingIndex++}function Es(s){const a=Wt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function hd(s,a){const l=Wt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ca(a)}function ca(s){Wt.lFrame.currentDirectiveIndex=s}function jc(s){const a=Wt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function ll(){return Wt.lFrame.currentQueryIndex}function $c(s){Wt.lFrame.currentQueryIndex=s}function cl(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function fd(s,a,l){if(l&lt.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||l&lt.Host||(f=cl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,s=m}const d=Wt.lFrame=cf();return d.currentTNode=a,d.lView=s,!0}function ua(s){const a=cf(),l=s[1];Wt.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function cf(){const s=Wt.lFrame,a=null===s?null:s.child;return null===a?ul(s):a}function ul(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function uf(){const s=Wt.lFrame;return Wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const pd=uf;function qs(){const s=uf();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qn(){return Wt.lFrame.selectedIndex}function Is(s){Wt.lFrame.selectedIndex=s}function Wn(){const s=Wt.lFrame;return Io(s.tView,s.selectedIndex)}function zc(){Wt.lFrame.currentNamespace="svg"}function Xl(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function da(s,a,l){fa(s,a,3,l)}function ha(s,a,l,d){(3&s[2])===l&&fa(s,a,l,d)}function gd(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function fa(s,a,l,d){const m=d??-1,v=a.length-1;let C=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=d&&C>=d)break}else a[I]<0&&(s[18]+=65536),(C<m||-1==m)&&(_d(s,l,a,I),s[18]=(4294901760&s[18])+I+2),I++}function _d(s,a,l,d){const f=l[d]<0,m=l[d+1],C=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Or{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ds(s,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],C=l[d++];s.setAttribute(a,v,C,m)}else{const m=f,v=l[++d];Yc(m)?s.setProperty(a,m,v):s.setAttribute(a,m,v),d++}}return d}function hl(s){return 3===s||4===s||6===s}function Yc(s){return 64===s.charCodeAt(0)}function fl(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||vd(s,l,f,null,-1===l||2===l?a[++d]:null)}}return s}function vd(s,a,l,d,f){let m=0,v=s.length;if(-1===a)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(s.splice(v,0,a),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function ff(s){return-1!==s}function wi(s){return 32767&s}function Zs(s,a){let l=function pf(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let Qc=!0;function pl(s){const a=Qc;return Qc=s,a}let bd=0;const mr={};function Ts(s,a){const l=nc(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,Xc(d.data,s),Xc(a,null),Xc(d.blueprint,null));const f=ml(s,a),m=s.injectorIndex;if(ff(f)){const v=wi(f),C=Zs(f,a),I=C[1].data;for(let x=0;x<8;x++)a[m+x]=C[v+x]|I[v+x]}return a[m+8]=f,m}function Xc(s,a){s.push(0,0,0,0,0,0,0,0,a)}function nc(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ml(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=ba(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function So(s,a,l){!function wd(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(zn)&&(d=l[zn]),null==d&&(d=l[zn]=bd++);const f=255&d;a.data[s+(f>>5)]|=1<<f}(s,a,l)}function ma(s,a,l){if(l&lt.Optional||void 0!==s)return s;Ue()}function xo(s,a,l,d){if(l&lt.Optional&&void 0===d&&(d=null),0==(l&(lt.Self|lt.Host))){const f=s[9],m=Ln(void 0);try{return f?f.get(a,d,l&lt.Optional):Ri(a,d,l&lt.Optional)}finally{Ln(m)}}return ma(d,0,l)}function ga(s,a,l,d=lt.Default,f){if(null!==s){if(1024&a[2]){const v=function _f(s,a,l,d,f){let m=s,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Cd(m,v,l,d|lt.Self,mr);if(C!==mr)return C;let I=m.parent;if(!I){const x=v[21];if(x){const O=x.get(l,mr,d);if(O!==mr)return O}I=ba(v),v=v[15]}m=I}return f}(s,a,l,d,mr);if(v!==mr)return v}const m=Cd(s,a,l,d,mr);if(m!==mr)return m}return xo(a,l,d,f)}function Cd(s,a,l,d,f){const m=function gf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(zn)?s[zn]:void 0;return"number"==typeof a?a>=0?255&a:Jc:a}(l);if("function"==typeof m){if(!fd(a,s,d))return d&lt.Host?ma(f,0,d):xo(a,l,d,f);try{const v=m(d);if(null!=v||d&lt.Optional)return v;Ue()}finally{pd()}}else if("number"==typeof m){let v=null,C=nc(s,a),I=-1,x=d&lt.Host?a[16][6]:null;for((-1===C||d&lt.SkipSelf)&&(I=-1===C?ml(s,a):a[C+8],-1!==I&&rc(d,!1)?(v=a[1],C=wi(I),a=Zs(I,a)):C=-1);-1!==C;){const O=a[1];if(_a(m,C,O.data)){const B=ic(C,a,l,v,d,x);if(B!==mr)return B}I=a[C+8],-1!==I&&rc(d,a[1].data[C+8]===x)&&_a(m,C,a)?(v=O,C=wi(I),a=Zs(I,a)):C=-1}}return f}function ic(s,a,l,d,f,m){const v=a[1],C=v.data[s+8],O=_l(C,v,l,null==d?ql(C)&&Qc:d!=v&&0!=(3&C.type),f&lt.Host&&m===C);return null!==O?rs(a,v,O,C):mr}function _l(s,a,l,d,f){const m=s.providerIndexes,v=a.data,C=1048575&m,I=s.directiveStart,O=m>>20,Q=f?C+O:s.directiveEnd;for(let ae=d?C:C+O;ae<Q;ae++){const ke=v[ae];if(ae<I&&l===ke||ae>=I&&ke.type===l)return ae}if(f){const ae=v[I];if(ae&&fr(ae)&&ae.type===l)return I}return null}function rs(s,a,l,d){let f=s[l];const m=a.data;if(function Kc(s){return s instanceof Or}(f)){const v=f;v.resolving&&function ct(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(m[l]));const C=pl(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Ln(v.injectImpl):null;fd(s,d,lt.Default);try{f=s[l]=v.factory(void 0,m,s,d),a.firstCreatePass&&l>=d.directiveStart&&function Zc(s,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=ad(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],a)}finally{null!==I&&Ln(I),pl(C),v.resolving=!1,pd()}}return f}function _a(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function rc(s,a){return!(s&lt.Self||s&lt.Host&&a)}class ya{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return ga(this._tNode,this._lView,a,d,l)}}function Jc(){return new ya(vi(),Ve())}function Ks(s){return Bn(()=>{const a=s.prototype.constructor,l=a[Di]||va(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[Di]||va(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function va(s){return Xe(s)?()=>{const a=va(ie(s));return a&&a()}:Ni(s)}function ba(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function sc(s){return function gl(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(hl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(vi(),s)}const wa="__parameters__";function Ea(s,a,l){return Bn(()=>{const d=function eu(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(I,x,O){const B=I.hasOwnProperty(wa)?I[wa]:Object.defineProperty(I,wa,{value:[]})[wa];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(v),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class jn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=vn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gi(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(a===s&&(a=s.slice(0,l)),Gi(d,a)):a!==s&&a.push(d)}return a}function Ss(s,a){s.forEach(l=>Array.isArray(l)?Ss(l,a):a(l))}function yl(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Ao(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function gr(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}function ir(s,a,l){let d=Gr(s,a);return d>=0?s[1|d]=l:(d=~d,function Et(s,a,l,d){let f=s.length;if(f==a)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function Da(s,a){const l=Gr(s,a);if(l>=0)return s[1|l]}function Gr(s,a){return function rr(s,a,l){let d=0,f=s.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=s[m<<l];if(a===v)return m<<l;v>a?f=m:d=m+1}return~(f<<l)}(s,a,1)}const ii={},as="__NG_DI_FLAG__",Sa="ngTempTokenPath",lc=/\n/gm,ru="__source";let xa;function Ms(s){const a=xa;return xa=s,a}function Sd(s,a=lt.Default){if(void 0===xa)throw new Re(-203,!1);return null===xa?Ri(s,void 0,a):xa.get(s,a&lt.Optional?null:void 0,a)}function ri(s,a=lt.Default){return(function ui(){return gi}()||Sd)(ie(s),a)}function D(s,a=lt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),ri(s,a)}function S(s){const a=[];for(let l=0;l<s.length;l++){const d=ie(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,!1);let f,m=lt.Default;for(let v=0;v<d.length;v++){const C=d[v],I=j(C);"number"==typeof I?-1===I?f=C.token:m|=I:f=C}a.push(ri(f,m))}else a.push(ri(d))}return a}function k(s,a){return s[as]=a,s.prototype[as]=a,s}function j(s){return s[as]}const nt=k(Ea("Optional"),8),jt=k(Ea("SkipSelf"),4);let Pm,If,uc;function gw(s){Pm=s}function bl(s){return function Df(){if(void 0===If&&(If=null,zt.trustedTypes))try{If=zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return If}()?.createHTML(s)||s}function ou(s){return function wl(){if(void 0===uc&&(uc=null,zt.trustedTypes))try{uc=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return uc}()?.createHTML(s)||s}class Oo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xd extends Oo{getTypeName(){return"HTML"}}class Tf extends Oo{getTypeName(){return"Style"}}class Sf extends Oo{getTypeName(){return"Script"}}class Md extends Oo{getTypeName(){return"URL"}}class Ad extends Oo{getTypeName(){return"ResourceURL"}}function io(s){return s instanceof Oo?s.changingThisBreaksApplicationSecurity:s}function Aa(s,a){const l=function kd(s){return s instanceof Oo&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function _w(s){return new xd(s)}function yw(s){return new Tf(s)}function vy(s){return new Sf(s)}function vw(s){return new Md(s)}function Rd(s){return new Ad(s)}class Od{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(bl(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class xf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=bl(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=bl(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function E(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function M(...s){const a={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const L=E("area,br,col,hr,img,wbr"),oe=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ne=E("rp,rt"),$n=M(L,M(oe,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),M(Ne,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),M(Ne,oe)),ks=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pd=M(ks,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),au=E("script,style,template");class Nm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!$n.hasOwnProperty(l))return this.sanitizedSomething=!0,!au.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!Pd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=m.value;ks[C]&&(I=_(I)),this.buf.push(" ",v,'="',Il(I),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();$n.hasOwnProperty(l)&&!L.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Il(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const by=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Af=/([^\#-~ |!])/g;function Il(s){return s.replace(/&/g,"&amp;").replace(by,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Af,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function lu(s,a){let l=null;try{ka=ka||function El(s){const a=new xf(s);return function b(){try{return!!(new window.DOMParser).parseFromString(bl(""),"text/html")}catch{return!1}}()?new Od(a):a}(s);let d=a?String(a):"";l=ka.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=l.innerHTML,l=ka.getInertBodyElement(d)}while(d!==m);return bl((new Nm).sanitizeChildren(cu(l)||l))}finally{if(l){const d=cu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function cu(s){return"content"in s&&function Fm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Lm(s){const a=Nd();return a?ou(a.sanitize(fi.HTML,s)||""):Aa(s,"HTML")?ou(io(s)):lu(function Ef(){return void 0!==Pm?Pm:typeof document<"u"?document:void 0}(),Se(s))}function ww(s){const a=Nd();return a?a.sanitize(fi.URL,s)||"":Aa(s,"URL")?io(s):_(Se(s))}function Nd(){const s=Ve();return s&&s[12]}const wy=new jn("ENVIRONMENT_INITIALIZER"),Cy=new jn("INJECTOR",-1),Ew=new jn("INJECTOR_DEF_TYPES");class zT{get(a,l=ii){if(l===ii){const d=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw d.name="NullInjectorError",d}return l}}function Iw(...s){return{\u0275providers:Dw(0,s)}}function Dw(s,...a){const l=[],d=new Set;let f;return Ss(a,m=>{const v=m;Iy(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Ey(f,l),l}function Ey(s,a){for(let l=0;l<s.length;l++){const{providers:f}=s[l];Ss(f,m=>{a.push(m)})}}function Iy(s,a,l,d){if(!(s=ie(s)))return!1;let f=null,m=ms(s);const v=!m&&P(s);if(m||v){if(v&&!v.standalone)return!1;f=s}else{const I=s.ngModule;if(m=ms(I),!m)return!1;f=I}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of I)Iy(x,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let x;d.add(f);try{Ss(m.imports,O=>{Iy(O,a,l,d)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&Ey(x,a)}if(!C){const x=Ni(f)||(()=>new f);a.push({provide:f,useFactory:x,deps:$t},{provide:Ew,useValue:f,multi:!0},{provide:wy,useValue:()=>ri(f),multi:!0})}const I=m.providers;null==I||C||Ss(I,O=>{a.push(O)})}}return f!==s&&void 0!==s.providers}const Tw=Ce({provide:String,useValue:Ce});function Dy(s){return null!==s&&"object"==typeof s&&Tw in s}function Dl(s){return"function"==typeof s}const kf=new jn("Set Injector scope."),Vm={},Sy={};let Bm;function Um(){return void 0===Bm&&(Bm=new zT),Bm}class dc{}class xw extends dc{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(a,v=>this.processProvider(v)),this.records.set(Cy,Fd(void 0,this)),f.has("environment")&&this.records.set(dc,Fd(void 0,this));const m=this.records.get(kf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ew.multi,$t,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Ms(this),d=Ln(void 0);try{return a()}finally{Ms(l),Ln(d)}}get(a,l=ii,d=lt.Default){this.assertNotDestroyed();const f=Ms(this),m=Ln(void 0);try{if(!(d&lt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function nO(s){return"function"==typeof s||"object"==typeof s&&s instanceof jn}(a)&&ji(a);C=I&&this.injectableDefInScope(I)?Fd(Hm(a),Vm):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&lt.Self?Um():this.parent).get(a,l=d&lt.Optional&&l===ii?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Sa]=v[Sa]||[]).unshift(ye(a)),f)throw v;return function ne(s,a,l,d){const f=s[Sa];throw a[ru]&&f.unshift(a[ru]),s.message=function fe(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ye(a);if(Array.isArray(a))f=a.map(ye).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):ye(C)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(lc,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[Sa]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{Ln(m),Ms(f)}}resolveInjectorInitializers(){const a=Ms(this),l=Ln(void 0);try{const d=this.get(wy.multi,$t,lt.Self);for(const f of d)f()}finally{Ms(a),Ln(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(ye(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(a){let l=Dl(a=ie(a))?a:ie(a&&a.provide);const d=function xy(s){return Dy(s)?Fd(void 0,s.useValue):Fd(Mw(s),Vm)}(a);if(Dl(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Fd(void 0,Vm,!0),f.factory=()=>S(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Vm&&(l.value=Sy,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ZT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=ie(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Hm(s){const a=ji(s),l=null!==a?a.factory:Ni(s);if(null!==l)return l;if(s instanceof jn)throw new Re(204,!1);if(s instanceof Function)return function WT(s){const a=s.length;if(a>0)throw gr(a,"?"),new Re(204,!1);const l=function Zn(s){const a=s&&(s[er]||s[jr]);if(a){const l=function ps(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function Mw(s,a,l){let d;if(Dl(s)){const f=ie(s);return Ni(f)||Hm(f)}if(Dy(s))d=()=>ie(s.useValue);else if(function Sw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...S(s.deps||[]));else if(function Ty(s){return!(!s||!s.useExisting)}(s))d=()=>ri(ie(s.useExisting));else{const f=ie(s&&(s.useClass||s.provide));if(!function Aw(s){return!!s.deps}(s))return Ni(f)||Hm(f);d=()=>new f(...S(s.deps))}return d}function Fd(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function My(s){return!!s.\u0275providers}function Ay(s,a){for(const l of s)Array.isArray(l)?Ay(l,a):My(l)?Ay(l.\u0275providers,a):a(l)}class ky{}class YT{resolveComponentFactory(a){throw function uu(s){const a=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Ld=(()=>{class s{}return s.NULL=new YT,s})();function QT(){return Vd(vi(),Ve())}function Vd(s,a){return new du(Fi(s,a))}let du=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=QT,s})();function Ow(s){return s instanceof du?s.nativeElement:s}class Ry{}let XT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Pw(){const s=Ve(),l=wn(vi().index,s);return(yi(l)?l:s)[11]}(),s})(),JT=(()=>{class s{}return s.\u0275prov=vn({token:s,providedIn:"root",factory:()=>null}),s})();class Oy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Nw=new Oy("14.2.11"),jm={};function hu(s){return s.ngOriginalError}class Rf{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&hu(a);for(;l&&hu(l);)l=hu(l);return l||null}}const ro=new Map;let Ud=0;const xi="__ngContext__";function Pn(s,a){yi(a)?(s[xi]=a[20],function pu(s){ro.set(s[20],s)}(a)):s[xi]=a}function $w(s){return s.ownerDocument.defaultView}function Ps(s){return s instanceof Function?s():s}var Fo=(()=>((Fo=Fo||{})[Fo.Important=1]="Important",Fo[Fo.DashCase=2]="DashCase",Fo))();function zw(s,a){return undefined(s,a)}function Pf(s){const a=s[3];return xr(a)?a[3]:a}function qm(s){return jy(s[13])}function Hy(s){return jy(s[4])}function jy(s){for(;null!==s&&!xr(s);)s=s[4];return s}function mu(s,a,l,d,f){if(null!=d){let m,v=!1;xr(d)?m=d:yi(d)&&(v=!0,d=d[0]);const C=Kn(d);0===s&&null!==l?null==f?zy(a,l,C):pc(a,l,C,f||null,!0):1===s&&null!==l?pc(a,l,C,f||null,!0):2===s?function pS(s,a,l){const d=yu(s,a);d&&function hS(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,C,v):3===s&&a.destroyNode(C),null!=m&&function Uf(s,a,l,d,f){const m=l[7];m!==Kn(l)&&mu(a,s,d,m,f);for(let C=10;C<l.length;C++){const I=l[C];Bf(I[1],I,s,a,d,m)}}(a,s,m,l,f)}}function fn(s,a,l){return s.createElement(a,l)}function Ww(s,a){const l=s[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Jn(f,-1)),l.splice(d,1)}function $d(s,a){if(s.length<=10)return;const l=10+a,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&Ww(f,d),a>0&&(s[l-1][4]=d[4]);const m=Ao(s,10+a);!function Ff(s,a){Bf(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function zd(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Bf(s,a,l,3,null,null),function uS(s){let a=s[13];if(!a)return Zm(s[1],s);for(;a;){let l=null;if(yi(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)yi(a)&&Zm(a[1],a),a=a[3];null===a&&(a=s),yi(a)&&Zm(a[1],a),l=a&&a[4]}a=l}}(a)}}function Zm(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function dS(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof Or)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],I=m[v+1];try{I.call(C)}finally{}}else try{m.call(f)}finally{}}}}(s,a),function Km(s,a){const l=s.cleanup,d=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(a):Kn(a[v]),I=d[f=l[m+2]],x=l[m+3];"boolean"==typeof x?C.removeEventListener(l[m],I,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),m+=2}else{const v=d[f=l[m+1]];l[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&xr(a[3])){l!==a[3]&&Ww(l,a);const d=a[19];null!==d&&d.detachView(s)}!function Fy(s){ro.delete(s[20])}(a)}}function Ym(s,a,l){return function Lf(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===St.None||f===St.Emulated)return null}return Fi(d,l)}(s,a.parent,l)}function pc(s,a,l,d,f){s.insertBefore(a,l,d,f)}function zy(s,a,l){s.appendChild(a,l)}function Zw(s,a,l,d,f){null!==d?pc(s,a,l,d,f):zy(s,a,l)}function yu(s,a){return s.parentNode(a)}function Kw(s,a,l){return Qw(s,a,l)}let Qw=function Yw(s,a,l){return 40&s.type?Fi(s,l):null};function vu(s,a,l,d){const f=Ym(s,d,a),m=a[11],C=Kw(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)Zw(m,f,l[I],C,!1);else Zw(m,f,l,C,!1)}function Xm(s,a){if(null!==a){const l=a.type;if(3&l)return Fi(a,s);if(4&l)return Vf(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return Xm(s,d);{const f=s[a.index];return xr(f)?Vf(-1,f):Kn(f)}}if(32&l)return zw(a,s)()||Kn(s[a.index]);{const d=mc(s,a);return null!==d?Array.isArray(d)?d[0]:Xm(Pf(s[16]),d):Xm(s,a.next)}}return null}function mc(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Vf(s,a){const l=10+s+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return Xm(d,f)}return a[7]}function qy(s,a,l,d,f,m,v){for(;null!=l;){const C=d[l.index],I=l.type;if(v&&0===a&&(C&&Pn(Kn(C),d),l.flags|=4),64!=(64&l.flags))if(8&I)qy(s,a,l.child,d,f,m,!1),mu(a,s,f,C,m);else if(32&I){const x=zw(l,d);let O;for(;O=x();)mu(a,s,f,O,m);mu(a,s,f,C,m)}else 16&I?Gd(s,a,d,l,f,m):mu(a,s,f,C,m);l=v?l.projectionNext:l.next}}function Bf(s,a,l,d,f,m){qy(l,d,s.firstChild,a,f,m,!1)}function Gd(s,a,l,d,f,m){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)mu(a,s,f,I[x],m);else qy(s,a,I,v[3],f,m,!0)}function Wy(s,a,l){s.setAttribute(a,"style",l)}function Jm(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function Zy(s,a,l){let d=s.length;for(;;){const f=s.indexOf(a,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}l=f+1}}const Xw="ng-template";function gS(s,a,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==Zy(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Ky(s){return 4===s.type&&s.value!==Xw}function _S(s,a,l){return a===(4!==s.type||l?s.value:Xw)}function Yy(s,a,l){let d=4;const f=s.attrs||[],m=function Jw(s){for(let a=0;a<s.length;a++)if(hl(s[a]))return a;return s.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!_S(s,I,l)||""===I&&1===a.length){if(Wr(d))return!1;v=!0}}else{const x=8&d?I:a[++C];if(8&d&&null!==s.attrs){if(!gS(s.attrs,x,l)){if(Wr(d))return!1;v=!0}continue}const B=yS(8&d?"class":I,f,Ky(s),l);if(-1===B){if(Wr(d))return!1;v=!0;continue}if(""!==x){let Q;Q=B>m?"":f[B+1].toLowerCase();const ae=8&d?Q:null;if(ae&&-1!==Zy(ae,x,0)||2&d&&x!==Q){if(Wr(d))return!1;v=!0}}}}else{if(!v&&!Wr(d)&&!Wr(I))return!1;if(v&&Wr(I))continue;v=!1,d=I|1&d}}return Wr(d)||v}function Wr(s){return 0==(1&s)}function yS(s,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===s)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function eC(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function eg(s,a,l=!1){for(let d=0;d<a.length;d++)if(Yy(s,a[d],l))return!0;return!1}function Ml(s,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function tg(s,a){return s?":not("+a.trim()+")":a}function bu(s){let a=s[0],l=1,d=2,f="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Wr(v)&&(a+=tg(m,f),f=""),d=v,m=m||!Wr(d);l++}return""!==f&&(a+=tg(m,f)),a}const sn={};function nC(s){iC(un(),Ve(),qn()+s,!1)}function iC(s,a,l,d){if(!d)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&da(a,m,l)}else{const m=s.preOrderHooks;null!==m&&ha(a,m,0,l)}Is(l)}function aC(s,a=null,l=null,d){const f=Qy(s,a,l,d);return f.resolveInjectorInitializers(),f}function Qy(s,a=null,l=null,d,f=new Set){const m=[l||$t,Iw(s)];return d=d||("object"==typeof s?void 0:ye(s)),new xw(m,a||Um(),d||null,f)}let Al=(()=>{class s{static create(l,d){if(Array.isArray(l))return aC({name:""},d,l,"");{const f=l.name??"";return aC({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=ii,s.NULL=new zT,s.\u0275prov=vn({token:s,providedIn:"any",factory:()=>ri(Cy)}),s.__NG_ELEMENT_ID__=-1,s})();function wu(s,a=lt.Default){const l=Ve();return null===l?ri(s,a):ga(vi(),l,ie(s),a)}function kS(){throw new Error("invalid")}function rv(s,a){return s<<17|a<<2}function Oa(s){return s>>17&32767}function sv(s){return 2|s}function kl(s){return(131068&s)>>2}function jf(s,a){return-131069&s|a<<2}function sg(s){return 1|s}function Kf(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];$c(f),v.contentQueries(2,a[m],m)}}}function Eu(s,a,l,d,f,m,v,C,I,x,O){const B=a.blueprint.slice();return B[0]=f,B[2]=76|d,(null!==O||s&&1024&s[2])&&(B[2]|=1024),el(B),B[3]=B[15]=s,B[8]=l,B[10]=v||s&&s[10],B[11]=C||s&&s[11],B[12]=I||s&&s[12]||null,B[9]=x||s&&s[9]||null,B[6]=m,B[20]=function fu(){return Ud++}(),B[21]=O,B[16]=2==a.type?s[16]:B,B}function Rl(s,a,l,d,f){let m=s.data[a];if(null===m)m=function cg(s,a,l,d,f){const m=aa(),v=Ql(),I=s.data[a]=function HS(s,a,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,a,l,d,f),function dd(){return Wt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function Yl(){const s=Wt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return nr(m,!0),m}function Pa(s,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function ug(s,a,l){ua(a);try{const d=s.viewQuery;null!==d&&wv(1,d,l);const f=s.template;null!==f&&xC(s,a,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Kf(s,a),s.staticViewQueries&&wv(2,s.viewQuery,l);const m=s.components;null!==m&&function SC(s,a){for(let l=0;l<a.length;l++)QS(s,a[l])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,qs()}}function dg(s,a,l,d){const f=a[2];if(128!=(128&f)){ua(a);try{el(a),function ol(s){return Wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&xC(s,a,l,2,d);const v=3==(3&f);if(v){const x=s.preOrderCheckHooks;null!==x&&da(a,x,null)}else{const x=s.preOrderHooks;null!==x&&ha(a,x,0,null),gd(a,0)}if(function YS(s){for(let a=qm(s);null!==a;a=Hy(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&Jn(m,1),f[2]|=512}}}(a),function KS(s){for(let a=qm(s);null!==a;a=Hy(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];Gs(d)&&dg(f,d,f.template,d[8])}}(a),null!==s.contentQueries&&Kf(s,a),v){const x=s.contentCheckHooks;null!==x&&da(a,x)}else{const x=s.contentHooks;null!==x&&ha(a,x,1),gd(a,1)}!function VS(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Is(~f);else{const m=f,v=l[++d],C=l[++d];hd(v,m),C(2,a[m])}}}finally{Is(-1)}}(s,a);const C=s.components;null!==C&&function TC(s,a){for(let l=0;l<a.length;l++)mg(s,a[l])}(a,C);const I=s.viewQuery;if(null!==I&&wv(2,I,d),v){const x=s.viewCheckHooks;null!==x&&da(a,x)}else{const x=s.viewHooks;null!==x&&ha(a,x,2),gd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Jn(a[3],-1))}finally{qs()}}}function xC(s,a,l,d,f){const m=qn(),v=2&d;try{Is(-1),v&&a.length>22&&iC(s,a,22,!1),l(d,f)}finally{Is(m)}}function MC(s,a,l){if(wo(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function hv(s,a,l){!Do()||(function GS(s,a,l,d){const f=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Ts(l,a),Pn(d,a);const v=l.initialInputs;for(let C=f;C<m;C++){const I=s.data[C],x=fr(I);x&&ZS(a,l,I);const O=rs(a,s,C,l);Pn(O,a),null!==v&&fg(0,C-f,O,I,0,v),x&&(wn(l.index,a)[8]=O)}}(s,a,l,Fi(l,a)),128==(128&l.flags)&&function qS(s,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function lf(){return Wt.lFrame.currentDirectiveIndex}();try{Is(m);for(let C=d;C<f;C++){const I=s.data[C],x=a[C];ca(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&NC(I,x)}}finally{Is(-1),ca(v)}}(s,a,l))}function fv(s,a,l=Fi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(a,s):s[v];s[f++]=C}}}function Yf(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=pv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function pv(s,a,l,d,f,m,v,C,I,x){const O=22+d,B=O+f,Q=function BS(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:sn);return l}(O,B),ae="function"==typeof x?x():x;return Q[1]={type:s,blueprint:Q,template:l,queries:null,viewQuery:C,declTNode:a,data:Q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ae,incompleteFirstPass:!1}}function AC(s,a,l,d){const f=Xf(a);null===l?f.push(d):(f.push(l),s.firstCreatePass&&_g(s).push(d,f.length-1))}function kC(s,a,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function mv(s,a){const d=a.directiveEnd,f=s.data,m=a.attrs,v=[];let C=null,I=null;for(let x=a.directiveStart;x<d;x++){const O=f[x],B=O.inputs,Q=null===m||Ky(a)?null:UC(B,m);v.push(Q),C=kC(B,x,C),I=kC(O.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}function cs(s,a,l,d,f,m,v,C){const I=Fi(a,l);let O,x=a.inputs;!C&&null!=x&&(O=x[d])?(yg(s,l,O,d,f),ql(a)&&gv(l,a.index)):3&a.type&&(d=function jS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(I,d,f))}function gv(s,a){const l=wn(a,s);16&l[2]||(l[2]|=32)}function _v(s,a,l,d){let f=!1;if(Do()){const m=function FC(s,a,l){const d=s.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];eg(l,v.selectors,!1)&&(f||(f=[]),So(Ts(l,a),s,v.type),fr(v)?(hg(s,l),f.unshift(v)):f.push(v))}return f}(s,a,l),v=null===d?null:{"":-1};if(null!==m){f=!0,WS(l,s.data.length,m.length);for(let O=0;O<m.length;O++){const B=m[O];B.providersResolver&&B.providersResolver(B)}let C=!1,I=!1,x=Pa(s,a,m.length,null);for(let O=0;O<m.length;O++){const B=m[O];l.mergedAttrs=fl(l.mergedAttrs,B.hostAttrs),BC(s,l,a,x,B),VC(x,B,v),null!==B.contentQueries&&(l.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(l.flags|=128);const Q=B.type.prototype;!C&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!I&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),x++}mv(s,l)}v&&function LC(s,a,l){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new Re(-301,!1);d.push(a[f],m)}}}(l,d,v)}return l.mergedAttrs=fl(l.mergedAttrs,l.attrs),f}function PC(s,a,l,d,f,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const I=~a.index;(function zS(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function NC(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function hg(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function VC(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;fr(a)&&(l[""]=s)}}function WS(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function BC(s,a,l,d,f){s.data[d]=f;const m=f.factory||(f.factory=Ni(f.type)),v=new Or(m,fr(f),wu);s.blueprint[d]=v,l[d]=v,PC(s,a,0,d,Pa(s,l,f.hostVars,sn),f)}function ZS(s,a,l){const d=Fi(a,s),f=Yf(l),m=s[10],v=gg(s,Eu(s,f,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));s[a.index]=v}function Na(s,a,l,d,f,m){const v=Fi(s,a);!function yv(s,a,l,d,f,m,v){if(null==m)s.removeAttribute(a,f,l);else{const C=null==v?Se(m):v(m,d||"",f);s.setAttribute(a,f,C,l)}}(a[11],v,m,s.value,l,d,f)}function fg(s,a,l,d,f,m){const v=m[a];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const x=v[I++],O=v[I++],B=v[I++];null!==C?d.setInput(l,B,x,O):l[O]=B}}}function UC(s,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function pg(s,a,l,d){return new Array(s,!0,!1,a,null,0,d,l,null,null)}function mg(s,a){const l=wn(a,s);if(Gs(l)){const d=l[1];48&l[2]?dg(d,l,d.template,l[8]):l[5]>0&&vv(l)}}function vv(s){for(let d=qm(s);null!==d;d=Hy(d))for(let f=10;f<d.length;f++){const m=d[f];if(Gs(m))if(512&m[2]){const v=m[1];dg(v,m,v.template,m[8])}else m[5]>0&&vv(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=wn(l[d],s);Gs(f)&&f[5]>0&&vv(f)}}function QS(s,a){const l=wn(a,s),d=l[1];(function XS(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),ug(d,l,l[8])}function gg(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function bv(s){for(;s;){s[2]|=32;const a=Pf(s);if(Nc(s)&&!a)return s;s=a}return null}function Qf(s,a,l,d=!0){const f=a[10];f.begin&&f.begin();try{dg(s,a,s.template,l)}catch(v){throw d&&jC(a,v),v}finally{f.end&&f.end()}}function wv(s,a,l){$c(0),a(s,l)}function Xf(s){return s[7]||(s[7]=[])}function _g(s){return s.cleanup||(s.cleanup=[])}function Cv(s,a,l){return(null===s||fr(s))&&(l=function cd(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[a.index])),l[11]}function jC(s,a){const l=s[9],d=l?l.get(Rf,null):null;d&&d.handleError(a)}function yg(s,a,l,d,f){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],I=a[v],x=s.data[v];null!==x.setInput?x.setInput(I,f,d,C):I[C]=f}}function Ev(s,a,l){let d=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?f=De(f,C):2==m&&(d=De(d,C+": "+a[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function vg(s,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(Kn(m)),xr(m))for(let C=10;C<m.length;C++){const I=m[C],x=I[1].firstChild;null!==x&&vg(I[1],I,x,d)}const v=l.type;if(8&v)vg(s,a,l.child,d);else if(32&v){const C=zw(l,a);let I;for(;I=C();)d.push(I)}else if(16&v){const C=mc(a,l);if(Array.isArray(C))d.push(...C);else{const I=Pf(a[16]);vg(I[1],I,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class Iu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return vg(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(xr(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&($d(a,d),Ao(l,d))}this._attachedToViewContainer=!1}zd(this._lView[1],this._lView)}onDestroy(a){AC(this._lView[1],this._lView,null,a)}markForCheck(){bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _u(s,a){Bf(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=a}}class $C extends Iu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Qf(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Xd extends Ld{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=P(a);return new Du(l,this.ngModule)}}function ex(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class Jd{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,jm,d);return f!==jm||l===jm?f:this.parentInjector.get(a,l,d)}}class Du extends ky{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function ng(s){return s.map(bu).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ex(this.componentDef.inputs)}get outputs(){return ex(this.componentDef.outputs)}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof dc?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Jd(a,m):a,C=v.get(Ry,null);if(null===C)throw new Re(407,!1);const I=v.get(JT,null),x=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=d?function US(s,a,l){return s.selectRootElement(a,l===St.ShadowDom)}(x,d,this.componentDef.encapsulation):fn(x,O,function zC(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),Q=this.componentDef.onPush?288:272,ae=pv(0,null,null,1,0,null,null,null,null,null),ke=Eu(null,ae,null,Q,null,null,C,x,I,v,null);let Qe,rt;ua(ke);try{const wt=function nx(s,a,l,d,f,m){const v=l[1];l[22]=s;const I=Rl(v,22,2,"#host",null),x=I.mergedAttrs=a.hostAttrs;null!==x&&(Ev(I,x,!0),null!==s&&(Ds(f,s,x),null!==I.classes&&Jm(f,s,I.classes),null!==I.styles&&Wy(f,s,I.styles)));const O=d.createRenderer(s,a),B=Eu(l,Yf(a),null,a.onPush?32:16,l[22],I,d,O,m||null,null,null);return v.firstCreatePass&&(So(Ts(I,l),v,a.type),hg(v,I),WS(I,l.length,1)),gg(l,B),l[22]=B}(B,this.componentDef,ke,C,x);if(B)if(d)Ds(x,B,["ng-version",Nw.full]);else{const{attrs:ut,classes:He}=function tC(s){const a=[],l=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++d]):8===f&&l.push(m);else{if(!Wr(f))break;f=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);ut&&Ds(x,B,ut),He&&He.length>0&&Jm(x,B,He.join(" "))}if(rt=Io(ae,22),void 0!==l){const ut=rt.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const qt=l[He];ut.push(null!=qt?Array.from(qt):null)}}Qe=function ix(s,a,l,d){const f=l[1],m=function OC(s,a,l){const d=vi();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),BC(s,d,a,Pa(s,a,1,null),l),mv(s,d));const f=rs(a,s,d.directiveStart,d);Pn(f,a);const m=Fi(d,a);return m&&Pn(m,a),f}(f,l,a);if(s[8]=l[8]=m,null!==d)for(const C of d)C(m,a);if(a.contentQueries){const C=vi();a.contentQueries(1,m,C.directiveStart)}const v=vi();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Is(v.index),PC(l[1],v,0,v.directiveStart,v.directiveEnd,a),NC(a,m)),m}(wt,this.componentDef,ke,[rx]),ug(ae,ke,null)}finally{qs()}return new GC(this.componentType,Qe,Vd(rt,ke),ke,rt)}}class GC extends class kw{}{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new $C(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;yg(m[1],m,f,a,l),gv(m,this._tNode.index)}}get injector(){return new ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function rx(){const s=vi();Xl(Ve()[1],s)}function Dv(s){let a=function Iv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let f;if(fr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Re(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=eh(s.inputs),v.declaredInputs=eh(s.declaredInputs),v.outputs=eh(s.outputs);const C=f.hostBindings;C&&sx(s,C);const I=f.viewQuery,x=f.contentQueries;if(I&&MO(s,I),x&&WC(s,x),ue(s.inputs,f.inputs),ue(s.declaredInputs,f.declaredInputs),ue(s.outputs,f.outputs),fr(f)&&f.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===Dv&&(l=!1)}}a=Object.getPrototypeOf(a)}!function xO(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=fl(f.hostAttrs,l=fl(l,f.hostAttrs))}}(d)}function eh(s){return s===$i?{}:s===$t?[]:s}function MO(s,a){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function WC(s,a){const l=s.contentQueries;s.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function sx(s,a){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let bg=null;function Tu(){if(!bg){const s=zt.Symbol;if(s&&s.iterator)bg=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(bg=d)}}}return bg}function Jf(s){return!!YC(s)&&(Array.isArray(s)||!(s instanceof Map)&&Tu()in s)}function YC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Pr(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Tv(s,a,l,d){const f=Ve();return Pr(f,al(),a)&&(un(),Na(Wn(),f,s,a,l,d)),Tv}function th(s,a,l,d){return Pr(s,al(),l)?a+Se(l)+d:sn}function rE(s,a,l,d,f,m,v,C){const I=Ve(),x=un(),O=s+22,B=x.firstCreatePass?function dx(s,a,l,d,f,m,v,C,I){const x=a.consts,O=Rl(a,s,4,v||null,Rr(x,C));_v(a,l,O,Rr(x,I)),Xl(a,O);const B=O.tViews=pv(2,O,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,O),B.queries=a.queries.embeddedTView(O)),O}(O,x,I,a,l,d,f,m,v):x.data[O];nr(B,!1);const Q=I[11].createComment("");vu(x,I,Q,B),Pn(Q,I),gg(I,I[O]=pg(Q,I,Q,B)),Qa(B)&&hv(x,I,B),null!=v&&fv(I,B,C)}function sE(s){return ns(function sl(){return Wt.lFrame.contextLView}(),22+s)}function xv(s,a,l){const d=Ve();return Pr(d,al(),a)&&cs(un(),Wn(),d,s,a,d[11],l,!1),xv}function Mv(s,a,l,d,f){const v=f?"class":"style";yg(s,l,a.inputs[v],v,d)}function Cg(s,a,l,d){const f=Ve(),m=un(),v=22+s,C=f[11],I=f[v]=fn(C,a,function Wc(){return Wt.lFrame.currentNamespace}()),x=m.firstCreatePass?function fx(s,a,l,d,f,m,v){const C=a.consts,x=Rl(a,s,2,f,Rr(C,m));return _v(a,l,x,Rr(C,v)),null!==x.attrs&&Ev(x,x.attrs,!1),null!==x.mergedAttrs&&Ev(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,m,f,0,a,l,d):m.data[v];nr(x,!0);const O=x.mergedAttrs;null!==O&&Ds(C,I,O);const B=x.classes;null!==B&&Jm(C,I,B);const Q=x.styles;return null!==Q&&Wy(C,I,Q),64!=(64&x.flags)&&vu(m,f,I,x),0===function nl(){return Wt.lFrame.elementDepthCount}()&&Pn(I,f),function ud(){Wt.lFrame.elementDepthCount++}(),Qa(x)&&(hv(m,f,x),MC(m,x,f)),null!==d&&fv(f,x),Cg}function Eg(){let s=vi();Ql()?la():(s=s.parent,nr(s,!1));const a=s;!function il(){Wt.lFrame.elementDepthCount--}();const l=un();return l.firstCreatePass&&(Xl(l,s),wo(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ec(s){return 0!=(16&s.flags)}(a)&&Mv(l,a,Ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function tc(s){return 0!=(32&s.flags)}(a)&&Mv(l,a,Ve(),a.stylesWithoutHost,!1),Eg}function Av(s,a,l,d){return Cg(s,a,l,d),Eg(),Av}function Ig(s,a,l){const d=Ve(),f=un(),m=s+22,v=f.firstCreatePass?function px(s,a,l,d,f){const m=a.consts,v=Rr(m,d),C=Rl(a,s,8,"ng-container",v);return null!==v&&Ev(C,v,!0),_v(a,l,C,Rr(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,d,a,l):f.data[m];nr(v,!0);const C=d[m]=d[11].createComment("");return vu(f,d,C,v),Pn(C,d),Qa(v)&&(hv(f,d,v),MC(f,v,d)),null!=l&&fv(d,v),Ig}function Dg(){let s=vi();const a=un();return Ql()?la():(s=s.parent,nr(s,!1)),a.firstCreatePass&&(Xl(a,s),wo(s)&&a.queries.elementEnd(s)),Dg}function aE(){return Ve()}function kv(s){return!!s&&"function"==typeof s.then}function Tg(s){return!!s&&"function"==typeof s.subscribe}const Rv=Tg;function ah(s,a,l,d){const f=Ve(),m=un(),v=vi();return lE(m,f,f[11],v,s,a,0,d),ah}function Ov(s,a){const l=vi(),d=Ve(),f=un();return lE(f,d,Cv(jc(f.data),l,d),l,s,a),Ov}function lE(s,a,l,d,f,m,v,C){const I=Qa(d),O=s.firstCreatePass&&_g(s),B=a[8],Q=Xf(a);let ae=!0;if(3&d.type||C){const rt=Fi(d,a),wt=C?C(rt):rt,ut=Q.length,He=C?Fn=>C(Kn(Fn[d.index])):d.index;let qt=null;if(!C&&I&&(qt=function mx(s,a,l,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const C=a[7],I=f[m+2];return C.length>I?C[I]:null}"string"==typeof v&&(m+=2)}return null}(s,a,f,d.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=m,qt.__ngLastListenerFn__=m,ae=!1;else{m=uE(d,a,B,m,!1);const Fn=l.listen(wt,f,m);Q.push(m,Fn),O&&O.push(f,He,ut,ut+1)}}else m=uE(d,a,B,m,!1);const ke=d.outputs;let Qe;if(ae&&null!==ke&&(Qe=ke[f])){const rt=Qe.length;if(rt)for(let wt=0;wt<rt;wt+=2){const pi=a[Qe[wt]][Qe[wt+1]].subscribe(m),Tc=Q.length;Q.push(m,pi),O&&O.push(f,d.index,Tc,-(Tc+1))}}}function cE(s,a,l,d){try{return!1!==l(d)}catch(f){return jC(s,f),!1}}function uE(s,a,l,d,f){return function m(v){if(v===Function)return d;bv(2&s.flags?wn(s.index,a):a);let I=cE(a,0,d,v),x=m.__ngNextListenerFn__;for(;x;)I=cE(a,0,x,v)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function dE(s=1){return function Ws(s){return(Wt.lFrame.contextLView=function md(s,a){for(;s>0;)a=a[15],s--;return a}(s,Wt.lFrame.contextLView))[8]}(s)}function gx(s,a){let l=null;const d=function vS(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?eg(s,m,!0):Ml(d,m))return f}else l=f}return l}function Pv(s){const a=Ve()[16][6];if(!a.projection){const d=a.projection=gr(s?s.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=s?gx(m,s):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function hE(s,a=0,l){const d=Ve(),f=un(),m=Rl(f,22+s,16,null,l||null);null===m.projection&&(m.projection=a),la(),64!=(64&m.flags)&&function mS(s,a,l){Gd(a[11],0,a,l,Ym(s,l,a),Kw(l.parent||a[6],l,a))}(f,d,m)}function Nv(s,a,l){return Fv(s,"",a,"",l),Nv}function Fv(s,a,l,d,f){const m=Ve(),v=th(m,a,l,d);return v!==sn&&cs(un(),Wn(),m,s,v,m[11],f,!1),Fv}function bE(s,a,l,d,f){const m=s[l+1],v=null===a;let C=d?Oa(m):kl(m),I=!1;for(;0!==C&&(!1===I||v);){const O=s[C+1];yx(s[C],a)&&(I=!0,s[C+1]=d?sg(O):sv(O)),C=d?Oa(O):kl(O)}I&&(s[l+1]=d?sv(m):sg(m))}function yx(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Gr(s,a)>=0}const Ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wE(s){return s.substring(Ki.key,Ki.keyEnd)}function CE(s,a){const l=Ki.textEnd;return l===a?-1:(a=Ki.keyEnd=function Cx(s,a,l){for(;a<l&&s.charCodeAt(a)>32;)a++;return a}(s,Ki.key=a,l),lh(s,a,l))}function lh(s,a,l){for(;a<l&&s.charCodeAt(a)<=32;)a++;return a}function Vv(s,a,l){return Vo(s,a,l,!1),Vv}function xg(s,a){return Vo(s,a,null,!0),xg}function SE(s){!function Bo(s,a,l,d){const f=un(),m=Es(2);f.firstUpdatePass&&ME(f,null,m,d);const v=Ve();if(l!==sn&&Pr(v,m,l)){const C=f.data[qn()];if(Uv(C,d)&&!xE(f,m)){let I=d?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(l=De(I,l||"")),Mv(f,C,v,l,d)}else!function Ax(s,a,l,d,f,m,v,C){f===sn&&(f=$t);let I=0,x=0,O=0<f.length?f[0]:null,B=0<m.length?m[0]:null;for(;null!==O||null!==B;){const Q=I<f.length?f[I+1]:void 0,ae=x<m.length?m[x+1]:void 0;let Qe,ke=null;O===B?(I+=2,x+=2,Q!==ae&&(ke=B,Qe=ae)):null===B||null!==O&&O<B?(I+=2,ke=O):(x+=2,ke=B,Qe=ae),null!==ke&&RE(s,a,l,d,ke,Qe,v,C),O=I<f.length?f[I]:null,B=x<m.length?m[x]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function AE(s,a,l){if(null==l||""===l)return $t;const d=[],f=io(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(s,a,l),d,m)}}(ir,Va,s,!0)}function Va(s,a){for(let l=function bx(s){return function IE(s){Ki.key=0,Ki.keyEnd=0,Ki.value=0,Ki.valueEnd=0,Ki.textEnd=s.length}(s),CE(s,lh(s,0,Ki.textEnd))}(a);l>=0;l=CE(a,l))ir(s,wE(a),!0)}function Vo(s,a,l,d){const f=Ve(),m=un(),v=Es(2);m.firstUpdatePass&&ME(m,s,v,d),a!==sn&&Pr(f,v,a)&&RE(m,m.data[qn()],f,f[11],s,f[v+1]=function Fs(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ye(io(s)))),s}(a,l),d,v)}function xE(s,a){return a>=s.expandoStartIndex}function ME(s,a,l,d){const f=s.data;if(null===f[l+1]){const m=f[qn()],v=xE(s,l);Uv(m,d)&&null===a&&!v&&(a=!1),a=function Tx(s,a,l,d){const f=jc(s);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=np(l=Bv(null,s,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==f)if(l=Bv(f,s,a,l,d),null===m){let I=function Sx(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==kl(d))return s[Oa(d)]}(s,a,d);void 0!==I&&Array.isArray(I)&&(I=Bv(null,s,a,I[1],d),I=np(I,a.attrs,d),function xx(s,a,l,d){s[Oa(l?a.classBindings:a.styleBindings)]=d}(s,a,d,I))}else m=function Mx(s,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=np(d,s[m].hostAttrs,l);return np(d,a.attrs,l)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function yE(s,a,l,d,f,m){let v=m?a.classBindings:a.styleBindings,C=Oa(v),I=kl(v);s[d]=l;let O,x=!1;if(Array.isArray(l)){const B=l;O=B[1],(null===O||Gr(B,O)>0)&&(x=!0)}else O=l;if(f)if(0!==I){const Q=Oa(s[C+1]);s[d+1]=rv(Q,C),0!==Q&&(s[Q+1]=jf(s[Q+1],d)),s[C+1]=function OS(s,a){return 131071&s|a<<17}(s[C+1],d)}else s[d+1]=rv(C,0),0!==C&&(s[C+1]=jf(s[C+1],d)),C=d;else s[d+1]=rv(I,0),0===C?C=d:s[I+1]=jf(s[I+1],d),I=d;x&&(s[d+1]=sv(s[d+1])),bE(s,O,d,!0),bE(s,O,d,!1),function vE(s,a,l,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Gr(m,a)>=0&&(l[d+1]=sg(l[d+1]))}(a,O,s,d,m),v=rv(C,I),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,d)}}function Bv(s,a,l,d,f){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=a[C],d=np(d,m.hostAttrs,f),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function np(s,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ir(s,v,!!l||a[++m]))}return void 0===s?null:s}function RE(s,a,l,d,f,m,v,C){if(!(3&a.type))return;const I=s.data,x=I[C+1];ip(function Ns(s){return 1==(1&s)}(x)?OE(I,a,l,f,kl(x),v):void 0)||(ip(m)||function rg(s){return 2==(2&s)}(x)&&(m=OE(I,null,l,f,C,v)),function qd(s,a,l,d,f){if(a)f?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Fo.DashCase;null==f?s.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Fo.Important),s.setStyle(l,d,f,m))}}(d,v,$r(qn(),l),f,m))}function OE(s,a,l,d,f,m){const v=null===a;let C;for(;f>0;){const I=s[f],x=Array.isArray(I),O=x?I[1]:I,B=null===O;let Q=l[f+1];Q===sn&&(Q=B?$t:void 0);let ae=B?Da(Q,d):O===d?Q:void 0;if(x&&!ip(ae)&&(ae=Da(I,d)),ip(ae)&&(C=ae,v))return C;const ke=s[f+1];f=v?Oa(ke):kl(ke)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=Da(I,d))}return C}function ip(s){return void 0!==s}function Uv(s,a){return 0!=(s.flags&(a?16:32))}function PE(s,a=""){const l=Ve(),d=un(),f=s+22,m=d.firstCreatePass?Rl(d,f,1,a,null):d.data[f],v=l[f]=function Wm(s,a){return s.createText(a)}(l[11],a);vu(d,l,v,m),nr(m,!1)}function ku(s){return Mg("",s,""),ku}function Mg(s,a,l){const d=Ve(),f=th(d,s,a,l);return f!==sn&&function wc(s,a,l){const d=$r(a,s);!function Nf(s,a,l){s.setValue(a,l)}(s[11],d,l)}(d,qn(),f),Mg}function uh(s,a,l){const d=Ve();if(Pr(d,al(),a)){const m=un(),v=Wn();cs(m,v,d,s,a,Cv(jc(m.data),v,d),l,!0)}return uh}const Pl=void 0;var Uo=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ba(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let dh={};function Kv(s){const a=function Fx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Fg(a);if(l)return l;const d=a.split("-")[0];if(l=Fg(d),l)return l;if("en"===d)return Uo;throw new Re(701,!1)}function Yv(s){return Kv(s)[Bt.PluralCase]}function Fg(s){return s in dh||(dh[s]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[s]),dh[s]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const hh="en-US";let Bg=hh;function ob(s,a,l,d,f){if(s=ie(s),Array.isArray(s))for(let m=0;m<s.length;m++)ob(s[m],a,l,d,f);else{const m=un(),v=Ve();let C=Dl(s)?s:ie(s.provide),I=Mw(s);const x=vi(),O=1048575&x.providerIndexes,B=x.directiveStart,Q=x.providerIndexes>>20;if(Dl(s)||!s.multi){const ae=new Or(I,f,wu),ke=lb(C,a,f?O:O+Q,B);-1===ke?(So(Ts(x,v),m,C),ab(m,s,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(ae),v.push(ae)):(l[ke]=ae,v[ke]=ae)}else{const ae=lb(C,a,O+Q,B),ke=lb(C,a,O,O+Q),Qe=ae>=0&&l[ae],rt=ke>=0&&l[ke];if(f&&!rt||!f&&!Qe){So(Ts(x,v),m,C);const wt=function bM(s,a,l,d,f){const m=new Or(s,l,wu);return m.multi=[],m.index=a,m.componentProviders=0,oI(m,f,d&&!l),m}(f?vM:yM,l.length,f,d,I);!f&&rt&&(l[ke].providerFactory=wt),ab(m,s,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(wt),v.push(wt)}else ab(m,s,ae>-1?ae:ke,oI(l[f?ke:ae],I,!f&&d));!f&&d&&rt&&l[ke].componentProviders++}}}function ab(s,a,l,d){const f=Dl(a),m=function qT(s){return!!s.useClass}(a);if(f||m){const I=(m?ie(a.useClass):a).prototype.ngOnDestroy;if(I){const x=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const O=x.indexOf(l);-1===O?x.push(l,[d,I]):x[O+1].push(d,I)}else x.push(l,I)}}}function oI(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function lb(s,a,l,d){for(let f=l;f<d;f++)if(a[f]===s)return f;return-1}function yM(s,a,l,d){return cb(this.multi,[])}function vM(s,a,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=rs(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),cb(f,m);for(let I=v;I<C.length;I++)m.push(C[I])}else m=[],cb(f,m);return m}function cb(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function aI(s,a=[]){return l=>{l.providersResolver=(d,f)=>function _M(s,a,l){const d=un();if(d.firstCreatePass){const f=fr(s);ob(l,d.data,d.blueprint,f,!0),ob(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class Lu{}class lI{}function wM(s,a){return new cI(s,a??null)}class cI extends Lu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xd(this);const d=yt(a);this._bootstrapComponents=Ps(d.bootstrap),this._r3Injector=Qy(a,l,[{provide:Lu,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ub extends lI{constructor(a){super(),this.moduleType=a}create(a){return new cI(this.moduleType,a)}}class CM extends Lu{constructor(a,l,d){super(),this.componentFactoryResolver=new Xd(this),this.instance=null;const f=new xw([...a,{provide:Lu,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],l||Um(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function db(s,a,l=null){return new CM(s,a,l).injector}let EM=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Dw(0,l.type),f=d.length>0?db([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=vn({token:s,providedIn:"environment",factory:()=>new s(ri(dc))}),s})();function uI(s){s.getStandaloneInjector=a=>a.get(EM).getOrCreateStandaloneInjector(s)}function Vu(s,a,l,d){return Ha(Ve(),bi(),s,a,l,d)}function Ha(s,a,l,d,f,m){const v=a+l;return Pr(s,v,f)?function Fa(s,a,l){return s[a]=l}(s,v+1,m?d.call(m,f):d(f)):function gp(s,a){const l=s[a];return l===sn?void 0:l}(s,v+1)}function vh(s,a){const l=un();let d;const f=s+22;l.firstCreatePass?(d=function AM(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=Ni(d.type)),v=Ln(wu);try{const C=pl(!1),I=m();return pl(C),function hx(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,Ve(),f,I),I}finally{Ln(v)}}function bI(s,a,l){const d=s+22,f=Ve(),m=ns(f,d);return function Zg(s,a){return s[1].data[a].pure}(f,d)?Ha(f,bi(),a,m.transform,l,m):m.transform(l)}function _p(s){return a=>{setTimeout(s,void 0,a)}}const Ho=class $O extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=_p(m),f&&(f=_p(f)),v&&(v=_p(v)));const C=super.subscribe({next:f,error:m,complete:v});return a instanceof G.w0&&a.add(C),C}};function zO(){return this._results[Tu()]()}class bh{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Tu(),d=bh.prototype;d[l]||(d[l]=zO)}get changes(){return this._changes||(this._changes=new Ho)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Gi(a);(this._changesDetected=!function Id(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wh=(()=>{class s{}return s.__NG_ELEMENT_ID__=RM,s})();const wI=wh,CI=class extends wI{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=Eu(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),ug(d,f,a),new Iu(f)}};function RM(){return vb(vi(),Ve())}function vb(s,a){return 4&s.type?new CI(a,s,Vd(s,a)):null}let yp=(()=>{class s{}return s.__NG_ELEMENT_ID__=EI,s})();function EI(){return II(vi(),Ve())}const OM=yp,Kg=class extends OM{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Vd(this._hostTNode,this._hostLView)}get injector(){return new ya(this._hostTNode,this._hostLView)}get parentInjector(){const a=ml(this._hostTNode,this._hostLView);if(ff(a)){const l=Zs(a,this._hostLView),d=wi(a);return new ya(l[1].data[d+8],l)}return new ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Yg(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=a.createEmbeddedView(l||{},m);return this.insert(v,f),v}createComponent(a,l,d,f,m){const v=a&&!function Ti(s){return"function"==typeof s}(a);let C;if(v)C=l;else{const B=l||{};C=B.index,d=B.injector,f=B.projectableNodes,m=B.environmentInjector||B.ngModuleRef}const I=v?a:new Du(P(a)),x=d||this.parentInjector;if(!m&&null==I.ngModule){const Q=(v?x:this.parentInjector).get(dc,null);Q&&(m=Q)}const O=I.create(x,f,void 0,m);return this.insert(O.hostView,C),O}insert(a,l){const d=a._lView,f=d[1];if(function Uc(s){return xr(s[3])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const B=d[3],Q=new Kg(B,B[6],B[3]);Q.detach(Q.indexOf(a))}}const m=this._adjustIndex(l),v=this._lContainer;!function qw(s,a,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=a),d<m-10?(a[4]=l[f],yl(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function $y(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(s),a[2]|=64}(f,d,v,m);const C=Vf(m,v),I=d[11],x=yu(I,v[7]);return null!==x&&function cS(s,a,l,d,f,m){d[0]=f,d[6]=a,Bf(s,d,l,1,f,m)}(f,v[6],I,d,x,C),a.attachToViewContainerRef(),yl(Ll(v),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Yg(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=$d(this._lContainer,l);d&&(Ao(Ll(this._lContainer),l),zd(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=$d(this._lContainer,l);return d&&null!=Ao(Ll(this._lContainer),l)?new Iu(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function Yg(s){return s[8]}function Ll(s){return s[8]||(s[8]=[])}function II(s,a){let l;const d=a[s.index];if(xr(d))l=d;else{let f;if(8&s.type)f=Kn(d);else{const m=a[11];f=m.createComment("");const v=Fi(s,a);pc(m,yu(m,v),f,function fS(s,a){return s.nextSibling(a)}(m,v),!1)}a[s.index]=l=pg(d,a,f,s),gg(a,l)}return new Kg(l,s,a)}class vr{constructor(a){this.queryList=a,this.matches=null}clone(){return new vr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qg{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Qg(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==AI(a,l).matches&&this.queries[l].setDirty()}}class br{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class Vl{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Vl(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class wb{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new wb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,Cb(l,m)),this.matchTNodeWithReadOption(a,l,_l(l,a,m,!1,!1))}else d===wh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,_l(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===du||f===yp||f===wh&&4&l.type)this.addMatch(l.index,-2);else{const m=_l(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Cb(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function Ch(s,a,l,d){return-1===l?function ja(s,a){return 11&s.type?Vd(s,a):4&s.type?vb(s,a):null}(a,s):-2===l?function us(s,a,l){return l===du?Vd(a,s):l===wh?vb(a,s):l===yp?II(a,s):void 0}(s,a,d):rs(s,s[1],l,a)}function Eh(s,a,l,d){const f=a[19].queries[d];if(null===f.matches){const m=s.data,v=l.matches,C=[];for(let I=0;I<v.length;I+=2){const x=v[I];C.push(x<0?null:Ch(a,m[x],v[I+1],l.metadata.read))}f.matches=C}return f.matches}function Ih(s,a,l,d){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const v=Eh(s,a,f,l);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)d.push(v[C/2]);else{const x=m[C+1],O=a[-I];for(let B=10;B<O.length;B++){const Q=O[B];Q[17]===Q[3]&&Ih(Q[1],Q,x,d)}if(null!==O[9]){const B=O[9];for(let Q=0;Q<B.length;Q++){const ae=B[Q];Ih(ae[1],ae,x,d)}}}}}return d}function vp(s){const a=Ve(),l=un(),d=ll();$c(d+1);const f=AI(l,d);if(s.dirty&&function Bc(s){return 4==(4&s[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?Ih(l,a,d,[]):Eh(l,a,f,d);s.reset(m,Ow),s.notifyOnChanges()}return!0}return!1}function TI(s,a,l){const d=un();d.firstCreatePass&&(MI(d,new br(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),xI(d,Ve(),a)}function Eb(s,a,l,d){const f=un();if(f.firstCreatePass){const m=vi();MI(f,new br(a,l,d),m.index),function NM(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}xI(f,Ve(),l)}function SI(){return function PM(s,a){return s[19].queries[a].queryList}(Ve(),ll())}function xI(s,a,l){const d=new bh(4==(4&l));AC(s,a,d,d.destroy),null===a[19]&&(a[19]=new Qg),a[19].queries.push(new vr(d))}function MI(s,a,l){null===s.queries&&(s.queries=new Vl),s.queries.track(new wb(a,l))}function AI(s,a){return s.queries.getByIndex(a)}function Th(...s){}const BI=new jn("Application Initializer");let jl=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Th,this.reject=Th,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(kv(m))l.push(m);else if(Rv(m)){const v=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ri(BI,8))},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ab=new jn("AppId",{providedIn:"root",factory:function i_(){return`${kb()}${kb()}${kb()}`}});function kb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rb=new jn("Platform Initializer"),r_=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s_=new jn("appBootstrapListener"),Ob=new jn("AnimationModuleType");let QM=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Sh=new jn("LocaleId",{providedIn:"root",factory:()=>D(Sh,lt.Optional|lt.SkipSelf)||function XM(){return typeof $localize<"u"&&$localize.locale||hh}()}),HI=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Tp{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let JM=(()=>{class s{compileModuleSync(l){return new ub(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Ps(yt(l).declarations).reduce((v,C)=>{const I=P(C);return I&&v.push(new Du(I)),v},[]);return new Tp(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Vb=(()=>Promise.resolve(0))();function Sp(s){typeof Zone>"u"?Vb.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class hs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Bb(){let s=zt.requestAnimationFrame,a=zt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function $I(s){const a=()=>{!function nA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,l_(s),s.isCheckStableRunning=!0,a_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),l_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,C)=>{try{return c_(s),l.invokeTask(f,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),Ub(s)}},onInvoke:(l,d,f,m,v,C,I)=>{try{return c_(s),l.invoke(f,m,v,C,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),Ub(s)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,l_(s),a_(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hs.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(hs.isInAngularZone())throw new Re(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,jI,Th,Th);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const jI={};function a_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function l_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function c_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ub(s){s._nesting--,a_(s)}class iA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const u_=new jn(""),d_=new jn("");let xh,Hb=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xh||(function Cr(s){xh=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hs.assertNotInAngularZone(),Sp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sp(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(ri(hs),ri(Yi),ri(d_))},s.\u0275prov=vn({token:s,factory:s.\u0275fac}),s})(),Yi=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return xh?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),$a=null;const zI=new jn("AllowMultipleToken"),jb=new jn("PlatformDestroyListeners");class $b{constructor(a,l){this.name=a,this.token=l}}function xp(s,a,l=[]){const d=`Platform: ${a}`,f=new jn(d);return(m=[])=>{let v=Wb();if(!v||v.injector.get(zI,!1)){const C=[...l,...m,{provide:f,useValue:!0}];s?s(C):function sA(s){if($a&&!$a.get(zI,!1))throw new Re(400,!1);$a=s;const a=s.get(Mh);(function Gb(s){const a=s.get(Rb,null);a&&a.forEach(l=>l())})(s)}(function h_(s=[],a){return Al.create({name:a,providers:[{provide:kf,useValue:"platform"},{provide:jb,useValue:new Set([()=>$a=null])},...s]})}(C,d))}return function qb(s){const a=Wb();if(!a)throw new Re(401,!1);return a}()}}function Wb(){return $a?.get(Mh)??null}let Mh=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function Kb(s,a){let l;return l="noop"===s?new iA:("zone.js"===s?void 0:s)||new hs(a),l}(d?.ngZone,function Zb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:hs,useValue:f}];return f.run(()=>{const v=Al.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),I=C.injector.get(Rf,null);if(!I)throw new Re(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:O=>{I.handleError(O)}});C.onDestroy(()=>{p_(this._modules,C),x.unsubscribe()})}),function Yb(s,a,l){try{const d=l();return kv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(I,f,()=>{const x=C.injector.get(jl);return x.runInitializers(),x.donePromise.then(()=>(function Qv(s){nn(s,"Expected localeId to be defined"),"string"==typeof s&&(Bg=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Sh,hh)||hh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=Mp({},d);return function rA(s,a,l){const d=new ub(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(f_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Re(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(jb,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ri(Al))},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Mp(s,a){return Array.isArray(a)?a.reduce(Mp,s):{...s,...a}}let f_=(()=>{class s{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{hs.assertNotInAngularZone(),Sp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,de.T)(m,v.pipe((0,pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof ky;if(!this._injector.get(jl).done)throw!f&&ze(l),new Re(405,false);let v;v=f?l:this._injector.get(Ld).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function GI(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Lu),x=v.create(Al.NULL,[],d||v.selector,C),O=x.location.nativeElement,B=x.injector.get(u_,null);return B?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),p_(this.components,x),B?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;p_(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(s_,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>p_(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Re(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ri(hs),ri(dc),ri(Rf))},s.\u0275prov=vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function p_(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let qI=!0,Dc=!1;function WI(){return Dc=!0,qI}function m_(){if(Dc)throw new Error("Cannot enable prod mode after platform setup.");qI=!1}let Yr=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZI,s})();function ZI(s){return function Ap(s,a,l){if(ql(s)&&!l){const d=wn(s.index,a);return new Iu(d,d)}return 47&s.type?new Iu(a[16],a):null}(vi(),Ve(),16==(16&s))}class Fp{constructor(){}supports(a){return Jf(a)}create(a){return new ju(a)}}const Lp=(s,a)=>a;class ju{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Lp}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<s0(d,f,m)?l:d,C=s0(v,f,m),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const x=C-f,O=I-f;if(x!=O){for(let Q=0;Q<x;Q++){const ae=Q<m.length?m[Q]:m[Q]=0,ke=ae+Q;O<=ke&&ke<x&&(m[Q]=ae+1)}m[v.previousIndex]=O-x}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Jf(a))throw new Re(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else f=0,function lx(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Tu()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new r0(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new YI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class r0{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class YI{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new pA,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s0(s,a,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class o0{constructor(){}supports(a){return a instanceof Map||YC(a)}create(){return new mA}}class mA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||YC(a)))throw new Re(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new $u(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class $u{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ga(){return new kh([new Fp])}let kh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Ga()),deps:[[s,new jt,new nt]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Re(901,!1)}}return s.\u0275prov=vn({token:s,providedIn:"root",factory:Ga}),s})();function l0(){return new Yn([new o0])}let Yn=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||l0()),deps:[[s,new jt,new nt]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Re(901,!1)}}return s.\u0275prov=vn({token:s,providedIn:"root",factory:l0}),s})();const QI=xp(null,"core",[]);let gA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ri(f_))},s.\u0275mod=mn({type:s}),s.\u0275inj=Xt({}),s})();function _A(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Ct,Fe,V)=>{V.d(Fe,{Z:()=>Re});var u=V(2090),G=V(4859),N=V(9681),de=V(1877);class pe{constructor(Se,be){this._delegate=Se,this.firebase=be,(0,N._addComponent)(Se,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Se,be=N._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Se);return!at.isInitialized()&&"EXPLICIT"===(null===(ct=at.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&at.initialize(),at.getImmediate({identifier:be})}_removeServiceInstance(Se,be=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(be)}_addComponent(Se){(0,N._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,N._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function De(){const gt=function ye(gt){const Se={},be={__esModule:!0,initializeApp:function $e(ce,ge={}){const Te=N.initializeApp(ce,ge);if((0,u.r3)(Se,Te.name))return Se[Te.name];const te=new gt(Te,be);return Se[Te.name]=te,te},app:at,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ce){const ge=ce.name,Te=ge.replace("-compat","");if(N._registerComponent(ce)&&"PUBLIC"===ce.type){const te=(re=at())=>{if("function"!=typeof re[Te])throw ue.create("invalid-app-argument",{appName:ge});return re[Te]()};void 0!==ce.serviceProps&&(0,u.ZB)(te,ce.serviceProps),be[Te]=te,gt.prototype[Te]=function(...re){return this._getService.bind(this,ge).apply(this,ce.multipleInstances?re:[])}}return"PUBLIC"===ce.type?be[Te]:null},removeApp:function ct(ce){delete Se[ce]},useAsService:function it(ce,ge){return"serverAuth"===ge?null:ge},modularAPIs:N}};function at(ce){if(!(0,u.r3)(Se,ce=ce||N._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:ce});return Se[ce]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ue(){return Object.keys(Se).map(ce=>Se[ce])}}),at.App=gt,be}(pe);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Se(be){(0,u.ZB)(gt,be)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),gt}(),W=new de.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=Y;!function je(gt){(0,N.registerVersion)("@firebase/app-compat","0.1.39",gt)}()},9681:(Ct,Fe,V)=>{V.r(Fe),V.d(Fe,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>ms,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>yn,_addOrOverwriteComponent:()=>vn,_apps:()=>Dn,_clearComponents:()=>ts,_components:()=>Vn,_getProvider:()=>Xt,_registerComponent:()=>ln,_removeServiceInstance:()=>ji,deleteApp:()=>gs,getApp:()=>ci,getApps:()=>jr,initializeApp:()=>er,onLog:()=>ui,registerVersion:()=>gi,setLogLevel:()=>Ln});var u=V(5861),G=V(4859),N=V(1877),de=V(2090),pe=V(8766);class Ce{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function ue(ft){return"VERSION"===ft.getComponent()?.type}(pt)){const Ot=pt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(pt=>pt).join(" ")}}const ye="@firebase/app",Y=new N.Yd("@firebase/app"),nn="[DEFAULT]",st={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,Vn=new Map;function yn(ft,Pe){try{ft.container.addComponent(Pe)}catch(pt){Y.debug(`Component ${Pe.name} failed to register with FirebaseApp ${ft.name}`,pt)}}function vn(ft,Pe){ft.container.addOrOverwriteComponent(Pe)}function ln(ft){const Pe=ft.name;if(Vn.has(Pe))return Y.debug(`There were multiple attempts to register component ${Pe}.`),!1;Vn.set(Pe,ft);for(const pt of Dn.values())yn(pt,ft);return!0}function Xt(ft,Pe){const pt=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),ft.container.getProvider(Pe)}function ji(ft,Pe,pt=nn){Xt(ft,Pe).clearInstance(pt)}function ts(){Vn.clear()}const Zn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ps{constructor(Pe,pt,Ot){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const ms="9.14.0";function er(ft,Pe={}){let pt=ft;"object"!=typeof Pe&&(Pe={name:Pe});const Ot=Object.assign({name:nn,automaticDataCollectionEnabled:!1},Pe),Nt=Ot.name;if("string"!=typeof Nt||!Nt)throw Zn.create("bad-app-name",{appName:String(Nt)});if(pt||(pt=(0,de.aH)()),!pt)throw Zn.create("no-options");const mn=Dn.get(Nt);if(mn){if((0,de.vZ)(pt,mn.options)&&(0,de.vZ)(Ot,mn.config))return mn;throw Zn.create("duplicate-app",{appName:Nt})}const K=new G.H0(Nt);for(const J of Vn.values())K.addComponent(J);const q=new ps(pt,Ot,K);return Dn.set(Nt,q),q}function ci(ft=nn){const Pe=Dn.get(ft);if(!Pe&&ft===nn)return er();if(!Pe)throw Zn.create("no-app",{appName:ft});return Pe}function jr(){return Array.from(Dn.values())}function gs(ft){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(ft){const Pe=ft.name;Dn.has(Pe)&&(Dn.delete(Pe),yield Promise.all(ft.container.getProviders().map(pt=>pt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function gi(ft,Pe,pt){var Ot;let Nt=null!==(Ot=st[ft])&&void 0!==Ot?Ot:ft;pt&&(Nt+=`-${pt}`);const mn=Nt.match(/\s|\//),K=Pe.match(/\s|\//);if(mn||K){const q=[`Unable to register library "${Nt}" with version "${Pe}":`];return mn&&q.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),mn&&K&&q.push("and"),K&&q.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Y.warn(q.join(" "))}ln(new G.wA(`${Nt}-version`,()=>({library:Nt,version:Pe}),"VERSION"))}function ui(ft,Pe){if(null!==ft&&"function"!=typeof ft)throw Zn.create("invalid-log-argument");(0,N.Am)(ft,Pe)}function Ln(ft){(0,N.Ub)(ft)}const Bn="firebase-heartbeat-store";let Un=null;function On(){return Un||(Un=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(ft,Pe)=>{0===Pe&&ft.createObjectStore(Bn)}}).catch(ft=>{throw Zn.create("idb-open",{originalErrorMessage:ft.message})})),Un}function St(){return(St=(0,u.Z)(function*(ft){var Pe;try{return(yield On()).transaction(Bn).objectStore(Bn).get(_i(ft))}catch(pt){if(pt instanceof de.ZR)Y.warn(pt.message);else{const Ot=Zn.create("idb-get",{originalErrorMessage:null===(Pe=pt)||void 0===Pe?void 0:Pe.message});Y.warn(Ot.message)}}})).apply(this,arguments)}function zt(ft,Pe){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(ft,Pe){var pt;try{const Nt=(yield On()).transaction(Bn,"readwrite");return yield Nt.objectStore(Bn).put(Pe,_i(ft)),Nt.done}catch(Ot){if(Ot instanceof de.ZR)Y.warn(Ot.message);else{const Nt=Zn.create("idb-set",{originalErrorMessage:null===(pt=Ot)||void 0===pt?void 0:pt.message});Y.warn(Nt.message)}}})).apply(this,arguments)}function _i(ft){return`${ft.name}!${ft.options.appId}`}class tr{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new hn(pt),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Pe=this;return(0,u.Z)(function*(){const Ot=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Qt();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Pe._heartbeatsCache.heartbeats.some(mn=>mn.date===Nt))return Pe._heartbeatsCache.heartbeats.push({date:Nt,agent:Ot}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(mn=>{const K=new Date(mn.date).valueOf();return Date.now()-K<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,u.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const pt=Qt(),{heartbeatsToSend:Ot,unsentEntries:Nt}=function Tr(ft,Pe=1024){const pt=[];let Ot=ft.slice();for(const Nt of ft){const mn=pt.find(K=>K.agent===Nt.agent);if(mn){if(mn.dates.push(Nt.date),Di(pt)>Pe){mn.dates.pop();break}}else if(pt.push({agent:Nt.agent,dates:[Nt.date]}),Di(pt)>Pe){pt.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Ot}}(Pe._heartbeatsCache.heartbeats),mn=(0,de.L)(JSON.stringify({version:2,heartbeats:Ot}));return Pe._heartbeatsCache.lastSentHeartbeatDate=pt,Nt.length>0?(Pe._heartbeatsCache.heartbeats=Nt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),mn})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class hn{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,u.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function Tt(ft){return St.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var pt=this;return(0,u.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const mn=yield pt.read();return zt(pt.app,{lastSentHeartbeatDate:null!==(Ot=Pe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:mn.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var pt=this;return(0,u.Z)(function*(){var Ot;if(yield pt._canUseIndexedDBPromise){const mn=yield pt.read();return zt(pt.app,{lastSentHeartbeatDate:null!==(Ot=Pe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Pe.heartbeats]})}})()}}function Di(ft){return(0,de.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function zn(ft){ln(new G.wA("platform-logger",Pe=>new Ce(Pe),"PRIVATE")),ln(new G.wA("heartbeat",Pe=>new tr(Pe),"PRIVATE")),gi(ye,"0.8.4",ft),gi(ye,"0.8.4","esm2017"),gi("fire-js","")}("")},4859:(Ct,Fe,V)=>{V.d(Fe,{H0:()=>ye,wA:()=>N});var u=V(5861),G=V(2090);class N{constructor(Y,W,ie){this.name=Y,this.instanceFactory=W,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const de="[DEFAULT]";class pe{constructor(Y,W){this.name=Y,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const W=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(W)){const ie=new G.BH;if(this.instancesDeferred.set(W,ie),this.isInitialized(W)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:W});Xe&&ie.resolve(Xe)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(Y){var W;const ie=this.normalizeInstanceIdentifier(Y?.identifier),Xe=null!==(W=Y?.optional)&&void 0!==W&&W;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(je){if(Xe)return null;throw je}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ue(De){return"EAGER"===De.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[W,ie]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(W);try{const je=this.getOrInitializeService({instanceIdentifier:Xe});ie.resolve(je)}catch{}}}}clearInstance(Y=de){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,u.Z)(function*(){const W=Array.from(Y.instances.values());yield Promise.all([...W.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...W.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=de){return this.instances.has(Y)}getOptions(Y=de){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:W={}}=Y,ie=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:ie,options:W});for(const[je,Re]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(je)&&Re.resolve(Xe);return Xe}onInit(Y,W){var ie;const Xe=this.normalizeInstanceIdentifier(W),je=null!==(ie=this.onInitCallbacks.get(Xe))&&void 0!==ie?ie:new Set;je.add(Y),this.onInitCallbacks.set(Xe,je);const Re=this.instances.get(Xe);return Re&&Y(Re,Xe),()=>{je.delete(Y)}}invokeOnInitCallbacks(Y,W){const ie=this.onInitCallbacks.get(W);if(ie)for(const Xe of ie)try{Xe(Y,W)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:W={}}){let ie=this.instances.get(Y);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(De=Y,De===de?void 0:De),options:W}),this.instances.set(Y,ie),this.instancesOptions.set(Y,W),this.invokeOnInitCallbacks(ie,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ie)}catch{}var De;return ie||null}normalizeInstanceIdentifier(Y=de){return this.component?this.component.multipleInstances?Y:de:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const W=this.getProvider(Y.name);if(W.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);W.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const W=new pe(Y,this);return this.providers.set(Y,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Ct,Fe,V)=>{V.d(Fe,{Am:()=>De,Ub:()=>ye,Yd:()=>ue,in:()=>G});const u=[];var G=(()=>{return(Y=G||(G={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",G;var Y})();const N={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},de=G.INFO,pe={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Ce=(Y,W,...ie)=>{if(W<Y.logLevel)return;const Xe=(new Date).toISOString(),je=pe[W];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[je](`[${Xe}]  ${Y.name}:`,...ie)};class ue{constructor(W){this.name=W,this._logLevel=de,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in G))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...W),this._logHandler(this,G.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...W),this._logHandler(this,G.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,G.INFO,...W),this._logHandler(this,G.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,G.WARN,...W),this._logHandler(this,G.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...W),this._logHandler(this,G.ERROR,...W)}}function ye(Y){u.forEach(W=>{W.setLogLevel(Y)})}function De(Y,W){for(const ie of u){let Xe=null;W&&W.level&&(Xe=N[W.level]),ie.userLogHandler=null===Y?null:(je,Re,...gt)=>{const Se=gt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Re>=(Xe??je.logLevel)&&Y({level:G[Re].toLowerCase(),message:Se,args:gt,type:je.name})}}}},8766:(Ct,Fe,V)=>{V.d(Fe,{Lj:()=>$e,X3:()=>at});var u=V(5861);let N,de;const ue=new WeakMap,ye=new WeakMap,De=new WeakMap,Y=new WeakMap,W=new WeakMap;let je={get(ge,Te,te){if(ge instanceof IDBTransaction){if("done"===Te)return ye.get(ge);if("objectStoreNames"===Te)return ge.objectStoreNames||De.get(ge);if("store"===Te)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return be(ge[Te])},set:(ge,Te,te)=>(ge[Te]=te,!0),has:(ge,Te)=>ge instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in ge};function Se(ge){return"function"==typeof ge?function gt(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Te){return ge.apply(ct(this),Te),be(ue.get(this))}:function(...Te){return be(ge.apply(ct(this),Te))}:function(Te,...te){const re=ge.call(ct(this),Te,...te);return De.set(re,Te.sort?Te.sort():[Te]),be(re)}}(ge):(ge instanceof IDBTransaction&&function Xe(ge){if(ye.has(ge))return;const Te=new Promise((te,re)=>{const ve=()=>{ge.removeEventListener("complete",he),ge.removeEventListener("error",Ze),ge.removeEventListener("abort",Ze)},he=()=>{te(),ve()},Ze=()=>{re(ge.error||new DOMException("AbortError","AbortError")),ve()};ge.addEventListener("complete",he),ge.addEventListener("error",Ze),ge.addEventListener("abort",Ze)});ye.set(ge,Te)}(ge),((ge,Te)=>Te.some(te=>ge instanceof te))(ge,function pe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,je):ge)}function be(ge){if(ge instanceof IDBRequest)return function ie(ge){const Te=new Promise((te,re)=>{const ve=()=>{ge.removeEventListener("success",he),ge.removeEventListener("error",Ze)},he=()=>{te(be(ge.result)),ve()},Ze=()=>{re(ge.error),ve()};ge.addEventListener("success",he),ge.addEventListener("error",Ze)});return Te.then(te=>{te instanceof IDBCursor&&ue.set(te,ge)}).catch(()=>{}),W.set(Te,ge),Te}(ge);if(Y.has(ge))return Y.get(ge);const Te=Se(ge);return Te!==ge&&(Y.set(ge,Te),W.set(Te,ge)),Te}const ct=ge=>W.get(ge);function at(ge,Te,{blocked:te,upgrade:re,blocking:ve,terminated:he}={}){const Ze=indexedDB.open(ge,Te),Ke=be(Ze);return re&&Ze.addEventListener("upgradeneeded",Dt=>{re(be(Ze.result),Dt.oldVersion,Dt.newVersion,be(Ze.transaction))}),te&&Ze.addEventListener("blocked",()=>te()),Ke.then(Dt=>{he&&Dt.addEventListener("close",()=>he()),ve&&Dt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Ke}function $e(ge,{blocked:Te}={}){const te=indexedDB.deleteDatabase(ge);return Te&&te.addEventListener("blocked",()=>Te()),be(te).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],it=new Map;function ce(ge,Te){if(!(ge instanceof IDBDatabase)||Te in ge||"string"!=typeof Te)return;if(it.get(Te))return it.get(Te);const te=Te.replace(/FromIndex$/,""),re=Te!==te,ve=Ae.includes(te);if(!(te in(re?IDBIndex:IDBObjectStore).prototype)||!ve&&!Ue.includes(te))return;const he=function(){var Ze=(0,u.Z)(function*(Ke,...Dt){const bn=this.transaction(Ke,ve?"readwrite":"readonly");let nn=bn.store;return re&&(nn=nn.index(Dt.shift())),(yield Promise.all([nn[te](...Dt),ve&&bn.done]))[0]});return function(Dt){return Ze.apply(this,arguments)}}();return it.set(Te,he),he}!function Re(ge){je=ge(je)}(ge=>({...ge,get:(Te,te,re)=>ce(Te,te)||ge.get(Te,te,re),has:(Te,te)=>!!ce(Te,te)||ge.has(Te,te)}))},5861:(Ct,Fe,V)=>{function u(N,de,pe,Ce,ue,ye,De){try{var Y=N[ye](De),W=Y.value}catch(ie){return void pe(ie)}Y.done?de(W):Promise.resolve(W).then(Ce,ue)}function G(N){return function(){var de=this,pe=arguments;return new Promise(function(Ce,ue){var ye=N.apply(de,pe);function De(W){u(ye,Ce,ue,De,Y,"next",W)}function Y(W){u(ye,Ce,ue,De,Y,"throw",W)}De(void 0)})}}V.d(Fe,{Z:()=>G})}},Ct=>{Ct(Ct.s=1931)}]);