"use strict";(self.webpackChunkmy_networth=self.webpackChunkmy_networth||[]).push([[179],{2011:(dt,Ae,F)=>{F.d(Ae,{Dh:()=>pe,GT:()=>ve,cc:()=>Ne,hO:()=>$e,on:()=>K,pX:()=>de,xv:()=>be});var u=F(4650),$=F(127),P=F(5813);dt=F.hmd(dt);const le=["ngOnDestroy"],de=(ye,et,Qe,Fe={})=>new Proxy(ye,{get:(Pe,De)=>Qe.runOutsideAngular(()=>{var qe;if(ye[De])return!(null===(qe=Fe?.spy)||void 0===qe)&&qe.get&&Fe.spy.get(De,ye[De]),ye[De];if(le.indexOf(De)>-1)return()=>{};const oe=et.toPromise().then(fe=>{const we=fe&&fe[De];return"function"==typeof we?we.bind(fe):we&&we.then?we.then(X=>Qe.run(()=>X)):Qe.run(()=>we)});return new Proxy(()=>{},{get:(fe,we)=>oe[we],apply:(fe,we,X)=>oe.then(te=>{var me;const ce=te&&te(...X);return!(null===(me=Fe?.spy)||void 0===me)&&me.apply&&Fe.spy.apply(De,X,ce),ce})})})}),ve=(ye,et)=>{et.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Fe=>{Object.defineProperty(ye.prototype,Fe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Fe))})})};class ae{constructor(et){return et}}const pe=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function K(ye,et,Qe){const Pe="object"==typeof Qe&&Qe||{};Pe.name=Pe.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const qe=$.Z.apps.filter(oe=>oe&&oe.name===Pe.name)[0]||et.runOutsideAngular(()=>$.Z.initializeApp(ye,Pe));try{JSON.stringify(ye)!==JSON.stringify(qe.options)&&W("error",`${qe.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(qe)}const W=(ye,...et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ye](...et)},ee={provide:ae,useFactory:K,deps:[pe,u.R0b,[new u.FiY,be]]};let $e=(()=>{class ye{constructor(Qe){$.Z.registerVersion("angularfire",P.q4.full,"core"),$.Z.registerVersion("angularfire",P.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,Qe.toString())}static initializeApp(Qe,Fe){return{ngModule:ye,providers:[{provide:pe,useValue:Qe},{provide:be,useValue:Fe}]}}}return ye.\u0275fac=function(Qe){return new(Qe||ye)(u.LFG(u.Lbi))},ye.\u0275mod=u.oAB({type:ye}),ye.\u0275inj=u.cJS({providers:[ee]}),ye})();function Ne(ye,et,Qe,Fe,Pe){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===ye)||[];if(De)return function Te(ye,et){try{return ye.toString()===et.toString()}catch{return ye===et}}(Pe,qe)||(Ce("error",`${et} was already initialized on the ${Qe} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Pe,was:qe})),De;{const oe=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ye,oe,Pe]),oe}}const it=!!dt.hot,Ce=(ye,...et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ye](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Ae,F)=>{F.d(Ae,{q4:()=>Yi,iC:()=>fs,HU:()=>ca,vb:()=>Pr,JM:()=>rl});var u=F(4650),$=F(5867),P=F(5861),le=F(9681),de=F(2090),ve=F(4859),ae=F(1877),pe=F(8766);const be="@firebase/installations",K="0.5.16",ee=`w:${K}`,$e="FIS_v2",et=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(D){return D instanceof de.ZR&&D.code.includes("request-failed")}function Fe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Pe(D){return{token:D.token,requestStatus:2,expiresIn:te(D.expiresIn),creationTime:Date.now()}}function De(D,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(D,T){const H=(yield T.json()).error;return et.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function oe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function fe(D,{refreshToken:T}){const k=oe(D);return k.append("Authorization",function me(D){return`${$e} ${D}`}(T)),k}function we(D){return X.apply(this,arguments)}function X(){return(X=(0,P.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function te(D){return Number(D.replace("s","000"))}function ce(D,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const H=Fe(D),J=oe(D),ue=T.getImmediate({optional:!0});if(ue){const xt=yield ue.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const We={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:$e,appId:D.appId,sdkVersion:ee})},vt=yield we(()=>fetch(H,We));if(vt.ok){const xt=yield vt.json();return{fid:xt.fid||k,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Pe(xt.authToken)}}throw yield De("Create Installation",vt)})).apply(this,arguments)}function He(D){return new Promise(T=>{setTimeout(T,D)})}const an=/^[cdef][\w-]{21}$/;function Ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function mn(D){return function pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return an.test(k)?k:""}catch{return""}}function Dn(D){return`${D.appName}!${D.appId}`}const rn=new Map;function sn(D,T){const k=Dn(D);Pi(k,T),function Br(D,T){const k=function Ln(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=D=>{Pi(D.data.key,D.data.fid)}),Wi}();k&&k.postMessage({key:D,fid:T}),function Xr(){0===rn.size&&Wi&&(Wi.close(),Wi=null)}()}(k,T)}function Pi(D,T){const k=rn.get(D);if(k)for(const H of k)H(T)}let Wi=null;const Qn="firebase-installations-store";let Ar=null;function es(){return Ar||(Ar=(0,pe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Qn)}})),Ar}function Xe(D,T){return ni.apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*(D,T){const k=Dn(D),J=(yield es()).transaction(Qn,"readwrite"),ue=J.objectStore(Qn),Oe=yield ue.get(k);return yield ue.put(T,k),yield J.done,(!Oe||Oe.fid!==T.fid)&&sn(D,T.fid),T})).apply(this,arguments)}function Xn(D){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(D){const T=Dn(D),H=(yield es()).transaction(Qn,"readwrite");yield H.objectStore(Qn).delete(T),yield H.done})).apply(this,arguments)}function Ci(D,T){return eo.apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*(D,T){const k=Dn(D),J=(yield es()).transaction(Qn,"readwrite"),ue=J.objectStore(Qn),Oe=yield ue.get(k),We=T(Oe);return void 0===We?yield ue.delete(k):yield ue.put(We,k),yield J.done,We&&(!Oe||Oe.fid!==We.fid)&&sn(D,We.fid),We})).apply(this,arguments)}function Tn(D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(D){let T;const k=yield Ci(D.appConfig,H=>{const J=bn(H),ue=mt(D,J);return T=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function bn(D){return Mt(D||{fid:Ze(),registrationStatus:0})}function mt(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(et.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function gt(D,T){return Pt.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:or(D)}:{installationEntry:T}}function Pt(){return(Pt=(0,P.Z)(function*(D,T){try{const k=yield ce(D,T);return Xe(D.appConfig,k)}catch(k){throw Qe(k)&&409===k.customData.serverCode?yield Xn(D.appConfig):yield Xe(D.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function or(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,P.Z)(function*(D){let T=yield Ni(D.appConfig);for(;1===T.registrationStatus;)yield He(100),T=yield Ni(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:H}=yield Tn(D);return H||k}return T})).apply(this,arguments)}function Ni(D){return Ci(D,T=>{if(!T)throw et.create("installation-not-found");return Mt(T)})}function Mt(D){return function Ki(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ut(D,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:T},k){const H=Jt(D,k),J=fe(D,k),ue=T.getImmediate({optional:!0});if(ue){const xt=yield ue.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const We={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:D.appId}})},vt=yield we(()=>fetch(H,We));if(vt.ok)return Pe(yield vt.json());throw yield De("Generate Auth Token",vt)})).apply(this,arguments)}function Jt(D,{fid:T}){return`${Fe(D)}/${T}/authTokens:generate`}function fi(D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*(D,T=!1){let k;const H=yield Ci(D.appConfig,ue=>{if(!tn(ue))throw et.create("not-registered");const Oe=ue.authToken;if(!T&&q(Oe))return ue;if(1===Oe.requestStatus)return k=tt(D,T),ue;{if(!navigator.onLine)throw et.create("app-offline");const We=Q(ue);return k=It(D,We),We}});return k?yield k:H.authToken})).apply(this,arguments)}function tt(D,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(D,T){let k=yield nt(D.appConfig);for(;1===k.authToken.requestStatus;)yield He(100),k=yield nt(D.appConfig);const H=k.authToken;return 0===H.requestStatus?fi(D,T):H})).apply(this,arguments)}function nt(D){return Ci(D,T=>{if(!tn(T))throw et.create("not-registered");return function j(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function It(D,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,P.Z)(function*(D,T){try{const k=yield Ut(D,T),H=Object.assign(Object.assign({},T),{authToken:k});return yield Xe(D.appConfig,H),k}catch(k){if(!Qe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Xe(D.appConfig,H)}else yield Xn(D.appConfig);throw k}})).apply(this,arguments)}function tn(D){return void 0!==D&&2===D.registrationStatus}function q(D){return 2===D.requestStatus&&!function z(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Q(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function B(){return(B=(0,P.Z)(function*(D){const T=D,{installationEntry:k,registrationPromise:H}=yield Tn(T);return H?H.catch(console.error):fi(T).catch(console.error),k.fid})).apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(D,T=!1){const k=D;return yield st(k),(yield fi(k,T)).token})).apply(this,arguments)}function st(D){return ot.apply(this,arguments)}function ot(){return(ot=(0,P.Z)(function*(D){const{registrationPromise:T}=yield Tn(D);T&&(yield T)})).apply(this,arguments)}function to(D){return et.create("missing-app-config-values",{valueName:D})}const Po="installations",no=D=>{const T=D.getProvider("app").getImmediate(),k=function xn(D){if(!D||!D.options)throw to("App Configuration");if(!D.name)throw to("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw to(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},io=D=>{const T=D.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,Po).getImmediate();return{getId:()=>function R(D){return B.apply(this,arguments)}(k),getToken:J=>function re(D){return Le.apply(this,arguments)}(k,J)}};(function Ml(){(0,le._registerComponent)(new ve.wA(Po,no,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",io,"PRIVATE"))})(),(0,le.registerVersion)(be,K),(0,le.registerVersion)(be,K,"esm2017");const ns="@firebase/remote-config",ei=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kc{constructor(T,k,H,J){this.client=T,this.storage=k,this.storageCache=H,this.logger=J}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-k,J=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var k=this;return(0,P.Z)(function*(){const[H,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(T.cacheMaxAgeMillis,H))return J;T.eTag=J&&J.eTag;const ue=yield k.client.fetch(T),Oe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Oe.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Oe),ue})()}}function La(D=navigator){return D.languages&&D.languages[0]||D.language}class lo{constructor(T,k,H,J,ue,Oe){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=H,this.projectId=J,this.apiKey=ue,this.appId=Oe}fetch(T){var k=this;return(0,P.Z)(function*(){var H,J,ue;const[Oe,We]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Et={sdk_version:k.sdkVersion,app_instance_id:Oe,app_instance_id_token:We,app_id:k.appId,language_code:La()},qn={method:"POST",headers:$t,body:JSON.stringify(Et)},mi=fetch(xt,qn),js=new Promise((hr,zs)=>{T.signal.addEventListener(()=>{const eu=new Error("The operation was aborted.");eu.name="AbortError",zs(eu)})});let ps;try{yield Promise.race([mi,js]),ps=yield mi}catch(hr){let zs="fetch-client-network";throw"AbortError"===(null===(H=hr)||void 0===H?void 0:H.name)&&(zs="fetch-timeout"),ei.create(zs,{originalErrorMessage:null===(J=hr)||void 0===J?void 0:J.message})}let vo=ps.status;const $s=ps.headers.get("ETag")||void 0;let Wr,li;if(200===ps.status){let hr;try{hr=yield ps.json()}catch(zs){throw ei.create("fetch-client-parse",{originalErrorMessage:null===(ue=zs)||void 0===ue?void 0:ue.message})}Wr=hr.entries,li=hr.state}if("INSTANCE_STATE_UNSPECIFIED"===li?vo=500:"NO_CHANGE"===li?vo=304:("NO_TEMPLATE"===li||"EMPTY_CONFIG"===li)&&(Wr={}),304!==vo&&200!==vo)throw ei.create("fetch-status",{httpStatus:vo});return{status:vo,eTag:$s,config:Wr}})()}}class rs{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const H=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:H}){var J=this;return(0,P.Z)(function*(){yield function yr(D,T){return new Promise((k,H)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),H(ei.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ue=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function am(D){if(!(D instanceof de.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ue))throw ue;const Oe={throttleEndTimeMillis:Date.now()+(0,de.$s)(H),backoffCount:H+1};return yield J.storage.setThrottleMetadata(Oe),J.attemptFetch(T,Oe)}})()}}class Wh{constructor(T,k,H,J,ue){this.app=T,this._client=k,this._storageCache=H,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Va(D,T){var k;const H=D.target.error||void 0;return ei.create(T,{originalErrorMessage:H&&(null===(k=H)||void 0===k?void 0:k.message)})}const No="app_namespace_store";class nd{constructor(T,k,H,J=function um(){return new Promise((D,T)=>{var k;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=J=>{T(Va(J,"storage-open"))},H.onsuccess=J=>{D(J.target.result)},H.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(H){T(ei.create("storage-open",{originalErrorMessage:null===(k=H)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=H,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const H=yield k.openDbPromise;return new Promise((J,ue)=>{var Oe;const vt=H.transaction([No],"readonly").objectStore(No),xt=k.createCompositeKey(T);try{const $t=vt.get(xt);$t.onerror=Et=>{ue(Va(Et,"storage-get"))},$t.onsuccess=Et=>{const qn=Et.target.result;J(qn?qn.value:void 0)}}catch($t){ue(ei.create("storage-get",{originalErrorMessage:null===(Oe=$t)||void 0===Oe?void 0:Oe.message}))}})})()}set(T,k){var H=this;return(0,P.Z)(function*(){const J=yield H.openDbPromise;return new Promise((ue,Oe)=>{var We;const xt=J.transaction([No],"readwrite").objectStore(No),$t=H.createCompositeKey(T);try{const Et=xt.put({compositeKey:$t,value:k});Et.onerror=qn=>{Oe(Va(qn,"storage-set"))},Et.onsuccess=()=>{ue()}}catch(Et){Oe(ei.create("storage-set",{originalErrorMessage:null===(We=Et)||void 0===We?void 0:We.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const H=yield k.openDbPromise;return new Promise((J,ue)=>{var Oe;const vt=H.transaction([No],"readwrite").objectStore(No),xt=k.createCompositeKey(T);try{const $t=vt.delete(xt);$t.onerror=Et=>{ue(Va(Et,"storage-delete"))},$t.onsuccess=()=>{J()}}catch($t){ue(ei.create("storage-delete",{originalErrorMessage:null===(Oe=$t)||void 0===Oe?void 0:Oe.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Fo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),ue=yield k;ue&&(T.lastFetchStatus=ue);const Oe=yield H;Oe&&(T.lastSuccessfulFetchTimestampMillis=Oe);const We=yield J;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function N_(){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,P.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function id(){(0,le._registerComponent)(new ve.wA("remote-config",function D(T,{instanceIdentifier:k}){const H=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ei.create("registration-window");if(!(0,de.hl)())throw ei.create("indexed-db-unavailable");const{projectId:ue,apiKey:Oe,appId:We}=H.options;if(!ue)throw ei.create("registration-project-id");if(!Oe)throw ei.create("registration-api-key");if(!We)throw ei.create("registration-app-id");const vt=new nd(We,H.name,k=k||"firebase"),xt=new Fo(vt),$t=new ae.Yd(ns);$t.logLevel=ae.in.ERROR;const Et=new lo(J,le.SDK_VERSION,k,ue,Oe,We),qn=new rs(Et,vt),mi=new kc(qn,vt,xt,$t),js=new Wh(H,mi,xt,vt,$t);return function On(D){const T=(0,de.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ns,"0.3.15"),(0,le.registerVersion)(ns,"0.3.15","esm2017")}();const Ti="/firebase-messaging-sw.js",Vo="/firebase-cloud-messaging-push-scope",Os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ol="google.c.a.c_id",Rc="google.c.a.c_l",od="google.c.a.ts",Bo="google.c.a.e";var vr=(()=>{return(D=vr||(vr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",vr;var D})();function os(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(k),J=new Uint8Array(H.length);for(let ue=0;ue<H.length;++ue)J[ue]=H.charCodeAt(ue);return J}const co="fcm_token_details_db",Uo="fcm_token_object_Store";function dm(D){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(co))return null;let T=null;return(yield(0,pe.X3)(co,5,{upgrade:(H=(0,P.Z)(function*(J,ue,Oe,We){var vt;if(ue<2||!J.objectStoreNames.contains(Uo))return;const xt=We.objectStore(Uo),$t=yield xt.index("fcmSenderId").get(D);if(yield xt.clear(),$t)if(2===ue){const Et=$t;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;T={token:Et.fcmToken,createTime:null!==(vt=Et.createTime)&&void 0!==vt?vt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:os(Et.vapidKey)}}}else if(3===ue){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:os(Et.auth),p256dh:os(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:os(Et.vapidKey)}}}else if(4===ue){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:os(Et.auth),p256dh:os(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:os(Et.vapidKey)}}}}),function(ue,Oe,We,vt){return H.apply(this,arguments)})})).close(),yield(0,pe.Lj)(co),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Vn(T)?T:null;var H}),Oc.apply(this,arguments)}function Vn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const kr="firebase-messaging-store";let Si=null;function Pl(){return Si||(Si=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(kr)}})),Si}function uo(D){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,P.Z)(function*(D){const T=wr(D),H=yield(yield Pl()).transaction(kr).objectStore(kr).get(T);if(H)return H;{const J=yield dm(D.appConfig.senderId);if(J)return yield ln(D,J),J}})).apply(this,arguments)}function ln(D,T){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,P.Z)(function*(D,T){const k=wr(D),J=(yield Pl()).transaction(kr,"readwrite");return yield J.objectStore(kr).put(T,k),yield J.done,T})).apply(this,arguments)}function Ps(D){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,P.Z)(function*(D){const T=wr(D),H=(yield Pl()).transaction(kr,"readwrite");yield H.objectStore(kr).delete(T),yield H.done})).apply(this,arguments)}function wr({appConfig:D}){return D.appId}const Hn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lt(D,T){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,P.Z)(function*(D,T){var k;const H=yield $a(D),J=Re(T),ue={method:"POST",headers:H,body:JSON.stringify(J)};let Oe;try{Oe=yield(yield fetch(ho(D.appConfig),ue)).json()}catch(We){throw Hn.create("token-subscribe-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Oe.error)throw Hn.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Hn.create("token-subscribe-no-token");return Oe.token})).apply(this,arguments)}function hm(D,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(D,T){var k;const H=yield $a(D),J=Re(T.subscriptionOptions),ue={method:"PATCH",headers:H,body:JSON.stringify(J)};let Oe;try{Oe=yield(yield fetch(`${ho(D.appConfig)}/${T.token}`,ue)).json()}catch(We){throw Hn.create("token-update-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Oe.error)throw Hn.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Hn.create("token-update-no-token");return Oe.token})).apply(this,arguments)}function ld(D,T){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(D,T){var k;const J={method:"DELETE",headers:yield $a(D)};try{const Oe=yield(yield fetch(`${ho(D.appConfig)}/${T}`,J)).json();if(Oe.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:Oe.error.message})}catch(ue){throw Hn.create("token-unsubscribe-failed",{errorInfo:null===(k=ue)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function ho({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function $a(D){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,P.Z)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Re({p256dh:D,auth:T,endpoint:k,vapidKey:H}){const J={web:{endpoint:k,auth:T,p256dh:D}};return H!==Os&&(J.web.applicationPubKey=H),J}const Qt=6048e5;function Kh(D){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(D){const T=yield Zh(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:os(T.getKey("auth")),p256dh:os(T.getKey("p256dh"))},H=yield uo(D.firebaseDependencies);if(H){if(fm(H.subscriptionOptions,k))return Date.now()>=H.createTime+Qt?Nl(D,{token:H.token,createTime:Date.now(),subscriptionOptions:k}):H.token;try{yield ld(D.firebaseDependencies,H.token)}catch(J){console.warn(J)}return Fl(D.firebaseDependencies,k)}return Fl(D.firebaseDependencies,k)})).apply(this,arguments)}function si(D){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(D){const T=yield uo(D.firebaseDependencies);T&&(yield ld(D.firebaseDependencies,T.token),yield Ps(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Nl(D,T){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,P.Z)(function*(D,T){try{const k=yield hm(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield ln(D.firebaseDependencies,H),k}catch(k){throw yield si(D),k}})).apply(this,arguments)}function Fl(D,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(D,T){const H={token:yield Lt(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ln(D,H),H.token})).apply(this,arguments)}function Zh(D,T){return za.apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(T)})})).apply(this,arguments)}function fm(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function fo(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function oi(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const H=T.notification.body;H&&(D.notification.body=H);const J=T.notification.image;J&&(D.notification.image=J);const ue=T.notification.icon;ue&&(D.notification.icon=ue)}(T,D),function Hr(D,T){!T.data||(D.data=T.data)}(T,D),function Ga(D,T){var k,H,J,ue,Oe;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const We=null!==(J=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==J?J:null===(ue=T.notification)||void 0===ue?void 0:ue.click_action;We&&(D.fcmOptions.link=We);const vt=null===(Oe=T.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;vt&&(D.fcmOptions.analyticsLabel=vt)}(T,D),T}function Wa(D){return"object"==typeof D&&!!D&&Ol in D}function as(D,T){const k=[];for(let H=0;H<D.length;H++)k.push(D.charAt(H)),H<T.length&&k.push(T.charAt(H));return k.join("")}function Fc(D){return Hn.create("missing-app-config-values",{valueName:D})}as("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),as("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ud{constructor(T,k,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function cd(D){if(!D||!D.options)throw Fc("App Configuration Object");if(!D.name)throw Fc("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const H of T)if(!k[H])throw Fc(H);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:k,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Yh(D){return Go.apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(Ti,{scope:Vo}),D.swRegistration.update().catch(()=>{})}catch(k){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Lc(D,T){return qa.apply(this,arguments)}function qa(){return(qa=(0,P.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Yh(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Vc(D,T){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,P.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Os)})).apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(D,T){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield Vc(D,T?.vapidKey),yield Lc(D,T?.serviceWorkerRegistration),Kh(D)})).apply(this,arguments)}function Qh(D,T,k){return Za.apply(this,arguments)}function Za(){return(Za=(0,P.Z)(function*(D,T,k){const H=Xh(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:k[Ol],message_name:k[Rc],message_time:k[od],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xh(D){switch(D){case vr.NOTIFICATION_CLICKED:return"notification_open";case vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ns(){return(Ns=(0,P.Z)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===vr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(fo(k)):D.onMessageHandler.next(fo(k)));const H=k.data;Wa(H)&&"1"===H[Bo]&&(yield Qh(D,k.messageType,H))})).apply(this,arguments)}const Fs="@firebase/messaging",Pn=D=>{const T=new ud(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function hd(D,T){return Ns.apply(this,arguments)}(T,k)),T},ls=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function dd(D,T){return Wo.apply(this,arguments)}(T,H)}};function Bc(){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,P.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nn(){(0,le._registerComponent)(new ve.wA("messaging",Pn,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",ls,"PRIVATE")),(0,le.registerVersion)(Fs,"0.11.0"),(0,le.registerVersion)(Fs,"0.11.0","esm2017")}();const Zo="analytics",md="firebase_id",zc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gd="https://www.googletagmanager.com/gtag/js",jn=new ae.Yd("@firebase/analytics");function Vl(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function Bl(D,T){const k=document.createElement("script");k.src=`${gd}?l=${D}&id=${T}`,k.async=!0,document.head.appendChild(k)}function ef(D,T,k,H,J,ue){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(D,T,k,H,J,ue){const Oe=H[J];try{if(Oe)yield T[Oe];else{const vt=(yield Vl(k)).find(xt=>xt.measurementId===J);vt&&(yield T[vt.appId])}}catch(We){jn.error(We)}D("config",J,ue)})).apply(this,arguments)}function cs(D,T,k,H,J){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,P.Z)(function*(D,T,k,H,J){try{let ue=[];if(J&&J.send_to){let Oe=J.send_to;Array.isArray(Oe)||(Oe=[Oe]);const We=yield Vl(k);for(const vt of Oe){const xt=We.find(Et=>Et.measurementId===vt),$t=xt&&T[xt.appId];if(!$t){ue=[];break}ue.push($t)}}0===ue.length&&(ue=Object.values(T)),yield Promise.all(ue),D("event",H,J||{})}catch(ue){jn.error(ue)}})).apply(this,arguments)}function _d(D){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(gd)&&k.src.includes(D))return k;return null}const ai=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ja=new class Wc{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Yo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function rf(D){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(D){var T;const{appId:k,apiKey:H}=D,J={method:"GET",headers:Yo(H)},ue=zc.replace("{app-id}",k),Oe=yield fetch(ue,J);if(200!==Oe.status&&304!==Oe.status){let We="";try{const vt=yield Oe.json();null!==(T=vt.error)&&void 0!==T&&T.message&&(We=vt.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:We})}return Oe.json()})).apply(this,arguments)}function yd(D){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(D,T=Ja,k){const{appId:H,apiKey:J,measurementId:ue}=D.options;if(!H)throw ai.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:H};throw ai.create("no-api-key")}const Oe=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new el;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==k?k:6e4),vd({appId:H,apiKey:J,measurementId:ue},Oe,We,T)})).apply(this,arguments)}function vd(D,T,k){return us.apply(this,arguments)}function us(){return(us=(0,P.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},H,J=Ja){var ue,Oe;const{appId:We,measurementId:vt}=D;try{yield qc(H,T)}catch(xt){if(vt)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null===(ue=xt)||void 0===ue?void 0:ue.message}]`),{appId:We,measurementId:vt};throw xt}try{const xt=yield rf(D);return J.deleteThrottleMetadata(We),xt}catch(xt){const $t=xt;if(!Hl($t)){if(J.deleteThrottleMetadata(We),vt)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:We,measurementId:vt};throw xt}const Et=503===Number(null===(Oe=$t?.customData)||void 0===Oe?void 0:Oe.httpStatus)?(0,de.$s)(k,J.intervalMillis,30):(0,de.$s)(k,J.intervalMillis),qn={throttleEndTimeMillis:Date.now()+Et,backoffCount:k+1};return J.setThrottleMetadata(We,qn),jn.debug(`Calling attemptFetch again in ${Et} millis`),vd(D,qn,H,J)}})).apply(this,arguments)}function qc(D,T){return new Promise((k,H)=>{const J=Math.max(T-Date.now(),0),ue=setTimeout(k,J);D.addEventListener(()=>{clearTimeout(ue),H(ai.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Hl(D){if(!(D instanceof de.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class el{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let po,$l;function Qo(){return(Qo=(0,P.Z)(function*(D,T,k,H,J){if(J&&J.global)D("event",k,H);else{const ue=yield T;D("event",k,Object.assign(Object.assign({},H),{send_to:ue}))}})).apply(this,arguments)}function ea(D){$l=D}function Kc(D){po=D}function Vs(){return ta.apply(this,arguments)}function ta(){return(ta=(0,P.Z)(function*(){var D;if(!(0,de.hl)())return jn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(T){return jn.warn(ai.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(D,T,k,H,J,ue,Oe){var We;const vt=yd(D);vt.then(mi=>{k[mi.measurementId]=mi.appId,D.options.measurementId&&mi.measurementId!==D.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>jn.error(mi)),T.push(vt);const xt=Vs().then(mi=>{if(mi)return H.getId()}),[$t,Et]=yield Promise.all([vt,xt]);_d(ue)||Bl(ue,$t.measurementId),$l&&(J("consent","default",$l),ea(void 0)),J("js",new Date);const qn=null!==(We=Oe?.config)&&void 0!==We?We:{};return qn.origin="firebase",qn.update=!0,null!=Et&&(qn[md]=Et),J("config",$t.measurementId,qn),po&&(J("set",po),Kc(void 0)),$t.measurementId})).apply(this,arguments)}class zl{constructor(T){this.app=T}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},ia=[];const go={};let sa,$r,ra="dataLayer",wd=!1;function lf(D,T,k){!function pm(){const D=[];if((0,de.ru)()&&D.push("This is a browser extension environment."),(0,de.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,J)=>`(${J+1}) ${H}`).join(" "),k=ai.create("invalid-analytics-context",{errorInfo:T});jn.warn(k.message)}}();const H=D.options.appId;if(!H)throw ai.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ai.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[H])throw ai.create("already-exists",{id:H});if(!wd){!function Ul(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ra);const{wrappedGtag:ue,gtagCore:Oe}=function Xa(D,T,k,H,J){let ue=function(...Oe){window[H].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function Gc(D,T,k,H){function ue(){return(ue=(0,P.Z)(function*(Oe,We,vt){try{"event"===Oe?yield cs(D,T,k,We,vt):"config"===Oe?yield ef(D,T,k,H,We,vt):"consent"===Oe?D("consent","update",vt):D("set",We)}catch(xt){jn.error(xt)}})).apply(this,arguments)}return function J(Oe,We,vt){return ue.apply(this,arguments)}}(ue,D,T,k),{gtagCore:ue,wrappedGtag:window[J]}}(Fi,ia,go,ra,"gtag");$r=ue,sa=Oe,wd=!0}return Fi[H]=function af(D,T,k,H,J,ue,Oe){return na.apply(this,arguments)}(D,ia,go,T,sa,ra,k),new zl(D)}function L_(){return cf.apply(this,arguments)}function cf(){return(cf=(0,P.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Yc="@firebase/analytics";!function Li(){(0,le._registerComponent)(new ve.wA(Zo,(T,{options:k})=>lf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function D(T){try{const k=T.getProvider(Zo).getImmediate();return{logEvent:(H,J,ue)=>function hn(D,T,k,H){D=(0,de.m9)(D),function tl(D,T,k,H,J){return Qo.apply(this,arguments)}($r,Fi[D.app.options.appId],T,k,H).catch(J=>jn.error(J))}(k,H,J,ue)}}catch(k){throw ai.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(Yc,"0.8.4"),(0,le.registerVersion)(Yc,"0.8.4","esm2017")}();var ds=F(4408),_o=F(7565);const yo=new class dr extends _o.v{}(class il extends ds.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,k,H):(T.flush(this),0)}});var ht=F(4986),oa=F(8505),Ed=F(9468),Gl=F(5363);const Yi=new u.GfV("7.4.1"),aa="__angularfire_symbol__analyticsIsSupportedValue",Or="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupportedValue",Qi="__angularfire_symbol__remoteConfigIsSupported",Qc="__angularfire_symbol__messagingIsSupportedValue",la="__angularfire_symbol__messagingIsSupported";function rl(D,T,k){if(T){if(1===T.length)return T[0];const ue=T.filter(Oe=>Oe.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Or]||(globalThis[Or]=L_().then(D=>globalThis[aa]=D).catch(()=>globalThis[aa]=!1)),globalThis[la]||(globalThis[la]=Bc().then(D=>globalThis[Qc]=D).catch(()=>globalThis[Qc]=!1)),globalThis[Qi]||(globalThis[Qi]=N_().then(D=>globalThis[hs]=D).catch(()=>globalThis[hs]=!1));const Pr=(D,T)=>{const k=T?[T]:(0,$.C6)(),H=[];return k.forEach(J=>{J.container.getProvider(D).instances.forEach(Oe=>{H.includes(Oe)||H.push(Oe)})}),H};function zr(){}class Gn{constructor(T,k=yo){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,H){const J=this.zone;return this.delegate.schedule(function(Oe){J.runGuarded(()=>{T.apply(this,[Oe])})},k,H)}}class Gr{constructor(T){this.zone=T,this.task=null}call(T,k){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)),k.pipe((0,oa.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ca=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Gn(Zone.current)),this.insideAngular=k.run(()=>new Gn(Zone.current,ht.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Us(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function fs(D){return Us(),function Dd(D){return function(k){return(k=k.lift(new Gr(D.ngZone))).pipe((0,Ed.R)(D.outsideAngular),(0,Gl.Q)(D.insideAngular))}}(Us())(D)}},8247:(dt,Ae,F)=>{F.d(Ae,{$:()=>ho,A:()=>W,B:()=>Ne,G:()=>io,H:()=>ar,J:()=>rs,L:()=>q,M:()=>Rl,N:()=>sd,P:()=>ht,Q:()=>Ol,R:()=>mm,T:()=>Rc,U:()=>Os,V:()=>vr,W:()=>os,X:()=>dm,Y:()=>Ba,Z:()=>Lt,_:()=>hm,a:()=>Ls,a0:()=>Kh,a1:()=>si,a2:()=>Nl,a3:()=>Fl,a4:()=>Zh,a5:()=>fm,a6:()=>oi,a7:()=>Hr,a8:()=>Wa,a9:()=>as,aA:()=>z,aB:()=>vt,aC:()=>Jc,aD:()=>Hs,aE:()=>Ct,aI:()=>Yo,aL:()=>Bo,aa:()=>Yh,ab:()=>Lc,ac:()=>Vc,af:()=>Qh,ag:()=>Xh,ah:()=>hd,ak:()=>kr,al:()=>Hc,an:()=>gd,ao:()=>Ya,ap:()=>we,aq:()=>Be,ar:()=>st,as:()=>Qe,at:()=>da,au:()=>$s,av:()=>Nt,aw:()=>Fe,ax:()=>oe,ay:()=>mi,az:()=>te,b:()=>ai,c:()=>Qc,d:()=>gm,e:()=>Xc,f:()=>Dd,g:()=>H,h:()=>D,i:()=>ta,j:()=>Oe,k:()=>_f,l:()=>Cd,m:()=>Ws,o:()=>pe,r:()=>ds,s:()=>pi,u:()=>yo});var u=F(5861),$=F(2090),P=F(9681),le=F(1877),de=F(655),ve=F(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new le.Yd("@firebase/auth");function et(b,...m){ye.logLevel<=le.in.ERROR&&ye.error(`Auth (${P.SDK_VERSION}): ${b}`,...m)}function Qe(b,...m){throw qe(b,...m)}function Fe(b,...m){return qe(b,...m)}function Pe(b,m,_){const C=Object.assign(Object.assign({},Te()),{[m]:_});return new $.LL("auth","Firebase",C).create(m,{appName:b.name})}function De(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Qe(b,"argument-error"),Pe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return it.create(b,...m)}function oe(b,m,..._){if(!b)throw qe(m,..._)}function fe(b){const m="INTERNAL ASSERTION FAILED: "+b;throw et(m),new Error(m)}function we(b,m){b||fe(m)}const X=new Map;function te(b){we(b instanceof Function,"Expected a class definition");let m=X.get(b);return m?(we(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,X.set(b,m),m)}function Ue(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function He(){return"http:"===pt()||"https:"===pt()}function pt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ze{constructor(m,_){this.shortDelay=m,this.longDelay=_,we(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(b,m){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Dn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Ze(3e4,6e4);function Yt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function jt(b,m,_,C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(b,m,_,C,M={}){return Br(b,M,(0,u.Z)(function*(){let N={},ie={};C&&("GET"===m?ie=C:N={body:JSON.stringify(C)});const Me=(0,$.xO)(Object.assign({key:b.config.apiKey},ie)).slice(1),rt=yield b._getAdditionalHeaders();return rt["Content-Type"]="application/json",b.languageCode&&(rt["X-Firebase-Locale"]=b.languageCode),Dn.fetch()(Jr(b,b.config.apiHost,_,Me),Object.assign({method:m,headers:rt,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Br(b,m,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),m);try{const M=new qi(b),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ie=yield N.json();if("needConfirmation"in ie)throw Qn(b,"account-exists-with-different-credential",ie);if(N.ok&&!("errorMessage"in ie))return ie;{const Me=N.ok?ie.errorMessage:ie.error.message,[rt,Tt]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Qn(b,"credential-already-in-use",ie);if("EMAIL_EXISTS"===rt)throw Qn(b,"email-already-in-use",ie);if("USER_DISABLED"===rt)throw Qn(b,"user-disabled",ie);const Xt=C[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Pe(b,Xt,Tt);Qe(b,Xt)}}catch(M){if(M instanceof $.ZR)throw M;Qe(b,"network-request-failed")}})).apply(this,arguments)}function Ln(b,m,_,C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(b,m,_,C,M={}){const N=yield jt(b,m,_,C,M);return"mfaPendingCredential"in N&&Qe(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Jr(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?mn(b.config,M):`${b.config.apiScheme}://${M}`}class qi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Fe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Fe(b,m,C);return M.customData._tokenResponse=_,M}function es(){return(es=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Xe(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xn(b,m){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ci(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Sn(){return(Sn=(0,u.Z)(function*(b,m=!1){const _=(0,$.m9)(b),C=yield _.getIdToken(m),M=mt(C);oe(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ie=N?.sign_in_provider;return{claims:M,token:C,authTime:Ci(bn(M.auth_time)),issuedAtTime:Ci(bn(M.iat)),expirationTime:Ci(bn(M.exp)),signInProvider:ie||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(b){return 1e3*Number(b)}function mt(b){var m;const[_,C,M]=b.split(".");if(void 0===_||void 0===C||void 0===M)return et("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(C);return N?JSON.parse(N):(et("Failed to decode base64 JWT payload"),null)}catch(N){return et("Caught error parsing JWT payload as JSON",null===(m=N)||void 0===m?void 0:m.toString()),null}}function Pt(b,m){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof $.ZR&&ii(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ii({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ni{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,u.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Mt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ki(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield Pt(b,Xn(_,{idToken:C}));oe(M?.users.length,_,"internal-error");const N=M.users[0];b._notifyReloadListener(N);const ie=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?Rn(N.providerUserInfo):[],Me=fi(b.providerData,ie),Xt=!!b.isAnonymous&&!(b.email&&N.passwordHash||Me?.length),An={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Me,metadata:new Mt(N.createdAt,N.lastLoginAt),isAnonymous:Xt};Object.assign(b,An)})).apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(b){const m=(0,$.m9)(b);yield Ki(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function fi(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function Rn(b){return b.map(m=>{var{providerId:_}=m,C=(0,de._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function xe(){return(xe=(0,u.Z)(function*(b,m){const _=yield Br(b,{},(0,u.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=b.config,ie=Jr(b,M,"/v1/token",`key=${N}`),Me=yield b._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Dn.fetch()(ie,{method:"POST",headers:Me,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(typeof m.idToken<"u","internal-error"),oe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function gt(b){const m=mt(b);return oe(m,"internal-error"),oe(typeof m.exp<"u","internal-error"),oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,u.Z)(function*(){return oe(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ie}=yield function tt(b,m){return xe.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,N,Number(ie))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:N}=_,ie=new nt;return C&&(oe("string"==typeof C,"internal-error",{appName:m}),ie.refreshToken=C),M&&(oe("string"==typeof M,"internal-error",{appName:m}),ie.accessToken=M),N&&(oe("number"==typeof N,"internal-error",{appName:m}),ie.expirationTime=N),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return fe("not implemented")}}function It(b,m){oe("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Dt{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,N=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Mt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const C=yield Pt(_,_.stsTokenManager.getToken(_.auth,m));return oe(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Tn(b){return Sn.apply(this,arguments)}(this,m)}reload(){return function mr(b){return Jt.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Dt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Ki(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield Pt(m,function Ar(b,m){return es.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,N,ie,Me,rt,Tt,Xt;const An=null!==(C=_.displayName)&&void 0!==C?C:void 0,ms=null!==(M=_.email)&&void 0!==M?M:void 0,wo=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,vf=null!==(ie=_.photoURL)&&void 0!==ie?ie:void 0,Rd=null!==(Me=_.tenantId)&&void 0!==Me?Me:void 0,nu=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,bm=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,G_=null!==(Xt=_.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:bf,emailVerified:cl,isAnonymous:fa,providerData:iu,stsTokenManager:ru}=_;oe(bf&&ru,m,"internal-error");const wm=nt.fromJSON(this.name,ru);oe("string"==typeof bf,m,"internal-error"),It(An,m.name),It(ms,m.name),oe("boolean"==typeof cl,m,"internal-error"),oe("boolean"==typeof fa,m,"internal-error"),It(wo,m.name),It(vf,m.name),It(Rd,m.name),It(nu,m.name),It(bm,m.name),It(G_,m.name);const ti=new Dt({uid:bf,auth:m,email:ms,emailVerified:cl,displayName:An,isAnonymous:fa,photoURL:vf,phoneNumber:wo,tenantId:Rd,stsTokenManager:wm,createdAt:bm,lastLoginAt:G_});return iu&&Array.isArray(iu)&&(ti.providerData=iu.map(Cm=>Object.assign({},Cm))),nu&&(ti._redirectEventId=nu),ti}static _fromIdTokenResponse(m,_,C=!1){return(0,u.Z)(function*(){const M=new nt;M.updateFromServerResponse(_);const N=new Dt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Ki(N),N})()}}const q=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,u.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,u.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,u.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class Q{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=z(this.userKey,M.apiKey,N),this.fullPersistenceKey=z("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Dt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Q(te(q),m,C);const M=(yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let N=M[0]||te(q);const ie=z(C,m.config.apiKey,m.name);let Me=null;for(const Tt of _)try{const Xt=yield Tt._get(ie);if(Xt){const An=Dt._fromJSON(m,Xt);Tt!==N&&(Me=An),N=Tt;break}}catch{}const rt=M.filter(Tt=>Tt._shouldAllowMigration);return N._shouldAllowMigration&&rt.length?(N=rt[0],Me&&(yield N._set(ie,Me.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,u.Z)(function*(Xt){if(Xt!==N)try{yield Xt._remove(ie)}catch{}});return function(Xt){return Tt.apply(this,arguments)}}())),new Q(N,m,C)):new Q(N,m,C)})()}}function j(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Le(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(R(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ot(m))return"Blackberry";if(ke(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||re(m))&&!m.includes("edge/"))return"Chrome";if(st(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function R(b=(0,$.z$)()){return/firefox\//i.test(b)}function B(b=(0,$.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function re(b=(0,$.z$)()){return/crios\//i.test(b)}function Le(b=(0,$.z$)()){return/iemobile/i.test(b)}function st(b=(0,$.z$)()){return/android/i.test(b)}function ot(b=(0,$.z$)()){return/blackberry/i.test(b)}function ke(b=(0,$.z$)()){return/webos/i.test(b)}function Be(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Nt(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function _n(b=(0,$.z$)()){return Be(b)||st(b)||ke(b)||ot(b)||/windows phone/i.test(b)||Le(b)}function xn(b,m=[]){let _;switch(b){case"Browser":_=j((0,$.z$)());break;case"Worker":_=`${j((0,$.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${C}`}class to{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=N=>new Promise((ie,Me)=>{try{ie(m(N))}catch(rt){Me(rt)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,u.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const N of _.queue)yield N(m),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const ie of M)try{ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class Po{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new no(this),this.idTokenSubscription=new no(this),this.beforeStateQueue=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=te(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield Q.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let N=M,ie=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Me=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,rt=N?._redirectEventId,Tt=yield _.tryRedirectSignIn(m);(!Me||Me===rt)&&Tt?.user&&(N=Tt.user,ie=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(ie)try{yield _.beforeStateQueue.runMiddleware(N)}catch(Me){N=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Me))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){var C;try{yield Ki(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const C=m?(0,$.m9)(m):null;return C&&oe(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return m&&oe(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(te(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new $.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,u.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&te(m)||_._popupRedirectResolver;oe(C,_,"argument-error"),_.redirectPersistenceManager=yield Q.create(_,[te(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ie,this,"internal-error"),ie.then(()=>N(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Ct(b){return(0,$.m9)(b)}class no{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function io(b,m,_){const C=Ct(b);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,N=Ml(m),{host:ie,port:Me}=function ns(b){const m=Ml(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:Jn(C.substr(N.length+1))}}{const[N,ie]=C.split(":");return{host:N,port:Jn(ie)}}}(m);C.config.emulator={url:`${N}//${ie}${null===Me?"":`:${Me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ie,port:Me,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ro(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ml(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Jn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ar{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return fe("not implemented")}_getIdTokenResponse(m){return fe("not implemented")}_linkToIdToken(m,_){return fe("not implemented")}_getReauthenticationResolver(m){return fe("not implemented")}}function gr(b,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:resetPassword",Yt(b,m))})).apply(this,arguments)}function Al(b,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function zh(b,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",Yt(b,m))})).apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithPassword",Yt(b,m))})).apply(this,arguments)}function Rs(b,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendOobCode",Yt(b,m))})).apply(this,arguments)}function is(b,m){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(b,m){return Rs(b,m)})).apply(this,arguments)}function Gh(b,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(b,m){return Rs(b,m)})).apply(this,arguments)}function _r(b,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(b,m){return Rs(b,m)})).apply(this,arguments)}function kl(b,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(b,m){return Rs(b,m)})).apply(this,arguments)}function Ac(){return(Ac=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}class La extends ar{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new La(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new La(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function Na(b,m){return so.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function lr(b,m){return Ac.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Qe(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Al(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function om(b,m){return kc.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function lo(b,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithIdp",Yt(b,m))})).apply(this,arguments)}class rs extends ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new rs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,N=(0,de._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const ie=new rs(C,M);return ie.idToken=N.idToken||void 0,ie.accessToken=N.accessToken||void 0,ie.secret=N.secret,ie.nonce=N.nonce,ie.pendingToken=N.pendingToken||null,ie}_getIdTokenResponse(m){return lo(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,lo(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,lo(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,$.xO)(_)}return m}}function lm(b,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendVerificationCode",Yt(b,m))})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m))})).apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(b,m){const _=yield Ln(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m));if(_.temporaryProof)throw Qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const cm={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),cm)})).apply(this,arguments)}class Fo extends ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Fo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Fo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Wh(b,m){return Va.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function No(b,m){return td.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function um(b,m){return nd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}=m;return C||_||M||N?new Fo({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class Lo{constructor(m){var _,C,M,N,ie,Me;const rt=(0,$.zd)((0,$.pd)(m)),Tt=null!==(_=rt.apiKey)&&void 0!==_?_:null,Xt=null!==(C=rt.oobCode)&&void 0!==C?C:null,An=function id(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=rt.mode)&&void 0!==M?M:null);oe(Tt&&Xt&&An,"argument-error"),this.apiKey=Tt,this.operation=An,this.code=Xt,this.continueUrl=null!==(N=rt.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ie=rt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Me=rt.tenantId)&&void 0!==Me?Me:null}static parseLink(m){const _=function rd(b){const m=(0,$.zd)((0,$.pd)(b)).link,_=m?(0,$.zd)((0,$.pd)(m)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||_||m||b}(m);try{return new Lo(_)}catch{return null}}}let Rl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return La._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Lo.parseLink(C);return oe(M,"argument-error"),La._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ti{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Vo extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Os extends Vo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),rs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Os.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Os.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:ie,providerId:Me}=m;if(!C&&!M&&!_&&!N||!Me)return null;try{return new Os(Me)._credential({idToken:_,accessToken:C,nonce:ie,pendingToken:N})}catch{return null}}}let sd=(()=>{class b extends Vo{constructor(){super("facebook.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ol=(()=>{class b extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Rc=(()=>{class b extends Vo{constructor(){super("github.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Bo extends ar{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return lo(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,lo(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,lo(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:N}=_;return C&&M&&N&&C===M?new Bo(C,N):null}static _create(m,_){return new Bo(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vr extends Ti{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return vr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return vr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Bo.fromJSON(m);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return Bo._create(C,_)}catch{return null}}}let os=(()=>{class b extends Vo{constructor(){super("twitter.com")}static credential(_,C){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function cr(b,m){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signUp",Yt(b,m))})).apply(this,arguments)}class br{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,u.Z)(function*(){const N=yield Dt._fromIdTokenResponse(m,C,M),ie=Uo(C);return new br({user:N,providerId:ie,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Uo(C);return new br({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Uo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function dm(b){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(b){var m;const _=Ct(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new br({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield cr(_,{returnSecureToken:!0}),M=yield br._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vn extends $.ZR{constructor(m,_,C,M){var N;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Vn.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new Vn(m,_,C,M)}}function ad(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Vn._fromErrorAndOperation(b,N,m,C):N})}function qh(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function kr(b,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);yield Ur(!0,_,m);const{providerUserInfo:C}=yield Xe(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=qh(C||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Pl(b,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(b,m,_=!1){const C=yield Pt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return br._forOperation(b,"link",C)})).apply(this,arguments)}function Ur(b,m,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(b,m,_){yield Ki(m);const M=!1===b?"provider-already-linked":"no-such-provider";oe(qh(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function Pc(b,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(b,m,_=!1){var C;const{auth:M}=b,N="reauthenticate";try{const ie=yield Pt(b,ad(M,N,m,b),_);oe(ie.idToken,M,"internal-error");const Me=mt(ie.idToken);oe(Me,M,"internal-error");const{sub:rt}=Me;return oe(b.uid===rt,M,"user-mismatch"),br._forOperation(b,N,ie)}catch(ie){throw"auth/user-not-found"===(null===(C=ie)||void 0===C?void 0:C.code)&&Qe(M,"user-mismatch"),ie}})).apply(this,arguments)}function Nc(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(b,m,_=!1){const C="signIn",M=yield ad(b,C,m),N=yield br._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ba(b,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(b,m){return Nc(Ct(b),m)})).apply(this,arguments)}function Lt(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);return yield Ur(!1,_,m.providerId),Pl(_,m)})).apply(this,arguments)}function hm(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(b,m){return Pc((0,$.m9)(b),m)})).apply(this,arguments)}function ld(b,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(b,m){return Ln(b,"POST","/v1/accounts:signInWithCustomToken",Yt(b,m))})).apply(this,arguments)}function ho(b,m){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(b,m){const _=Ct(b),C=yield ld(_,{token:m,returnSecureToken:!0}),M=yield br._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ho{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Re._fromServerResponse(m,_):Qe(m,"internal-error")}}class Re extends Ho{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Re(_)}}function Qt(b,m,_){var C;oe((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Kh(b,m,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&Qt(C,M,_),yield Gh(C,M)})).apply(this,arguments)}function si(b,m,_){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(b,m,_){yield gr((0,$.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Nl(b,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(b,m){yield zh((0,$.m9)(b),{oobCode:m})})).apply(this,arguments)}function Fl(b,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),C=yield gr(_,{oobCode:m}),M=C.requestType;switch(oe(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,_,"internal-error");default:oe(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=Ho._fromServerResponse(Ct(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Zh(b,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(b,m){const{data:_}=yield Fl((0,$.m9)(b),m);return _.email})).apply(this,arguments)}function fm(b,m,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(b,m,_){const C=Ct(b),M=yield cr(C,{returnSecureToken:!0,email:m,password:_}),N=yield br._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function oi(b,m,_){return Ba((0,$.m9)(b),Rl.credential(m,_))}function Hr(b,m,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};oe(_.handleCodeInApp,C,"argument-error"),_&&Qt(C,M,_),yield _r(C,M)})).apply(this,arguments)}function Wa(b,m){return"EMAIL_SIGNIN"===Lo.parseLink(m)?.operation}function as(b,m,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M=Rl.credentialWithLink(m,_||Ue());return oe(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ba(C,M)})).apply(this,arguments)}function Fc(b,m){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:createAuthUri",Yt(b,m))})).apply(this,arguments)}function Yh(b,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(b,m){const C={identifier:m,continueUri:He()?Ue():"http://localhost"},{signinMethods:M}=yield Fc((0,$.m9)(b),C);return M||[]})).apply(this,arguments)}function Lc(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Qt(_.auth,M,m);const{email:N}=yield is(_.auth,M);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function Vc(b,m,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Qt(C.auth,N,_);const{email:ie}=yield kl(C.auth,N);ie!==b.email&&(yield b.reload())})).apply(this,arguments)}function dd(b,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Qh(b,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,$.m9)(b),N={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ie=yield Pt(C,dd(C.auth,N));C.displayName=ie.displayName||null,C.photoURL=ie.photoUrl||null;const Me=C.providerData.find(({providerId:rt})=>"password"===rt);Me&&(Me.displayName=C.displayName,Me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ie)})).apply(this,arguments)}function Xh(b,m){return Ns((0,$.m9)(b),m,null)}function hd(b,m){return Ns((0,$.m9)(b),null,m)}function Ns(b,m,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(b,m,_){const{auth:C}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(N.email=m),_&&(N.password=_);const ie=yield Pt(b,Al(C,N));yield b._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Pn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class ls extends Pn{constructor(m,_,C,M){super(m,_,C),this.username=M}}class Nn extends Pn{constructor(m,_){super(m,"facebook.com",_)}}class Bc extends ls{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Uc extends Pn{constructor(m,_){super(m,"google.com",_)}}class Jh extends ls{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Hc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function fd(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const ie=null===(_=null===(m=mt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ie)return new Pn(N,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!C)return null;switch(C){case"facebook.com":return new Nn(N,M);case"github.com":return new Bc(N,M);case"google.com":return new Uc(N,M);case"twitter.com":return new Jh(N,M,b.screenName||null);case"custom":case"anonymous":return new Pn(N,null);default:return new Pn(N,C,M)}}(_)}class Cr{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new Cr("enroll",m,_)}static _fromMfaPendingCredential(m){return new Cr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Cr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return Cr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class zc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Ct(m),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(Me=>Ho._fromServerResponse(C,Me));oe(M.mfaPendingCredential,C,"internal-error");const ie=Cr._fromMfaPendingCredential(M.mfaPendingCredential);return new zc(ie,N,function(){var Me=(0,u.Z)(function*(rt){const Tt=yield rt._process(C,ie);delete M.mfaInfo,delete M.mfaPendingCredential;const Xt=Object.assign(Object.assign({},M),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const An=yield br._fromIdTokenResponse(C,_.operationType,Xt);return yield C._updateCurrentUser(An.user),An;case"reauthenticate":return oe(_.user,C,"internal-error"),br._forOperation(_.user,_.operationType,Xt);default:Qe(C,"internal-error")}});return function(rt){return Me.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function gd(b,m){var _;const C=(0,$.m9)(b),M=m;return oe(m.customData.operationType,C,"argument-error"),oe(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),zc._fromError(C,M)}function jn(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:start",Yt(b,m))}class Ul{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Ho._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Ul(m)}getSession(){var m=this;return(0,u.Z)(function*(){return Cr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,u.Z)(function*(){const M=m,N=yield C.getSession(),ie=yield Pt(C.user,M._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(ie),C.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,N=yield _.user.getIdToken(),ie=yield Pt(_.user,function Bl(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(b,m))}(_.user.auth,{idToken:N,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Me})=>Me!==M),yield _.user._updateTokensIfNecessary(ie);try{yield _.user.reload()}catch(Me){if("auth/user-token-expired"!==(null===(C=Me)||void 0===C?void 0:C.code))throw Me}})()}}const ef=new WeakMap;function Ya(b){const m=(0,$.m9)(b);return ef.has(m)||ef.set(m,Ul._fromUser(m)),ef.get(m)}const cs="__sak";class Qa{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ai=(()=>{class b extends Qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gc(){const b=(0,$.z$)();return B(b)||Be(b)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&_(C,N,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Me,rt,Tt)=>{this.notifyListeners(Me,Tt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(M);if(_.newValue!==Me)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const N=()=>{const Me=this.storage.getItem(M);!C&&this.localCache[M]===Me||this.notifyListeners(M,Me)},ie=this.storage.getItem(M);!function Bt(){return(0,$.w1)()&&10===document.documentMode}()||ie===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,N=this;return(0,u.Z)(function*(){yield M().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,u.Z)(function*(){const N=yield C().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,M=this;return(0,u.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Ls=(()=>{class b extends Qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Ja=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,u.Z)(function*(){const M=_,{eventId:N,eventType:ie,data:Me}=M.data,rt=C.handlersMap[ie];if(!rt?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ie});const Tt=Array.from(rt).map(function(){var An=(0,u.Z)(function*(ms){return ms(M.origin,Me)});return function(ms){return An.apply(this,arguments)}}()),Xt=yield function Wc(b){return Promise.all(b.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(Tt);M.ports[0].postMessage({status:"done",eventId:N,eventType:ie,response:Xt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Yo(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class rf{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,u.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ie,Me;return new Promise((rt,Tt)=>{const Xt=Yo("",20);N.port1.start();const An=setTimeout(()=>{Tt(new Error("unsupported_event"))},C);Me={messageChannel:N,onMessage(ms){const wo=ms;if(wo.data.eventId===Xt)switch(wo.data.status){case"ack":clearTimeout(An),ie=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),rt(wo.data.response);break;default:clearTimeout(An),clearTimeout(ie),Tt(new Error("invalid_response"))}}},M.handlers.add(Me),N.port1.addEventListener("message",Me.onMessage),M.target.postMessage({eventType:m,eventId:Xt,data:_},[N.port2])}).finally(()=>{Me&&M.removeMessageHandler(Me)})})()}}function $n(){return window}function ur(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function us(){return(us=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const el="firebaseLocalStorageDb",tl="firebaseLocalStorage",Qo="fbase_key";class mo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Xo(b,m){return b.transaction([tl],m?"readwrite":"readonly").objectStore(tl)}function jl(){const b=indexedDB.open(el,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(tl,{keyPath:Qo})}catch(M){_(M)}}),b.addEventListener("success",(0,u.Z)(function*(){const C=b.result;C.objectStoreNames.contains(tl)?m(C):(C.close(),yield function bd(){const b=indexedDB.deleteDatabase(el);return new mo(b).toPromise()}(),m(yield jl()))}))})}function nl(b,m,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(b,m,_){const C=Xo(b,!0).put({[Qo]:m,value:_});return new mo(C).toPromise()})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(b,m){const _=Xo(b,!1).get(m),C=yield new mo(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function $l(b,m){const _=Xo(b,!0).delete(m);return new mo(_).toPromise()}const ta=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield jl()),_.db})()}_withRetries(_){var C=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return ur()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Ja._getInstance(function Hl(){return ur()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function vd(){return us.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new rf(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function qc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield jl();return yield nl(_,cs,"1"),yield $l(_,cs),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(N=>nl(N,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,u.Z)(function*(){const M=yield C._withRetries(N=>function sf(b,m){return Jo.apply(this,arguments)}(N,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(M=>$l(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const C=yield _._withRetries(ie=>{const Me=Xo(ie,!1).getAll();return new mo(Me).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ie,value:Me}of C)N.add(ie),JSON.stringify(_.localCache[ie])!==JSON.stringify(Me)&&(_.notifyListeners(ie,Me),M.push(ie));for(const ie of Object.keys(_.localCache))_.localCache[ie]&&!N.has(ie)&&(_.notifyListeners(ie,null),M.push(ie));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function af(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:start",Yt(b,m))}function Fi(){return(Fi=(0,u.Z)(function*(b){return(yield jt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function go(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const N=Fe("internal-error");N.customData=M,_(N)},C.type="text/javascript",C.charset="UTF-8",function ia(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function ra(b){return`__${b}${Math.floor(1e6*Math.random())}`}const $r=1e12;class wd{constructor(m){this.auth=m,this.counter=$r,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new Mn(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||$r;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||$r))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var C;return null===(C=_._widgets.get(m||$r))||void 0===C||C.execute(),""})()}}class Mn{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;oe(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pm(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lf=ra("rcb"),r0=new Ze(3e4,6e4);class L_{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=$n().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return oe(function cf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve($n().grecaptcha):new Promise((C,M)=>{const N=$n().setTimeout(()=>{M(Fe(m,"network-request-failed"))},r0.get());$n()[lf]=()=>{$n().clearTimeout(N),delete $n()[lf];const Me=$n().grecaptcha;if(!Me)return void M(Fe(m,"internal-error"));const rt=Me.render;Me.render=(Tt,Xt)=>{const An=rt(Tt,Xt);return this.counter++,An},this.hostLanguage=_,C(Me)},go(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:lf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(Fe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=$n().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class s0{load(m){return(0,u.Z)(function*(){return new wd(m)})()}clearedOneInstance(){}}const Bs="recaptcha",V_={theme:"light",type:"image"};class mm{constructor(m,_=Object.assign({},V_),C){this.parameters=_,this.type=Bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(C),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new s0:new L_,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const ie=Me=>{!Me||(m.tokenChangeListeners.delete(ie),N(Me))};m.tokenChangeListeners.add(ie),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=$n()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){oe(He()&&!ur(),m.auth,"internal-error"),yield function Ei(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function zl(b){return Fi.apply(this,arguments)}(m.auth);oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hn{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Fo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function pi(b,m,_){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(b,m,_){const C=Ct(b),M=yield _o(C,m,(0,$.m9)(_));return new hn(M,N=>Ba(C,N))})).apply(this,arguments)}function Cd(b,m,_){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);yield Ur(!1,C,"phone");const M=yield _o(C.auth,m,(0,$.m9)(_));return new hn(M,N=>Lt(C,N))})).apply(this,arguments)}function ds(b,m,_){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b),M=yield _o(C.auth,m,(0,$.m9)(_));return new hn(M,N=>hm(C,N))})).apply(this,arguments)}function _o(b,m,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let N;if(oe("string"==typeof M,b,"argument-error"),oe(_.type===Bs,b,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const ie=N.session;if("phoneNumber"in N)return oe("enroll"===ie.type,b,"internal-error"),(yield jn(b,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===ie.type,b,"internal-error");const Me=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return oe(Me,b,"missing-multi-factor-info"),(yield af(b,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield lm(b,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ie}}finally{_._reset()}})).apply(this,arguments)}function yo(b,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(b,m){yield Pl((0,$.m9)(b),m)})).apply(this,arguments)}let ht=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ct(_)}verifyPhoneNumber(_,C){return _o(this.auth,_,(0,$.m9)(C))}static credential(_,C){return Fo._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Fo._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function oa(b,m){return m?te(m):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ed extends ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return lo(m,this._buildIdpRequest())}_linkToIdToken(m,_){return lo(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return lo(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Gl(b){return Nc(b.auth,new Ed(b),b.bypassAuthState)}function Yi(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),Pc(_,new Ed(b),b.bypassAuthState)}function aa(b){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),Pl(_,new Ed(b),b.bypassAuthState)})).apply(this,arguments)}class hs{constructor(m,_,C,M,N=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:ie,error:Me,type:rt}=m;if(Me)return void _.reject(Me);const Tt={auth:_.auth,requestUri:C,sessionId:M,tenantId:ie||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(Tt))}catch(Xt){_.reject(Xt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Gl;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return Yi;default:Qe(this.auth,"internal-error")}}resolve(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qi=new Ze(2e3,1e4);function Qc(b,m,_){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(b,m,_){const C=Ct(b);De(b,m,Ti);const M=oa(C,_);return new rl(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Xc(b,m,_){return Id.apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Ti);const M=oa(C.auth,_);return new rl(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function gm(b,m,_){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Ti);const M=oa(C.auth,_);return new rl(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let rl=(()=>{class b extends hs{constructor(_,C,M,N,ie){super(_,C,N,ie),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const C=yield _.execute();return oe(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,u.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const C=Yo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Qi.get())};_()}}return b.currentPopupAction=null,b})();const zr=new Map;class Gn extends hs{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let C=zr.get(_.auth._key());if(!C){try{const N=(yield function Gr(b,m){return ca.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}zr.set(_.auth._key(),C)}return _.bypassAuthState||zr.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ca(){return(ca=(0,u.Z)(function*(b,m){const _=fs(m),C=ua(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Us(b,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(b,m){return ua(b)._set(fs(m),"true")})).apply(this,arguments)}function Hs(){zr.clear()}function Jc(b,m){zr.set(b._key(),m)}function ua(b){return te(b._redirectPersistence)}function fs(b){return z("pendingRedirect",b.config.apiKey,b.name)}function Dd(b,m,_){return function Wn(b,m,_){return Kl.apply(this,arguments)}(b,m,_)}function Kl(){return(Kl=(0,u.Z)(function*(b,m,_){const C=Ct(b);De(b,m,Ti);const M=oa(C,_);return yield Us(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function D(b,m,_){return function T(b,m,_){return k.apply(this,arguments)}(b,m,_)}function k(){return(k=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Ti);const M=oa(C.auth,_);yield Us(M,C.auth);const N=yield $t(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function H(b,m,_){return function J(b,m,_){return ue.apply(this,arguments)}(b,m,_)}function ue(){return(ue=(0,u.Z)(function*(b,m,_){const C=(0,$.m9)(b);De(C.auth,m,Ti);const M=oa(C.auth,_);yield Ur(!1,C,m.providerId),yield Us(M,C.auth);const N=yield $t(C);return M._openRedirect(C.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function Oe(b,m){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(b,m){return yield Ct(b)._initializationPromise,vt(b,m,!1)})).apply(this,arguments)}function vt(b,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(b,m,_=!1){const C=Ct(b),M=oa(C,m),ie=yield new Gn(C,M,_).execute();return ie&&!_&&(delete ie.user._redirectEventId,yield C._persistUserIfCurrent(ie.user),yield C._setRedirectUser(null,m)),ie})).apply(this,arguments)}function $t(b){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(b){const m=Yo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class mi{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function vo(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!ps(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Fe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(m))}saveEventToCache(m){this.cachedEventUids.add(js(m)),this.lastProcessedEventTime=Date.now()}}function js(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ps({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function $s(b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(b,m={}){return jt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^https?/;function eu(){return(eu=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield $s(b);for(const _ of m)try{if(GI(_))return}catch{}Qe(b,"unauthorized-domain")})).apply(this,arguments)}function GI(b){const m=Ue(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const ie=new URL(b);return""===ie.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ie.hostname===C}if(!hr.test(_))return!1;if(li.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const B_=new Ze(3e4,6e4);function uf(){const b=$n().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Gs=null;function _m(b){return Gs=Gs||function df(b){return new Promise((m,_)=>{var C,M,N;function ie(){uf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{uf(),_(Fe(b,"network-request-failed"))},timeout:B_.get()})}if(null!==(M=null===(C=$n().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=$n().gapi)||void 0===N||!N.load){const Me=ra("iframefcb");return $n()[Me]=()=>{gapi.load?ie():_(Fe(b,"network-request-failed"))},go(`https://apis.google.com/js/api.js?onload=${Me}`).catch(rt=>_(rt))}ie()}}).catch(m=>{throw Gs=null,m})}(b),Gs}const hf=new Ze(5e3,15e3),U_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(b){const m=b.config;oe(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?mn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:P.SDK_VERSION},M=qI.get(b.config.apiHost);M&&(C.eid=M);const N=b._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,$.xO)(C).slice(1)}`}function ff(){return ff=(0,u.Z)(function*(b){const m=yield _m(b),_=$n().gapi;return oe(_,b,"internal-error"),m.open({where:document.body,url:vm(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U_,dontclear:!0},C=>new Promise(function(){var M=(0,u.Z)(function*(N,ie){yield C.restyle({setHideOnLeave:!1});const Me=Fe(b,"network-request-failed"),rt=$n().setTimeout(()=>{ie(Me)},hf.get());function Tt(){$n().clearTimeout(rt),N(C)}C.ping(Tt).then(Tt,()=>{ie(Me)})});return function(N,ie){return M.apply(this,arguments)}}()))}),ff.apply(this,arguments)}const pf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $_{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function da(b,m,_,C,M,N){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const ie={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:P.SDK_VERSION,eventId:M};if(m instanceof Ti){m.setDefaultLanguage(b.languageCode),ie.providerId=m.providerId||"",(0,$.xb)(m.getCustomParameters())||(ie.customParameters=JSON.stringify(m.getCustomParameters()));for(const[rt,Tt]of Object.entries(N||{}))ie[rt]=Tt}if(m instanceof Vo){const rt=m.getScopes().filter(Tt=>""!==Tt);rt.length>0&&(ie.scopes=rt.join(","))}b.tenantId&&(ie.tid=b.tenantId);const Me=ie;for(const rt of Object.keys(Me))void 0===Me[rt]&&delete Me[rt];return`${function bo({config:b}){return b.emulator?mn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(Me).slice(1)}`}const Td="webStorageSupport",_f=class gf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=vt,this._overrideRedirectResult=Jc}_openPopup(m,_,C,M){var N=this;return(0,u.Z)(function*(){var ie;we(null===(ie=N.eventManagers[m._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Me=da(m,_,C,Ue(),M);return function Zl(b,m,_,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ie=Math.max((window.screen.availWidth-C)/2,0).toString();let Me="";const rt=Object.assign(Object.assign({},pf),{width:C.toString(),height:M.toString(),top:N,left:ie}),Tt=(0,$.z$)().toLowerCase();_&&(Me=re(Tt)?"_blank":_),R(Tt)&&(m=m||"http://localhost",rt.scrollbars="yes");const Xt=Object.entries(rt).reduce((ms,[wo,vf])=>`${ms}${wo}=${vf},`,"");if(function gn(b=(0,$.z$)()){var m;return Be(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Tt)&&"_self"!==Me)return function ol(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",Me),new $_(null);const An=window.open(m||"",Me,Xt);oe(An,b,"popup-blocked");try{An.focus()}catch{}return new $_(An)}(m,Me,Yo())})()}_openRedirect(m,_,C,M){var N=this;return(0,u.Z)(function*(){return yield N._originValidation(m),function yd(b){$n().location.href=b}(da(m,_,C,Ue(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(we(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const C=yield function o0(b){return ff.apply(this,arguments)}(m),M=new mi(m);return C.register("authEvent",N=>(oe(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Td,{type:Td},M=>{var N;const ie=null===(N=M?.[0])||void 0===N?void 0:N[Td];void 0!==ie&&_(!!ie),Qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zs(b){return eu.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return _n()||B()||Be()}};class xd extends class Sd{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new xd(m)}_finalizeEnroll(m,_,C){return function Vl(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function na(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:finalize",Yt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ws=(()=>{class b{constructor(){}static assertion(_){return xd._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var ha="@firebase/auth",Md="0.20.11";class a0{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function z_(b){(0,P._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:N,authDomain:ie}=C.options;return((Me,rt)=>{oe(N&&!N.includes(":"),"invalid-api-key",{appName:Me.name}),oe(!ie?.includes(":"),"argument-error",{appName:Me.name});const Tt={apiKey:N,authDomain:ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(b)},Xt=new Po(Me,rt,Tt);return function ce(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(te);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Xt,_),Xt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ve.wA("auth-internal",m=>{const _=Ct(m.getProvider("auth").getImmediate());return new a0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(ha,Md,function l0(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(ha,Md,"esm2017")}("Browser")},2090:(dt,Ae,F)=>{F.d(Ae,{$s:()=>nt,BH:()=>Wt,G6:()=>De,L:()=>pe,LL:()=>rn,Pz:()=>an,Sg:()=>Ze,UG:()=>Te,US:()=>ve,ZB:()=>W,ZR:()=>Dn,aH:()=>pt,b$:()=>ye,eu:()=>oe,hl:()=>qe,jU:()=>it,m9:()=>tn,ne:()=>Sn,pd:()=>eo,r3:()=>qi,ru:()=>Ce,tV:()=>be,uI:()=>Ne,vZ:()=>Xe,w1:()=>Qe,xO:()=>In,xb:()=>Ar,z$:()=>$e,zI:()=>fe,zd:()=>Ci});const le=function(q){const z=[];let Q=0;for(let j=0;j<q.length;j++){let R=q.charCodeAt(j);R<128?z[Q++]=R:R<2048?(z[Q++]=R>>6|192,z[Q++]=63&R|128):55296==(64512&R)&&j+1<q.length&&56320==(64512&q.charCodeAt(j+1))?(R=65536+((1023&R)<<10)+(1023&q.charCodeAt(++j)),z[Q++]=R>>18|240,z[Q++]=R>>12&63|128,z[Q++]=R>>6&63|128,z[Q++]=63&R|128):(z[Q++]=R>>12|224,z[Q++]=R>>6&63|128,z[Q++]=63&R|128)}return z},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let R=0;R<q.length;R+=3){const B=q[R],re=R+1<q.length,Le=re?q[R+1]:0,st=R+2<q.length,ot=st?q[R+2]:0;let Nt=(15&Le)<<2|ot>>6,gn=63&ot;st||(gn=64,re||(Nt=64)),j.push(Q[B>>2],Q[(3&B)<<4|Le>>4],Q[Nt],Q[gn])}return j.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(le(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let Q=0,j=0;for(;Q<q.length;){const R=q[Q++];if(R<128)z[j++]=String.fromCharCode(R);else if(R>191&&R<224){const B=q[Q++];z[j++]=String.fromCharCode((31&R)<<6|63&B)}else if(R>239&&R<365){const st=((7&R)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;z[j++]=String.fromCharCode(55296+(st>>10)),z[j++]=String.fromCharCode(56320+(1023&st))}else{const B=q[Q++],re=q[Q++];z[j++]=String.fromCharCode((15&R)<<12|(63&B)<<6|63&re)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let R=0;R<q.length;){const B=Q[q.charAt(R++)],Le=R<q.length?Q[q.charAt(R)]:0;++R;const ot=R<q.length?Q[q.charAt(R)]:64;++R;const Be=R<q.length?Q[q.charAt(R)]:64;if(++R,null==B||null==Le||null==ot||null==Be)throw Error();j.push(B<<2|Le>>4),64!==ot&&(j.push(Le<<4&240|ot>>2),64!==Be&&j.push(ot<<6&192|Be))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},pe=function(q){return function(q){const z=le(q);return ve.encodeByteArray(z,!0)}(q).replace(/\./g,"")},be=function(q){try{return ve.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!ee(Q)||(q[Q]=W(q[Q],z[Q]));return q}function ee(q){return"__proto__"!==q}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function Ce(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const q=$e();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function De(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function oe(){return new Promise((q,z)=>{try{let Q=!0;const j="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(j);R.onsuccess=()=>{R.result.close(),Q||self.indexedDB.deleteDatabase(j),q(!0)},R.onupgradeneeded=()=>{Q=!1},R.onerror=()=>{var B;z((null===(B=R.error)||void 0===B?void 0:B.message)||"")}}catch(Q){z(Q)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=q&&be(q[1]);return z&&JSON.parse(z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},pt=()=>{var q;return null===(q=ce())||void 0===q?void 0:q.config},an=q=>{var z;return null===(z=ce())||void 0===z?void 0:z[`_${q}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,j)=>{Q?this.reject(Q):this.resolve(j),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,j))}}}function Ze(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=z||"demo-project",R=q.iat||0,B=q.sub||q.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:R,exp:R+3600,auth_time:R,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(re)),""].join(".")}class Dn extends Error{constructor(z,Q,j){super(Q),this.code=z,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(z,Q,j){this.service=z,this.serviceName=Q,this.errors=j}create(z,...Q){const j=Q[0]||{},R=`${this.service}/${z}`,B=this.errors[z],re=B?function sn(q,z){return q.replace(Yt,(Q,j)=>{const R=z[j];return null!=R?String(R):`<${j}?>`})}(B,j):"Error";return new Dn(R,`${this.serviceName}: ${re} (${R}).`,j)}}const Yt=/\{\$([^}]+)}/g;function qi(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function Ar(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Xe(q,z){if(q===z)return!0;const Q=Object.keys(q),j=Object.keys(z);for(const R of Q){if(!j.includes(R))return!1;const B=q[R],re=z[R];if(ni(B)&&ni(re)){if(!Xe(B,re))return!1}else if(B!==re)return!1}for(const R of j)if(!Q.includes(R))return!1;return!0}function ni(q){return null!==q&&"object"==typeof q}function In(q){const z=[];for(const[Q,j]of Object.entries(q))Array.isArray(j)?j.forEach(R=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(R))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(j));return z.length?"&"+z.join("&"):""}function Ci(q){const z={};return q.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[R,B]=j.split("=");z[decodeURIComponent(R)]=decodeURIComponent(B)}}),z}function eo(q){const z=q.indexOf("?");if(!z)return"";const Q=q.indexOf("#",z);return q.substring(z,Q>0?Q:void 0)}function Sn(q,z){const Q=new bn(q,z);return Q.subscribe.bind(Q)}class bn{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(j=>{this.error(j)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,j){let R;if(void 0===z&&void 0===Q&&void 0===j)throw new Error("Missing Observer.");R=function gt(q,z){if("object"!=typeof q||null===q)return!1;for(const Q of z)if(Q in q&&"function"==typeof q[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:j},void 0===R.next&&(R.next=Pt),void 0===R.error&&(R.error=Pt),void 0===R.complete&&(R.complete=Pt);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),B}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function nt(q,z=1e3,Q=2){const j=z*Math.pow(Q,q),R=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+R)}function tn(q){return q&&q._delegate?q._delegate:q}},5417:(dt,Ae,F)=>{var u=F(4650);let $=null;function P(){return $}const ae=new u.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return(0,u.LFG)(W)}()},providedIn:"platform"}),n})();const K=new u.OlP("Location Initialized");let W=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function $e(){return new W((0,u.LFG)(ae))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(et)},providedIn:"root"}),n})();const ye=new u.OlP("appBaseHref");let et=(()=>{class n extends Ce{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+it(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+it(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends Ce{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ne(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+it(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Te(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+it(i))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ne,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Pe(){return new Fe((0,u.LFG)(Ce))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function Al(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}class so{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rs=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new so(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,c),oo(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{oo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oo(n,e){n.context.$implicit=e.item}let On=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Gh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ri("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ri("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gh{constructor(){this.$implicit=null,this.ngIf=null}}function ri(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class _r{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ao=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),kl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new _r(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ao,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class am{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class rs{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const lm=new rs,ed=new am;let Wh=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,u.QGY)(t))return lm;if((0,u.F4k)(t))return ed;throw function yr(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ss=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const vr="browser";function Uo(n){return"server"===n}let ad=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new qh((0,u.LFG)(ae),window)}),n})();class qh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Si(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kr(this.window.history)||kr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uo{}class Ns extends class hd extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){$||($=n)}(new Ns)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fd(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==t?null:function ls(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const e=Pn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Al(document.cookie,e)}}let Pn,Fs=null;const Nn=new u.OlP("TRANSITION_ID"),Uc=[{provide:u.ip1,useFactory:function Bc(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Nn,ae,u.zs3],multi:!0}];let Hc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const jc=new u.OlP("EventManagerPlugins");let $c=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jc),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ll{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ko=(()=>{class n extends qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(pd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function pd(n){P().remove(n)}const Zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},md=/%COMP%/g;function Bl(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Bl(n,r,t):(r=r.replace(md,n),t.push(r))}return t}function Ul(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ya=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new cs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new _d(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new tf(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Bl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($c),u.LFG(Ko),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class cs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xa(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Xa(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Zo[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Zo[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ul(i)):this.eventManager.addEventListener(e,t,Ul(i))}}function Xa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _d extends cs{constructor(e,t,i,r){super(e),this.component=i;const a=Bl(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function jn(n){return"_ngcontent-%COMP%".replace(md,n)}(r+"-"+i.id),this.hostAttr=function Vl(n){return"_nghost-%COMP%".replace(md,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class tf extends cs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Bl(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ai=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nf=["alt","control","meta","shift"],Ls={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ja=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),nf.forEach(v=>{const I=i.indexOf(v);I>-1&&(i.splice(I,1),c+=v+".")}),c+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=r,g.fullKey=c,g}static matchEventFullKeyCode(t,i){let r=Ls[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nf.forEach(c=>{c!==r&&(0,Wc[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const el=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:vr},{provide:u.g9A,useValue:function vd(){Ns.makeCurrent()},multi:!0},{provide:ae,useFactory:function qc(){return(0,u.RDi)(document),document},deps:[]}]),po=new u.OlP(""),tl=[{provide:u.rWj,useClass:class Jh{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const f=function(g){c=c||g,a--,0==a&&i(c)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Qo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function us(){return new u.qLn},deps:[]},{provide:jc,useClass:ai,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:jc,useClass:Ja,multi:!0,deps:[ae]},{provide:Ya,useClass:Ya,deps:[$c,Ko,u.AFp]},{provide:u.FYo,useExisting:Ya},{provide:qo,useExisting:Ko},{provide:Ko,useClass:Ko,deps:[ae]},{provide:$c,useClass:$c,deps:[jc,u.R0b]},{provide:uo,useClass:Hc,deps:[]},[]];let mo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Nn,useExisting:u.AFp},Uc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(po,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Qo,...tl],imports:[ss,u.hGG]}),n})(),jr=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function nl(){return new jr((0,u.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(mm),i},providedIn:"root"}),n})(),mm=(()=>{class n extends Bs{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function V_(n){return new mm(n.get(ae))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var hn=F(8996),pi=F(9751);const{isArray:Yc}=Array,{getPrototypeOf:Cd,prototype:Li,keys:ds}=Object;function il(n){if(1===n.length){const e=n[0];if(Yc(e))return{args:e,keys:null};if(function _o(n){return n&&"object"==typeof n&&Cd(n)===Li}(e)){const t=ds(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var dr=F(8421),yo=F(3269),zn=F(5403),ht=F(4004);const{isArray:oa}=Array;function Gl(n){return(0,ht.U)(e=>function Ed(n,e){return oa(e)?n(...e):n(e)}(n,e))}function Yi(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function aa(...n){const e=(0,yo.jO)(n),{args:t,keys:i}=il(n),r=new pi.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let g=c,v=c;for(let I=0;I<c;I++){let x=!1;(0,dr.Xf)(t[I]).subscribe((0,zn.x)(a,V=>{x||(x=!0,v--),f[I]=V},()=>g--,void 0,()=>{(!g||!x)&&(v||a.next(i?Yi(i,f):f),a.complete())}))}});return e?r.pipe(Gl(e)):r}const Gn=new u.OlP("NgValidators"),Gr=new u.OlP("NgAsyncValidators");function T(n){return null!=n}function k(n){return(0,u.QGY)(n)?(0,hn.D)(n):n}function H(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J(n,e){return e.map(t=>t(n))}function Oe(n){return n.map(e=>function ue(n){return!n.validate}(e)?e:t=>e.validate(t))}function vt(n){return null!=n?function We(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return H(J(t,e))}}(Oe(n)):null}function $t(n){return null!=n?function xt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return aa(J(t,e).map(k)).pipe((0,ht.U)(H))}}(Oe(n)):null}function Et(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function js(n){return n?Array.isArray(n)?n:[n]:[]}function ps(n,e){return Array.isArray(n)?n.includes(e):n===e}function vo(n,e){const t=js(e);return js(n).forEach(r=>{ps(t,r)||t.push(r)}),t}function $s(n,e){return js(e).filter(t=>!ps(n,t))}class li extends class Wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let uf=(()=>{class n extends class zs{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(li,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const ol="VALID",tu="INVALID",al="PENDING",da="DISABLED";function Td(n){return Array.isArray(n)?vt(n):n||null}function _f(n){return Array.isArray(n)?$t(n):n||null}function Sd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Md extends class ha{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Td(this._rawValidators),this._composedAsyncValidatorFn=_f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ol}get invalid(){return this.status===tu}get pending(){return this.status==al}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Td(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_f(e)}addValidators(e){this.setValidators(vo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($s(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($s(e,this._rawAsyncValidators))}hasValidator(e){return ps(this._rawValidators,e)}hasAsyncValidator(e){return ps(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=al,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ol,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ol||this.status===al)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=al,this._hasOwnPendingAsyncValidator=!0;const t=k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?tu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(al)?al:this._anyControlsHaveStatus(tu)?tu:ol}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e,t,i){super(function bo(n){return(Sd(n)?n.validators:n)||null}(t),function gf(n,e){return(Sd(e)?e.asyncValidators:n)||null}(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Ws(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function xd(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function yf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m(n,e){const t=function qn(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Et(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function mi(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Et(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yf(e._rawValidators,r),yf(e._rawAsyncValidators,r)}function N(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const bf={provide:li,useExisting:(0,u.Gpc)(()=>fa)},cl=(()=>Promise.resolve())();let fa=(()=>{class n extends li{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Md({},vt(t),$t(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){cl.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),function ll(n,e){m(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function C(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N(n,e)})}(n,e),function ie(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function M(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){cl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){cl.then(()=>{const i=this._findContainer(t.path),r=new Md({});(function Me(n,e){m(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){cl.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){cl.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Rd(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Gn,10),u.Y36(Gr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([bf]),u.qOj]}),n})(),Od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),zA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[p0]}),n})(),GA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zA]}),n})();function ct(...n){const e=(0,yo.yG)(n);return(0,hn.D)(n,e)}var nn=F(7579);class gs extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const xm=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var au=F(4671),Cf=F(9672);function oy(...n){const e=(0,yo.yG)(n),t=(0,yo.jO)(n),{args:i,keys:r}=il(n);if(0===i.length)return(0,hn.D)([],e);const a=new pi.y(function uD(n,e,t=au.y){return i=>{M0(e,()=>{const{length:r}=n,a=new Array(r);let c=r,f=r;for(let g=0;g<r;g++)M0(e,()=>{const v=(0,hn.D)(n[g],e);let I=!1;v.subscribe((0,zn.x)(i,x=>{a[g]=x,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Yi(r,c):au.y));return t?a.pipe(Gl(t)):a}function M0(n,e,t){n?(0,Cf.f)(t,n,e):e()}var Ld=F(8189);function Mm(...n){return function dD(){return(0,Ld.J)(1)}()((0,hn.D)(n,(0,yo.yG)(n)))}function A0(n){return new pi.y(e=>{(0,dr.Xf)(n()).subscribe(e)})}var hD=F(9635),qs=F(576);function Vd(n,e){const t=(0,qs.m)(n)?n:()=>n,i=r=>r.error(t());return new pi.y(e?r=>e.schedule(i,0,r):i)}var lu=F(515),cu=F(727),Vi=F(4482);function ay(){return(0,Vi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class k0 extends pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cu.w0.EMPTY)}return e}refCount(){return ay()(this)}}function vn(n,e){return(0,Vi.e)((t,i)=>{let r=null,a=0,c=!1;const f=()=>c&&!r&&i.complete();t.subscribe((0,zn.x)(i,g=>{r?.unsubscribe();let v=0;const I=a++;(0,dr.Xf)(n(g,I)).subscribe(r=(0,zn.x)(i,x=>i.next(e?e(g,x,I,v++):x),()=>{r=null,f()}))},()=>{c=!0,f()}))})}function _s(n){return n<=0?()=>lu.E:(0,Vi.e)((e,t)=>{let i=0;e.subscribe((0,zn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ql(...n){const e=(0,yo.yG)(n);return(0,Vi.e)((t,i)=>{(e?Mm(n,t,e):Mm(n,t)).subscribe(i)})}function gi(n,e){return(0,Vi.e)((t,i)=>{let r=0;t.subscribe((0,zn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var wn=F(5577);function Xl(n){return(0,Vi.e)((e,t)=>{let i=!1;e.subscribe((0,zn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ly(n=fD){return(0,Vi.e)((e,t)=>{let i=!1;e.subscribe((0,zn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function fD(){return new xm}function dl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,a)=>n(r,a,i)):au.y,_s(1),t?Xl(e):ly(()=>new xm))}function hl(n,e){return(0,qs.m)(e)?(0,wn.z)(n,e,1):(0,wn.z)(n,1)}var Bi=F(8505);function pa(n){return(0,Vi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,zn.x)(t,void 0,void 0,c=>{a=(0,dr.Xf)(n(c,pa(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function pD(n,e,t,i,r){return(a,c)=>{let f=t,g=e,v=0;a.subscribe((0,zn.x)(c,I=>{const x=v++;g=f?n(g,I,x):(f=!0,I),i&&c.next(g)},r&&(()=>{f&&c.next(g),c.complete()})))}}function Bd(n,e){return(0,Vi.e)(pD(n,e,arguments.length>=2,!0))}function cy(n){return n<=0?()=>lu.E:(0,Vi.e)((e,t)=>{let i=[];e.subscribe((0,zn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function R0(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,a)=>n(r,a,i)):au.y,cy(1),t?Xl(e):ly(()=>new xm))}function uy(n){return(0,ht.U)(()=>n)}function Ef(n){return(0,Vi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const qt="primary",ys=Symbol("RouteTitle");class mD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ud(n){return new mD(n)}function KA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],f=n[a];if(c.startsWith(":"))r[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Co(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!gD(n[r],e[r]))return!1;return!0}function gD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Eo(n){return Array.prototype.concat.apply([],n)}function Am(n){return n.length>0?n[n.length-1]:null}function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fl(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,hn.D)(Promise.resolve(n)):ct(n)}const _D={exact:function fy(n,e,t){if(!hu(n.segments,e.segments)||!Df(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!fy(n.children[i],e.children[i],t))return!1;return!0},subset:uu},N0={exact:function hy(n,e){return Co(n,e)},subset:function YA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gD(n[t],e[t]))},ignored:()=>!0};function km(n,e,t){return _D[t.paths](n.root,e.root,t.matrixParams)&&N0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uu(n,e,t){return Rm(n,e,e.segments,t)}function Rm(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!hu(r,t)||e.hasChildren()||!Df(r,t,i))}if(n.segments.length===t.length){if(!hu(n.segments,t)||!Df(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!uu(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(hu(n.segments,r)&&Df(n.segments,r,i)&&n.children[qt])&&Rm(n.children[qt],e,a,i)}}function Df(n,e,t){return e.every((i,r)=>N0[t](n[r].parameters,i.parameters))}class du{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return L0.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}}class Tf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ud(this.parameters)),this._parameterMap}toString(){return my(this)}}function hu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let F0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new py},providedIn:"root"}),n})();class py{parse(e){const t=new gy(e);return new du(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jd(e.root,!0)}`,i=function wD(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Pm(t)}=${Pm(r)}`).join("&"):`${Pm(t)}=${Pm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function bD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const L0=new py;function Hd(n){return n.segments.map(e=>my(e)).join("/")}function jd(n,e){if(!n.hasChildren())return Hd(n);if(e){const t=n.children[qt]?jd(n.children[qt],!1):"",i=[];return fr(n.children,(r,a)=>{a!==qt&&i.push(`${a}:${jd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function vD(n,e){let t=[];return fr(n.children,(i,r)=>{r===qt&&(t=t.concat(e(i,r)))}),fr(n.children,(i,r)=>{r!==qt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===qt?[jd(n.children[qt],!1)]:[`${r}:${jd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${Hd(n)}/${t[0]}`:`${Hd(n)}/(${t.join("//")})`}}function Om(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pm(n){return Om(n).replace(/%3B/gi,";")}function Nm(n){return Om(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sf(n){return decodeURIComponent(n)}function Jl(n){return Sf(n.replace(/\+/g,"%20"))}function my(n){return`${Nm(n.path)}${function V0(n){return Object.keys(n).map(e=>`;${Nm(e)}=${Nm(n[e])}`).join("")}(n.parameters)}`}const QA=/^[^\/()?;=#]+/;function fu(n){const e=n.match(QA);return e?e[0]:""}const CD=/^[^=?&#]+/,U0=/^[^&#]+/;class gy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[qt]=new en(e,t)),i}parseSegment(){const e=fu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Tf(Sf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=fu(this.remaining);r&&(i=r,this.capture(i))}e[Sf(t)]=Sf(i)}parseQueryParam(e){const t=function B0(n){const e=n.match(CD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function H0(n){const e=n.match(U0);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Jl(t),a=Jl(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=qt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[qt]:new en([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Fm(n){return n.segments.length>0?new en([],{[qt]:n}):n}function pu(n){const e={};for(const i of Object.keys(n.children)){const a=pu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Lm(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function ec(n){return n instanceof du}function ID(n,e,t,i,r){if(0===t.length)return zd(e.root,e.root,e.root,i,r);const a=function vy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return fr(a.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Vm(t,e,i)}(t);return a.toRoot()?zd(e.root,e.root,new en([],{}),i,r):function c(g){const v=function DD(n,e,t,i){if(n.isAbsolute)return new kf(e.root,!0,0);if(-1===i)return new kf(t,t===e.root,0);return function by(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new kf(i,!1,r-a)}(t,i+($d(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),I=v.processChildren?Nr(v.segmentGroup,v.index,a.commands):wy(v.segmentGroup,v.index,a.commands);return zd(e.root,v.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function $d(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Af(n){return"object"==typeof n&&null!=n&&n.outlets}function zd(n,e,t,i,r){let c,a={};i&&fr(i,(g,v)=>{a[v]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),c=n===e?t:yy(n,e,t);const f=Fm(pu(c));return new du(f,a,r)}function yy(n,e,t){const i={};return fr(n.children,(r,a)=>{i[a]=r===e?t:yy(r,e,t)}),new en(n.segments,i)}class Vm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$d(i[0]))throw new u.vHH(4003,!1);const r=i.find(Af);if(r&&r!==Am(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kf{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function wy(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return Nr(n,e,t);const i=function SD(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],f=t[i];if(Af(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!z0(g,v,c))return a;i+=2}else{if(!z0(g,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new en(n.segments.slice(0,i.pathIndex),{});return a.children[qt]=new en(n.segments.slice(i.pathIndex),n.children),Nr(a,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Bm(n,e,t):i.match?Nr(n,0,r):Bm(n,e,t)}function Nr(n,e,t){if(0===t.length)return new en(n.segments,{});{const i=function TD(n){return Af(n[0])?n[0].outlets:{[qt]:n}}(t),r={};return fr(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=wy(n.children[c],e,a))}),fr(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new en(n.segments,r)}}function Bm(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Af(a)){const g=xD(a.outlets);return new en(i,g)}if(0===r&&$d(t[0])){i.push(new Tf(n.segments[e].path,$0(t[0]))),r++;continue}const c=Af(a)?a.outlets[qt]:`${a}`,f=r<t.length-1?t[r+1]:null;c&&f&&$d(f)?(i.push(new Tf(c,$0(f))),r+=2):(i.push(new Tf(c,{})),r++)}return new en(i,{})}function xD(n){const e={};return fr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Bm(new en([],{}),0,t))}),e}function $0(n){const e={};return fr(n,(t,i)=>e[i]=`${t}`),e}function z0(n,e,t){return n==t.path&&Co(e,t.parameters)}class pl{constructor(e,t){this.id=e,this.url=t}}class Um extends pl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mu extends pl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hm extends pl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class G0 extends pl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kt extends pl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W0 extends pl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q0 extends pl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K0 extends pl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD extends pl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PD{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ml(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ml(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ey(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Ey(e,this._root).map(t=>t.value)}}function ml(n,e){if(n===e.value)return e;for(const t of e.children){const i=ml(n,t);if(i)return i}return null}function Ey(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Ey(n,t);if(i.length)return i.unshift(e),i}return[]}class Io{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class X0 extends Cy{constructor(e,t){super(e),this.snapshot=t,nc(this,e)}toString(){return this.snapshot.toString()}}function ND(n,e){const t=function XA(n,e){const c=new Iy([],{},{},"",{},qt,e,null,n.root,-1,{});return new tw("",new Io(c,[]))}(n,e),i=new gs([new Tf("",{})]),r=new gs({}),a=new gs({}),c=new gs({}),f=new gs(""),g=new Gd(i,r,c,f,a,qt,e,t.root);return g.snapshot=t.root,new X0(new Io(g,[]),t)}class Gd{constructor(e,t,i,r,a,c,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,ht.U)(v=>v[ys]))??ct(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Ud(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Ud(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J0(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function ew(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Iy{constructor(e,t,i,r,a,c,f,g,v,I,x,V){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.[ys],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=I,this._correctedLastPathIndex=V??I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tw extends Cy{constructor(e,t){super(t),this.url=e,nc(this,t)}toString(){return nw(this._root)}}function nc(n,e){e.value._routerState=n,e.children.forEach(t=>nc(n,t))}function nw(n){const e=n.children.length>0?` { ${n.children.map(nw).join(", ")} } `:"";return`${n.value}${e}`}function jm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Co(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Co(e.params,t.params)||n.params.next(t.params),function ZA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Co(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Co(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wd(n,e){const t=Co(n.params,e.params)&&function yD(n,e){return hu(n,e)&&n.every((t,i)=>Co(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Wd(n.parent,e.parent))}function qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function LD(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return qd(n,i,r);return qd(n,i)})}(n,e,t);return new Io(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>qd(n,f)),c}}const i=function VD(n){return new Gd(new gs(n.url),new gs(n.params),new gs(n.queryParams),new gs(n.fragment),new gs(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>qd(n,a));return new Io(i,r)}}const Dy="ngNavigationCancelingError";function iw(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=rw(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function rw(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Dy]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Ty(n){return sw(n)&&ec(n.url)}function sw(n){return n&&n[Dy]}class ow{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Kd,this.attachRef=null}}let Kd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ow,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zd=!1;let Sy=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Zd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Zd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Zd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,Zd);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new xy(t,f,r.injector);if(i&&function BD(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(c);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(c,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kd),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class xy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Gd?this.route:e===Kd?this.childContexts:this.parent.get(e,t)}}let aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[Sy],encapsulation:2}),n})();function gu(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rf(n){const e=n.children&&n.children.map(Rf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=aw),t}function vs(n){return n.outlet||qt}function zm(n,e){const t=n.filter(i=>vs(i)===e);return t.push(...n.filter(i=>vs(i)!==e)),t}function Gm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class JA{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),jm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=tc(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),fr(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=tc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=tc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=tc(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new OD(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Y0(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(jm(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),jm(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Gm(r.snapshot),g=f?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=g,c.injector=f,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Of{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _u{constructor(e,t){this.component=e,this.route=t}}function ky(n,e,t){const i=n._root;return Wm(i,e?e._root:null,t,[i.value])}function ic(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Wm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=tc(e);return n.children.forEach(c=>{(function $D(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function zD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hu(n.url,e.url)||!Co(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wd(n,e)||!Co(n.queryParams,e.queryParams);default:return!Wd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Of(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Wm(n,e,a.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new _u(f.outlet.component,c))}else c&&Pf(e,f,r),r.canActivateChecks.push(new Of(i)),Wm(n,null,a.component?f?f.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),fr(a,(c,f)=>Pf(c,t.getContext(f),r)),r}function Pf(n,e,t){const i=tc(n),r=n.value;fr(i,(a,c)=>{Pf(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new _u(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nf(n){return"function"==typeof n}function hw(n){return n instanceof xm||"EmptyError"===n?.name}const Py=Symbol("INITIAL_VALUE");function Ff(){return vn(n=>oy(n.map(e=>e.pipe(_s(1),Ql(Py)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===Py)return Py;if(!1===t||t instanceof du)return t}return!0}),gi(e=>e!==Py),_s(1)))}function fw(n){return(0,hD.z)((0,Bi.b)(e=>{if(ec(e))throw iw(0,e)}),(0,ht.U)(e=>!0===e))}const Lf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fy(n,e,t,i,r){const a=Vf(n,e,t);return a.matched?function pw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ct(r.map(c=>{const f=ic(c,n);return fl(function dw(n){return n&&Nf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ff(),fw()):ct(!0)}(i=gu(e,i),e,t).pipe((0,ht.U)(c=>!0===c?a:{...Lf})):ct(a)}function Vf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Lf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||KA)(t,n,e);if(!r)return{...Lf};const a={};fr(r.posParams,(f,g)=>{a[g]=f.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function qm(n,e,t,i,r="corrected"){if(t.length>0&&function WD(n,e,t){return t.some(i=>Bf(n,e,i)&&vs(i)!==qt)}(n,t,i)){const c=new en(e,function mw(n,e,t,i){const r={};r[qt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&vs(a)!==qt){const c=new en([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[vs(a)]=c}return r}(n,e,i,new en(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function qD(n,e,t){return t.some(i=>Bf(n,e,i))}(n,t,i)){const c=new en(n.segments,function sc(n,e,t,i,r,a){const c={};for(const f of i)if(Bf(n,t,f)&&!r[vs(f)]){const g=new en([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[vs(f)]=g}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new en(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Bf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gw(n,e,t,i){return!!(vs(n)===i||i!==qt&&Bf(e,t,n))&&("**"===n.path||Vf(e,n,t).matched)}function _w(n,e,t){return 0===e.length&&!n.children[t]}const yu=!1;class _l{constructor(e){this.segmentGroup=e||null}}class Km{constructor(e){this.urlTree=e}}function ga(n){return Vd(new _l(n))}function Zm(n){return Vd(new Km(n))}class Ly{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=qm(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,qt).pipe((0,ht.U)(a=>this.createUrlTree(pu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pa(a=>{if(a instanceof Km)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof _l?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,qt).pipe((0,ht.U)(r=>this.createUrlTree(pu(r),e.queryParams,e.fragment))).pipe(pa(r=>{throw r instanceof _l?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,yu)}createUrlTree(e,t,i){const r=Fm(e);return new du(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ht.U)(a=>new en([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,hn.D)(r).pipe(hl(a=>{const c=i.children[a],f=zm(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,ht.U)(g=>({segment:g,outlet:a})))}),Bd((a,c)=>(a[c.outlet]=c.segment,a),{}),R0())}expandSegment(e,t,i,r,a,c){return(0,hn.D)(i).pipe(hl(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,c).pipe(pa(v=>{if(v instanceof _l)return ct(null);throw v}))),dl(f=>!!f),pa((f,g)=>{if(hw(f))return _w(t,r,a)?ct(new en([],{})):ga(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,c,f){return gw(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):ga(t):ga(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zm(a):this.lineralizeSegments(i,a).pipe((0,wn.z)(c=>{const f=new en(c,{});return this.expandSegment(e,f,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:I}=Vf(t,r,a);if(!f)return ga(t);const x=this.applyRedirectCommands(g,r.redirectTo,I);return r.redirectTo.startsWith("/")?Zm(x):this.lineralizeSegments(r,x).pipe((0,wn.z)(V=>this.expandSegment(e,t,i,V.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=gu(i,e),i.loadChildren?(i._loadedRoutes?ct({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ht.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new en(r,{})))):ct(new en(r,{}))):Fy(t,i,r,e).pipe(vn(({matched:c,consumedSegments:f,remainingSegments:g})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,wn.z)(I=>{const x=I.injector??e,V=I.routes,{segmentGroup:U,slicedSegments:G}=qm(t,f,g,V),ne=new en(U.segments,U.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(x,V,ne).pipe((0,ht.U)(yt=>new en(f,yt)));if(0===V.length&&0===G.length)return ct(new en(f,{}));const ge=vs(i)===a;return this.expandSegment(x,ne,V,G,ge?qt:a,!0).pipe((0,ht.U)(lt=>new en(f.concat(lt.segments),lt.children)))})):ga(t)))}getChildConfig(e,t,i){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ny(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ct(!0):ct(r.map(c=>{const f=ic(c,n);return fl(function ek(n){return n&&Nf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ff(),fw())}(e,t,i).pipe((0,wn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Bi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function yw(n){return Vd(rw(yu,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[qt])return Vd(new u.vHH(4e3,yu));r=r.children[qt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new du(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return fr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return fr(t.children,(f,g)=>{c[g]=this.createSegmentGroup(e,f,i,r)}),new en(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,yu);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class By{}class ZD{constructor(e,t,i,r,a,c,f,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=g}recognize(){const e=qm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,qt).pipe((0,ht.U)(t=>{if(null===t)return null;const i=new Iy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Io(i,t),a=new tw(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=J0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,hn.D)(Object.keys(i.children)).pipe(hl(r=>{const a=i.children[r],c=zm(t,r);return this.processSegmentGroup(e,c,a,r)}),Bd((r,a)=>r&&a?(r.push(...a),r):null),function O0(n,e=!1){return(0,Vi.e)((t,i)=>{let r=0;t.subscribe((0,zn.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Xl(null),R0(),(0,ht.U)(r=>{if(null===r)return null;const a=Uy(r);return function bw(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,hn.D)(t).pipe(hl(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),dl(c=>!!c),pa(c=>{if(hw(c))return _w(i,r,a)?ct([]):ct(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!gw(t,i,r,a))return ct(null);let c;if("**"===t.path){const f=r.length>0?Am(r).parameters:{},g=Hy(i)+r.length;c=ct({snapshot:new Iy(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XD(t),vs(t),t.component??t._loadedComponent??null,t,qr(i),g,Ew(t),g),consumedSegments:[],remainingSegments:[]})}else c=Fy(i,t,r,e).pipe((0,ht.U)(({matched:f,consumedSegments:g,remainingSegments:v,parameters:I})=>{if(!f)return null;const x=Hy(i)+g.length;return{snapshot:new Iy(g,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XD(t),vs(t),t.component??t._loadedComponent??null,t,qr(i),x,Ew(t),x),consumedSegments:g,remainingSegments:v}}));return c.pipe(vn(f=>{if(null===f)return ct(null);const{snapshot:g,consumedSegments:v,remainingSegments:I}=f;e=t._injector??e;const x=t._loadedInjector??e,V=function YD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:G}=qm(i,v,I,V.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===G.length&&U.hasChildren())return this.processChildren(x,V,U).pipe((0,ht.U)(ge=>null===ge?null:[new Io(g,ge)]));if(0===V.length&&0===G.length)return ct([new Io(g,[])]);const ne=vs(t)===a;return this.processSegment(x,V,U,G,ne?qt:a).pipe((0,ht.U)(ge=>null===ge?null:[new Io(g,ge)]))}))}}function ww(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Uy(n){const e=[],t=new Set;for(const i of n){if(!ww(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Uy(i.children);e.push(new Io(i.value,r))}return e.filter(i=>!t.has(i))}function qr(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hy(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function XD(n){return n.data||{}}function Ew(n){return n.resolve||{}}function Tw(n){return"string"==typeof n.title||null===n.title}function Qm(n){return vn(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,ht.U)(()=>e)):ct(e)})}let Sw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===qt);return i}getResolvedTitleForRoute(t){return t.data[ys]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(xw)},providedIn:"root"}),n})(),xw=(()=>{class n extends Sw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mw{}class _a extends class iT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xm=new u.OlP("",{providedIn:"root",factory:()=>({})}),kw=new u.OlP("ROUTES");let Jm=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=fl(t.loadComponent()).pipe((0,Bi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Ef(()=>{this.componentLoaders.delete(t)})),r=new k0(i,()=>new nn.x).pipe(ay());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,I=!1;Array.isArray(f)?v=f:(g=f.create(t).injector,v=Eo(g.get(kw,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(Rf),injector:g}}),Ef(()=>{this.childrenLoaders.delete(i)})),c=new k0(a,()=>new nn.x).pipe(ay());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return fl(t()).pipe((0,wn.z)(i=>i instanceof u.YKP||Array.isArray(i)?ct(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rT{}class sT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function zy(n){throw n}function oT(n,e,t){return e.parse("/")}const aT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Hf(){const n=(0,u.f3M)(F0),e=(0,u.f3M)(Kd),t=(0,u.f3M)(Fe),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(kw,{optional:!0})??[],c=(0,u.f3M)(Xm,{optional:!0})??{},f=(0,u.f3M)(xw),g=(0,u.f3M)(Sw,{optional:!0}),v=(0,u.f3M)(rT,{optional:!0}),I=(0,u.f3M)(Mw,{optional:!0}),x=new Ui(null,n,e,t,i,r,Eo(a));return v&&(x.urlHandlingStrategy=v),I&&(x.routeReuseStrategy=I),x.titleStrategy=g??f,function Gy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let Ui=(()=>{class n{constructor(t,i,r,a,c,f,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=zy,this.malformedUriErrorHandler=oT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new sT,this.routeReuseStrategy=new _a,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Jm),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new Z0(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new AD(V)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const x=c.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function If(){return new du(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ND(this.currentUrlTree,this.rootComponentType),this.transitions=new gs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(gi(r=>0!==r.id),(0,ht.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let a=!1,c=!1;return ct(r).pipe((0,Bi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return lT(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(vn(x=>{const V=this.transitions.getValue();return i.next(new Um(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?lu.E:Promise.resolve(x)}),function Vy(n,e,t,i){return vn(r=>function vw(n,e,t,i,r){return new Ly(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ht.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Bi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function jy(n,e,t,i,r,a){return(0,wn.z)(c=>function uk(n,e,t,i,r,a,c="emptyOnly",f="legacy"){return new ZD(n,e,t,i,r,c,f,a).recognize().pipe(vn(g=>null===g?function KD(n){return new pi.y(e=>e.error(n))}(new By):ct(g)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,ht.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Bi.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(U,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new Kt(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(V)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:U,source:G,restoredState:ne,extras:ge}=f,Ge=new Um(V,this.serializeUrl(U),G,ne);i.next(Ge);const lt=ND(U,this.rootComponentType).snapshot;return ct(r={...f,targetSnapshot:lt,urlAfterRedirects:U,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),lu.E}),(0,Bi.b)(f=>{const g=new W0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,ht.U)(f=>r={...f,guards:ky(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function ik(n,e){return(0,wn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?ct({...t,guardsResult:!0}):function rk(n,e,t,i){return(0,hn.D)(n).pipe((0,wn.z)(r=>function rc(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(f=>{const g=Gm(e)??r,v=ic(f,g);return fl(function uw(n){return n&&Nf(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(dl())})).pipe(Ff()):ct(!0)}(r.component,r.route,t,e,i)),dl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,wn.z)(f=>f&&function cw(n){return"boolean"==typeof n}(f)?function sk(n,e,t,i){return(0,hn.D)(e).pipe(hl(r=>Mm(function ak(n,e){return null!==n&&e&&e(new kD(n)),ct(!0)}(r.route.parent,i),function ok(n,e){return null!==n&&e&&e(new RD(n)),ct(!0)}(r.route,i),function ck(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Ry(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>A0(()=>ct(c.guards.map(g=>{const v=Gm(c.node)??t,I=ic(g,v);return fl(function tk(n){return n&&Nf(n.canActivateChild)}(I)?I.canActivateChild(i,n):v.runInContext(()=>I(i,n))).pipe(dl())})).pipe(Ff())));return ct(a).pipe(Ff())}(n,r.path,t),function lk(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(a=>A0(()=>{const c=Gm(e)??t,f=ic(a,c);return fl(function GD(n){return n&&Nf(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(dl())}));return ct(r).pipe(Ff())}(n,r.route,t))),dl(r=>!0!==r,!0))}(i,a,n,e):ct(f)),(0,ht.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Bi.b)(f=>{if(r.guardsResult=f.guardsResult,ec(f.guardsResult))throw iw(0,f.guardsResult);const g=new q0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),gi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Qm(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,Bi.b)(g=>{const v=new K0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),vn(g=>{let v=!1;return ct(g).pipe(function Iw(n,e){return(0,wn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ct(t);let a=0;return(0,hn.D)(r).pipe(hl(c=>function JD(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Tw(r)&&(a[ys]=r.title),function eT(n,e,t,i){const r=function tT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ct({});const a={};return(0,hn.D)(r).pipe((0,wn.z)(c=>function Dw(n,e,t,i){const r=Gm(e)??i,a=ic(n,r);return fl(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(dl(),(0,Bi.b)(f=>{a[c]=f}))),cy(1),uy(a),pa(c=>hw(c)?lu.E:Vd(c)))}(a,n,e,i).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=J0(n,t).resolve,r&&Tw(r)&&(n.data[ys]=r.title),null)))}(c.route,i,n,e)),(0,Bi.b)(()=>a++),cy(1),(0,wn.z)(c=>a===r.length?ct(t):lu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Bi.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Bi.b)(g=>{const v=new MD(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),Qm(f=>{const g=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Bi.b)(x=>{v.component=x}),(0,ht.U)(()=>{})));for(const x of v.children)I.push(...g(x));return I};return oy(g(f.targetSnapshot.root)).pipe(Xl(),_s(1))}),Qm(()=>this.afterPreactivation()),(0,ht.U)(f=>{const g=function FD(n,e,t){const i=qd(n,e._root,t?t._root:void 0);return new X0(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:g}}),(0,Bi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(i=>(new JA(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Bi.b)({next(){a=!0},complete(){a=!0}}),Ef(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),pa(f=>{if(c=!0,sw(f)){Ty(f)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Hm(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(g),Ty(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lT(r.source)};this.scheduleNavigation(v,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new G0(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(f))}catch(v){r.reject(v)}}return lu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:g}=i,v=r||this.routerState.root,I=g?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),ID(v,this.currentUrlTree,t,x,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ec(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Wy(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...aT}:!1===i?{...tg}:i,ec(t))return km(this.currentUrlTree,t,r);const a=this.parseUrl(t);return km(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new mu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let f,g,v;c?(f=c.resolve,g=c.reject,v=c.promise):v=new Promise((V,U)=>{f=V,g=U});const I=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),x=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:I,targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(V=>Promise.reject(V))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Hm(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return Hf()},providedIn:"root"}),n})();function lT(n){return"imperative"!==n}let jf=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new nn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ui),u.Y36(Gd),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),ng=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nn.x,this.subscription=t.events.subscribe(a=>{a instanceof mu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,c){return!!(0!==t||i||r||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ui),u.Y36(Gd),u.Y36(Ce))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),qy=(()=>{class n{constructor(t,i,r,a,c,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=c,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof mu&&this.update()})}ngAfterContentInit(){ct(this.links.changes,this.linksWithHrefs.changes,ct(null)).pipe((0,Ld.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,hn.D)(t).pipe((0,Ld.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Rw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ui),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(jf,8),u.Y36(ng,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,jf,5),u.Suo(r,ng,5)),2&t){let a;u.iGM(a=u.CRH())&&(i.links=a),u.iGM(a=u.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class ig{}let rg=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof mu),hl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,hn.D)(r).pipe((0,Ld.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ct(null);const a=r.pipe((0,wn.z)(c=>null===c?ct(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,hn.D)([a,c]).pipe((0,Ld.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ui),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ig),u.LFG(Jm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vu=new u.OlP("");let Ow=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof PD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new PD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Qd(n,e){return{\u0275kind:n,\u0275providers:e}}function bu(n){return[{provide:kw,multi:!0,useValue:n}]}function uT(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Ui),r=n.get(Nw);1===n.get(Fw)&&i.initialNavigation(),n.get(Zy,null,u.XFs.Optional)?.setUpPreloading(),n.get(vu,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Nw=new u.OlP("",{factory:()=>new nn.x}),Fw=new u.OlP("",{providedIn:"root",factory:()=>1});const Zy=new u.OlP("");function Yy(n){return Qd(0,[{provide:Zy,useExisting:rg},{provide:ig,useExisting:n}])}const Lw=new u.OlP("ROUTER_FORROOT_GUARD"),pT=[Fe,{provide:F0,useClass:py},{provide:Ui,useFactory:Hf},Kd,{provide:Gd,useFactory:function Pw(n){return n.routerState.root},deps:[Ui]},Jm];function mT(){return new u.PXZ("Router",Ui)}let Vw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[pT,[],bu(t),{provide:Lw,useFactory:pk,deps:[[Ui,new u.FiY,new u.tp0]]},{provide:Xm,useValue:i||{}},i?.useHash?{provide:Ce,useClass:Qe}:{provide:Ce,useClass:et},{provide:vu,useFactory:()=>{const n=(0,u.f3M)(Ui),e=(0,u.f3M)(ad),t=(0,u.f3M)(Xm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ow(n,e,t)}},i?.preloadingStrategy?Yy(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:mT},i?.initialNavigation?$f(i):[],[{provide:Bw,useFactory:uT},{provide:u.tb,multi:!0,useExisting:Bw}]]}}static forChild(t){return{ngModule:n,providers:[bu(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lw,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[aw]}),n})();function pk(n){return"guarded"}function $f(n){return["disabled"===n.initialNavigation?Qd(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Ui);return()=>{e.setUpLocationChangeListener()}}},{provide:Fw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qd(2,[{provide:Fw,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Ui),f=e.get(Nw);(function r(a){e.get(Ui).events.pipe(gi(f=>f instanceof mu||f instanceof Hm||f instanceof G0),(0,ht.U)(f=>f instanceof mu||f instanceof Hm&&(0===f.code||1===f.code)&&null),gi(f=>null!==f),_s(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||f.closed?ct(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const Bw=new u.OlP("");let yT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"d-inline-block",2,"width","5px"],[1,"bottom"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Calculate and Track your Networth"),u.qZA(),u.TgZ(5,"div",4),u._uU(6," Create your profile by adding your income, assets and liabilities. Track your networth and Plan your wealth & investement management for bright future"),u._UZ(7,"br"),u.TgZ(8,"u"),u._uU(9,"Note:"),u.qZA(),u._UZ(10,"span",5),u._uU(11,"We do not provide financial advisors here, you are master of your wealth "),u.qZA()(),u._UZ(12,"div",6),u.qZA()())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),n})(),ya=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"container","mt-3"],[1,"row","m-2"],[1,"col-xs-12","col-sm-12","col-md-6","mt-2"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2)(3,"div",2),u.qZA()())}}),n})();var ac=(()=>{return(n=ac||(ac={})).USER="USER",n.ADMIN="ADMIN",ac;var n})(),Hi=F(4986),_i=F(5813);function Jd(){return(0,Vi.e)((n,e)=>{let t,i=!1;n.subscribe((0,zn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Kr(n,e=au.y){return n=n??Qy,(0,Vi.e)((t,i)=>{let r,a=!0;t.subscribe((0,zn.x)(i,c=>{const f=e(c);(a||!n(r,f))&&(a=!1,r=f,i.next(c))}))})}function Qy(n,e){return n===e}var _t,Er=F(2011),eh=(F(5881),F(3942)),Ee=F(5861),Ks=F(9681),yl=F(4859),bs=F(1877),on=F(2090),th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},va={},og=og||{},zt=th||self;function Gf(){}function Wf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ag="closure_uid_"+(1e9*Math.random()>>>0),vT=0;function bT(n,e,t){return n.call.apply(n.bind,arguments)}function jw(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ir(n,e,t){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bT:jw).apply(null,arguments)}function qf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ji(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[r].apply(i,c)}}function ba(){this.s=this.s,this.o=this.o}ba.prototype.s=!1,ba.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Hw(n){Object.prototype.hasOwnProperty.call(n,ag)&&n[ag]||(n[ag]=++vT)}(this)},ba.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ih(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function lg(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Wf(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function Dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Dr.prototype.h=function(){this.defaultPrevented=!0};var cg=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",Gf,e),zt.removeEventListener("test",Gf,e)}catch{}return n}();function Cu(n){return/^[\s\xa0]*$/.test(n)}var Xy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ug(n,e){return n<e?-1:n>e?1:0}function rh(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Do(n){return-1!=rh().indexOf(n)}function dg(n){return dg[" "](n),n}dg[" "]=Gf;var Zf,n,ev=Do("Opera"),sh=Do("Trident")||Do("MSIE"),tv=Do("Edge"),hg=tv||sh,nv=Do("Gecko")&&!(-1!=rh().toLowerCase().indexOf("webkit")&&!Do("Edge"))&&!(Do("Trident")||Do("MSIE"))&&!Do("Edge"),$w=-1!=rh().toLowerCase().indexOf("webkit")&&!Do("Edge");function zw(){var n=zt.document;return n?n.documentMode:void 0}e:{var fg="",Yf=(n=rh(),nv?/rv:([^\);]+)(\)|;)/.exec(n):tv?/Edge\/([\d\.]+)/.exec(n):sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$w?/WebKit\/(\S+)/.exec(n):ev?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yf&&(fg=Yf?Yf[1]:""),sh){var Qf=zw();if(null!=Qf&&Qf>parseFloat(fg)){Zf=String(Qf);break e}}Zf=fg}var Gw={};var qw=zt.document&&sh&&(zw()||parseInt(Zf,10))||void 0;function oh(n,e){if(Dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nv){e:{try{dg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oh.X.h.call(this)}}ji(oh,Dr);var Kw={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),mk=0;function CT(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++mk,this.ba=this.ea=!1}function mg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function gg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Zw(n){const e={};for(const t in n)e[t]=n[t];return e}const xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<xi.length;a++)t=xi[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function _g(n){this.src=n,this.g={},this.h=0}function sv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Kf(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(mg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yg(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}_g.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=yg(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new CT(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var ov="closure_lm_"+(1e6*Math.random()|0),vg={};function av(n,e,t,i,r){if(i&&i.once)return Yw(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)av(n,e[a],t,i,r);return null}return t=Zs(t),n&&n[ah]?n.N(e,t,nh(i)?!!i.capture:!!i,r):Eu(n,e,t,!1,i,r)}function Eu(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=nh(r)?!!r.capture:!!r,f=Xf(n);if(f||(n[ov]=f=new _g(n)),(t=f.add(e,t,i,c,a)).proxy)return t;if(i=function ET(){const e=gk;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)cg||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(uv(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Yw(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Yw(n,e[a],t,i,r);return null}return t=Zs(t),n&&n[ah]?n.O(e,t,nh(i)?!!i.capture:!!i,r):Eu(n,e,t,!0,i,r)}function lv(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)lv(n,e[a],t,i,r);else i=nh(i)?!!i.capture:!!i,t=Zs(t),n&&n[ah]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yg(a=n.g[e],t,i,r))&&(mg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Xf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yg(e,t,i,r)),(t=-1<n?e[n]:null)&&cv(t))}function cv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ah])sv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(uv(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Xf(e))?(sv(t,n),0==t.h&&(t.src=null,e[ov]=null)):mg(n)}}}function uv(n){return n in vg?vg[n]:vg[n]="on"+n}function gk(n,e){if(n.ba)n=!0;else{e=new oh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&cv(n),n=t.call(i,e)}return n}function Xf(n){return(n=n[ov])instanceof _g?n:null}var Jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(n){return"function"==typeof n?n:(n[Jf]||(n[Jf]=function(e){return n.handleEvent(e)}),n[Jf])}function Xi(){ba.call(this),this.i=new _g(this),this.P=this,this.I=null}function Ji(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Dr(e,n);else if(e instanceof Dr)e.target=e.target||n;else{var r=e;rv(e=new Dr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=ws(c,i,!0,e)&&r}if(r=ws(c=e.g=n,i,!0,e)&&r,r=ws(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ws(c=e.g=t[a],i,!1,e)&&r}function ws(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,g=c.ha||c.src;c.ea&&sv(n.i,c),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}ji(Xi,ba),Xi.prototype[ah]=!0,Xi.prototype.removeEventListener=function(n,e,t,i){lv(this,n,e,t,i)},Xi.prototype.M=function(){if(Xi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)mg(t[i]);delete n.g[e],n.h--}}this.I=null},Xi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Xi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Cs=zt.JSON.stringify;function To(){var n=Jw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hv,dv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new IT,n=>n.reset());class IT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DT(n){zt.setTimeout(()=>{throw n},0)}function Xw(n,e){hv||function fv(){var n=zt.Promise.resolve(void 0);hv=function(){n.then(eC)}}(),Iu||(hv(),Iu=!0),Jw.add(n,e)}var Iu=!1,Jw=new class Qw{constructor(){this.h=this.g=null}add(e,t){const i=dv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function eC(){for(var n;n=To();){try{n.h.call(n.g)}catch(t){DT(t)}var e=dv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Iu=!1}function bg(n,e){Xi.call(this),this.h=n||1,this.g=e||zt,this.j=Ir(this.lb,this),this.l=Date.now()}function wg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Cg(n,e,t){if("function"==typeof n)t&&(n=Ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function ep(n){n.g=Cg(()=>{n.g=null,n.i&&(n.i=!1,ep(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ji(bg,Xi),(_t=bg.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ji(this,"tick"),this.ca&&(wg(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){bg.X.M.call(this),wg(this),delete this.g};class TT extends ba{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ep(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lh(n){ba.call(this),this.h=n,this.g={}}ji(lh,ba);var pv=[];function Eg(n,e,t,i){Array.isArray(t)||(t&&(pv[0]=t.toString()),t=pv);for(var r=0;r<t.length;r++){var a=av(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function tp(n){gg(n.g,function(e,t){this.g.hasOwnProperty(t)&&cv(e)},n),n.g={}}function np(){this.g=!0}function Du(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return Cs(t)}catch{return e}}(n,t)+(i?" "+i:"")})}lh.prototype.M=function(){lh.X.M.call(this),tp(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},np.prototype.Aa=function(){this.g=!1},np.prototype.info=function(){};var lc={},mv=null;function Ig(){return mv=mv||new Xi}function sC(n){Dr.call(this,lc.Pa,n)}function ip(n){const e=Ig();Ji(e,new sC(e))}function oC(n,e){Dr.call(this,lc.STAT_EVENT,n),this.stat=e}function Fr(n){const e=Ig();Ji(e,new oC(e,n))}function aC(n,e){Dr.call(this,lc.Qa,n),this.size=e}function rp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}lc.Pa="serverreachability",ji(sC,Dr),lc.STAT_EVENT="statevent",ji(oC,Dr),lc.Qa="timingevent",ji(aC,Dr);var Dg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},lC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function gv(){}function uC(){}gv.prototype.h=null;var vv,sp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _v(){Dr.call(this,"d")}function yv(){Dr.call(this,"c")}function Tg(){}function op(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new lh(this),this.O=dC,this.T=new bg(n=hg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}ji(_v,Dr),ji(yv,Dr),ji(Tg,gv),Tg.prototype.g=function(){return new XMLHttpRequest},Tg.prototype.i=function(){return{}},vv=new Tg;var dC=45e3,Sg={},ap={};function xg(n,e,t){n.K=1,n.v=Rg(bt(e)),n.s=t,n.P=!0,wv(n,null)}function wv(n,e){n.F=Date.now(),ch(n),n.A=bt(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),vC(t.i,"t",i),n.C=0,t=n.l.H,n.h=new bv,n.g=Lv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new TT(Ir(n.La,n,n.g),n.N)),Eg(n.S,n.g,"readystatechange",n.ib),e=n.H?Zw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ip(),function tC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var I=v[0];v=v[1];var x=I.split("_");c=2<=x.length&&"type"==x[1]?c+(I+"=")+v+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Cv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Ev(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=hC(n,t),r==ap){4==e&&(n.o=4,Fr(14),i=!1),Du(n.j,n.m,null,"[Incomplete Response]");break}if(r==Sg){n.o=4,Fr(15),Du(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Du(n.j,n.m,r,null),cc(n,r)}Cv(n)&&r!=ap&&r!=Sg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nv(e),e.K=!0,Fr(11))):(Du(n.j,n.m,t,"[Invalid Chunked Response]"),Tu(n),lp(n))}function hC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?ap:(t=Number(e.substring(t,i)),isNaN(t)?Sg:(i+=1)+t>e.length?ap:(e=e.substr(i,t),n.C=i+t,e))}function ch(n){n.V=Date.now()+n.O,Mg(n,n.O)}function Mg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rp(Ir(n.gb,n),e)}function wa(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function lp(n){0==n.l.G||n.I||kC(n.l,n)}function Tu(n){wa(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wg(n.T),tp(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function cc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Og(t.h,n)))if(!n.J&&Og(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;yp(t),fc(t)}_p(t),Fr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=rp(Ir(t.cb,t),6e3));if(1>=Sv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xu(t,11)}else if((n.J||t.g==n)&&yp(t),!Cu(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const I=v[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const x=v[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const V=v[5];null!=V&&"number"==typeof V&&0<V&&(t.J=i=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const G=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=i.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Pg(a,a.h),a.h=null))}if(i.D){const ne=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.za=ne,kn(i.F,i.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=OC(i,i.H?i.ka:null,i.V),c.J){wC(i.h,c);var f=c,g=i.J;g&&f.setTimeout(g),f.B&&(wa(f),ch(f)),i.g=c}else AC(i);0<t.i.length&&mp(t)}else"stop"!=v[0]&&"close"!=v[0]||xu(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?xu(t,7):Rv(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}ip()}catch{}}function ST(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Iv(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function _k(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wf(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(_t=op.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const e=this.L;e&&3==bl(n)?e.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const I=bl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||hg||this.g&&(this.h.h||this.g.fa()||TC(this.g)))){this.I||4!=I||7==e||ip(),wa(this);var t=this.g.aa();this.Y=t;t:if(Cv(this)){var i=TC(this.g);n="";var r=i.length,a=4==bl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Tu(this),lp(this);var c="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function nC(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cu(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Fr(12),Tu(this),lp(this);break e}Du(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cc(this,t)}this.P?(Ev(this,I,c),hg&&this.i&&3==I&&(Eg(this.S,this.T,"tick",this.hb),this.T.start())):(Du(this.j,this.m,c,null),cc(this,c)),4==I&&Tu(this),this.i&&!this.I&&(4==I?kC(this.l,this):(this.i=!1,ch(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),Tu(this),lp(this)}}}catch{}},_t.hb=function(){if(this.g){var n=bl(this.g),e=this.g.fa();this.C<e.length&&(wa(this),Ev(this,n,e),this.i&&4!=n&&ch(this))}},_t.cancel=function(){this.I=!0,Tu(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function iC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ip(),Fr(17)),Tu(this),this.o=2,lp(this)):Mg(this,this.V-n)};var Dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof uh){this.h=void 0!==e?e:n.h,Ag(this,n.j),this.s=n.s,this.g=n.g,kg(this,n.m),this.l=n.l,e=n.i;var t=new dh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pC(this,t),this.o=n.o}else n&&(t=String(n).match(Dv))?(this.h=!!e,Ag(this,t[1]||"",!0),this.s=uc(t[2]||""),this.g=uc(t[3]||"",!0),kg(this,t[4]),this.l=uc(t[5]||"",!0),pC(this,t[6]||"",!0),this.o=uc(t[7]||"")):(this.h=!!e,this.i=new dh(null,this.h))}function bt(n){return new uh(n)}function Ag(n,e,t){n.j=t?uc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pC(n,e,t){e instanceof dh?(n.i=e,function cp(n,e){e&&!n.j&&(vl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Tv(this,i),vC(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dc(e,MT)),n.i=new dh(e,n.h))}function kn(n,e,t){n.i.set(e,t)}function Rg(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,yi),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yi(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}uh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dc(e,xT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dc(e,xT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dc(t,"/"==t.charAt(0)?gC:mC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dc(t,_C)),n.join("")};var xT=/[#\/\?@]/g,mC=/[#\?:]/g,gC=/[#\?]/g,MT=/[#\?@]/g,_C=/#/g;function dh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vl(n){n.g||(n.g=new Map,n.h=0,n.i&&function fC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Tv(n,e){vl(n),e=hh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yC(n,e){return vl(n),e=hh(n,e),n.g.has(e)}function vC(n,e,t){Tv(n,e),0<t.length&&(n.i=null,n.g.set(hh(n,e),ih(t)),n.h+=t.length)}function hh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bC(n){this.l=n||kT,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=dh.prototype).add=function(n,e){vl(this),this.i=null,n=hh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){vl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},_t.oa=function(){vl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},_t.W=function(n){vl(this);let e=[];if("string"==typeof n)yC(this,n)&&(e=e.concat(this.g.get(hh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return vl(this),this.i=null,yC(this,n=hh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var kT=10;function up(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Sv(n){return n.h?1:n.g?n.g.size:0}function Og(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Pg(n,e){n.g?n.g.add(e):n.h=e}function wC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fh(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ih(n.i)}function Su(){}function RT(){this.g=new Su}function OT(n,e,t){const i=t||"";try{ST(n,function(r,a){let c=r;nh(r)&&(c=Cs(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function dp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ph(n){this.l=n.ac||null,this.j=n.jb||!1}function hp(n,e){Xi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bC.prototype.cancel=function(){if(this.i=fh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Su.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},Su.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},ji(ph,gv),ph.prototype.g=function(){return new hp(this.l,this.j)},ph.prototype.i=function(n){return function(){return n}}({}),ji(hp,Xi);var xv=0;function Mv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pp(n)}function pp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=hp.prototype).open=function(n,e){if(this.readyState!=xv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pp(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=xv},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fp(this):pp(this),3==this.readyState&&Mv(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,fp(this))},_t.Ua=function(n){this.g&&(this.response=n,fp(this))},_t.ga=function(){this.g&&fp(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yk=zt.JSON.parse;function Ii(n){Xi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NT,this.K=this.L=!1}ji(Ii,Xi);var NT="",vk=/^https?$/i,CC=["POST","PUT"];function EC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,IC(n),hc(n)}function IC(n){n.D||(n.D=!0,Ji(n,"complete"),Ji(n,"error"))}function Av(n){if(n.h&&typeof og<"u"&&(!n.C[1]||4!=bl(n)||2!=n.aa()))if(n.v&&4==bl(n))Cg(n.Ha,0,n);else if(Ji(n,"readystatechange"),4==bl(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Dv)[1]||null;if(!r&&zt.self&&zt.self.location){var a=zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!vk.test(r?r.toLowerCase():"")}t=i}if(t)Ji(n,"complete"),Ji(n,"success");else{n.m=6;try{var c=2<bl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",IC(n)}}finally{hc(n)}}}function hc(n,e){if(n.g){DC(n);const t=n.g,i=n.C[0]?Gf:null;n.g=null,n.C=null,e||Ji(n,"ready");try{t.onreadystatechange=i}catch{}}}function DC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function bl(n){return n.g?n.g.readyState:0}function TC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SC(n){let e="";return gg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function kv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=SC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function mh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xC(n){this.Ca=0,this.i=[],this.j=new np,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=mh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=mh("baseRetryDelayMs",5e3,n),this.bb=mh("retryDelaySeedMs",1e4,n),this.$a=mh("forwardChannelMaxRetries",2,n),this.ta=mh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bC(n&&n.concurrentRequestLimit),this.Fa=new RT,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rv(n){if(MC(n),3==n.G){var e=n.U++,t=bt(n.F);kn(t,"SID",n.I),kn(t,"RID",e),kn(t,"TYPE","terminate"),gp(n,t),(e=new op(n,n.j,e,void 0)).K=2,e.v=Rg(bt(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Lv(e.l,null),e.g.da(e.v)),e.F=Date.now(),ch(e)}Fg(n)}function fc(n){n.g&&(Nv(n),n.g.cancel(),n.g=null)}function MC(n){fc(n),n.u&&(zt.clearTimeout(n.u),n.u=null),yp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function mp(n){up(n.h)||n.m||(n.m=!0,Xw(n.Ja,n),n.C=0)}function Ov(n,e){var t;t=e?e.m:n.U++;const i=bt(n.F);kn(i,"SID",n.I),kn(i,"RID",t),kn(i,"AID",n.T),gp(n,i),n.o&&n.s&&kv(i,n.o,n.s),t=new op(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Pv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Pg(n.h,t),xg(t,i,e)}function gp(n,e){n.ia&&gg(n.ia,function(t,i){kn(e,i,t)}),n.l&&ST({},function(t,i){kn(e,i,t)})}function Pv(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Ir(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const I=r[g].g;if(v-=a,0>v)a=Math.max(0,r[g].h-100),f=!1;else try{OT(I,c,"req"+v+"_")}catch{i&&i(I)}}if(f){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function AC(n){n.g||n.u||(n.Z=1,Xw(n.Ia,n),n.A=0)}function _p(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=rp(Ir(n.Ia,n),RC(n,n.A)),n.A++,0))}function Nv(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function Fv(n){n.g=new op(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=bt(n.sa);kn(e,"RID","rpc"),kn(e,"SID",n.I),kn(e,"CI",n.L?"0":"1"),kn(e,"AID",n.T),kn(e,"TYPE","xmlhttp"),gp(n,e),n.o&&n.s&&kv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Rg(bt(e)),t.s=null,t.P=!0,wv(t,n)}function yp(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function kC(n,e){var t=null;if(n.g==e){yp(n),Nv(n),n.g=null;var i=2}else{if(!Og(n.h,e))return;t=e.D,wC(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ji(i=Ig(),new aC(i,t)),mp(n)}else AC(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function FT(n,e){return!(Sv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=rp(Ir(n.Ja,n,e),RC(n,n.C)),n.C++,0)))}(n,e)||2==i&&_p(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:xu(n,5);break;case 4:xu(n,10);break;case 3:xu(n,6);break;default:xu(n,2)}}function RC(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function xu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Ir(n.kb,n);t||(t=new uh("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||Ag(t,"https"),Rg(t)),function PT(n,e){const t=new np;if(zt.Image){const i=new Image;i.onload=qf(dp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=qf(dp,t,i,"TestLoadImage: error",!1,e),i.onabort=qf(dp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=qf(dp,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fr(2);n.G=0,n.l&&n.l.va(e),Fg(n),MC(n)}function Fg(n){if(n.G=0,n.la=[],n.l){const e=fh(n.h);(0!=e.length||0!=n.i.length)&&(lg(n.la,e),lg(n.la,n.i),n.h.i.length=0,ih(n.i),n.i.length=0),n.l.ua()}}function OC(n,e,t){var i=t instanceof uh?bt(t):new uh(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),kg(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new uh(null,void 0);i&&Ag(a,i),e&&(a.g=e),r&&kg(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&kn(i,t,e),kn(i,"VER",n.ma),gp(n,i),i}function Lv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ii(t&&n.Da&&!n.ra?new ph({jb:!0}):n.ra)).Ka(n.H),e}function PC(){}function Lg(){if(sh&&!(10<=Number(qw)))throw Error("Environmental error: no available transport.")}function Es(n,e){Xi.call(this),this.g=new xC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Cu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gh(this)}function NC(n){_v.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FC(){yv.call(this),this.status=1}function gh(n){this.g=n}(_t=Ii.prototype).Ka=function(n){this.L=n},_t.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vv.g(),this.C=function cC(n){return n.h||(n.h=n.i())}(this.u?this.u:vv),this.g.onreadystatechange=Ir(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void EC(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=Kf(CC,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{DC(this),0<this.B&&((this.K=function Ng(n){return sh&&function Ww(){return function Jy(n){var e=Gw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Xy(String(Zf)).split("."),t=Xy("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=ug(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||ug(0==r[2].length,0==a[2].length)||ug(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.qa,this)):this.A=Cg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){EC(this,a)}},_t.qa=function(){typeof og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ji(this,"complete"),Ji(this,"abort"),hc(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hc(this,!0)),Ii.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?Av(this):this.fb())},_t.fb=function(){Av(this)},_t.aa=function(){try{return 2<bl(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yk(e)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=xC.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new op(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Zw(a),rv(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pv(this,r,e),kn(t=bt(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),gp(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(SC(a)))+"&"+e:this.o&&kv(t,this.o,a)),Pg(this.h,r),this.Ya&&kn(t,"TYPE","init"),this.O?(kn(t,"$req",e),kn(t,"SID","null"),r.Z=!0,xg(r,t,null)):xg(r,t,e),this.G=2}}else 3==this.G&&(n?Ov(this,n):0==this.i.length||up(this.h)||Ov(this))},_t.Ia=function(){if(this.u=null,Fv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=rp(Ir(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Fr(10),fc(this),Fv(this))},_t.cb=function(){null!=this.v&&(this.v=null,fc(this),_p(this),Fr(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Fr(2)):(this.j.info("Failed to ping google.com"),Fr(1))},(_t=PC.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},Lg.prototype.g=function(n,e){return new Es(n,e)},ji(Es,Xi),Es.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Fr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=OC(n,null,n.V),mp(n)},Es.prototype.close=function(){Rv(this.g)},Es.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Cs(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&mp(e)},Es.prototype.M=function(){this.g.l=null,delete this.j,Rv(this.g),delete this.g,Es.X.M.call(this)},ji(NC,_v),ji(FC,yv),ji(gh,PC),gh.prototype.xa=function(){Ji(this.g,"a")},gh.prototype.wa=function(n){Ji(this.g,new NC(n))},gh.prototype.va=function(n){Ji(this.g,new FC)},gh.prototype.ua=function(){Ji(this.g,"b")},Lg.prototype.createWebChannel=Lg.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,Dg.NO_ERROR=0,Dg.TIMEOUT=8,Dg.HTTP_ERROR=6,lC.COMPLETE="complete",uC.EventType=sp,sp.OPEN="a",sp.CLOSE="b",sp.ERROR="c",sp.MESSAGE="d",Xi.prototype.listen=Xi.prototype.N,Ii.prototype.listenOnce=Ii.prototype.O,Ii.prototype.getLastError=Ii.prototype.Oa,Ii.prototype.getLastErrorCode=Ii.prototype.Ea,Ii.prototype.getStatus=Ii.prototype.aa,Ii.prototype.getResponseJson=Ii.prototype.Sa,Ii.prototype.getResponseText=Ii.prototype.fa,Ii.prototype.send=Ii.prototype.da,Ii.prototype.setWithCredentials=Ii.prototype.Ka;var LT=va.createWebChannelTransport=function(){return new Lg},VT=va.getStatEventTarget=function(){return Ig()},Vg=va.ErrorCode=Dg,LC=va.EventType=lC,BT=va.Event=lc,VC=va.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},BC=va.FetchXmlHttpFactory=ph,Bg=va.WebChannel=uC,UT=va.XhrIo=Ii;const UC="@firebase/firestore";class Mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");let pc="9.14.0";const wl=new bs.Yd("@firebase/firestore");function vp(){return wl.logLevel}function je(n,...e){if(wl.logLevel<=bs.in.DEBUG){const t=e.map(Ug);wl.debug(`Firestore (${pc}): ${n}`,...t)}}function ci(n,...e){if(wl.logLevel<=bs.in.ERROR){const t=e.map(Ug);wl.error(`Firestore (${pc}): ${n}`,...t)}}function Mu(n,...e){if(wl.logLevel<=bs.in.WARN){const t=e.map(Ug);wl.warn(`Firestore (${pc}): ${n}`,...t)}}function Ug(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function At(n,e){n||at()}function Je(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}}class HC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vv{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new Hg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Mi(e)}}class jC{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $C{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new jC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.A=t.token,new Bv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class GC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=zT(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Gt(n,e){return n<e?-1:n>e?1:0}function Au(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function GT(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Kn(0,0))}static max(){return new Ft(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bp{constructor(e,t,i){void 0===t?t=0:t>e.length&&at(),void 0===i?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===bp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends bp{construct(e,t,i){return new fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends bp{construct(e,t,i){return new vi(e,t,i)}static isValidIdentifier(e){return wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ve(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Ve(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ve(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(c=!c,r++):"."!==f||c?(i+=f,r++):(a(),r++)}if(a(),c)throw new Ve(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(fn.fromString(e))}static fromName(e){return new Ye(fn.fromString(e).popFirst(5))}static empty(){return new Ye(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new fn(e.slice()))}}class jg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function $g(n){return n.fields.find(e=>2===e.kind)}function ku(n){return n.fields.filter(e=>2!==e.kind)}jg.UNKNOWN_ID=-1;class zg{constructor(e,t){this.fieldPath=e,this.kind=t}}class wp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new wp(0,Is.min())}}function WC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ft.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new Is(r,Ye.empty(),e)}function qC(n){return new Is(n.readTime,n.key,-1)}class Is{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Is(Ft.min(),Ye.empty(),-1)}static max(){return new Is(Ft.max(),Ye.empty(),-1)}}function Ru(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const Uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cl(n){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Ee.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==Uv)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Gg.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let r=0,a=0,c=!1;e.forEach(f=>{++r,f.next(()=>{++a,c&&a===r&&t()},g=>i(g))}),c=!0,a===r&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(r=>r?he.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new he((i,r)=>{const a=e.length,c=new Array(a);let f=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(I=>{c[v]=I,++f,f===a&&i(c)},I=>r(I))}})}static doWhile(e,t){return new he((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Cp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new $i,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new _h(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Pu(i.target.error);this.P.reject(new _h(e,r))}}static open(e,t,i,r){try{return new Cp(t,e.transaction(r,i))}catch(a){throw new _h(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KT(t)}}class So{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===So.D((0,on.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Ou(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,on.hl)())return!1;if(So.N())return!0;const e=(0,on.z$)(),t=So.D(e),i=0<t&&t<10,r=So.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new _h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;r("VersionError"===f.name?new Ve(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ve(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new _h(e,f))},a.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const g=Cp.open(a.db,e,c?"readonly":"readwrite",i),v=r(g).next(I=>(g.V(),I)).catch(I=>(g.abort(I),he.reject(I))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,I="FirebaseError"!==v.name&&f<3;if(je("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),a.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ck{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Ou(this.U.delete())}}class _h extends Ve{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mc(n){return"IndexedDbTransactionError"===n.name}class KT{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ou(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Ou(this.store.add(e))}get(e){return Ou(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Ou(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Ou(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new he((a,c)=>{r.onerror=f=>{c(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new he((i,r)=>{t.onerror=a=>{const c=Pu(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():i()}):i()}})}H(e,t){const i=[];return new he((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void r();const g=new Ck(f),v=t(f.primaryKey,f.value,g);if(v instanceof he){const I=v.catch(x=>(g.done(),he.reject(x)));i.push(I)}g.isDone?r():null===g.G?f.continue():f.continue(g.G)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ou(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Pu(i.target.error);t(r)}})}let KC=!1;function Pu(n){const e=So.D((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KC||(KC=!0,setTimeout(()=>{throw i},0)),i}}return n}class ZT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){mc(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Cl(i)}yield t.nt(6e4)}))}}class jv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return he.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(f=>{r-=f,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(f=>(je("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=qC(a);Ru(c,i)>0&&(i=c)}),new Is(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ui{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ZC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ui.at=-1;class bi{constructor(e,t){this.comparator=e,this.root=t||pr.EMPTY}insert(e,t){return new bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wg(this.root,e,this.comparator,!0)}}class Wg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??pr.RED,this.left=r??pr.EMPTY,this.right=a??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new pr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1,pr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,i,r){return this}insert(n,e,t){return new pr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ep(this.data.getIterator())}getIteratorFrom(e){return new Ep(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class Ep{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(e){this.fields=e,e.sort(vi.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new Cn(vi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ai(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const $v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(n){if(At(!!n),"string"==typeof n){let e=0;const t=$v.exec(n);if(At(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nu(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function QC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qg(n){const e=n.mapValue.fields.__previous_value__;return QC(e)?qg(e):e}function Fu(n){const e=El(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class XC{constructor(e,t,i,r,a,c,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}function Lu(n){return null==n}function Ip(n){return 0===n&&1/n==-1/0}function JC(n){return"number"==typeof n&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kg={nullValue:"NULL_VALUE"};function _c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QC(n)?4:tE(n)?9007199254740991:10:at()}function Ys(n,e){if(n===e)return!0;const t=_c(n);if(t!==_c(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=El(i.timestampValue),c=El(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Nu(n.bytesValue).isEqual(Nu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=wi(i.doubleValue),c=wi(r.doubleValue);return a===c?Ip(a)===Ip(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Au(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(ZC(a)!==ZC(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Ys(a[f],c[f])))return!1;return!0}(n,e);default:return at()}var r}function bh(n,e){return void 0!==(n.values||[]).find(t=>Ys(t,e))}function Il(n,e){if(n===e)return 0;const t=_c(n),i=_c(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=wi(r.integerValue||r.doubleValue),f=wi(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return zv(n.timestampValue,e.timestampValue);case 4:return zv(Fu(n),Fu(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=Nu(r),f=Nu(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),f=a.split("/");for(let g=0;g<c.length&&g<f.length;g++){const v=Gt(c[g],f[g]);if(0!==v)return v}return Gt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Gt(wi(r.latitude),wi(a.latitude));return 0!==c?c:Gt(wi(r.longitude),wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],f=a.values||[];for(let g=0;g<c.length&&g<f.length;++g){const v=Il(c[g],f[g]);if(v)return v}return Gt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===gc.mapValue&&a===gc.mapValue)return 0;if(r===gc.mapValue)return 1;if(a===gc.mapValue)return-1;const c=r.fields||{},f=Object.keys(c),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let I=0;I<f.length&&I<v.length;++I){const x=Gt(f[I],v[I]);if(0!==x)return x;const V=Il(c[f[I]],g[v[I]]);if(0!==V)return V}return Gt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw at()}}function zv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=El(n),i=El(e),r=Gt(t.seconds,i.seconds);return 0!==r?r:Gt(t.nanos,i.nanos)}function Vu(n){return Gv(n)}function Gv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=El(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nu(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=Gv(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const f of r)c?c=!1:a+=",",a+=`${f}:${Gv(i.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function yc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zg(n){return!!n&&"integerValue"in n}function Dp(n){return!!n&&"arrayValue"in n}function Wv(n){return!!n&&"nullValue"in n}function eE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function er(n){return!!n&&"mapValue"in n}function Ia(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ia(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ia(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YT(n){return"nullValue"in n?Kg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yc(Ea.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function Ek(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yc(Ea.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gc:at()}function QT(n,e){const t=Il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qv(n,e){const t=Il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!er(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(t)}setAll(e){let t=vi.emptyPath(),i={},r=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}c?i[f.lastSegment()]=Ia(c):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());er(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];er(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ca(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new tr(Ia(this.value))}}function wh(n){const e=[];return Ca(n.fields,(t,i)=>{const r=new vi([t]);if(er(i)){const a=wh(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new Ds(e)}class Bn{constructor(e,t,i,r,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,Ft.min(),Ft.min(),tr.empty(),0)}static newFoundDocument(e,t,i){return new Bn(e,1,t,Ft.min(),i,0)}static newNoDocument(e,t){return new Bn(e,2,t,Ft.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Ft.min(),tr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kv{constructor(e,t=null,i=[],r=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=f,this.ht=null}}function nE(n,e=null,t=[],i=[],r=null,a=null,c=null){return new Kv(n,e,t,i,r,a,c)}function vc(n){const e=Je(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Vu(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vu(i)).join(",")),e.ht=t}return e.ht}function Tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!eS(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ys(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aE(n.startAt,e.startAt)&&aE(n.endAt,e.endAt)}function Yg(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ch(n,e){return n.filters.filter(t=>t instanceof ki&&t.field.isEqual(e))}function Zv(n,e,t){let i=Kg,r=!0;for(const a of Ch(n,e)){let c=Kg,f=!0;switch(a.op){case"<":case"<=":c=YT(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=Kg}QT({value:i,inclusive:r},{value:c,inclusive:f})<0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];QT({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Yv(n,e,t){let i=gc,r=!0;for(const a of Ch(n,e)){let c=gc,f=!0;switch(a.op){case">=":case">":c=Ek(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=gc}qv({value:i,inclusive:r},{value:c,inclusive:f})>0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];qv({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class ki extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new Qv(e,t,i):"array-contains"===t?new sE(e,i):"in"===t?new Eh(e,i):"not-in"===t?new JT(e,i):"array-contains-any"===t?new oE(e,i):new ki(e,t,i)}static lt(e,t,i){return"in"===t?new Ik(e,i):new iE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Il(t,this.value)):null!==t&&_c(this.value)===_c(t)&&this.ft(Il(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Qv extends ki{constructor(e,t,i){super(e,t,i),this.key=Ye.fromName(i.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.ft(t)}}class Ik extends ki{constructor(e,t){super(e,"in",t),this.keys=rE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iE extends ki{constructor(e,t){super(e,"not-in",t),this.keys=rE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class sE extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dp(t)&&bh(t.arrayValue,this.value)}}class Eh extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bh(this.value.arrayValue,t)}}class JT extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bh(this.value.arrayValue,t)}}class oE extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bh(this.value.arrayValue,i))}}class Da{constructor(e,t){this.position=e,this.inclusive=t}}class Sp{constructor(e,t="asc"){this.field=e,this.dir=t}}function eS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):Il(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function aE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}class Dl{constructor(e,t=null,i=[],r=[],a=null,c="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=g,this._t=null,this.wt=null}}function lE(n,e,t,i,r,a,c,f){return new Dl(n,e,t,i,r,a,c,f)}function Bu(n){return new Dl(n)}function Xv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qg(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Xg(n){return null!==n.collectionGroup}function Ih(n){const e=Je(n);if(null===e._t){e._t=[];const t=Qg(e),i=Jv(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Sp(t)),e._t.push(new Sp(vi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Sp(vi.keyField(),a))}}}return e._t}function Lr(n){const e=Je(n);if(!e.wt)if("F"===e.limitType)e.wt=nE(e.path,e.collectionGroup,Ih(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ih(e))t.push(new Sp(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Da(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Da(e.startAt.position,e.startAt.inclusive):null;e.wt=nE(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function xp(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mp(n,e){return Tp(Lr(n),Lr(e))&&n.limitType===e.limitType}function eb(n){return`${vc(Lr(n))}|lt:${n.limitType}`}function Jg(n){return`Query(target=${function XT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Vu(i.value)}`;var i}).join(", ")}]`),Lu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vu(t)).join(",")),`Target(${e})`}(Lr(n))}; limitType=${n.limitType})`}function e_(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ye.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const f=tS(r,a,c);return r.inclusive?f<=0:f<0}(t.startAt,Ih(t),i)||t.endAt&&!function(r,a,c){const f=tS(r,a,c);return r.inclusive?f>=0:f>0}(t.endAt,Ih(t),i)));var t,i}function tb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cE(n){return(e,t)=>{let i=!1;for(const r of Ih(n)){const a=nS(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function nS(n,e,t){const i=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(r,a,c){const f=a.data.field(r),g=c.data.field(r);return null!==f&&null!==g?Il(f,g):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function iS(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function nb(n){return{integerValue:""+n}}function rS(n,e){return JC(e)?nb(e):iS(n,e)}class ib{constructor(){this._=void 0}}function Dk(n,e,t){return n instanceof Ap?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Dh?oS(n,e):n instanceof Ta?aS(n,e):function(i,r){const a=sS(i,r),c=kp(a)+kp(i.yt);return Zg(a)&&Zg(i.yt)?nb(c):iS(i.It,c)}(n,e)}function Tk(n,e,t){return n instanceof Dh?oS(n,e):n instanceof Ta?aS(n,e):t}function sS(n,e){return n instanceof Uu?Zg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ap extends ib{}class Dh extends ib{constructor(e){super(),this.elements=e}}function oS(n,e){const t=rb(e);for(const i of n.elements)t.some(r=>Ys(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ta extends ib{constructor(e){super(),this.elements=e}}function aS(n,e){let t=rb(e);for(const i of n.elements)t=t.filter(r=>!Ys(r,i));return{arrayValue:{values:t}}}class Uu extends ib{constructor(e,t){super(),this.It=e,this.yt=t}}function kp(n){return wi(n.integerValue||n.doubleValue)}function rb(n){return Dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Th{constructor(e,t){this.field=e,this.transform=t}}class sb{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rp{}function lS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new xh(n.key,Zn.none()):new Sh(n.key,n.data,Zn.none());{const t=n.data,i=tr.empty();let r=new Cn(vi.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new bc(n.key,i,new Ds(r.toArray()),Zn.none())}}function cS(n,e,t){n instanceof Sh?function(i,r,a){const c=i.value.clone(),f=hS(i.fieldTransforms,r,a.transformResults);c.setAll(f),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof bc?function(i,r,a){if(!t_(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=hS(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(dS(i)),f.setAll(c),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Op(n,e,t,i){return n instanceof Sh?function(r,a,c,f){if(!t_(r.precondition,a))return c;const g=r.value.clone(),v=uE(r.fieldTransforms,f,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof bc?function(r,a,c,f){if(!t_(r.precondition,a))return c;const g=uE(r.fieldTransforms,f,a),v=a.data;return v.setAll(dS(r)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(c=t,t_(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function uS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=sS(i.transform,r||null);null!=a&&(null===t&&(t=tr.empty()),t.set(i.field,a))}return t||null}function Pp(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Au(t,i,(r,a)=>function Sk(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Dh&&i instanceof Dh||t instanceof Ta&&i instanceof Ta?Au(t.elements,i.elements,Ys):t instanceof Uu&&i instanceof Uu?Ys(t.yt,i.yt):t instanceof Ap&&i instanceof Ap);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Sh extends Rp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bc extends Rp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hS(n,e,t){const i=new Map;At(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,f=e.data.field(a.field);i.set(a.field,Tk(c,f,t[r]))}return i}function uE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,Dk(a,c,e))}return i}class xh extends Rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends Rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xk{constructor(e){this.count=e}}var Ri,cn;function ab(n){switch(n){default:return at();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function fS(n){if(void 0===n)return ci("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Ri.OK:return _e.OK;case Ri.CANCELLED:return _e.CANCELLED;case Ri.UNKNOWN:return _e.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return _e.INTERNAL;case Ri.UNAVAILABLE:return _e.UNAVAILABLE;case Ri.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Ri.NOT_FOUND:return _e.NOT_FOUND;case Ri.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Ri.ABORTED:return _e.ABORTED;case Ri.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Ri.DATA_LOSS:return _e.DATA_LOSS;default:return at()}}(cn=Ri||(Ri={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class nr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return yh(this.inner)}size(){return this.innerSize}}const pS=new bi(Ye.comparator);function Tr(){return pS}const dE=new bi(Ye.comparator);function Sr(...n){let e=dE;for(const t of n)e=e.insert(t.key,t);return e}function hE(n){let e=dE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qs(){return Np()}function fE(){return Np()}function Np(){return new nr(n=>n.toString(),(n,e)=>n.isEqual(e))}const lb=new bi(Ye.comparator),pE=new Cn(Ye.comparator);function Zt(...n){let e=pE;for(const t of n)e=e.add(t);return e}const mS=new Cn(Gt);function Fp(){return mS}class Mh{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Lp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mh(Ft.min(),r,Fp(),Tr(),Zt())}}class Lp{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lp(i,t,Zt(),Zt(),Zt())}}class Vp{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class mE{constructor(e,t){this.targetId=e,this.At=t}}class n_{constructor(e,t,i=Ai.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Tl{constructor(){this.Rt=0,this.bt=Sa(),this.Pt=Ai.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Zt(),t=Zt(),i=Zt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new Lp(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=Sa()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class gE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Tr(),this.qt=i_(),this.Kt=new Cn(Gt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(Yg(a))if(0===i){const c=new Ye(a.path);this.jt(t,c,Bn.newNoDocument(c,Ft.min()))}else At(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&Yg(f.target)){const g=new Ye(f.target.path);null!==this.Ut.get(g)||this.ee(c,g)||this.jt(c,g,Bn.newNoDocument(g,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let i=Zt();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const r=new Mh(e,t,this.Kt,this.Ut,i);return this.Ut=Tr(),this.qt=i_(),this.Kt=new Cn(Gt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Tl,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Cn(Gt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Tl),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function i_(){return new bi(Ye.comparator)}function Sa(){return new bi(Ye.comparator)}const gS={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _S{constructor(e,t){this.databaseId=e,this.gt=t}}function Bp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(n,e){return n.gt?e.toBase64():e.toUint8Array()}function yS(n,e){return Bp(n,e.toTimestamp())}function zi(n){return At(!!n),Ft.fromTimestamp(function(e){const t=El(e);return new Kn(t.seconds,t.nanos)}(n))}function yE(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cb(n){const e=fn.fromString(n);return At(ES(e)),e}function Up(n,e){return yE(n.databaseId,e.path)}function xo(n,e){const t=cb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(ub(t))}function vE(n,e){return yE(n.databaseId,e)}function r_(n){const e=cb(n);return 4===e.length?fn.emptyPath():ub(e)}function Ah(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ub(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function db(n,e,t){return{name:Up(n,e),fields:t.value.mapValue.fields}}function hb(n,e,t){const i=xo(n,e.name),r=zi(e.updateTime),a=new tr({mapValue:{fields:e.fields}}),c=Bn.newFoundDocument(i,r,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function wc(n,e){let t;if(e instanceof Sh)t={update:db(n,e.key,e.value)};else if(e instanceof xh)t={delete:Up(n,e.key)};else if(e instanceof bc)t={update:db(n,e.key,e.data),updateMask:Rk(e.fieldMask)};else{if(!(e instanceof ob))return at();t={verify:Up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Ap)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ta)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Uu)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:yS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),t;var r}function o_(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Zn.updateTime(zi(r.updateTime)):void 0!==r.exists?Zn.exists(r.exists):Zn.none():Zn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let f=null;"setToServerValue"in c?(At("REQUEST_TIME"===c.setToServerValue),f=new Ap):"appendMissingElements"in c?f=new Dh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Ta(c.removeAllFromArray.values||[]):"increment"in c?f=new Uu(a,c.increment):at();const g=vi.fromServerFormat(c.fieldPath);return new Th(g,f)}(n,r)):[];var r;if(e.update){const r=xo(n,e.update.name),a=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ds((e.updateMask.fieldPaths||[]).map(v=>vi.fromServerFormat(v)));return new bc(r,a,c,t,i)}return new Sh(r,a,t,i)}if(e.delete){const r=xo(n,e.delete);return new xh(r,t)}if(e.verify){const r=xo(n,e.verify);return new ob(r,t)}return at()}function fb(n,e){return{documents:[vE(n,e.path)]}}function a_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=vE(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vE(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(I=>function(x){if("=="===x.op){if(eE(x.value))return{unaryFilter:{field:kh(x.field),op:"IS_NAN"}};if(Wv(x.value))return{unaryFilter:{field:kh(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(eE(x.value))return{unaryFilter:{field:kh(x.field),op:"IS_NOT_NAN"}};if(Wv(x.value))return{unaryFilter:{field:kh(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(x.field),op:CE(x.op),value:x.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:kh((I=v).field),direction:Ak(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.gt||Lu(v)?v:{value:v});var v,f,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function wE(n){let e=r_(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){At(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=wS(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new Sp(Rh((x=I).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,Lu(x)?null:x}(t.limit));let g=null;var I;t.startAt&&(g=new Da((I=t.startAt).values||[],!!I.before));let v=null;return t.endAt&&(v=function(I){return new Da(I.values||[],!I.before)}(t.endAt)),lE(e,r,c,a,f,"F",g,v)}function wS(n){return n?void 0!==n.unaryFilter?[kk(n)]:void 0!==n.fieldFilter?[CS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>wS(e)).reduce((e,t)=>e.concat(t)):at():[]}function Ak(n){return gS[n]}function CE(n){return Mk[n]}function kh(n){return{fieldPath:n.canonicalString()}}function Rh(n){return vi.fromServerFormat(n.fieldPath)}function CS(n){return ki.create(Rh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function kk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Rh(n.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Rh(n.unaryFilter.field);return ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rh(n.unaryFilter.field);return ki.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Rh(n.unaryFilter.field);return ki.create(r,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function Rk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ES(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EE(e)),e=Ok(n.get(t),e);return EE(e)}function Ok(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function EE(n){return n+"\x01\x01"}function Ts(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&at(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:at()}a=c+2}return new fn(i)}const IE=["userId","batchId"];function l_(n,e){return[n,Zr(e)]}function pb(n,e,t){return[n,Zr(e),t]}const Hu={},DE=["prefixPath","collectionGroup","readTime","documentId"],mb=["prefixPath","collectionGroup","documentId"],gb=["collectionGroup","readTime","prefixPath","documentId"],IS=["canonicalId","targetId"],_b=["targetId","path"],yb=["path","targetId"],c_=["collectionId","parent"],Pk=["indexId","uid"],Nk=["uid","sequenceNumber"],Fk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lk=["indexId","uid","orderedDocumentKey"],TE=["userId","collectionPath","documentId"],DS=["userId","collectionPath","largestBatchId"],TS=["userId","collectionGroup","largestBatchId"],SE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SS=[...SE,"documentOverlays"],vb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bb=vb,xE=[...bb,"indexConfiguration","indexState","indexEntries"];class wb extends Hv{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ir(n,e){const t=Je(n);return So.M(t.ie,e)}class u_{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&cS(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Op(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Op(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fE();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(r.key)?null:f;const g=lS(c,f);null!==g&&i.set(r.key,g),c.isValidDocument()||c.convertToNoDocument(Ft.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(t,i)=>Pp(t,i))&&Au(this.baseMutations,e.baseMutations,(t,i)=>Pp(t,i))}}class Hp{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){At(e.mutations.length===i.length);let r=lb;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new Hp(e,t,i,r)}}class ME{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sl{constructor(e,t,i,r,a=Ft.min(),c=Ft.min(),f=Ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class d_{constructor(e){this.re=e}}function AE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Up(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Bp(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Oh(e.version)};else{if(!e.isUnknownDocument())return at();i.unknownDocument={path:t.path.toArray(),version:Oh(e.version)}}var r,a;return i}function Cb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Oh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ju(n){const e=new Kn(n.seconds,n.nanoseconds);return Ft.fromTimestamp(e)}function $u(n,e){const t=(e.baseMutations||[]).map(a=>o_(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>o_(n.re,a)),r=Kn.fromMillis(e.localWriteTimeMs);return new u_(e.batchId,r,t,i)}function jp(n){const e=ju(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ju(n.lastLimboFreeSnapshotVersion):Ft.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=Lr(Bu(r_(r.documents[0])))):i=Lr(wE(n.query)),new Sl(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function MS(n,e){const t=Oh(e.snapshotVersion),i=Oh(e.lastLimboFreeSnapshotVersion);let r;r=Yg(e.target)?fb(n.re,e.target):a_(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function kE(n){const e=wE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xp(e,e.limit,"L"):e}function RE(n,e){return new ME(e.largestBatchId,o_(n.re,e.overlayMutation))}function AS(n,e){const t=e.path.lastSegment();return[n,Zr(e.path.popLast()),t]}function kS(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Oh(i.readTime),documentKey:Zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class RS{getBundleMetadata(e,t){return OS(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ju(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return OS(e).put({bundleId:(i=t).id,createTime:Oh(zi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return PS(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:kE(r.bundledQuery),readTime:ju(r.readTime)};var r})}saveNamedQuery(e,t){return PS(e).put({name:(i=t).name,readTime:Oh(zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function OS(n){return ir(n,"bundles")}function PS(n){return ir(n,"namedQueries")}class Eb{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Eb(e,t.uid||"")}getOverlay(e,t){return h_(e).get(AS(this.userId,t)).next(i=>i?RE(this.It,i):null)}getOverlays(e,t){const i=Qs();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const f=new ME(t,c);r.push(this.ue(e,f))}),he.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Zr(c.getCollectionPath())));const a=[];return r.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(h_(e).Y("collectionPathOverlayIndex",f))}),he.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Qs(),a=Zr(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return h_(e).W("collectionPathOverlayIndex",c).next(f=>{for(const g of f){const v=RE(this.It,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Qs();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return h_(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,v,I)=>{const x=RE(this.It,v);a.size()<r||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return h_(e).put(function(i,r,a){const[c,f,g]=AS(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:wc(i.re,a.mutation)}}(this.It,this.userId,t))}}function h_(n){return ir(n,"documentOverlays")}class Ph{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Ip(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Nu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?tE(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):at()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Ye.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Vk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function s(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=Vk(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Ph.Te=new Ph;class o{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=s(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=s(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class l{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class d{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class h{constructor(){this.Be=new o,this.Le=new l(this.Be),this.Ue=new d(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class p{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new p(this.indexId,this.documentKey,this.arrayValue,i)}}function y(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=w(n.arrayValue,e.arrayValue),0!==t?t:(t=w(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function w(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class E{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=$g(e);if(void 0!==t&&!this.ze(t))return!1;const i=ku(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class S{constructor(){this.Ye=new O}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Is.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class O{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Cn(fn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Cn(fn.comparator)).toArray()}}const L=new Uint8Array(0);class Y{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new O,this.Ze=new nr(i=>vc(i),(i,r)=>Tp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:Zr(r)};return se(e).put(a)}return he.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[GT(t),""],!1,!0);return se(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(Ts(c.parent))}return i})}addFieldIndex(e,t){const i=ze(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=Ke(e);return a.next(f=>{c.put(kS(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=ze(e),r=Ke(e),a=Ie(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Ie(e);let r=!0;const a=new Map;return he.forEach(this.tn(t),c=>this.en(e,c).next(f=>{r&&(r=!!f),a.set(c,f)})).next(()=>{if(r){let c=Zt();const f=[];return he.forEach(a,(g,v)=>{var I;je("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${vc(t)}`);const x=function(yt,ft){const Rt=$g(ft);if(void 0===Rt)return null;for(const Vt of Ch(yt,Rt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(v,g),V=function(yt,ft){const Rt=new Map;for(const Vt of ku(ft))for(const pn of Ch(yt,Vt.fieldPath))switch(pn.op){case"==":case"in":Rt.set(Vt.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return Rt.set(Vt.fieldPath.canonicalString(),pn.value),Array.from(Rt.values())}return null}(v,g),U=function(yt,ft){const Rt=[];let Vt=!0;for(const pn of ku(ft)){const ks=0===pn.kind?Zv(yt,pn.fieldPath,yt.startAt):Yv(yt,pn.fieldPath,yt.startAt);Rt.push(ks.value),Vt&&(Vt=ks.inclusive)}return new Da(Rt,Vt)}(v,g),G=function(yt,ft){const Rt=[];let Vt=!0;for(const pn of ku(ft)){const ks=0===pn.kind?Yv(yt,pn.fieldPath,yt.endAt):Zv(yt,pn.fieldPath,yt.endAt);Rt.push(ks.value),Vt&&(Vt=ks.inclusive)}return new Da(Rt,Vt)}(v,g),ne=this.nn(g,v,U),ge=this.nn(g,v,G),Ge=this.sn(g,v,V),lt=this.rn(g.indexId,x,ne,U.inclusive,ge,G.inclusive,Ge);return he.forEach(lt,yt=>i.J(yt,t.limit).next(ft=>{ft.forEach(Rt=>{const Vt=Ye.fromSegments(Rt.documentKey);c.has(Vt)||(c=c.add(Vt),f.push(Vt))})}))}).next(()=>f)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,c,f){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),v=g/(null!=t?t.length:1),I=[];for(let x=0;x<g;++x){const V=t?this.on(t[x/v]):L,U=this.un(e,V,i[x%v],r),G=this.cn(e,V,a[x%v],c),ne=f.map(ge=>this.un(e,V,ge,!0));I.push(...this.createRange(U,G,ne))}return I}un(e,t,i,r){const a=new p(e,Ye.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new p(e,Ye.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new E(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const f of a)i.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let i=2;return he.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(c){let f=new Cn(vi.comparator),g=!1;for(const v of c.filters){const I=v;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:f=f.add(I.field))}for(const v of c.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new h;for(const r of ku(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);Ph.Te.ce(a,c)}return i.$e()}on(e){const t=new h;return Ph.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new h;return Ph.Te.ce(yc(this.databaseId,t),i.qe(function(r){const a=ku(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new h);let a=0;for(const c of ku(e)){const f=i[a++];for(const g of r)if(this.ln(t,c.fieldPath)&&Dp(f))r=this.fn(r,c,f);else{const v=g.qe(c.kind);Ph.Te.ce(f,v)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const f of r){const g=new h;g.seed(f.$e()),Ph.Te.ce(c,g.qe(t.kind)),a.push(g)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof ki&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=ze(e),r=Ke(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return he.forEach(a,f=>r.get([f.indexId,this.uid]).next(g=>{c.push(function(v,I){const x=I?new wp(I.sequenceNumber,new Is(ju(I.readTime),new Ye(Ts(I.documentKey)),I.largestBatchId)):wp.empty(),V=v.fields.map(([U,G])=>new zg(vi.fromServerFormat(U),G));return new jg(v.indexId,v.collectionGroup,V,x)}(f,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Gt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=ze(e),a=Ke(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>he.forEach(f,g=>a.put(kS(g.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?he.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),he.forEach(f,g=>this.wn(e,r,g).next(v=>{const I=this.mn(a,g);return v.isEqual(I)?he.resolve():this.gn(e,a,g,v,I)}))))})}yn(e,t,i,r){return Ie(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Ie(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Ie(e);let a=new Cn(y);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,f)=>{a=a.add(new p(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new Cn(y);const r=this.an(t,e);if(null==r)return i;const a=$g(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Dp(c))for(const f of c.arrayValue.values||[])i=i.add(new p(t.indexId,e.key,this.on(f),r))}else i=i.add(new p(t.indexId,e.key,L,r));return i}gn(e,t,i,r,a){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,g,v,I,x){const V=f.getIterator(),U=g.getIterator();let G=vh(V),ne=vh(U);for(;G||ne;){let ge=!1,Ge=!1;if(G&&ne){const lt=v(G,ne);lt<0?Ge=!0:lt>0&&(ge=!0)}else null!=G?Ge=!0:ge=!0;ge?(I(ne),ne=vh(U)):Ge?(x(G),G=vh(V)):(G=vh(V),ne=vh(U))}}(r,a,y,f=>{c.push(this.yn(e,t,i,f))},f=>{c.push(this.pn(e,t,i,f))}),he.waitFor(c)}_n(e){let t=1;return Ke(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,f)=>y(c,f)).filter((c,f,g)=>!f||0!==y(c,g[f-1]));const r=[];r.push(e);for(const c of i){const f=y(c,e),g=y(c,t);if(0===f)r[0]=e.Ke();else if(f>0&&g<0)r.push(c),r.push(c.Ke());else if(g>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2)a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,L,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,L,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ut)}getMinOffset(e,t){return he.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||at())).next(ut)}}function se(n){return ir(n,"collectionParents")}function Ie(n){return ir(n,"indexEntries")}function ze(n){return ir(n,"indexConfiguration")}function Ke(n){return ir(n,"indexState")}function ut(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ru(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Is(e.readTime,e.documentKey,t)}const St={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Se{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Se(e,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kt(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const g=i.Z({range:c},(I,x,V)=>(f++,V.delete()));a.push(g.next(()=>{At(1===f)}));const v=[];for(const I of t.mutations){const x=pb(e,I.key.path,t.batchId);a.push(r.delete(x)),v.push(I.key)}return he.waitFor(a).next(()=>v)}function un(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Se.DEFAULT_COLLECTION_PERCENTILE=10,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Se.DEFAULT=new Se(41943040,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Se.DISABLED=new Se(-1,0,0);class Fn{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){At(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Fn(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xa(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Ec(e),c=xa(e);return c.add({}).next(f=>{At("number"==typeof f);const g=new u_(f,t,i,r),v=function(V,U,G){const ne=G.baseMutations.map(Ge=>wc(V.re,Ge)),ge=G.mutations.map(Ge=>wc(V.re,Ge));return{userId:U,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:ge}}(this.It,this.userId,g),I=[];let x=new Cn((V,U)=>Gt(V.canonicalString(),U.canonicalString()));for(const V of r){const U=pb(this.userId,V.key.path,f);x=x.add(V.key.path.popLast()),I.push(c.put(v)),I.push(a.put(U,Hu))}return x.forEach(V=>{I.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),he.waitFor(I).next(()=>g)})}lookupMutationBatch(e,t){return xa(e).get(t).next(i=>i?(At(i.userId===this.userId),$u(this.It,i)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return xa(e).Z({index:"userMutationsIndex",range:r},(c,f,g)=>{f.userId===this.userId&&(At(f.batchId>=i),a=$u(this.It,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return xa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xa(e).W("userMutationsIndex",t).next(i=>i.map(r=>$u(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=l_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Ec(e).Z({range:r},(c,f,g)=>{const[v,I,x]=c,V=Ts(I);if(v===this.userId&&t.path.isEqual(V))return xa(e).get(x).next(U=>{if(!U)throw at();At(U.userId===this.userId),a.push($u(this.It,U))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cn(Gt);const r=[];return t.forEach(a=>{const c=l_(this.userId,a.path),f=IDBKeyRange.lowerBound(c),g=Ec(e).Z({range:f},(v,I,x)=>{const[V,U,G]=v,ne=Ts(U);V===this.userId&&a.path.isEqual(ne)?i=i.add(G):x.done()});r.push(g)}),he.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=l_(this.userId,i),c=IDBKeyRange.lowerBound(a);let f=new Cn(Gt);return Ec(e).Z({range:c},(g,v,I)=>{const[x,V,U]=g,G=Ts(V);x===this.userId&&i.isPrefixOf(G)?G.length===r&&(f=f.add(U)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(xa(e).get(a).next(c=>{if(null===c)throw at();At(c.userId===this.userId),i.push($u(this.It,c))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return kt(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ec(e).Z({range:i},(a,c,f)=>{if(a[0]===this.userId){const g=Ts(a[1]);r.push(g)}else f.done()}).next(()=>{At(0===r.length)})})}containsKey(e,t){return Cc(e,this.userId,t)}Rn(e){return f_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Cc(n,e,t){const i=l_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return Ec(n).Z({range:a,X:!0},(f,g,v)=>{const[I,x,V]=f;I===e&&x===r&&(c=!0),v.done()}).next(()=>c)}function xa(n){return ir(n,"mutations")}function Ec(n){return ir(n,"documentMutations")}function f_(n){return ir(n,"mutationQueues")}class xl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xl(0)}static vn(){return new xl(-1)}}class Ib{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new xl(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ft.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ic(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Ic(e).Z((c,f)=>{const g=jp(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>he.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Ic(e).Z((i,r)=>{const a=jp(r);t(a)})}Vn(e){return p_(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Sn(e,t){return p_(e).put("targetGlobalKey",t)}Dn(e,t){return Ic(e).put(MS(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=vc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Ic(e).Z({range:r,index:"queryTargetsIndex"},(c,f,g)=>{const v=jp(f);Tp(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Ma(e);return t.forEach(c=>{const f=Zr(c.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,c))}),he.waitFor(r)}removeMatchingKeys(e,t,i){const r=Ma(e);return he.forEach(t,a=>{const c=Zr(a.path);return he.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Ma(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ma(e);let a=Zt();return r.Z({range:i,X:!0},(c,f,g)=>{const v=Ts(c[1]),I=new Ye(v);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Zr(t.path),r=IDBKeyRange.bound([i],[GT(i)],!1,!0);let a=0;return Ma(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,f],g,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}se(e,t){return Ic(e).get(t).next(i=>i?jp(i):null)}}function Ic(n){return ir(n,"targets")}function p_(n){return ir(n,"targetGlobal")}function Ma(n){return ir(n,"targetDocuments")}function m_([n,e],[t,i]){const r=Gt(n,t);return 0===r?Gt(e,i):r}class EN{constructor(e){this.xn=e,this.buffer=new Cn(m_),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();m_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){mc(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cl(i)}yield t.Fn(3e5)}))}}class DN{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(ui.at);const i=new EN(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(St)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),St):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,c,f,g,v;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,f=Date.now(),this.removeTargets(e,i,t))).next(x=>(a=x,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(v=Date.now(),vp()<=bs.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${r} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${x} documents in `+(v-g)+`ms\nTotal Duration: ${v-I}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:x})))}}class TN{constructor(e,t){this.db=e,this.garbageCollector=new DN(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return OE(e,i)}removeReference(e,t,i){return OE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return OE(e,t)}Gn(e,t){return function(i,r){let a=!1;return f_(i).tt(c=>Cc(i,c,r).next(f=>(f&&(a=!0),he.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const g=this.Gn(e,c).next(v=>{if(!v)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Ft.min()),Ma(e).delete([0,Zr(c.path)])))});r.push(g)}}).next(()=>he.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return OE(e,t)}Kn(e,t){const i=Ma(e);let r,a=ui.at;return i.Z({index:"documentTargetsIndex"},([c,f],{path:g,sequenceNumber:v})=>{0===c?(a!==ui.at&&t(new Ye(Ts(r)),a),a=v,r=g):a=ui.at}).next(()=>{a!==ui.at&&t(new Ye(Ts(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OE(n,e){return Ma(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zr(e.path),sequenceNumber:i}));var i}class Bk{constructor(){this.changes=new nr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SN{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $p(e).put(i)}removeEntry(e,t,i){return $p(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Cb(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Bn.newInvalidDocument(t);return $p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Db(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Bn.newInvalidDocument(t)};return $p(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Db(t))},(r,a)=>{i={document:this.jn(t,a),size:un(a)}}).next(()=>i)}getEntries(e,t){let i=Tr();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=Tr(),r=new bi(Ye.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);i=i.insert(a,f),r=r.insert(a,un(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return he.resolve();let r=new Cn($k);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(Db(r.first()),Db(r.last())),c=r.getIterator();let f=c.getNext();return $p(e).Z({index:"documentKeyIndex",range:a},(g,v,I)=>{const x=Ye.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&$k(f,x)<0;)i(f,null),f=c.getNext();f&&f.isEqual(x)&&(i(f,v),f=c.hasNext()?c.getNext():null),f?I.j(Db(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Cb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $p(e).W(IDBKeyRange.bound(r,a,!0)).next(c=>{let f=Tr();for(const g of c){const v=this.jn(Ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=Tr();const c=jk(t,i),f=jk(t,Is.max());return $p(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(g,v,I)=>{const x=this.jn(Ye.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(x.key,x),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new xN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hk(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Qn(e,t){return Hk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function xS(n,e){let t;if(e.document)t=hb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ye.fromSegments(e.noDocument.path),r=ju(e.noDocument.readTime);t=Bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const i=Ye.fromSegments(e.unknownDocument.path),r=ju(e.unknownDocument.version);t=Bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return Ft.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Ft.min()))return i}return Bn.newInvalidDocument(e)}}function Uk(n){return new SN(n)}class xN extends Bk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new nr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Cn((a,c)=>Gt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const g=AE(this.Yn.It,c);r=r.add(a.path.popLast()),i+=un(g)-f.size,t.push(this.Yn.addEntry(e,a,g))}else if(i-=f.size,this.trackRemovals){const g=AE(this.Yn.It,c.convertToNoDocument(Ft.min()));t.push(this.Yn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function Hk(n){return ir(n,"remoteDocumentGlobal")}function $p(n){return ir(n,"remoteDocumentsV14")}function Db(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jk(n,e){const t=e.documentKey.path.toArray();return[n,Cb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $k(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Gt(t[a],i[a]),r)return r;return r=Gt(t.length,i.length),r||(r=Gt(t[t.length-2],i[i.length-2]),r||Gt(t[t.length-1],i[i.length-1]))}class MN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Op(i.mutation,r,Ds.empty(),Kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=Qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Sr();return a.forEach((f,g)=>{c=c.insert(f,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,r){let a=Tr();const c=Np(),f=Np();return t.forEach((g,v)=>{const I=i.get(v.key);r.has(v.key)&&(void 0===I||I.mutation instanceof bc)?a=a.insert(v.key,v):void 0!==I&&(c.set(v.key,I.mutation.getFieldMask()),Op(I.mutation,v,I.mutation.getFieldMask(),Kn.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,I)=>c.set(v,I)),t.forEach((v,I)=>{var x;return f.set(v,new MN(I,null!==(x=c.get(v))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Np();let r=new bi((c,f)=>c-f),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let I=i.get(g)||Ds.empty();I=f.applyToLocalView(v,I),i.set(g,I);const x=(r.get(f.batchId)||Zt()).add(g);r=r.insert(f.batchId,x)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,I=g.value,x=fE();I.forEach(V=>{if(!a.has(V)){const U=lS(t.get(V),i.get(V));null!==U&&x.set(V,U),a=a.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,x))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ye.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):he.resolve(Qs());let f=-1,g=a;return c.next(v=>he.forEach(v,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?he.resolve():this.getBaseDocument(e,I,x).next(V=>{g=g.insert(I,V)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,Zt())).next(I=>({batchId:f,changes:hE(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(i=>{let r=Sr();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Sr();return this.indexManager.getCollectionParents(e,r).next(c=>he.forEach(c,f=>{const g=(v=t,I=f.child(r),new Dl(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,I;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,g)=>{const v=g.getKey();null===r.get(v)&&(r=r.insert(v,Bn.newInvalidDocument(v)))});let c=Sr();return r.forEach((f,g)=>{const v=a.get(f);void 0!==v&&Op(v.mutation,g,Ds.empty(),Kn.now()),e_(t,g)&&(c=c.insert(f,g))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(Bn.newInvalidDocument(t))}}class AN{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:zi(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:kE(i.bundledQuery),readTime:zi(i.readTime)}),he.resolve();var i}}class kN{constructor(){this.overlays=new bi(Ye.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qs();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=Qs(),a=t.length+1,c=new Ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new bi((v,I)=>v-I);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let I=a.get(v.largestBatchId);null===I&&(I=Qs(),a=a.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const f=Qs(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,I)=>f.set(v,I)),!(f.size()>=r)););return he.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ME(t,i));let a=this.es.get(t);void 0===a&&(a=Zt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class NS{constructor(){this.ns=new Cn(xr.ss),this.rs=new Cn(xr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new xr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new xr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Ye(new fn([])),i=new xr(t,e),r=new xr(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ye(new fn([])),i=new xr(t,e),r=new xr(t,e+1);let a=Zt();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new xr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class xr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ye.comparator(e.key,t.key)||Gt(e._s,t._s)}static os(e,t){return Gt(e._s,t._s)||Ye.comparator(e.key,t.key)}}class RN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Cn(xr.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new u_(a,t,i,r);this.mutationQueue.push(c);for(const f of r)this.gs=this.gs.add(new xr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xr(t,0),r=new xr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const f=this.ys(c._s);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cn(Gt);return t.forEach(r=>{const a=new xr(r,0),c=new xr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{i=i.add(f._s)})}),he.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ye.isDocumentKey(a)||(a=a.child(""));const c=new xr(new Ye(a),0);let f=new Cn(Gt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g._s)),!0)},c),he.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){At(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return he.forEach(t.mutations,r=>{const a=new xr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new xr(t,0),r=this.gs.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ON{constructor(e){this.Es=e,this.docs=new bi(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let i=Tr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Bn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(e,t,i){let r=Tr();const a=new Ye(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:g}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Ru(qC(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,r){at()}As(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new PN(this)}getSize(e){return he.resolve(this.size)}}class PN extends Bk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class NN{constructor(e){this.persistence=e,this.Rs=new nr(t=>vc(t),Tp),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NS,this.targetCount=0,this.vs=xl.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),he.waitFor(a).next(()=>r)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class Gk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ui(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new NN(this),this.indexManager=new S,this.remoteDocumentCache=new ON(i=>this.referenceDelegate.xs(i)),this.It=new d_(t),this.Ns=new AN(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new RN(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new FN(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return he.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class FN extends Hv{constructor(e){super(),this.currentSequenceNumber=e}}class PE{constructor(e){this.persistence=e,this.Fs=new NS,this.$s=null}static Bs(e){return new PE(e)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,i=>{const r=Ye.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,Ft.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class LN{constructor(e){this.It=e}$(e,t,i,r){const a=new Cp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IE,{unique:!0}),f.createObjectStore("documentMutations"),Wk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=he.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Wk(e)),c=c.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(f,g){return g.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IE,{unique:!0});const I=g.store("mutations"),x=v.map(V=>I.put(V));return he.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:TE});g.createIndex("collectionPathOverlayIndex",DS,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",TS,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:DE});g.createIndex("documentKeyIndex",mb),g.createIndex("collectionGroupIndex",gb)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Pk}).createIndex("sequenceNumberIndex",Nk,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Fk}).createIndex("documentKeyIndex",Lk,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=un(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>he.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(f=>he.forEach(f,g=>{At(g.userId===a.userId);const v=$u(this.It,g);return kt(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,f)=>{const g=new fn(c),v=[0,Zr(g)];a.push(t.get(v).next(I=>I?he.resolve():t.put({targetId:0,path:Zr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:c_});const i=t.store("collectionParents"),r=new O,a=c=>{if(r.add(c)){const f=c.lastSegment(),g=c.popLast();return i.put({collectionId:f,parent:Zr(g)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const g=new fn(c);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,g],v)=>{const I=Ts(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=jp(r),c=MS(this.It,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),g=(v=c,v.document?new Ye(fn.fromString(v.document.name).popFirst(5)):v.noDocument?Ye.fromSegments(v.noDocument.path):v.unknownDocument?Ye.fromSegments(v.unknownDocument.path):at()).path.toArray();var v;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(f.put(I))}).next(()=>he.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=Uk(this.It),a=new Gk(PE.Bs,this.It.re);return i.W().next(c=>{const f=new Map;return c.forEach(g=>{var v;let I=null!==(v=f.get(g.userId))&&void 0!==v?v:Zt();$u(this.It,g).keys().forEach(x=>I=I.add(x)),f.set(g.userId,I)}),he.forEach(f,(g,v)=>{const I=new Mi(v),x=Eb.oe(this.It,I),V=a.getIndexManager(I),U=Fn.oe(I,this.It,V,a.referenceDelegate);return new zk(r,U,x,V).recalculateAndSaveOverlaysForDocumentKeys(new wb(t,ui.at),g).next()})})}}function Wk(n){n.createObjectStore("targetDocuments",{keyPath:_b}).createIndex("documentTargetsIndex",yb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IS,{unique:!0}),n.createObjectStore("targetGlobal")}const FS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LS{constructor(e,t,i,r,a,c,f,g,v,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=f,this.Js=v,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!LS.C())throw new Ve(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TN(this,r),this.ii=t+"main",this.It=new d_(g),this.ri=new So(this.ii,this.Xs,new LN(this.It)),this.Cs=new Ib(this.referenceDelegate,this.It),this.remoteDocumentCache=Uk(this.It),this.Ns=new RS,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(_e.FAILED_PRECONDITION,FS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ui(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>NE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(mc(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Tb(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return NE(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ir(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(g=>-1===c.indexOf(g));return he.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):Tb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ve(_e.FAILED_PRECONDITION,FS);return!1}}return!(!this.networkEnabled||!this.inForeground)||NE(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new wb(t,ui.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>NE(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Fn.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Y(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Eb.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?xE:14===c?bb:13===c?vb:12===c?SS:11===c?SE:void at();var c;let f;return this.ri.runTransaction(e,r,a,g=>(f=new wb(g,this.Ss?this.Ss.next():ui.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(_e.FAILED_PRECONDITION,Uv);return i(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return Tb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(_e.FAILED_PRECONDITION,FS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tb(e).put("owner",t)}static C(){return So.C()}_i(e){const t=Tb(e);return t.get("owner").next(i=>this.mi(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ci(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ci("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ci("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tb(n){return ir(n,"owner")}function NE(n){return ir(n,"clientMetadata")}function VS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class BS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Zt(),r=Zt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new BS(e,t.fromCache,i,r)}}class qk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Xv(t))return he.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xp(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Zt(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.Fi(t,f);return this.$i(t,v,c,g.readTime)?this.ki(e,xp(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,i,r){return Xv(t)||r.isEqual(Ft.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Mi(e,t):(vp()<=bs.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jg(t)),this.Bi(e,c,t,WC(r,-1)))})}Fi(e,t){let i=new Cn(cE(e));return t.forEach((r,a)=>{e_(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return vp()<=bs.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Jg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Is.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class VN{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new bi(Gt),this.qi=new nr(a=>vc(a),Tp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Kk(n,e,t,i){return new VN(n,e,t,i)}function Zk(n,e){return US.apply(this,arguments)}function US(){return US=(0,Ee.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let g=Zt();for(const v of r){c.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}for(const v of a){f.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:f}))})})}),US.apply(this,arguments)}function BN(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,g,v){const I=g.batch,x=I.keys();let V=he.resolve();return x.forEach(U=>{V=V.next(()=>v.getEntry(f,U)).next(G=>{const ne=g.docVersions.get(U);At(null!==ne),G.version.compareTo(ne)<0&&(I.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=Zt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(f=f.add(c.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Yk(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function UN(n,e){const t=Je(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,x)=>{const V=r.get(x);if(!V)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let U=V.withSequenceNumber(a.currentSequenceNumber);var G,ne,ge;e.targetMismatches.has(x)?U=U.withResumeToken(Ai.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):I.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(I.resumeToken,i)),r=r.insert(x,U),ne=U,ge=I,(0===(G=V).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,U))});let g=Tr(),v=Zt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Qk(a,c,e.documentUpdates).next(I=>{g=I.Wi,v=I.zi})),!i.isEqual(Ft.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return he.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.Ui=r,a))}function Qk(n,e,t){let i=Zt(),r=Zt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Tr();return t.forEach((f,g)=>{const v=a.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Ft.min())?(e.removeEntry(f,g.readTime),c=c.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),c=c.insert(f,g)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Wi:c,zi:r}})}function HN(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function g_(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,he.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Sl(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function __(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!mc(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),HS.apply(this,arguments)}function FE(n,e,t){const i=Je(n);let r=Ft.min(),a=Zt();return i.persistence.runTransaction("Execute query","readonly",c=>function(f,g,v){const I=Je(f),x=I.qi.get(v);return void 0!==x?he.resolve(I.Ui.get(x)):I.Cs.getTargetData(g,v)}(i,c,Lr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,f.targetId).next(g=>{a=g})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Ft.min(),t?a:Zt())).next(f=>(eR(i,tb(e),f),{documents:f,Hi:a})))}function Xk(n,e){const t=Je(n),i=Je(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(c=>c?c.target:null))}function Jk(n,e){const t=Je(n),i=t.Ki.get(e)||Ft.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,WC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(eR(t,e,r),r))}function eR(n,e,t){let i=n.Ki.get(e)||Ft.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function jS(){return jS=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n);let a=Zt(),c=Tr();for(const v of t){const I=e.Ji(v.metadata.name);v.document&&(a=a.add(I));const x=e.Yi(v);x.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(I,x)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield g_(r,(v=i,Lr(Bu(fn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Qk(v,f,c).next(I=>(f.apply(v),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,I.Wi,I.zi)).next(()=>I.Wi)))}),jS.apply(this,arguments)}function $N(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Ee.Z)(function*(n,e,t=Zt()){const i=yield g_(n,Lr(kE(e.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=zi(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(Ai.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),$S.apply(this,arguments)}function tR(n,e){return`firestore_clients_${n}_${e}`}function nR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zS(n,e){return`firestore_targets_${n}_${e}`}class LE{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Ve(r.error.code,r.error.message))),c?new LE(e,t,r.state,a):(ci("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ve(i.error.code,i.error.message))),a?new Sb(e,i.state,r):(ci("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class VE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Fp();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=JC(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new VE(e,a):(ci("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class GS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new GS(t.clientId,t.onlineState):(ci("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=Fp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new bi(Gt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=tR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new WS),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(tR(e.persistenceKey,r));if(a){const c=VE.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zS(this.persistenceKey,e));if(i){const r=Sb.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zS(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=ui.at;if(null!=a)try{const f=JSON.parse(a);At("number"==typeof f),c=f}catch(f){ci("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(i.newValue);r!==ui.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new LE(this.currentUser,e,t,i),a=nR(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=nR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=zS(this.persistenceKey,e),a=new Sb(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return VE.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return LE.Zi(new Mi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Sb.Zi(r,t)}yr(e){return GS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],f=[];return a.forEach(g=>{r.has(g)||c.push(g)}),r.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Br(c,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Fp();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class iR{constructor(){this.Lr=new WS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new WS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zN{qr(e){}shutdown(){}}class rR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WN{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class qN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const c=this.ho(e,t);je("RestConnection","Sending: ",c,i);const f={};return this.lo(f,r,a),this.fo(e,c,f,i).then(g=>(je("RestConnection","Received: ",g),g),g=>{throw Mu("RestConnection",`${e} failed with error: `,g,"url: ",c,"request:",i),g})}_o(e,t,i,r,a,c){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${GN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,c)=>{const f=new UT;f.setWithCredentials(!0),f.listenOnce(LC.COMPLETE,()=>{var v;try{switch(f.getLastErrorCode()){case Vg.NO_ERROR:const I=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(I)),a(I);break;case Vg.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),c(new Ve(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:const x=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){let V=f.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=null===(v=V)||void 0===v?void 0:v.error;if(U&&U.status&&U.message){const G=function(ne){const ge=ne.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ge)>=0?ge:_e.UNKNOWN}(U.status);c(new Ve(G,U.message))}else c(new Ve(_e.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ve(_e.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=LT(),c=VT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new BC({})),this.lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=r.join("");je("Connection","Creating WebChannel: "+g,f);const v=a.createWebChannel(g,f);let I=!1,x=!1;const V=new WN({Hr:G=>{x?je("Connection","Not sending because WebChannel is closed:",G):(I||(je("Connection","Opening WebChannel transport."),v.open(),I=!0),je("Connection","WebChannel sending:",G),v.send(G))},Jr:()=>v.close()}),U=(G,ne,ge)=>{G.listen(ne,Ge=>{try{ge(Ge)}catch(lt){setTimeout(()=>{throw lt},0)}})};return U(v,Bg.EventType.OPEN,()=>{x||je("Connection","WebChannel transport opened.")}),U(v,Bg.EventType.CLOSE,()=>{x||(x=!0,je("Connection","WebChannel transport closed"),V.io())}),U(v,Bg.EventType.ERROR,G=>{x||(x=!0,Mu("Connection","WebChannel transport errored:",G),V.io(new Ve(_e.UNAVAILABLE,"The operation could not be completed")))}),U(v,Bg.EventType.MESSAGE,G=>{var ne;if(!x){const ge=G.data[0];At(!!ge);const Ge=ge,lt=Ge.error||(null===(ne=Ge[0])||void 0===ne?void 0:ne.error);if(lt){je("Connection","WebChannel received error:",lt);const yt=lt.status;let ft=function(Vt){const pn=Ri[Vt];if(void 0!==pn)return fS(pn)}(yt),Rt=lt.message;void 0===ft&&(ft=_e.INTERNAL,Rt="Unknown error status: "+yt+" with message "+lt.message),x=!0,V.io(new Ve(ft,Rt)),v.close()}else je("Connection","WebChannel received:",ge),V.ro(ge)}}),U(c,BT.STAT_EVENT,G=>{G.stat===VC.PROXY?je("Connection","Detected buffering proxy"):G.stat===VC.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function sR(){return typeof window<"u"?window:null}function BE(){return typeof document<"u"?document:null}function xb(n){return new _S(n,!0)}class KS{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class oR{constructor(e,t,i,r,a,c,f,g){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new KS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ve(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KN extends oR{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function s_(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:at(),r=e.targetChange.targetIds||[],a=function(g,v){return g.gt?(At(void 0===v||"string"==typeof v),Ai.fromBase64String(v||"")):(At(void 0===v||v instanceof Uint8Array),Ai.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const v=void 0===g.code?_e.UNKNOWN:fS(g.code);return new Ve(v,g.message||"")}(c);t=new n_(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=xo(n,i.document.name),a=zi(i.document.updateTime),c=new tr({mapValue:{fields:i.document.fields}}),f=Bn.newFoundDocument(r,a,c);t=new Vp(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=xo(n,i.document),a=i.readTime?zi(i.readTime):Ft.min(),c=Bn.newNoDocument(r,a);t=new Vp([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=xo(n,i.document);t=new Vp([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return at();{const i=e.filter,a=new xk(i.count||0);t=new mE(i.targetId,a)}}var g;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Ft.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ft.min():a.readTime?zi(a.readTime):Ft.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Ah(this.It),t.addTarget=function(r,a){let c;const f=a.target;return c=Yg(f)?{documents:fb(r,f)}:{query:a_(r,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=_E(r,a.resumeToken):a.snapshotVersion.compareTo(Ft.min())>0&&(c.readTime=Bp(r,a.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function bS(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Ah(this.It),t.removeTarget=e,this.Bo(t)}}class ZN extends oR{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function vS(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(i,r){let a=zi(i.updateTime?i.updateTime:r);return a.isEqual(Ft.min())&&(a=zi(r)),new sb(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.Zo(i,t)}return At(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ah(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wc(this.It,i))};this.Bo(t)}}class YN extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(_e.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(_e.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class XN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ci(t),this.ou=!1):je("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class JN{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,Ee.Z)(function*(){var g;zu(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ee.Z)(function*(v){const I=Je(v);I._u.add(4),yield y_(I),I.gu.set("Unknown"),I._u.delete(4),yield Mb(I)}),function(v){return g.apply(this,arguments)})(c))}))}),this.gu=new XN(i,r)}}function Mb(n){return YS.apply(this,arguments)}function YS(){return YS=(0,Ee.Z)(function*(n){if(zu(n))for(const e of n.wu)yield e(!0)}),YS.apply(this,arguments)}function y_(n){return QS.apply(this,arguments)}function QS(){return QS=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),QS.apply(this,arguments)}function UE(n,e){const t=Je(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ex(t)?JS(t):b_(t).ko()&&XS(t,e))}function Ab(n,e){const t=Je(n),i=b_(t);t.du.delete(e),i.ko()&&aR(t,e),0===t.du.size&&(i.ko()?i.Fo():zu(t)&&t.gu.set("Unknown"))}function XS(n,e){n.yu.Mt(e.targetId),b_(n).zo(e)}function aR(n,e){n.yu.Mt(e),b_(n).Ho(e)}function JS(n){n.yu=new gE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),b_(n).start(),n.gu.uu()}function ex(n){return zu(n)&&!b_(n).No()&&n.du.size>0}function zu(n){return 0===Je(n)._u.size}function lR(n){n.yu=void 0}function eF(n){return tx.apply(this,arguments)}function tx(){return tx=(0,Ee.Z)(function*(n){n.du.forEach((e,t)=>{XS(n,e)})}),tx.apply(this,arguments)}function tF(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,Ee.Z)(function*(n,e){lR(n),ex(n)?(n.gu.hu(e),JS(n)):n.gu.set("Unknown")}),nx.apply(this,arguments)}function nF(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,Ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof n_&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,a){const c=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,c),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield HE(n,i)}else if(e instanceof Vp?n.yu.Gt(e):e instanceof mE?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Ft.min()))try{const i=yield Yk(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.te(a);return c.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.du.get(g);v&&r.du.set(g,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const g=r.du.get(f);if(!g)return;r.du.set(f,g.withResumeToken(Ai.EMPTY_BYTE_STRING,g.snapshotVersion)),aR(r,f);const v=new Sl(g.target,f,1,g.sequenceNumber);XS(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield HE(n,i)}var i}),ix.apply(this,arguments)}function HE(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Ee.Z)(function*(n,e,t){if(!mc(e))throw e;n._u.add(1),yield y_(n),n.gu.set("Offline"),t||(t=()=>Yk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Mb(n)}))}),rx.apply(this,arguments)}function cR(n,e){return e().catch(t=>HE(n,t,e))}function v_(n){return sx.apply(this,arguments)}function sx(){return sx=(0,Ee.Z)(function*(n){const e=Je(n),t=Nh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;iF(e);)try{const r=yield HN(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,rF(e,r)}catch(r){yield HE(e,r)}uR(e)&&dR(e)}),sx.apply(this,arguments)}function iF(n){return zu(n)&&n.fu.length<10}function rF(n,e){n.fu.push(e);const t=Nh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function uR(n){return zu(n)&&!Nh(n).No()&&n.fu.length>0}function dR(n){Nh(n).start()}function sF(n){return ox.apply(this,arguments)}function ox(){return ox=(0,Ee.Z)(function*(n){Nh(n).eu()}),ox.apply(this,arguments)}function oF(n){return ax.apply(this,arguments)}function ax(){return ax=(0,Ee.Z)(function*(n){const e=Nh(n);for(const t of n.fu)e.Xo(t.mutations)}),ax.apply(this,arguments)}function aF(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,Ee.Z)(function*(n,e,t){const i=n.fu.shift(),r=Hp.from(i,e,t);yield cR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield v_(n)}),lx.apply(this,arguments)}function lF(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,Ee.Z)(function*(n,e){var t;e&&Nh(n).Yo&&(yield(t=(0,Ee.Z)(function*(i,r){if(ab(a=r.code)&&a!==_e.ABORTED){const c=i.fu.shift();Nh(i).Mo(),yield cR(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield v_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),uR(n)&&dR(n)}),cx.apply(this,arguments)}function hR(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,Ee.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=zu(t);t._u.add(3),yield y_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Mb(t)}),ux.apply(this,arguments)}function dx(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,Ee.Z)(function*(n,e){const t=Je(n);e?(t._u.delete(2),yield Mb(t)):e||(t._u.add(2),yield y_(t),t.gu.set("Unknown"))}),hx.apply(this,arguments)}function b_(n){return n.pu||(n.pu=function(e,t,i){const r=Je(e);return r.su(),new KN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:eF.bind(null,n),Zr:tF.bind(null,n),Wo:nF.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Mo(),ex(n)?JS(n):n.gu.set("Unknown")):(yield n.pu.stop(),lR(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Nh(n){return n.Iu||(n.Iu=function(e,t,i){const r=Je(e);return r.su(),new ZN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:sF.bind(null,n),Zr:lF.bind(null,n),tu:oF.bind(null,n),Zo:aF.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Iu.Mo(),yield v_(n)):(yield n.Iu.stop(),n.fu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class fx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,f=new fx(e,t,c,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w_(n,e){if(ci("AsyncQueue",`${e}: ${n}`),mc(n))return new Ve(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class C_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ye.comparator(t.key,i.key):(t,i)=>Ye.comparator(t.key,i.key),this.keyedMap=Sr(),this.sortedSet=new bi(this.comparator)}static emptySet(e){return new C_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof C_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new C_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class fR{constructor(){this.Tu=new bi(Ye.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):at():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class E_{constructor(e,t,i,r,a,c,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new E_(e,t,C_.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class cF{constructor(){this.Au=void 0,this.listeners=[]}}class uF{constructor(){this.queries=new nr(e=>eb(e),Mp),this.onlineState="Unknown",this.Ru=new Set}}function px(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new cF),r)try{a.Au=yield t.onListen(i)}catch(c){const f=w_(c,`Initialization of query '${Jg(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&yx(t)}),mx.apply(this,arguments)}function gx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_x.apply(this,arguments)}function dF(n,e){const t=Je(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const f of c.listeners)f.Pu(r)&&(i=!0);c.Au=r}}i&&yx(t)}function hF(n,e,t){const i=Je(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function yx(n){n.Ru.forEach(e=>{e.next()})}class vx{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new E_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=E_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class fF{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class pR{constructor(e){this.It=e}Ji(e){return xo(this.It,e)}Yi(e){return e.metadata.exists?hb(this.It,e.document,!1):Bn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return zi(e)}}class pF{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=fn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new pR(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const f=(t.get(c)||Zt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function jN(n,e,t,i){return jS.apply(this,arguments)}(e.localStore,new pR(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield $N(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function mR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gR{constructor(e){this.key=e}}class _R{constructor(e){this.key=e}}class yR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zt(),this.mutatedKeys=Zt(),this.Gu=cE(e),this.Qu=new C_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new fR,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,x)=>{const V=r.get(I),U=e_(this.query,x)?x:null,G=!!V&&this.mutatedKeys.has(V.key),ne=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ge=!1;V&&U?V.data.isEqual(U.data)?G!==ne&&(i.track({type:3,doc:U}),ge=!0):this.Hu(V,U)||(i.track({type:2,doc:U}),ge=!0,(g&&this.Gu(U,g)>0||v&&this.Gu(U,v)<0)&&(f=!0)):!V&&U?(i.track({type:0,doc:U}),ge=!0):V&&!U&&(i.track({type:1,doc:V}),ge=!0,(g||v)&&(f=!0)),ge&&(U?(c=c.add(U),a=ne?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Qu:c,zu:i,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,I)=>function(x,V){const U=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return U(x)-U(V)}(v.type,I.type)||this.Gu(v.doc,I.doc)),this.Ju(i);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,g=f!==this.qu;return this.qu=f,0!==a.length||g?{snapshot:new E_(this.query,e.Qu,r,a,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new _R(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new gR(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return E_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class mF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gF{constructor(e){this.key=e,this.nc=!1}}class _F{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new nr(f=>eb(f),Mp),this.rc=new Map,this.oc=new Set,this.uc=new bi(Ye.comparator),this.cc=new Map,this.ac=new NS,this.hc={},this.lc=new Map,this.fc=xl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function yF(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,Ee.Z)(function*(n,e){const t=$x(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const c=yield g_(t.localStore,Lr(e));t.isPrimaryClient&&UE(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield wx(t,e,i,"current"===f,c.resumeToken)}return r}),bx.apply(this,arguments)}function wx(n,e,t,i,r){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Ee.Z)(function*(n,e,t,i,r){n._c=(x,V,U)=>{return(G=(0,Ee.Z)(function*(ne,ge,Ge,lt){let yt=ge.view.Wu(Ge);yt.$i&&(yt=yield FE(ne.localStore,ge.query,!1).then(({documents:Vt})=>ge.view.Wu(Vt,yt)));const ft=lt&&lt.targetChanges.get(ge.targetId),Rt=ge.view.applyChanges(yt,ne.isPrimaryClient,ft);return Rx(ne,ge.targetId,Rt.Xu),Rt.snapshot}),function(ne,ge,Ge,lt){return G.apply(this,arguments)})(n,x,V,U);var G};const a=yield FE(n.localStore,e,!0),c=new yR(e,a.Hi),f=c.Wu(a.documents),g=Lp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(f,n.isPrimaryClient,g);Rx(n,t,v.Xu);const I=new mF(e,t,c);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),Cx.apply(this,arguments)}function vF(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ee.Z)(function*(n,e){const t=Je(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!Mp(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield __(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ab(t.remoteStore,i.targetId),I_(t,i.targetId)}).catch(Cl))):(I_(t,i.targetId),yield __(t.localStore,i.targetId,!0))}),Ex.apply(this,arguments)}function Ix(){return Ix=(0,Ee.Z)(function*(n,e,t){const i=zx(n);try{const r=yield function(a,c){const f=Je(a),g=Kn.now(),v=c.reduce((V,U)=>V.add(U.key),Zt());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=Tr(),G=Zt();return f.Gi.getEntries(V,v).next(ne=>{U=ne,U.forEach((ge,Ge)=>{Ge.isValidDocument()||(G=G.add(ge))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,U)).next(ne=>{I=ne;const ge=[];for(const Ge of c){const lt=uS(Ge,I.get(Ge.key).overlayedDocument);null!=lt&&ge.push(new bc(Ge.key,lt,wh(lt.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(V,g,ge,c)}).next(ne=>{x=ne;const ge=ne.applyToLocalDocumentSet(I,G);return f.documentOverlayCache.saveOverlays(V,ne.batchId,ge)})}).then(()=>({batchId:x.batchId,changes:hE(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,f){let g=a.hc[a.currentUser.toKey()];g||(g=new bi(Gt)),g=g.insert(c,f),a.hc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield Gu(i,r.changes),yield v_(i.remoteStore)}catch(r){const a=w_(r,"Failed to persist write");t.reject(a)}}),Ix.apply(this,arguments)}function vR(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,Ee.Z)(function*(n,e){const t=Je(n);try{const i=yield UN(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.cc.get(a);c&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?At(c.nc):r.removedDocuments.size>0&&(At(c.nc),c.nc=!1))}),yield Gu(t,i,e)}catch(i){yield Cl(i)}}),Dx.apply(this,arguments)}function bR(n,e,t){const i=Je(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,c)=>{const f=c.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,c){const f=Je(a);f.onlineState=c;let g=!1;f.queries.forEach((v,I)=>{for(const x of I.listeners)x.bu(c)&&(g=!0)}),g&&yx(f)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function wF(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ee.Z)(function*(n,e,t){const i=Je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let c=new bi(Ye.comparator);c=c.insert(a,Bn.newNoDocument(a,Ft.min()));const f=Zt().add(a),g=new Mh(Ft.min(),new Map,new Cn(Gt),c,f);yield vR(i,g),i.uc=i.uc.remove(a),i.cc.delete(e),Ox(i)}else yield __(i.localStore,e,!1).then(()=>I_(i,e,t)).catch(Cl)}),Tx.apply(this,arguments)}function CF(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.batch.batchId;try{const r=yield BN(t.localStore,e);kx(t,i,null),Ax(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Gu(t,r)}catch(r){yield Cl(r)}}),Sx.apply(this,arguments)}function EF(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=(0,Ee.Z)(function*(n,e,t){const i=Je(n);try{const r=yield function(a,c){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,c).next(I=>(At(null!==I),v=I.keys(),f.mutationQueue.removeMutationBatch(g,I))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);kx(i,e,t),Ax(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Gu(i,r)}catch(r){yield Cl(r)}}),xx.apply(this,arguments)}function Mx(){return Mx=(0,Ee.Z)(function*(n,e){const t=Je(n);zu(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=Je(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=w_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Mx.apply(this,arguments)}function Ax(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function kx(n,e,t){const i=Je(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function I_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||wR(n,i)})}function wR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Ab(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Ox(n))}function Rx(n,e,t){for(const i of t)i instanceof gR?(n.ac.addReference(i.key,e),DF(n,i)):i instanceof _R?(je("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||wR(n,i.key)):at()}function DF(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(je("SyncEngine","New document in limbo: "+t),n.oc.add(i),Ox(n))}function Ox(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ye(fn.fromString(e)),i=n.fc.next();n.cc.set(i,new gF(t)),n.uc=n.uc.insert(t,i),UE(n.remoteStore,new Sl(Lr(Bu(t.path)),i,2,ui.at))}}function Gu(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=[],a=[],c=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,g)=>{c.push(i._c(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const I=BS.Ci(g.targetId,v);a.push(I)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(f=(0,Ee.Z)(function*(g,v){const I=Je(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>he.forEach(v,V=>he.forEach(V.Si,U=>I.persistence.referenceDelegate.addReference(x,V.targetId,U)).next(()=>he.forEach(V.Di,U=>I.persistence.referenceDelegate.removeReference(x,V.targetId,U)))))}catch(x){if(!mc(x))throw x;je("LocalStore","Failed to update sequence numbers: "+x)}for(const x of v){const V=x.targetId;if(!x.fromCache){const U=I.Ui.get(V),ne=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);I.Ui=I.Ui.insert(V,ne)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,a))}),Px.apply(this,arguments)}function TF(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Ee.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield Zk(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new Ve(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Gu(t,i.ji)}var r}),Nx.apply(this,arguments)}function SF(n,e){const t=Je(n),i=t.cc.get(e);if(i&&i.nc)return Zt().add(i.key);{let r=Zt();const a=t.rc.get(e);if(!a)return r;for(const c of a){const f=t.ic.get(c);r=r.unionWith(f.view.ju)}return r}}function xF(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ee.Z)(function*(n,e){const t=Je(n),i=yield FE(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&Rx(t,e.targetId,r.Xu),r}),Fx.apply(this,arguments)}function MF(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ee.Z)(function*(n,e){const t=Je(n);return Jk(t.localStore,e).then(i=>Gu(t,i))}),Lx.apply(this,arguments)}function AF(n,e,t,i){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n),a=yield function(c,f){const g=Je(c),v=Je(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>v.Tn(I,f).next(x=>x?g.localDocuments.getDocuments(I,x):he.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield v_(r.remoteStore):"acknowledged"===t||"rejected"===t?(kx(r,e,i||null),Ax(r,e),f=e,Je(Je(r.localStore).mutationQueue).An(f)):at(),yield Gu(r,a)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vx.apply(this,arguments)}function Bx(){return Bx=(0,Ee.Z)(function*(n,e){const t=Je(n);if($x(t),zx(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CR(t,i.toArray());t.dc=!0,yield dx(t.remoteStore,!0);for(const a of r)UE(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(I_(t,c),__(t.localStore,c,!0))),Ab(t.remoteStore,c)}),yield r,yield CR(t,i),function(a){const c=Je(a);c.cc.forEach((f,g)=>{Ab(c.remoteStore,g)}),c.ac.fs(),c.cc=new Map,c.uc=new bi(Ye.comparator)}(t),t.dc=!1,yield dx(t.remoteStore,!1)}}),Bx.apply(this,arguments)}function CR(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=[],a=[];for(const c of e){let f;const g=i.rc.get(c);if(g&&0!==g.length){f=yield g_(i.localStore,Lr(g[0]));for(const v of g){const I=i.ic.get(v),x=yield xF(i,I);x.snapshot&&a.push(x.snapshot)}}else{const v=yield Xk(i.localStore,c);f=yield g_(i.localStore,v),yield wx(i,ER(v),c,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(a),r}),Ux.apply(this,arguments)}function ER(n){return lE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RF(n){const e=Je(n);return Je(Je(e.localStore).persistence).vi()}function OF(n,e,t,i){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n);if(r.dc)return void je("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield Jk(r.localStore,tb(a[0])),f=Mh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield Gu(r,c,f);break}case"rejected":yield __(r.localStore,e,!0),I_(r,e,i);break;default:at()}}),Hx.apply(this,arguments)}function PF(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,Ee.Z)(function*(n,e,t){const i=$x(n);if(i.dc){for(const r of e){if(i.rc.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const a=yield Xk(i.localStore,r),c=yield g_(i.localStore,a);yield wx(i,ER(a),c.targetId,!1,c.resumeToken),UE(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield __(i.localStore,r,!1).then(()=>{Ab(i.remoteStore,r),I_(i,r)}).catch(Cl))}}),jx.apply(this,arguments)}function $x(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.sc.Wo=dF.bind(null,e.eventManager),e.sc.wc=hF.bind(null,e.eventManager),e}function zx(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EF.bind(null,e),e}class IR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.It=xb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Kk(this.persistence,new qk,e.initialUser,this.It)}yc(e){return new Gk(PE.Bs,this.It)}gc(e){return new iR}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class DR extends IR{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield zx(i.Ac.syncEngine),yield v_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Kk(this.persistence,new qk,e.initialUser,this.It)}Tc(e,t){return new IN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new jv(t,this.persistence);return new ZT(e.asyncQueue,i)}yc(e){const t=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Se.withCacheSize(this.cacheSizeBytes):Se.DEFAULT;return new LS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sR(),BE(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new iR}}class FF extends DR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof qS&&(i.sharedClientState.syncEngine={Fr:AF.bind(null,r),$r:OF.bind(null,r),Br:PF.bind(null,r),vi:RF.bind(null,r),Mr:MF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,Ee.Z)(function*(c){yield function kF(n,e){return Bx.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=sR();if(!qS.C(t))throw new Ve(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Gx{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>bR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,i.syncEngine),yield dx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uF}createDatastore(e){const t=xb(e.databaseInfo.databaseId),i=new qN(e.databaseInfo);return new YN(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>bR(this.syncEngine,f,0),c=rR.C()?new rR:new zN,new JN(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,f,g,v){const I=new _F(i,r,a,c,f,g);return v&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=Je(t);je("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield y_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wx(n,e,t){if(!t)throw new Ve(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TR(n,e,t,i){if(!0===e&&!0===i)throw new Ve(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SR(n){if(!Ye.isDocumentKey(n))throw new Ve(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xR(n){if(Ye.isDocumentKey(n))throw new Ve(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jE(n);throw new Ve(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MR(n,e){if(e<=0)throw new Ve(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const AR=new Map;class kR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $T;switch(t.type){case"gapi":return new $C(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AR.get(e);t&&(je("ComponentProvider","Removing Datastore"),AR.delete(e),t.terminate())}(this),Promise.resolve()}}class di{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new di(this.firestore,e,this._key)}}class Yr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class Dc extends Yr{constructor(e,t,i){super(e,t,Bu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new Ye(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function OR(n,e,...t){if(n=(0,on.m9)(n),Wx("collection","path",e),n instanceof kb){const i=fn.fromString(e,...t);return xR(i),new Dc(n,null,i)}{if(!(n instanceof di||n instanceof Dc))throw new Ve(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return xR(i),new Dc(n.firestore,null,i)}}function $E(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=GC.R()),Wx("doc","path",e),n instanceof kb){const i=fn.fromString(e,...t);return SR(i),new di(n,null,new Ye(i))}{if(!(n instanceof di||n instanceof Dc))throw new Ve(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return SR(i),new di(n.firestore,n instanceof Dc?n.converter:null,new Ye(i))}}function PR(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof di||n instanceof Dc)&&(e instanceof di||e instanceof Dc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qx(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof Yr&&e instanceof Yr&&n.firestore===e.firestore&&Mp(n._query,e._query)&&n.converter===e.converter}function NR(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VF{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new $i,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new fF(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class HF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(a,c){const f=Je(a),g=Ah(f.It)+"/documents",v={documents:c.map(U=>Up(f.It,U))},I=yield f._o("BatchGetDocuments",g,v,c.length),x=new Map;I.forEach(U=>{const G=function bE(n,e){return"found"in e?function(t,i){At(!!i.found);const r=xo(t,i.found.name),a=zi(i.found.updateTime),c=new tr({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(r,a,c)}(n,e):"missing"in e?function(t,i){At(!!i.missing),At(!!i.readTime);const r=xo(t,i.missing),a=zi(i.readTime);return Bn.newNoDocument(r,a)}(n,e):at()}(f.It,U);x.set(G.key.toString(),G)});const V=[];return c.forEach(U=>{const G=x.get(U.toString());At(!!G),V.push(G)}),V}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new xh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ye.fromPath(r);e.mutations.push(new ob(a,e.precondition(a)))}),yield(i=(0,Ee.Z)(function*(r,a){const c=Je(r),f=Ah(c.It)+"/documents",g={writes:a.map(v=>wc(c.It,v))};yield c.ao("Commit",f,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Ft.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ve(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ft.min())?Zn.exists(!1):Zn.updateTime(t):Zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ft.min()))throw new Ve(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zn.updateTime(t)}return Zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jF{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new KS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ee.Z)(function*(){const t=new HF(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ab(t)}return!1}}class $F{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Mi.UNAUTHENTICATED,this.clientId=GC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ee.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=w_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function FR(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(a){i.isEqual(a)||(yield Zk(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Kx.apply(this,arguments)}function LR(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Yx(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>hR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>hR(e.remoteStore,a)),n.onlineComponents=e}),Zx.apply(this,arguments)}function Yx(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Ee.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield FR(n,new IR)),n.offlineComponents}),Qx.apply(this,arguments)}function GE(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Ee.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield LR(n,new Gx)),n.onlineComponents}),Xx.apply(this,arguments)}function VR(n){return Yx(n).then(e=>e.persistence)}function WE(n){return Yx(n).then(e=>e.localStore)}function Jx(n){return GE(n).then(e=>e.remoteStore)}function eM(n){return GE(n).then(e=>e.syncEngine)}function D_(n){return tM.apply(this,arguments)}function tM(){return tM=(0,Ee.Z)(function*(n){const e=yield GE(n),t=e.eventManager;return t.onListen=yF.bind(null,e.syncEngine),t.onUnlisten=vF.bind(null,e.syncEngine),t}),tM.apply(this,arguments)}function UR(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,f,g){const v=new zE({next:x=>{a.enqueueAndForget(()=>gx(r,I));const V=x.docs.has(c);!V&&x.fromCache?g.reject(new Ve(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&f&&"server"===f.source?g.reject(new Ve(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),I=new vx(Bu(c.path),v,{includeMetadataChanges:!0,Nu:!0});return px(r,I)}(yield D_(n),n.asyncQueue,e,t,i)})),i.promise}function HR(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,c,f,g){const v=new zE({next:x=>{a.enqueueAndForget(()=>gx(r,I)),x.fromCache&&"server"===f.source?g.reject(new Ve(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),I=new vx(c,v,{includeMetadataChanges:!0,Nu:!0});return px(r,I)}(yield D_(n),n.asyncQueue,e,t,i)})),i.promise}class QF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new KS(this,"async_queue_retry"),this.Wc=()=>{const t=BE();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=BE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=BE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new $i;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!mc(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,ci("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=fx.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.qc.push(r),r}zc(){this.Kc&&at()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function nM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class XF{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hi extends kb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new QF,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jR(this),this._firestoreClient.terminate()}}function Gi(n){return n._firestoreClient||jR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jR(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XC(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new $F(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $R(n,e,t){const i=new $i;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield FR(n,t),yield LR(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===_e.FAILED_PRECONDITION||c.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Mu("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function zR(n){if(n._initialized||n._terminated)throw new Ve(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Ai.fromBase64String(e))}catch(t){throw new Ve(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tc(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._methodName=e}}class qE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const lL=/^__.*__$/;class cL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new bc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sh(e,this.data,t,this.fieldTransforms)}}class GR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new bc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class KE{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new KE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return QE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(WR(this.sa)&&lL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class uL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||xb(e)}da(e,t,i,r=!1){return new KE({sa:e,methodName:t,fa:i,path:vi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Gp(n){const e=n._freezeSettings(),t=xb(n._databaseId);return new uL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZE(n,e,t,i,r,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,r);oM("Data must be an object, but it was:",c,i);const f=ZR(i,c);let g,v;if(a.merge)g=new Ds(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const V=aM(e,x,t);if(!c.contains(V))throw new Ve(_e.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QR(I,V)||I.push(V)}g=new Ds(I),v=c.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,v=c.fieldTransforms;return new cL(new tr(f),g,v)}class Rb extends zp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rb}}function qR(n,e,t){return new KE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class iM extends zp{_toFieldTransform(e){return new Th(e.path,new Ap)}isEqual(e){return e instanceof iM}}class dL extends zp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qR(this,e,!0),i=this._a.map(a=>Wp(a,t)),r=new Dh(i);return new Th(e.path,r)}isEqual(e){return this===e}}class hL extends zp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qR(this,e,!0),i=this._a.map(a=>Wp(a,t)),r=new Ta(i);return new Th(e.path,r)}isEqual(e){return this===e}}class fL extends zp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Uu(e.It,rS(e.It,this.wa));return new Th(e.path,t)}isEqual(e){return this===e}}function rM(n,e,t,i){const r=n.da(1,e,t);oM("Data must be an object, but it was:",r,i);const a=[],c=tr.empty();Ca(i,(g,v)=>{const I=YE(e,g,t);v=(0,on.m9)(v);const x=r.ca(I);if(v instanceof Rb)a.push(I);else{const V=Wp(v,x);null!=V&&(a.push(I),c.set(I,V))}});const f=new Ds(a);return new GR(c,f,r.fieldTransforms)}function sM(n,e,t,i,r,a){const c=n.da(1,e,t),f=[aM(e,i,t)],g=[r];if(a.length%2!=0)throw new Ve(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)f.push(aM(e,a[V])),g.push(a[V+1]);const v=[],I=tr.empty();for(let V=f.length-1;V>=0;--V)if(!QR(v,f[V])){const U=f[V];let G=g[V];G=(0,on.m9)(G);const ne=c.ca(U);if(G instanceof Rb)v.push(U);else{const ge=Wp(G,ne);null!=ge&&(v.push(U),I.set(U,ge))}}const x=new Ds(v);return new GR(I,x,c.fieldTransforms)}function KR(n,e,t,i=!1){return Wp(t,n.da(i?4:3,e))}function Wp(n,e){if(YR(n=(0,on.m9)(n)))return oM("Unsupported field value:",e,n),ZR(n,e);if(n instanceof zp)return function(t,i){if(!WR(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let f=Wp(c,i.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rS(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:Bp(i.It,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bp(i.It,r)}}if(t instanceof qE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tc)return{bytesValue:_E(i.It,t._byteString)};if(t instanceof di){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:yE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${jE(t)}`)}(n,e)}function ZR(n,e){const t={};return yh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(i,r)=>{const a=Wp(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function YR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof qE||n instanceof Tc||n instanceof di||n instanceof zp)}function oM(n,e,t){if(!YR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jE(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function aM(n,e,t){if((e=(0,on.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return YE(n,e);throw QE("Field path arguments must be of type string or ",n,!1,void 0,t)}const pL=new RegExp("[~\\*/\\[\\]]");function YE(n,e,t){if(e.search(pL)>=0)throw QE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw QE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function QE(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||c)&&(g+=" (found",a&&(g+=` in field ${i}`),c&&(g+=` in document ${r}`),g+=")"),new Ve(_e.INVALID_ARGUMENT,f+n+g)}function QR(n,e){return n.some(t=>t.isEqual(e))}class Ob{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mL extends Ob{data(){return super.data()}}function XE(n,e){return"string"==typeof e?YE(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function XR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pb{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class gL extends Pb{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Gp(e.firestore),i=function(r,a,c,f,g,v,I){let x;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ve(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){rO(I,v);const U=[];for(const G of I)U.push(iO(f,r,G));x={arrayValue:{values:U}}}else x=iO(f,r,I)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||rO(I,v),x=KR(c,"where",I,"in"===v||"not-in"===v);const V=ki.create(g,v,x);return function(U,G){if(G.dt()){const ge=Qg(U);if(null!==ge&&!ge.isEqual(G.field))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ge.toString()}' and '${G.field.toString()}'`);const Ge=Jv(U);null!==Ge&&sO(0,G.field,Ge)}const ne=function(ge,Ge){for(const lt of ge.filters)if(Ge.indexOf(lt.op)>=0)return lt.op;return null}(U,function(ge){switch(ge){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Ve(_e.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(r,V),V}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Yr(e.firestore,e.converter,function(r,a){const c=r.filters.concat([a]);return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class yL extends Pb{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Sp(r,a);return function(f,g){if(null===Jv(f)){const v=Qg(f);null!==v&&sO(0,v,g.field)}}(i,c),c}(e._query,this.ma,this.pa);return new Yr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Dl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class JR extends Pb{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new Yr(e.firestore,e.converter,xp(e._query,this.Ia,this.Ta))}}class eO extends Pb{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=nO(e,this.type,this.Ea,this.Aa);return new Yr(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tO extends Pb{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=nO(e,this.type,this.Ea,this.Aa);return new Yr(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function nO(n,e,t,i){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof Ob)return function(r,a,c,f,g){if(!f)throw new Ve(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const I of Ih(r))if(I.field.isKeyField())v.push(yc(a,f.key));else{const x=f.data.field(I.field);if(QC(x))throw new Ve(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=I.field.canonicalString();throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}v.push(x)}return new Da(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Gp(n.firestore);return function(a,c,f,g,v,I){const x=a.explicitOrderBy;if(v.length>x.length)throw new Ve(_e.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let U=0;U<v.length;U++){const G=v[U];if(x[U].field.isKeyField()){if("string"!=typeof G)throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!Xg(a)&&-1!==G.indexOf("/"))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const ne=a.path.child(fn.fromString(G));if(!Ye.isDocumentKey(ne))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const ge=new Ye(ne);V.push(yc(c,ge))}else{const ne=KR(f,g,G);V.push(ne)}}return new Da(V,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function iO(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xg(e)&&-1!==t.indexOf("/"))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(fn.fromString(t));if(!Ye.isDocumentKey(i))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yc(n,new Ye(i))}if(t instanceof di)return yc(n,t._key);throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jE(t)}.`)}function rO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sO(n,e,t){if(!t.isEqual(e))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lM{convertValue(e,t="none"){switch(_c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const i={};return Ca(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new qE(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=El(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=fn.fromString(e);At(ES(i));const r=new Ea(i.get(1),i.get(3)),a=new Ye(i.popFirst(5));return r.isEqual(t)||ci(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function JE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class TL extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}class qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends Ob{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nb extends qu{data(e={}){return super.data(e)}}class Lh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nb(this._firestore,this._userDataWriter,i.key,i,new qp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Nb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const f=new Nb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==c.type&&(g=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:SL(c.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function oO(n,e){return n instanceof qu&&e instanceof qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lh&&e instanceof Lh&&n._firestore===e._firestore&&qx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Vh extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}function aO(n,e,t){n=dn(n,di);const i=dn(n.firestore,hi),r=JE(n.converter,e,t);return T_(i,[ZE(Gp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Zn.none())])}function lO(n,e,t,...i){n=dn(n,di);const r=dn(n.firestore,hi),a=Gp(r);let c;return c="string"==typeof(e=(0,on.m9)(e))||e instanceof Wu?sM(a,"updateDoc",n._key,e,t,i):rM(a,"updateDoc",n._key,e),T_(r,[c.toMutation(n._key,Zn.exists(!0))])}function cO(n,...e){var t,i,r;n=(0,on.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||nM(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let g,v,I;if(n instanceof di)v=dn(n.firestore,hi),I=Bu(n._key.path),g={next:x=>{e[c]&&e[c](cM(v,n,x))},error:e[c+1],complete:e[c+2]};else{const x=dn(n,Yr);v=dn(x.firestore,hi),I=x._query;const V=new Vh(v);g={next:U=>{e[c]&&e[c](new Lh(v,V,x,U))},error:e[c+1],complete:e[c+2]},XR(n._query)}return function(x,V,U,G){const ne=new zE(G),ge=new vx(V,ne,U);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return px(yield D_(x),ge)})),()=>{ne.bc(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return gx(yield D_(x),ge)}))}}(Gi(v),I,f,g)}function T_(n,e){return function(t,i){const r=new $i;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function bF(n,e,t){return Ix.apply(this,arguments)}(yield eM(t),i,r)})),r.promise}(Gi(n),e)}function cM(n,e,t){const i=t.docs.get(e._key),r=new Vh(n);return new qu(n,r,e._key,i,new qp(t.hasPendingWrites,t.fromCache),e.converter)}const LL={maxAttempts:5};class uO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gp(e)}set(e,t,i){this._verifyNotCommitted();const r=Bh(e,this._firestore),a=JE(r.converter,t,i),c=ZE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Zn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Bh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof Wu?sM(this._dataReader,"WriteBatch.update",a._key,t,i,r):rM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new xh(t._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Ve(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class VL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gp(e)}get(e){const t=Bh(e,this._firestore),i=new TL(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return at();const a=r[0];if(a.isFoundDocument())return new Ob(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Ob(this._firestore,i,t._key,null,t.converter);throw at()})}set(e,t,i){const r=Bh(e,this._firestore),a=JE(r.converter,t,i),c=ZE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=Bh(e,this._firestore);let c;return c="string"==typeof(t=(0,on.m9)(t))||t instanceof Wu?sM(this._dataReader,"Transaction.update",a._key,t,i,r):rM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bh(e,this._firestore),i=new Vh(this._firestore);return super.get(e).then(r=>new qu(this._firestore,i,t._key,r._document,new qp(!1,!1),t.converter))}}function uM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hO(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function fO(){if(!function YC(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){pc=Ks.SDK_VERSION,(0,Ks._registerComponent)(new yl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new hi(new Vv(t.getProvider("auth-internal")),new zC(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(f.options.projectId,g)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Ks.registerVersion)(UC,"3.7.3",n),(0,Ks.registerVersion)(UC,"3.7.3","esm2017")}();class Fb{constructor(e){this._delegate=e}static fromBase64String(e){return fO(),new Fb(Tc.fromBase64String(e))}static fromUint8Array(e){return hO(),new Fb(Tc.fromUint8Array(e))}toBase64(){return fO(),this._delegate.toBase64()}toUint8Array(){return hO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dM(n){return function qL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class KL{enableIndexedDbPersistence(e,t){return function eL(n,e){zR(n=dn(n,hi));const t=Gi(n),i=n._freezeSettings(),r=new Gx;return $R(t,r,new DR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tL(n){zR(n=dn(n,hi));const e=Gi(n),t=n._freezeSettings(),i=new Gx;return $R(e,i,new FF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nL(n){if(n._initialized&&!n._terminated)throw new Ve(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!So.C())return Promise.resolve();const r=i+"main";yield So.delete(r)}),function(i){return t.apply(this,arguments)})(VS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ea||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function RR(n,e,t,i={}){var r;const a=(n=dn(n,kb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Mu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,f;if("string"==typeof i.mockUserToken)c=i.mockUserToken,f=Mi.MOCK_USER;else{c=(0,on.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ve(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Mi(g)}n._authCredentials=new HC(new Hg(c,f))}}(this._delegate,e,t,i)}enableNetwork(){return function rL(n){return function zF(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield VR(n),t=yield Jx(n);return e.setNetworkEnabled(!0),function(i){const r=Je(i);return r._u.delete(0),Mb(r)}(t)}))}(Gi(n=dn(n,hi)))}(this._delegate)}disableNetwork(){return function sL(n){return function GF(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield VR(n),t=yield Jx(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const a=Je(r);a._u.add(0),yield y_(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Gi(n=dn(n,hi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,TR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function iL(n){return function(e){const t=new $i;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function IF(n,e){return Mx.apply(this,arguments)}(yield eM(e),t)})),t.promise}(Gi(n=dn(n,hi)))}(this._delegate)}onSnapshotsInSync(e){return function FL(n,e){return function KF(n,e){const t=new zE(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield D_(n),r=t,Je(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield D_(n),r=t,void Je(i).Ru.delete(r);var i,r}))}}(Gi(n=dn(n,hi)),nM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new S_(this,OR(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,$E(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function LF(n,e){if(n=dn(n,kb),Wx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yr(n,null,(t=e,new Dl(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function BL(n,e,t){n=dn(n,hi);const i=Object.assign(Object.assign({},LL),t);return function(r){if(r.maxAttempts<1)throw new Ve(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const f=new $i;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const g=yield function BR(n){return GE(n).then(e=>e.datastore)}(r);new jF(r.asyncQueue,g,c,a,f).run()})),f.promise}(Gi(n),r=>e(new VL(n,r)),i)}(this._delegate,t=>e(new mO(this,t)))}batch(){return Gi(this._delegate),new gO(new uO(this._delegate,e=>T_(this._delegate,e)))}loadBundle(e){return function oL(n,e){const t=Gi(n=dn(n,hi)),i=new XF;return function ZF(n,e,t,i){const r=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return NR(g,v);if(g instanceof ArrayBuffer)return NR(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new VF(g,c);var g}(t,xb(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function NF(n,e,t){const i=Je(n);var r;(r=(0,Ee.Z)(function*(a,c,f){try{const g=yield c.getMetadata();if(yield function(V,U){const G=Je(V),ne=zi(U.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ge=>G.Ns.getBundleMetadata(ge,U.id)).then(ge=>!!ge&&ge.createTime.compareTo(ne)>=0)}(a.localStore,g))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=g).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(mR(g));const v=new pF(g,a.localStore,c.It);let I=yield c.mc();for(;I;){const V=yield v.Fu(I);V&&f._updateProgress(V),I=yield c.mc()}const x=yield v.complete();return yield Gu(a,x.Lu,void 0),yield function(V,U){const G=Je(V);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.Ns.saveBundleMetadata(ne,U))}(a.localStore,g),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(g){return Mu("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var V}),function(a,c,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function aL(n,e){return function YF(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=Je(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield WE(n),e)}))}(Gi(n=dn(n,hi)),e).then(t=>t?new Yr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class eI extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fb(new Tc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class mO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}get(e){const t=Zp(e);return this._delegate.get(t).then(i=>new Lb(this._firestore,new qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Zp(e);return i?(uM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}}class gO{constructor(e){this._delegate=e}set(e,t,i){const r=Zp(e);return i?(uM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Zp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Nb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Kp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Kp(e,new eI(e),t),r.set(t,a)),a}}Kp.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new di(t._delegate,i,new Ye(e)))}static forKey(e,t,i){return new Aa(t,new di(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new S_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new S_(this.firestore,OR(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof di&&PR(this._delegate,e)}set(e,t){t=uM("DocumentReference.set",t);try{return t?aO(this._delegate,e,t):aO(this._delegate,e)}catch(i){throw Ss(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lO(this._delegate,e):lO(this._delegate,e,t,...i)}catch(r){throw Ss(r,"updateDoc()","DocumentReference.update()")}}delete(){return function PL(n){return T_(dn(n.firestore,hi),[new xh(n._key,Zn.none())])}(this._delegate)}onSnapshot(...e){const t=_O(e),i=yO(e,r=>new Lb(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function ML(n){n=dn(n,di);const e=dn(n.firestore,hi),t=Gi(e),i=new Vh(e);return function WF(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const f=yield function(g,v){const I=Je(g);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,v))}(r,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ve(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=w_(f,`Failed to get document '${a} from cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield WE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new qu(e,i,n._key,r,new qp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function AL(n){n=dn(n,di);const e=dn(n.firestore,hi);return UR(Gi(e),n._key,{source:"server"}).then(t=>cM(e,n,t))}(this._delegate):function xL(n){n=dn(n,di);const e=dn(n.firestore,hi);return UR(Gi(e),n._key).then(t=>cM(e,n,t))}(this._delegate),t.then(i=>new Lb(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function _O(n){for(const e of n)if("object"==typeof e&&!dM(e))return e;return{}}function yO(n,e){var t,i;let r;return r=dM(n[0])?n[0]:dM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Lb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oO(this._delegate,e._delegate)}}class Vb extends Lb{data(e){const t=this._delegate.data(e);return function jT(n,e){n||at()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}where(e,t,i){try{return new xs(this.firestore,Fh(this._delegate,function _L(n,e,t){const i=e,r=XE("where",n);return new gL(r,i,t)}(e,t,i)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Fh(this._delegate,function vL(n,e="asc"){const t=e,i=XE("orderBy",n);return new yL(i,t)}(e,t)))}catch(i){throw Ss(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Fh(this._delegate,function bL(n){return MR("limit",n),new JR("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Fh(this._delegate,function wL(n){return MR("limitToLast",n),new JR("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Fh(this._delegate,function CL(...n){return new eO("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Fh(this._delegate,function EL(...n){return new eO("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Fh(this._delegate,function IL(...n){return new tO("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Fh(this._delegate,function DL(...n){return new tO("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return qx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RL(n){n=dn(n,Yr);const e=dn(n.firestore,hi),t=Gi(e),i=new Vh(e);return function qF(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,c){try{const f=yield FE(r,a,!0),g=new yR(a,f.Hi),v=g.Wu(f.documents),I=g.applyChanges(v,!1);c.resolve(I.snapshot)}catch(f){const g=w_(f,`Failed to execute query '${a} against cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield WE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Lh(e,i,n,r))}(this._delegate):"server"===e?.source?function OL(n){n=dn(n,Yr);const e=dn(n.firestore,hi),t=Gi(e),i=new Vh(e);return HR(t,n._query,{source:"server"}).then(r=>new Lh(e,i,n,r))}(this._delegate):function kL(n){n=dn(n,Yr);const e=dn(n.firestore,hi),t=Gi(e),i=new Vh(e);return XR(n._query),HR(t,n._query).then(r=>new Lh(e,i,n,r))}(this._delegate),t.then(i=>new hM(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=_O(e),i=yO(e,r=>new hM(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cO(this._delegate,t,i)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}class YL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Vb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Vb(this._firestore,i))})}isEqual(e){return oO(this._delegate,e._delegate)}}class S_ extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?$E(this._delegate):$E(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function NL(n,e){const t=dn(n.firestore,hi),i=$E(n),r=JE(n.converter,e);return T_(t,[ZE(Gp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return PR(this._delegate,e._delegate)}withConverter(e){return new S_(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function Zp(n){return dn(n,di)}class fM{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new fM(vi.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function HL(){return new iM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yp(e)}static delete(){const e=function UL(){return new Rb("deleteField")}();return e._methodName="FieldValue.delete",new Yp(e)}static arrayUnion(...e){const t=function jL(...n){return new dL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yp(t)}static arrayRemove(...e){const t=function $L(...n){return new hL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yp(t)}static increment(e){const t=function zL(n){return new fL("increment",n)}(e);return t._methodName="FieldValue.increment",new Yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QL={Firestore:pO,GeoPoint:qE,Timestamp:Kn,Blob:Fb,Transaction:mO,WriteBatch:gO,DocumentReference:Aa,DocumentSnapshot:Lb,Query:xs,QueryDocumentSnapshot:Vb,QuerySnapshot:hM,CollectionReference:S_,FieldPath:fM,FieldValue:Yp,setLogLevel:function ZL(n){!function HT(n){wl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function JL(n){(function XL(n,e){n.INTERNAL.registerComponent(new yl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},QL)))})(n,(e,t)=>new pO(e,t,new KL)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(eh.Z);var pM=F(6451),tI=F(5363),eV=F(6063);class tV extends nn.x{constructor(e=1/0,t=1/0,i=eV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=c;g+=2)f=g;f&&i.splice(0,f+1)}}}var vO=F(3099);function bO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,vO.B)({connector:()=>new tV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function wO(n,e){return(0,qs.m)(e)?vn(()=>n,e):vn(()=>n)}var mM=F(9468);F(5867);const _M=new Map,EO={activated:!1,tokenObservers:[]},oV={initialized:!1,enabled:!1};function Vr(n){return _M.get(n)||Object.assign({},EO)}function iI(){return oV}class hV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function fV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DO(n){if(!Vr(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function bM(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,Ee.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const U=yield c.getHeartbeatsHeader();U&&(a["X-Firebase-Client"]=U)}const f={method:"POST",body:JSON.stringify(e),headers:a};let g,v;try{g=yield fetch(n,f)}catch(U){throw Ms.create("fetch-network-error",{originalErrorMessage:null===(i=U)||void 0===i?void 0:i.message})}if(200!==g.status)throw Ms.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(U){throw Ms.create("fetch-parse-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const x=1e3*Number(I[1]),V=Date.now();return{token:v.token,expireTimeMillis:V+x,issuedAtTimeMillis:V}}),wM.apply(this,arguments)}function _V(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Bb="firebase-app-check-store";let oI=null;function SO(){return oI||(oI=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Ms.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bb,{keyPath:"compositeKey"})}}catch(i){e(Ms.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),oI)}function CM(){return CM=(0,Ee.Z)(function*(n,e){const i=(yield SO()).transaction(Bb,"readwrite"),a=i.objectStore(Bb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=g=>{c()},i.onerror=g=>{var v;f(Ms.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),CM.apply(this,arguments)}const Ub=new bs.Yd("@firebase/app-check");function DM(n,e){return(0,on.hl)()?function wV(n,e){return function xO(n,e){return CM.apply(this,arguments)}(function AO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ub.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kO(){return iI().enabled}function RO(){return SM.apply(this,arguments)}function SM(){return SM=(0,Ee.Z)(function*(){const n=iI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SM.apply(this,arguments)}const SV={error:"UNKNOWN_ERROR"};function xV(n){return on.US.encodeString(JSON.stringify(n),!1)}function aI(n){return xM.apply(this,arguments)}function xM(){return xM=(0,Ee.Z)(function*(n,e=!1){const t=n.app;DO(t);const i=Vr(t);let a,r=i.token;if(r&&!x_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(x_(g)?r=g:yield DM(t,void 0))}if(!e&&r&&x_(r))return{token:r.token};let f,c=!1;if(kO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=bM(_V(t,yield RO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const g=yield i.exchangeTokenPromise;return yield DM(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Vr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Ub.warn(g.message):Ub.error(g),a=g}return r?a?f=x_(r)?{token:r.token,internalError:a}:NO(a):(f={token:r.token},i.token=r,yield DM(t,r)):f=NO(a),c&&PO(t,f),f}),xM.apply(this,arguments)}function AM(n,e){const t=Vr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function OO(n){const{app:e}=n,t=Vr(e);let i=t.tokenRefresher;i||(i=function MV(n){const{app:e}=n;return new hV((0,Ee.Z)(function*(){let i;if(i=Vr(e).token?yield aI(n,!0):yield aI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Vr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function PO(n,e){const t=Vr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function x_(n){return n.expireTimeMillis-Date.now()>0}function NO(n){return{token:xV(SV),error:n}}class AV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vr(this.app);for(const t of e)AM(this.app,t.next);return Promise.resolve()}}const $O="app-check-internal";!function zV(){(0,Ks._registerComponent)(new yl.wA("app-check",n=>function kV(n,e){return new AV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($O).initialize()})),(0,Ks._registerComponent)(new yl.wA($O,n=>function RV(n){return{getToken:e=>aI(n,e),addTokenListener:e=>function MM(n,e,t,i){const{app:r}=n,a=Vr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&x_(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),OO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>OO(n))}(n,"INTERNAL",e),removeTokenListener:e=>AM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ks.registerVersion)("@firebase/app-check","0.5.17")}();class PM{constructor(){return(0,_i.vb)("app-check")}}typeof window<"u"&&window,F(127);const GO=new u.OlP("angularfire2.auth.use-emulator"),WO=new u.OlP("angularfire2.auth.settings"),qO=new u.OlP("angularfire2.auth.tenant-id"),KO=new u.OlP("angularfire2.auth.langugage-code"),ZO=new u.OlP("angularfire2.auth.use-device-language"),YO=new u.OlP("angularfire.auth.persistence"),QO=(n,e,t,i,r,a,c,f)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),c)for(const[v,I]of Object.entries(c))g.settings[v]=I;return f&&g.setPersistence(f),g},[t,i,r,a,c,f]);let cI=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U){const G=new nn.x,ne=ct(void 0).pipe((0,tI.Q)(c.outsideAngular),vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,ht.U)(()=>(0,Er.on)(t,a,i)),(0,ht.U)(ge=>QO(ge,a,f,v,I,x,g,V)),bO({bufferSize:1,refCount:!1}));if(Uo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ne.pipe(dl()).subscribe();const Ge=ne.pipe(vn(ft=>ft.getRedirectResult().then(Rt=>Rt,()=>null)),_i.iC,bO({bufferSize:1,refCount:!1})),lt=ne.pipe(vn(ft=>new pi.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>ft.onAuthStateChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))})))),yt=ne.pipe(vn(ft=>new pi.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>ft.onIdTokenChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))}))));this.authState=Ge.pipe(wO(lt),(0,mM.R)(c.outsideAngular),(0,tI.Q)(c.insideAngular)),this.user=Ge.pipe(wO(yt),(0,mM.R)(c.outsideAngular),(0,tI.Q)(c.insideAngular)),this.idToken=this.user.pipe(vn(ft=>ft?(0,hn.D)(ft.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(vn(ft=>ft?(0,hn.D)(ft.getIdTokenResult()):ct(null))),this.credential=(0,pM.T)(Ge,G,this.authState.pipe(gi(ft=>!ft))).pipe((0,ht.U)(ft=>ft?.user?ft:null),(0,mM.R)(c.outsideAngular),(0,tI.Q)(c.insideAngular))}return(0,Er.pX)(this,ne,a,{spy:{apply:(ge,Ge,lt)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&lt.then(yt=>G.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Er.Dh),u.LFG(Er.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_i.HU),u.LFG(GO,8),u.LFG(WO,8),u.LFG(qO,8),u.LFG(KO,8),u.LFG(ZO,8),u.LFG(YO,8),u.LFG(PM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function XO(n,e){return function YV(n,e=Hi.z){return new pi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function FM(n,e){return XO(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function uI(n,e){return FM(n,e).pipe(Ql(void 0),Jd(),(0,ht.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,f)=>{const g=r.find(I=>I.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function JO(n,e,t){return uI(n,t).pipe(Bd((i,r)=>function XV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function JV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Kr(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function LM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function eP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tP{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=uI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ql(void 0),Jd(),gi(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eP(e);return JO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return FM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),_i.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new nP(this.ref.doc(e),this.afs)}}class nP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=iP(i,t);return new tP(r,a,this.afs)}snapshotChanges(){return function QV(n,e){return XO(n,e).pipe(Ql(void 0),Jd(),(0,ht.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(_i.iC)}}class eB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),gi(t=>t.length>0),_i.iC):uI(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=eP(e);return JO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return FM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),_i.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(_i.iC)}}const tB=new u.OlP("angularfire2.enableFirestorePersistence"),nB=new u.OlP("angularfire2.firestore.persistenceSettings"),iB=new u.OlP("angularfire2.firestore.settings"),rB=new u.OlP("angularfire2.firestore.use-emulator");function iP(n,e=(t=>t)){return{query:e(n),ref:n}}let sB=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U,G,ne,ge,Ge,lt){this.schedulers=g;const yt=(0,Er.on)(t,f,i),ft=I;x&&QO(yt,f,V,G,ne,ge,U,Ge),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Rt=f.runOutsideAngular(()=>yt.firestore());if(a&&Rt.settings(a),ft&&Rt.useEmulator(...ft),r&&!Uo(c)){const Vt=()=>{try{return(0,hn.D)(Rt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(pn){return typeof console<"u"&&console.warn(pn),ct(!1)}};return[Rt,f.runOutsideAngular(Vt)]}return[Rt,ct(!1)]},[a,ft,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=iP(r,i),f=this.schedulers.ngZone.run(()=>a);return new tP(f,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new eB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new nP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Er.Dh),u.LFG(Er.xv,8),u.LFG(tB,8),u.LFG(iB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_i.HU),u.LFG(nB,8),u.LFG(rB,8),u.LFG(cI,8),u.LFG(GO,8),u.LFG(WO,8),u.LFG(qO,8),u.LFG(KO,8),u.LFG(ZO,8),u.LFG(YO,8),u.LFG(PM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class rP{}const Ku="*";function Sc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Xs(n,e=null){return{type:4,styles:e,timings:n}}function sP(n,e=null){return{type:2,steps:n,options:e}}function Un(n){return{type:6,styles:n,offset:null}}function Oi(n,e,t){return{type:0,name:n,styles:e,options:t}}function As(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oP(n){Promise.resolve().then(n)}class Hb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class aP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?oP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const lP=["toast-component",""];function cB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function uB(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function dB(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,uB,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function hB(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function fB(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function pB(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class wB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class EB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new nn.x,this._activate=new nn.x,this._manualClose=new nn.x,this._resetTimeout=new nn.x,this._countDuplicate=new nn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class dI{constructor(e,t,i,r,a,c){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=c,this._onTap=new nn.x,this._onAction=new nn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const uP=new u.OlP("ToastConfig");class IB extends class CB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class DB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let TB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new IB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new DB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(TB),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hI=(()=>{class n{constructor(t,i,r,a,c){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts){const g=c&&f.title===t;if((!c||g)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&a.enableHtml&&(v=this.sanitizer.sanitize(u.q3G.HTML,i));const I=new EB(g),x=new dI(this.index,a,v,r,t,I),U=u.zs3.create({providers:[{provide:dI,useValue:x}],parent:this._injector}),G=new wB(a.toastComponent,U),ne=g.attach(G,a.newestOnTop);I.componentInstance=ne.instance;const ge={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:ne};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ge.toastRef.activate()})),this.toasts.push(ge),ge}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uP),u.LFG(SB),u.LFG(u.zs3),u.LFG(Bs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hI),u.Y36(dI),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",i.state),u.Tol(i.toastClasses),u.Udp("display",i.displayStyle))},attrs:lP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(u.YNc(0,cB,3,0,"button",0),u.YNc(1,dB,3,5,"div",1),u.YNc(2,hB,1,3,"div",2),u.YNc(3,fB,2,4,"div",3),u.YNc(4,pB,2,2,"div",4)),2&t&&(u.Q6J("ngIf",i.options.closeButton),u.xp6(1),u.Q6J("ngIf",i.title),u.xp6(1),u.Q6J("ngIf",i.message&&i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.message&&!i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.options.progressBar))},dependencies:[On],encapsulation:2,data:{animation:[Sc("flyInOut",[Oi("inactive",Un({opacity:0})),Oi("active",Un({opacity:1})),Oi("removed",Un({opacity:0})),As("inactive => active",Xs("{{ easeTime }}ms {{ easing }}")),As("active => removed",Xs("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let MB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:uP,useValue:{default:xB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ss]}),n})(),BM=(()=>{class n{constructor(){this.isLoading=new nn.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fI=(()=>{class n{constructor(t,i,r,a){this.firestore=t,this.auth=i,this.toast=r,this.loader=a,this.UserUpdateEvent=new u.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.progressBar=!0,this.toast.toastrConfig.positionClass="toast-bottom-right",this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{if(this.loader.show(),null==t)return this.loader.hide(),void this.UserUpdateEvent.emit(void 0);console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(i=>{this.user=i.data(),null==this.user?(this.user={email:t.email,id:t.email,role:ac.USER},this.users?.doc(t.email).set(this.user),console.log("FirestoreService: User Created",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user)):(console.log("FirestoreService: User Retrieved ",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user))})})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(r=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},r=>{this.loader.hide(),console.error("FirestoreService",r),this.toast.error("Unable to register User","Registration Error")})},i=>{this.loader.hide(),console.error("FirestoreService",i),this.handleRegisterError(i.code,t)}))}handleRegisterError(t,i){this.toast.error("auth/email-already-in-use"===t?i.id+" is already registered in our system.":"Unable to register "+i.id+" "+t,"Registration Error")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sB),u.LFG(cI),u.LFG(hI),u.LFG(BM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=(()=>{class n{constructor(t,i){this.firestore=t,this.toaster=i,this.editing=!1}ngOnInit(){}update(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fI),u.Y36(hI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile"]],decls:0,vars:0,template:function(t,i){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),n})();var kB=F(8247);let UM;try{UM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{UM=!1}let jb,mI,Qp,HM,Js=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function br(n){return n===vr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pI(n){return function RB(){if(null==jb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jb=!0}))}finally{jb=jb||!1}return jb}()?n:!!n.capture}function hP(){if(null==Qp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qp=!1,Qp;if("scrollBehavior"in document.documentElement.style)Qp=!0;else{const n=Element.prototype.scrollTo;Qp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qp}function $b(){if("object"!=typeof document||!document)return 0;if(null==mI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),mI=0,0===n.scrollLeft&&(n.scrollLeft=1,mI=0===n.scrollLeft?1:2),n.remove()}return mI}function fP(n){if(function OB(){if(null==HM){const n=typeof document<"u"?document.head:null;HM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Xp(n){return n.composedPath?n.composedPath()[0]:n.target}function jM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function pP(n){return gi((e,t)=>n<=t)}var HB=F(5032);function Mo(n){return(0,Vi.e)((e,t)=>{(0,dr.Xf)(n).subscribe((0,zn.x)(t,()=>t.complete(),HB.Z)),!t.closed&&e.subscribe(t)})}function Ao(n){return null!=n&&"false"!=`${n}`}function zb(n,e=0){return function jB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function gI(n){return Array.isArray(n)?n:[n]}function rr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function A_(n){return n instanceof u.SBq?n.nativeElement:n}let $B=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$B]}),n})();function mP(n,e=Hi.z){return(0,Vi.e)((t,i)=>{let r=null,a=null,c=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function g(){const v=c+n,I=e.now();if(I<v)return r=this.schedule(void 0,v-I),void i.add(r);f()}t.subscribe((0,zn.x)(i,v=>{a=v,c=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}const gP=new Set;let k_,zB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function GB(n){if(!gP.has(n))try{k_||(k_=document.createElement("style"),k_.setAttribute("type","text/css"),document.head.appendChild(k_)),k_.sheet&&(k_.sheet.insertRule(`@media ${n} {body{ }}`,0),gP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qB=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new nn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _P(gI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=oy(_P(gI(t)).map(c=>this._registerQuery(c).observable));return a=Mm(a.pipe(_s(1)),a.pipe(pP(1),mP(0))),a.pipe((0,ht.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new pi.y(c=>{const f=g=>this._zone.run(()=>c.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Ql(i),(0,ht.U)(({matches:c})=>({query:t,matches:c})),Mo(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zB),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _P(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let bP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function QB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function YB(n){try{return n.frameElement}catch{return null}}(function o2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===CP(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=CP(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function r2(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function s2(n){return!function JB(n){return function t2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XB(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function e2(n){return function n2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wP(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function CP(n){if(!wP(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class a2{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(_s(1)).subscribe(e)}}let l2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new a2(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bP),u.LFG(u.R0b),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function IP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const c2=new u.OlP("cdk-input-modality-detector-options"),u2={ignoreKeys:[18,17,224,91,16]},R_=pI({passive:!0,capture:!0});let d2=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new gs(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xp(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EP(c)?"keyboard":"mouse"),this._mostRecentTarget=Xp(c))},this._onTouchstart=c=>{IP(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xp(c))},this._options={...u2,...a},this.modalityDetected=this._modality.pipe(pP(1)),this.modalityChanged=this.modalityDetected.pipe(Kr()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,R_),r.addEventListener("mousedown",this._onMousedown,R_),r.addEventListener("touchstart",this._onTouchstart,R_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,R_),document.removeEventListener("mousedown",this._onMousedown,R_),document.removeEventListener("touchstart",this._onTouchstart,R_))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js),u.LFG(u.R0b),u.LFG(ae),u.LFG(c2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f2=new u.OlP("cdk-focus-monitor-default-options"),_I=pI({passive:!0,capture:!0});let zM=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=Xp(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=A_(t);if(!this._platform.isBrowser||1!==r.nodeType)return ct(null);const a=fP(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const f={checkChildren:i,subject:new nn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=A_(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=A_(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Xp(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_I),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_I)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mo(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_I),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_I),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Js),u.LFG(d2),u.LFG(ae,8),u.LFG(f2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TP="cdk-high-contrast-black-on-white",SP="cdk-high-contrast-white-on-black",GM="cdk-high-contrast-active";let xP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(qB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GM,TP,SP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(GM,TP):2===i&&t.add(GM,SP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p2=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xP))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$M]}),n})();const m2=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function g2(){return(0,u.f3M)(ae)}}),_2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let WM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function y2(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(m2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const b2=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function v2(){return!0}});let Yn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!jM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xP),u.LFG(b2,8),u.LFG(ae))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[O_,O_]}),n})();function w2(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ao(e)}}}function yI(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function kP(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ao(e)}}}let I2=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D2{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const RP={enterDuration:225,exitDuration:150},qM=pI({passive:!0}),OP=["mousedown","touchstart"],PP=["mouseup","mouseleave","touchend","touchcancel"];class S2{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=A_(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...RP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function x2(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=g-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),U=x.transitionDuration,G="none"===x.transitionProperty||"0s"===U||"0s, 0s"===U,ne=new D2(this,I,i,G);I.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let ge=null;return!G&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ge=()=>this._finishRippleTransition(ne),lt=()=>this._destroyRipple(ne);I.addEventListener("transitionend",Ge),I.addEventListener("transitioncancel",lt),ge={onTransitionEnd:Ge,onTransitionCancel:lt}}),this._activeRipples.set(ne,ge),(G||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...RP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=A_(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(OP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=EP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!IP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,qM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(OP.forEach(e=>{this._triggerElement.removeEventListener(e,this,qM)}),this._pointerUpEventsRegistered&&PP.forEach(e=>{this._triggerElement.removeEventListener(e,this,qM)}))}}const M2=new u.OlP("mat-ripple-global-options");let KM=(()=>{class n{constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new S2(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Js),u.Y36(M2,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn,Yn]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Wb,ss,Yn,A2]}),n})();const k2=["mat-button",""],R2=["*"],P2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],N2=yI(w2(kP(class{constructor(n){this._elementRef=n}})));let FP=(()=>{class n extends N2{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of P2)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(zM),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&u.Gf(KM,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:k2,ngContentSelectors:R2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[KM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Wb,Yn,Yn]}),n})(),VP=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.route=r}ngOnInit(){this.login()}login(){var t=new kB.Q;t.addScope("email"),this.firestore.loader.show(),this.auth.signInWithPopup(t).then(i=>{this.firestore.loader.hide(),console.log("User Login Success ",i),this.firestore.toast.success(i.user?.email?i.user.email:"","User Login Success"),this.route.navigate(["dashboard"])}).catch(i=>{this.firestore.loader.hide(),console.error(i),this.handleError(i.code)})}handleError(t){switch(t){case"auth/user-not-found":this.firestore.toast.error("User not Found","Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;case"auth/configuration-not-found":this.firestore.toast.error("Configuration not found for authentication","Login Error");break;default:this.firestore.toast.error("Unable to login","Login Error")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cI),u.Y36(fI),u.Y36(Ui))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"text-center"],[1,"mt-1"],["src","assets/icons/google.svg",2,"height","40px"],[1,"mt-3"],["mat-button","",1,"primary",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),u._uU(7,"Login"),u.qZA(),u.TgZ(8,"form",7)(9,"div",8)(10,"div",9),u._UZ(11,"img",10),u.qZA(),u.TgZ(12,"div",11)(13,"button",12),u.NdJ("click",function(){return i.login()}),u._uU(14," Sign In using Google"),u.qZA()()()()()()()()())},dependencies:[Od,uf,fa,FP],styles:["label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),n})();const F2=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:yT},{path:"login",component:VP},{path:"profile",component:AB},{path:"dashboard",component:ya},{path:"login",component:VP},{path:"logout",component:(()=>{class n{constructor(t,i){this.firestore=t,this.route=i}ngOnInit(){this.firestore.loader.show(),this.firestore.auth.signOut().then(()=>{this.firestore.loader.hide(),this.firestore.toast.success("User Logged out","Logout"),this.route.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fI),u.Y36(Ui))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-logout"]],decls:0,vars:0,template:function(t,i){}}),n})()}];let L2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vw.forRoot(F2),Vw]}),n})();var V2=F(1144);const B2=["addListener","removeListener"],U2=["addEventListener","removeEventListener"],H2=["on","off"];function qb(n,e,t,i){if((0,qs.m)(t)&&(i=t,t=void 0),i)return qb(n,e,t).pipe(Gl(i));const[r,a]=function z2(n){return(0,qs.m)(n.addEventListener)&&(0,qs.m)(n.removeEventListener)}(n)?U2.map(c=>f=>n[c](e,f,t)):function j2(n){return(0,qs.m)(n.addListener)&&(0,qs.m)(n.removeListener)}(n)?B2.map(BP(n,e)):function $2(n){return(0,qs.m)(n.on)&&(0,qs.m)(n.off)}(n)?H2.map(BP(n,e)):[];if(!r&&(0,V2.z)(n))return(0,wn.z)(c=>qb(c,e,t))((0,dr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new pi.y(c=>{const f=(...g)=>c.next(1<g.length?g:g[0]);return r(f),()=>a(f)})}function BP(n,e){return t=>i=>n[t](e,i)}var UP=F(4408);const Kb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Kb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new cu.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Kb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Kb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var HP=F(7565);new class W2 extends HP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class G2 extends UP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Kb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Kb.cancelAnimationFrame(t),e._scheduled=void 0)}});let ZM,K2=1;const vI={};function jP(n){return n in vI&&(delete vI[n],!0)}const Z2={setImmediate(n){const e=K2++;return vI[e]=!0,ZM||(ZM=Promise.resolve()),ZM.then(()=>jP(e)&&n()),e},clearImmediate(n){jP(n)}},{setImmediate:Y2,clearImmediate:Q2}=Z2,bI={setImmediate(...n){const{delegate:e}=bI;return(e?.setImmediate||Y2)(...n)},clearImmediate(n){const{delegate:e}=bI;return(e?.clearImmediate||Q2)(n)},delegate:void 0};new class J2 extends HP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class X2 extends UP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=bI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(bI.clearImmediate(t),e._scheduled=void 0)}});var nU=F(3532);function $P(n,e=Hi.z){return function tU(n){return(0,Vi.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}c&&t.complete()},g=()=>{a=null,c&&t.complete()};e.subscribe((0,zn.x)(t,v=>{i=!0,r=v,a||(0,dr.Xf)(n(v)).subscribe(a=(0,zn.x)(t,f,g))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function rU(n=0,e,t=Hi.P){let i=-1;return null!=e&&((0,nU.K)(e)?t=e:i=e),new pi.y(r=>{let a=function iU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let YM=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe($P(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(gi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=A_(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Js),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QM=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new nn.x,this._elementScrolled=new pi.y(c=>this.ngZone.runOutsideAngular(()=>qb(this.elementRef.nativeElement,"scroll").pipe(Mo(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=$b()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==$b()?t.left=t.right:1==$b()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;hP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==$b()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==$b()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(YM),u.Y36(u.R0b),u.Y36(WM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),wI=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new nn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($P(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Js),u.LFG(u.R0b),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[O_,Zb,O_,Zb]}),n})();const GP=["*"],aU=["content"];function lU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r._onBackdropClicked())}),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function cU(n,e){1&n&&(u.TgZ(0,"mat-drawer-content"),u.Hsn(1,2),u.qZA())}const uU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],dU=["mat-drawer","mat-drawer-content","*"],hU={transformDrawer:Sc("transform",[Oi("open, open-instant",Un({transform:"none",visibility:"visible"})),Oi("void",Un({"box-shadow":"none",visibility:"hidden"})),As("void => open-instant",Xs("0ms")),As("void <=> open, open-instant => void",Xs("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},fU=new u.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function pU(){return!1}}),WP=new u.OlP("MAT_DRAWER_CONTAINER");let XM=(()=>{class n extends QM{constructor(t,i,r,a,c){super(r,a,c),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36((0,u.Gpc)(()=>KP)),u.Y36(u.SBq),u.Y36(YM),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&u.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[u._Bn([{provide:QM,useExisting:n}]),u.qOj],ngContentSelectors:GP,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qP=(()=>{class n{constructor(t,i,r,a,c,f,g,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=c,this._interactivityChecker=f,this._doc=g,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new nn.x,this._animationEnd=new nn.x,this._animationState="void",this.openedChange=new u.vpe(!0),this._openedStream=this.openedChange.pipe(gi(I=>I),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gi(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),uy(void 0)),this._closedStream=this.openedChange.pipe(gi(I=>!I),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gi(I=>I.fromState!==I.toState&&"void"===I.toState),uy(void 0)),this._destroyed=new nn.x,this.onPositionChanged=new u.vpe,this._modeChanged=new nn.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{qb(this._elementRef.nativeElement,"keydown").pipe(gi(I=>27===I.keyCode&&!this.disableClose&&!function UB(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),Mo(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Kr((I,x)=>I.fromState===x.fromState&&I.toState===x.toState)).subscribe(I=>{const{fromState:x,toState:V}=I;(0===V.indexOf("open")&&"void"===x||"void"===V&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Ao(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Ao(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Ao(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(_s(1)).subscribe(c=>a(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(l2),u.Y36(zM),u.Y36(Js),u.Y36(u.R0b),u.Y36(bP),u.Y36(ae,8),u.Y36(WP,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&u.Gf(aU,5),2&t){let r;u.iGM(r=u.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&u.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(u.uIk("align",null),u.d8E("@transform",i._animationState),u.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:GP,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA())},dependencies:[QM],encapsulation:2,data:{animation:[hU.transformDrawer]},changeDetection:0}),n})(),KP=(()=>{class n{constructor(t,i,r,a,c,f=!1,g){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=g,this._drawers=new u.n_E,this.backdropClick=new u.vpe,this._destroyed=new nn.x,this._doCheckSubject=new nn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new nn.x,t&&t.change.pipe(Mo(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Mo(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Ao(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Ao(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ql(this._allDrawers),Mo(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ql(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(mP(10),Mo(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(gi(i=>i.fromState!==i.toState),Mo(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Mo(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Mo(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(_s(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Mo((0,pM.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(WM,8),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(wI),u.Y36(fU),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,XM,5),u.Suo(r,qP,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._content=a.first),u.iGM(a=u.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&u.Gf(XM,5),2&t){let r;u.iGM(r=u.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[u._Bn([{provide:WP,useExisting:n}])],ngContentSelectors:dU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(u.F$t(uU),u.YNc(0,lU,1,2,"div",0),u.Hsn(1),u.Hsn(2,1),u.YNc(3,cU,2,0,"mat-drawer-content",1)),2&t&&(u.Q6J("ngIf",i.hasBackdrop),u.xp6(3),u.Q6J("ngIf",!i._content))},dependencies:[On,XM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ss,Yn,Zb,Zb,Yn]}),n})();class ZP{}class YP{}class Zu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gU{encodeKey(e){return QP(e)}encodeValue(e){return QP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yU=/%(\d[a-f0-9])/gi,vU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QP(n){return encodeURIComponent(n).replace(yU,(e,t)=>vU[t]??e)}function CI(n){return`${n}`}class Uh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _U(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[c,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],g=t.get(c)||[];g.push(f),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(CI):[CI(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Uh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(CI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(CI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JP(n){return typeof Blob<"u"&&n instanceof Blob}function e1(n){return typeof FormData<"u"&&n instanceof FormData}class Yb{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Zu),this.context||(this.context=new bU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Uh,this.urlWithParams=t}serializeBody(){return null===this.body?null:XP(this.body)||JP(this.body)||e1(this.body)||function CU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||e1(this.body)?null:JP(this.body)?this.body.type||null:XP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((x,V)=>x.set(V,e.setHeaders[V]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((x,V)=>x.set(V,e.setParams[V]),v)),new Yb(t,i,a,{params:v,headers:g,context:I,reportProgress:f,responseType:r,withCredentials:c})}}var sr=(()=>((sr=sr||{})[sr.Sent=0]="Sent",sr[sr.UploadProgress=1]="UploadProgress",sr[sr.ResponseHeader=2]="ResponseHeader",sr[sr.DownloadProgress=3]="DownloadProgress",sr[sr.Response=4]="Response",sr[sr.User=5]="User",sr))();class JM{constructor(e,t=200,i="OK"){this.headers=e.headers||new Zu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class eA extends JM{constructor(e={}){super(e),this.type=sr.ResponseHeader}clone(e={}){return new eA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class EI extends JM{constructor(e={}){super(e),this.type=sr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new EI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class t1 extends JM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nA=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Yb)a=t;else{let g,v;g=r.headers instanceof Zu?r.headers:new Zu(r.headers),r.params&&(v=r.params instanceof Uh?r.params:new Uh({fromObject:r.params})),a=new Yb(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=ct(a).pipe(hl(g=>this.handler.handle(g)));if(t instanceof Yb||"events"===r.observe)return c;const f=c.pipe(gi(g=>g instanceof EI));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ht.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,ht.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,ht.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,ht.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Uh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,tA(r,i))}post(t,i,r={}){return this.request("POST",t,tA(r,i))}put(t,i,r={}){return this.request("PUT",t,tA(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ZP))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class n1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const iA=new u.OlP("HTTP_INTERCEPTORS");let EU=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const IU=/^\)\]\}',?\n/;let r1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((U,G)=>r.setRequestHeader(U,G.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const U=t.detectContentTypeHeader();null!==U&&r.setRequestHeader("Content-Type",U)}if(t.responseType){const U=t.responseType.toLowerCase();r.responseType="json"!==U?U:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const U=r.statusText||"OK",G=new Zu(r.getAllResponseHeaders()),ne=function DU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new eA({headers:G,status:r.status,statusText:U,url:ne}),c},g=()=>{let{headers:U,status:G,statusText:ne,url:ge}=f(),Ge=null;204!==G&&(Ge=typeof r.response>"u"?r.responseText:r.response),0===G&&(G=Ge?200:0);let lt=G>=200&&G<300;if("json"===t.responseType&&"string"==typeof Ge){const yt=Ge;Ge=Ge.replace(IU,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(ft){Ge=yt,lt&&(lt=!1,Ge={error:ft,text:Ge})}}lt?(i.next(new EI({body:Ge,headers:U,status:G,statusText:ne,url:ge||void 0})),i.complete()):i.error(new t1({error:Ge,headers:U,status:G,statusText:ne,url:ge||void 0}))},v=U=>{const{url:G}=f(),ne=new t1({error:U,status:r.status||0,statusText:r.statusText||"Unknown Error",url:G||void 0});i.error(ne)};let I=!1;const x=U=>{I||(i.next(f()),I=!0);let G={type:sr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(G.total=U.total),"text"===t.responseType&&!!r.responseText&&(G.partialText=r.responseText),i.next(G)},V=U=>{let G={type:sr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(G.total=U.total),i.next(G)};return r.addEventListener("load",g),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",x),null!==a&&r.upload&&r.upload.addEventListener("progress",V)),r.send(a),i.next({type:sr.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",g),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",x),null!==a&&r.upload&&r.upload.removeEventListener("progress",V)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const rA=new u.OlP("XSRF_COOKIE_NAME"),sA=new u.OlP("XSRF_HEADER_NAME");class s1{}let TU=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Al(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(u.Lbi),u.LFG(rA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oA=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(s1),u.LFG(sA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),SU=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(iA,[]);this.chain=i.reduceRight((r,a)=>new n1(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YP),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:oA,useClass:EU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:rA,useValue:t.cookieName}:[],t.headerName?{provide:sA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[oA,{provide:iA,useExisting:oA,multi:!0},{provide:s1,useClass:TU},{provide:rA,useValue:"XSRF-TOKEN"},{provide:sA,useValue:"X-XSRF-TOKEN"}]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nA,{provide:ZP,useClass:SU},r1,{provide:YP,useExisting:r1}],imports:[xU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const AU=["*"];let II;function Qb(n){return function kU(){if(void 0===II&&(II=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(II=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return II}()?.createHTML(n)||n}function o1(n){return Error(`Unable to find icon with the name "${n}"`)}function a1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function l1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let DI=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Jp(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw l1(r);const f=Qb(c);return this._addSvgIconConfig(t,i,new Jp("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Jp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(u.q3G.HTML,i);if(!a)throw l1(i);const c=Qb(a);return this._addSvgIconSetConfig(t,new Jp("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw a1(t);const r=this._cachedIconsByUrl.get(i);return r?ct(TI(r)):this._loadSvgIconFromConfig(new Jp(t,null)).pipe((0,Bi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ht.U)(a=>TI(a)))}getNamedSvgIcon(t,i=""){const r=c1(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Vd(o1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ct(TI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ht.U)(i=>TI(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ct(r):aa(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(pa(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),ct(null)})))).pipe((0,ht.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw o1(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(c,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Bi.b)(i=>t.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ct(null):this._fetchIcon(t).pipe((0,Bi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const f=this._svgElementFromString(Qb("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Qb("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:c,value:f}=r[a];"id"!==c&&i.setAttribute(c,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function RU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!c)throw a1(i);const f=this._inProgressUrlFetches.get(c);if(f)return f;const g=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe((0,ht.U)(v=>Qb(v)),Ef(()=>this._inProgressUrlFetches.delete(c)),(0,vO.B)());return this._inProgressUrlFetches.set(c,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(c1(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return PU(a)?new Jp(a.url,null,a.options):new Jp(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nA,8),u.LFG(Bs),u.LFG(ae,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TI(n){return n.cloneNode(!0)}function c1(n,e){return n+":"+e}function PU(n){return!(!n.url||!n.options)}const NU=yI(class{constructor(n){this._elementRef=n}}),FU=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),LU=new u.OlP("mat-icon-location",{providedIn:"root",factory:function VU(){const n=(0,u.f3M)(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),u1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BU=u1.map(n=>`[${n}]`).join(", "),UU=/^url\(['"]?#(.*?)['"]?\)$/;let HU=(()=>{class n extends NU{constructor(t,i,r,a,c,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=cu.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ao(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(BU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)u1.forEach(c=>{const f=i[a],g=f.getAttribute(c),v=g?g.match(UU):null;if(v){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:c,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(_s(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(DI),u.$8M("aria-hidden"),u.Y36(LU),u.Y36(u.qLn),u.Y36(FU,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:AU,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn,Yn]}),n})();const jU=["*",[["mat-toolbar-row"]]],$U=["*","mat-toolbar-row"],zU=yI(class{constructor(n){this._elementRef=n}});let GU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),h1=(()=>{class n extends zU{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Js),u.Y36(ae))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,GU,5),2&t){let a;u.iGM(a=u.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:$U,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(jU),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),WU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn,Yn]}),n})();function qU(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function KU(n,e){if(1&n&&(u.ynx(0),u.YNc(1,qU,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","top"==t.align)}}function ZU(n,e){if(1&n&&(u.TgZ(0,"button",17),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function YU(n,e){if(1&n&&(u.ynx(0),u.YNc(1,ZU,2,3,"button",16),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}function QU(n,e){if(1&n&&(u.TgZ(0,"button",19),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("routerLinkActive",t.class),u.Q6J("routerLink",t.link),u.xp6(1),u.Oqu(t.name)}}function XU(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,QU,2,3,"button",18),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf","bottom"==t.align)}}let JU=(()=>{class n{constructor(t,i){this.firestore=t,this.router=i,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(t=>{this.user=t,this.loadMenu()})}onResize(t){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let t=[];null==this.user?(t.push({name:"Home",link:"/home",class:"active-link",align:"bottom"}),t.push({name:"Login",link:"/login",class:"active-link",align:"bottom"})):(t.push({name:this.user.email,link:"/dashboard",class:"active",align:"top"}),t.push({name:"Dashboard",link:"/dashboard",class:"active-link",align:"bottom"}),t.push({name:"My Profile",link:"/profile",class:"active-link",align:"bottom"}),t.push({name:"Logout",link:"/logout",class:"active-link",align:"bottom"})),this.menu=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fI),u.Y36(Ui))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,i){1&t&&u.NdJ("resize",function(a){return i.onResize(a)},!1,u.Jf7)},decls:31,vars:6,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/rupee.jpg","alt","logo",1,"logo"],[1,"title-lg"],[1,"title-sm"],[1,"d-inline-block",2,"width","5px"],[1,"example-spacer"],[1,"d-none","d-md-block"],[1,"row"],[1,"col","text-end","d-inline"],[4,"ngFor","ngForOf"],[1,"col"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","","class","menu-left",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(27);return u.KtG(c.toggle())}),u.TgZ(3,"mat-icon"),u._uU(4,"menu"),u.qZA()()(),u.TgZ(5,"span"),u._UZ(6,"img",2),u.qZA(),u.TgZ(7,"span")(8,"span",3),u._uU(9,"M"),u.qZA(),u.TgZ(10,"span",4),u._uU(11,"Y"),u.qZA(),u._UZ(12,"span",5),u.TgZ(13,"span",3),u._uU(14,"N"),u.qZA(),u.TgZ(15,"span",4),u._uU(16,"ETWORTH"),u.qZA()(),u._UZ(17,"span",6),u.TgZ(18,"div",7)(19,"div",8)(20,"div",9),u.YNc(21,KU,2,1,"ng-container",10),u.qZA()(),u.TgZ(22,"div",8)(23,"div",11),u.YNc(24,YU,2,1,"ng-container",10),u.qZA()()()(),u.TgZ(25,"mat-drawer-container",12)(26,"mat-drawer",13,14)(28,"div",15),u.YNc(29,XU,2,1,"div",10),u.qZA()(),u._UZ(30,"router-outlet"),u.qZA()}2&t&&(u.xp6(21),u.Q6J("ngForOf",i.menu),u.xp6(3),u.Q6J("ngForOf",i.menu),u.xp6(1),u.Udp("height",i.contentScreenHeight,"px"),u.Q6J("hasBackdrop",!0),u.xp6(4),u.Q6J("ngForOf",i.menu))},dependencies:[Rs,On,Sy,jf,qy,qP,KP,HU,h1,FP],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-lg[_ngcontent-%COMP%]{font-size:30px;color:teal}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}.mat-button[_ngcontent-%COMP%]{line-height:30px}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.mat-button[_ngcontent-%COMP%]{line-height:36px}}"]}),n})(),eH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(t,i){1&t&&(u.TgZ(0,"mat-toolbar"),u._UZ(1,"span",0),u.TgZ(2,"span"),u._uU(3,"\xa9 Design and Developed by V.V.S.K Chaitanya"),u.qZA(),u._UZ(4,"span",0),u.qZA())},dependencies:[h1],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function tH(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}function nH(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),i=u.MAs(1);u.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),u.uIk("r",t._getCircleRadius())}}const rH=yI(class{constructor(n){this._elementRef=n}},"primary"),sH=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function oH(){return{diameter:100}}});class Yu extends rH{constructor(e,t,i,r,a,c,f,g){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=cu.w0.EMPTY,this.mode="determinate";const v=Yu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!a&&!a._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.color&&(this.color=this.defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&f&&c&&g&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=zb(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=zb(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,zb(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=fP(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Yu._diameters;let r=i.get(e);if(!r||!r.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Yu._diameters=new WeakMap,Yu.\u0275fac=function(e){return new(e||Yu)(u.Y36(u.SBq),u.Y36(Js),u.Y36(ae,8),u.Y36(u.QbO,8),u.Y36(sH),u.Y36(u.sBO),u.Y36(wI),u.Y36(u.R0b))},Yu.\u0275cmp=u.Xpm({type:Yu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(u.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(u.O4$(),u.TgZ(0,"svg",0,1),u.YNc(2,tH,1,11,"circle",2),u.YNc(3,nH,1,9,"circle",3),u.qZA()),2&e&&(u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===t.mode),u.uIk("viewBox",t._getViewBox()),u.xp6(2),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},dependencies:[ao,kl],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn,ss,Yn]}),n})();function cH(n,e){if(1&n&&(u.TgZ(0,"div",1),u._UZ(1,"mat-progress-spinner",2),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("color",t.color)}}let uH=(()=>{class n{constructor(t){this.loaderService=t,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(BM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(t,i){1&t&&(u.YNc(0,cH,2,1,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,i.isLoading))},dependencies:[On,Yu,Wh],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})(),dH=(()=>{class n{constructor(){this.title="webedu"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[Sy,JU,eH,uH]}),n})();const f1_firebase={apiKey:"AIzaSyD0jp-Q3QfD9G1zEwAAKeZEvOwUkE4cEFE",authDomain:"vvsk-networth.firebaseapp.com",projectId:"vvsk-networth",storageBucket:"vvsk-networth.appspot.com",messagingSenderId:"662970629985",appId:"1:662970629985:web:829ce9af1bcbbef2928f20"};function p1(n){return new u.vHH(3e3,!1)}function WH(){return typeof window<"u"&&typeof window.document<"u"}function lA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Hh(n){switch(n.length){case 0:return new Hb;case 1:return n[0];default:return new aP(n)}}function m1(n,e,t,i,r=new Map,a=new Map){const c=[],f=[];let g=-1,v=null;if(i.forEach(I=>{const x=I.get("offset"),V=x==g,U=V&&v||new Map;I.forEach((G,ne)=>{let ge=ne,Ge=G;if("offset"!==ne)switch(ge=e.normalizePropertyName(ge,c),Ge){case"!":Ge=r.get(ne);break;case Ku:Ge=a.get(ne);break;default:Ge=e.normalizeStyleValue(ne,ge,Ge,c)}U.set(ge,Ge)}),V||f.push(U),v=U,g=x}),c.length)throw function PH(n){return new u.vHH(3502,!1)}();return f}function cA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&uA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&uA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&uA(t,"destroy",n)))}}function uA(n,e,t){const a=dA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function dA(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function ko(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function g1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let hA=(n,e)=>!1,_1=(n,e,t)=>[],y1=null;function fA(n){const e=n.parentNode||n.host;return e===y1?null:e}(lA()||typeof Element<"u")&&(WH()?(y1=(()=>document.documentElement)(),hA=(n,e)=>{for(;e;){if(e===n)return!0;e=fA(e)}return!1}):hA=(n,e)=>n.contains(e),_1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let em=null,v1=!1;const b1=hA,w1=_1;let C1=(()=>{class n{validateStyleProperty(t){return function KH(n){em||(em=function ZH(){return typeof document<"u"?document.body:null}()||{},v1=!!em.style&&"WebkitAppearance"in em.style);let e=!0;return em.style&&!function qH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in em.style,!e&&v1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in em.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return b1(t,i)}getParentElement(t){return fA(t)}query(t,i,r){return w1(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,f=[],g){return new Hb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pA=(()=>{class n{}return n.NOOP=new C1,n})();const mA="ng-enter",SI="ng-leave",xI="ng-trigger",MI=".ng-trigger",I1="ng-animating",gA=".ng-animating";function Qu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_A(parseFloat(e[1]),e[2])}function _A(n,e){return"s"===e?1e3*n:n}function AI(n,e,t){return n.hasOwnProperty("duration")?n:function XH(n,e,t){let r,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(p1()),{duration:0,delay:0,easing:""};r=_A(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=_A(parseFloat(g),f[4]));const v=f[5];v&&(c=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function hH(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function fH(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,p1())}return{duration:r,delay:a,easing:c}}(n,e,t)}function Xb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function D1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function jh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function S1(n,e,t){return t?e+":"+t+";":""}function x1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=S1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=S1(0,nj(t),n.style[t]));n.setAttribute("style",e)}function xc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=vA(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),lA()&&x1(n))}function tm(n,e){n.style&&(e.forEach((t,i)=>{const r=vA(i);n.style[r]=""}),lA()&&x1(n))}function Jb(n){return Array.isArray(n)?1==n.length?n[0]:sP(n):n}const yA=new RegExp("{{\\s*(.+?)\\s*}}","g");function M1(n){let e=[];if("string"==typeof n){let t;for(;t=yA.exec(n);)e.push(t[1]);yA.lastIndex=0}return e}function e0(n,e,t){const i=n.toString(),r=i.replace(yA,(a,c)=>{let f=e[c];return null==f&&(t.push(function mH(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function kI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tj=/-+([a-z0-9])/g;function vA(n){return n.replace(tj,(...e)=>e[1].toUpperCase())}function nj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ro(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gH(n){return new u.vHH(3004,!1)}()}}function A1(n,e){return window.getComputedStyle(n)[e]}function lj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cj(n,e,t){if(":"==n[0]){const g=function uj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function AH(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function MH(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(k1(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(k1(c,r))}(i,t,e)):t.push(n),t}const NI=new Set(["true","1"]),FI=new Set(["false","0"]);function k1(n,e){const t=NI.has(n)||FI.has(n),i=NI.has(e)||FI.has(e);return(r,a)=>{let c="*"==n||n==r,f="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?NI.has(n):FI.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?NI.has(e):FI.has(e)),c&&f}}const dj=new RegExp("s*:selfs*,?","g");function bA(n,e,t,i){return new hj(n).build(e,t,i)}class hj{constructor(e){this._driver=e}build(e,t,i){const r=new mj(t);return this._resetContextStyleTimingState(r),Ro(this,Jb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function yH(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,c.push(g)}else t.errors.push(function vH(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{M1(g).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(kI(a.values()),t.errors.push(function bH(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ro(this,Jb(e.animation),t);return{type:1,matchers:lj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:nm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ro(this,i,t)),options:nm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const f=Ro(this,c,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:nm(e.options)}}visitAnimate(e,t){const i=function _j(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wA(AI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=wA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=AI(t,e);return wA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Un({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const v={};i.easing&&(v.easing=i.easing),c=Un(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(c,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Ku?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(D1(f));let a=!1,c=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let g of f.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),I=v.get(g);let x=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function CH(n,e,t,i,r){return new u.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&v.set(g,{startTime:a,endTime:r}),t.options&&function ej(n,e,t){const i=e.params||{},r=M1(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function pH(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function EH(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let f=!1,g=!1,v=0;const I=e.steps.map(Ge=>{const lt=this._makeStyleAst(Ge,t);let yt=null!=lt.offset?lt.offset:function gj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(lt.styles),ft=0;return null!=yt&&(a++,ft=lt.offset=yt),g=g||ft<0||ft>1,f=f||ft<v,v=ft,c.push(ft),lt});g&&t.errors.push(function IH(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function DH(){return new u.vHH(3200,!1)}());const x=e.steps.length;let V=0;a>0&&a<x?t.errors.push(function TH(){return new u.vHH(3202,!1)}()):0==a&&(V=1/(x-1));const U=x-1,G=t.currentTime,ne=t.currentAnimateTimings,ge=ne.duration;return I.forEach((Ge,lt)=>{const yt=V>0?lt==U?1:V*lt:c[lt],ft=yt*ge;t.currentTime=G+ne.delay+ft,ne.duration=ft,this._validateStyleAst(Ge,t),Ge.offset=yt,i.styles.push(Ge)}),i}visitReference(e,t){return{type:8,animation:Ro(this,Jb(e.animation),t),options:nm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:nm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:nm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function fj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(dj,"")),n=n.replace(/@\*/g,MI).replace(/@\w+/g,t=>MI+"-"+t.slice(1)).replace(/:animating/g,gA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ko(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ro(this,Jb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:nm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function SH(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:AI(e.timings,t.errors,!0);return{type:12,animation:Ro(this,Jb(e.animation),t),timings:i,options:null}}}class mj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nm(n){return n?(n=Xb(n)).params&&(n.params=function pj(n){return n?Xb(n):null}(n.params)):n={},n}function wA(n,e,t){return{duration:n,delay:e,easing:t}}function CA(n,e,t,i,r,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:f}}class LI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bj=new RegExp(":enter","g"),Cj=new RegExp(":leave","g");function EA(n,e,t,i,r,a=new Map,c=new Map,f,g,v=[]){return(new Ej).buildKeyframes(n,e,t,i,r,a,c,f,g,v)}class Ej{buildKeyframes(e,t,i,r,a,c,f,g,v,I=[]){v=v||new LI;const x=new IA(e,t,v,r,a,I,[]);x.options=g;const V=g.delay?Qu(g.delay):0;x.currentTimeline.delayNextStep(V),x.currentTimeline.setStyles([c],null,x.errors,g),Ro(this,i,x);const U=x.timelines.filter(G=>G.containsAnimation());if(U.length&&f.size){let G;for(let ne=U.length-1;ne>=0;ne--){const ge=U[ne];if(ge.element===t){G=ge;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,x.errors,g)}return U.length?U.map(G=>G.buildKeyframes()):[CA(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:Qu(e0(a,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?Qu(i.duration):null,f=null!=i.delay?Qu(i.delay):null;return 0!==c&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,c,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Ro(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VI);const c=Qu(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ro(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Qu(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Ro(this,c,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return AI(t.params?e0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Qu(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=VI);let c=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,v);a&&x.delayNextStep(a),v===t.element&&(g=x.currentTimeline),Ro(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const I=t.currentTimeline;g&&I.delayNextStep(g);const x=I.currentTime;Ro(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const VI={};class IA{constructor(e,t,i,r,a,c,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new BI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Qu(i.duration)),null!=i.delay&&(r.delay=Qu(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=e0(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new IA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=VI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new Ij(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(bj,"."+this._enterClassName)).replace(Cj,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&c.push(function xH(n){return new u.vHH(3014,!1)}()),f}}class BI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new BI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ku),this._currentKeyframe.set(t,Ku);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function Dj(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ku)}else jh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of c){const v=e0(g,a,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ku),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=jh(f,new Map,this._backFill);v.forEach((I,x)=>{"!"===I?e.add(x):I===Ku&&t.add(x)}),i||v.set("offset",g/this.duration),r.push(v)});const a=e.size?kI(e.values()):[],c=t.size?kI(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return CA(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class Ij extends BI{constructor(e,t,i,r,a,c,f=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,f=t/c,g=jh(e[0]);g.set("offset",0),a.push(g);const v=jh(e[0]);v.set("offset",P1(f)),a.push(v);const I=e.length-1;for(let x=1;x<=I;x++){let V=jh(e[x]);const U=V.get("offset");V.set("offset",P1((t+U*i)/c)),a.push(V)}i=c,t=0,r="",e=a}return CA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function P1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DA{}const Tj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sj extends DA{normalizePropertyName(e,t){return vA(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(Tj.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function _H(n,e){return new u.vHH(3005,!1)}())}return c+a}}function N1(n,e,t,i,r,a,c,f,g,v,I,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:I,totalTime:x,errors:V}}const TA={};class F1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function xj(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,f,g,v,I){const x=[],V=this.ast.options&&this.ast.options.params||TA,G=this.buildStyles(i,f&&f.params||TA,x),ne=g&&g.params||TA,ge=this.buildStyles(r,ne,x),Ge=new Set,lt=new Map,yt=new Map,ft="void"===r,Rt={params:Mj(ne,V),delay:this.ast.options?.delay},Vt=I?[]:EA(e,t,this.ast.animation,a,c,G,ge,Rt,v,x);let pn=0;if(Vt.forEach(Xu=>{pn=Math.max(Xu.duration+Xu.delay,pn)}),x.length)return N1(t,this._triggerName,i,r,ft,G,ge,[],[],lt,yt,pn,x);Vt.forEach(Xu=>{const Ju=Xu.element,mN=ko(lt,Ju,new Set);Xu.preStyleProps.forEach(rm=>mN.add(rm));const n0=ko(yt,Ju,new Set);Xu.postStyleProps.forEach(rm=>n0.add(rm)),Ju!==t&&Ge.add(Ju)});const ks=kI(Ge.values());return N1(t,this._triggerName,i,r,ft,G,ge,Vt,ks,lt,yt,pn)}}function Mj(n,e){const t=Xb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Aj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Xb(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=e0(c,r,t));const g=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,g,c,t),i.set(g,c)})}),i}}class Rj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Aj(r.style,r.options&&r.options.params||{},i))}),L1(this.states,"true","1"),L1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new F1(e,r,this.states))}),this.fallbackTransition=function Oj(n,e,t){return new F1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function L1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Pj=new LI;class Nj{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=bA(this._driver,t,i,[]);if(i.length)throw function NH(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=m1(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=EA(this._driver,t,a,mA,SI,new Map,new Map,i,Pj,r),c.forEach(I=>{const x=ko(f,I.element,new Map);I.postStyleProps.forEach(V=>x.set(V,null))})):(r.push(function FH(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function LH(n){return new u.vHH(3504,!1)}();f.forEach((I,x)=>{I.forEach((V,U)=>{I.set(U,this._driver.computeStyle(x,U,Ku))})});const v=Hh(c.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function VH(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=dA(t,"","","");return cA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const V1="ng-animate-queued",SA="ng-animate-disabled",Uj=[],B1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class xA{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Gj(n){return n??null}(i?e.value:e),i){const a=Xb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const t0="void",MA=new xA(t0);class jj{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ra(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function BH(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function UH(n){return new u.vHH(3303,!1)}();if(!function Wj(n){return"start"==n||"done"==n}(i))throw function HH(n,e){return new u.vHH(3400,!1)}();const a=ko(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const f=ko(this._engine.statesByElement,e,new Map);return f.has(t)||(Ra(e,xI),Ra(e,xI+"-"+t),f.set(t,MA)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(c);g>=0&&a.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jH(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new AA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ra(e,xI),Ra(e,xI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new xA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=MA),v.value!==t0&&g.value===v.value){if(!function Zj(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const ne=[],ge=a.matchStyles(g.value,g.params,ne),Ge=a.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{tm(e,ge),xc(e,Ge)})}return}const V=ko(this._engine.playersByElement,e,[]);V.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let U=a.matchTransition(g.value,v.value,e,v.params),G=!1;if(!U){if(!r)return;U=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:g,toState:v,player:c,isFallbackTransition:G}),G||(Ra(e,V1),c.onStart(()=>{P_(e,V1)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const ge=this._engine.playersByElement.get(e);if(ge){let Ge=ge.indexOf(c);Ge>=0&&ge.splice(Ge,1)}}),this.players.push(c),V.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,MI,!0);i.forEach(r=>{if(r[ka])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((g,v)=>{if(c.set(v,g.value),this._triggers.has(v)){const I=this.trigger(e,v,t0,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Hh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const g=this._triggers.get(c).fallbackTransition,v=i.get(c)||MA,I=new xA(t0),x=new AA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:v,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ka];(!a||a===B1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ra(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==i.triggerName){const g=dA(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,cA(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class $j{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new jj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(UI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!UI(t))return;const a=t[ka];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ra(e,SA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),P_(e,SA))}removeNode(e,t,i,r){if(UI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[ka]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return UI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,MI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ka];if(t&&t.setForRemoval){if(e[ka]=B1,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ra(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function $H(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new LI,r=[],a=new Map,c=[],f=new Map,g=new Map,v=new Map,I=new Set;this.disabledNodes.forEach(wt=>{I.add(wt);const Ot=this.driver.query(wt,".ng-animate-queued",!0);for(let Ht=0;Ht<Ot.length;Ht++)I.add(Ot[Ht])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),U=j1(V,this.collectedEnterElements),G=new Map;let ne=0;U.forEach((wt,Ot)=>{const Ht=mA+ne++;G.set(Ot,Ht),wt.forEach(En=>Ra(En,Ht))});const ge=[],Ge=new Set,lt=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ot=this.collectedLeaveElements[wt],Ht=Ot[ka];Ht&&Ht.setForRemoval&&(ge.push(Ot),Ge.add(Ot),Ht.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(En=>Ge.add(En)):lt.add(Ot))}const yt=new Map,ft=j1(V,Array.from(Ge));ft.forEach((wt,Ot)=>{const Ht=SI+ne++;yt.set(Ot,Ht),wt.forEach(En=>Ra(En,Ht))}),e.push(()=>{U.forEach((wt,Ot)=>{const Ht=G.get(Ot);wt.forEach(En=>P_(En,Ht))}),ft.forEach((wt,Ot)=>{const Ht=yt.get(Ot);wt.forEach(En=>P_(En,Ht))}),ge.forEach(wt=>{this.processLeaveNode(wt)})});const Rt=[],Vt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Ht=>{const En=Ht.player,Mr=Ht.element;if(Rt.push(En),this.collectedEnterElements.length){const Qr=Mr[ka];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Ht.triggerName)){const sm=Qr.previousTriggersValues.get(Ht.triggerName),Oa=this.statesByElement.get(Ht.element);if(Oa&&Oa.has(Ht.triggerName)){const zI=Oa.get(Ht.triggerName);zI.value=sm,Oa.set(Ht.triggerName,zI)}}return void En.destroy()}}const Mc=!x||!this.driver.containsElement(x,Mr),Oo=yt.get(Mr),$h=G.get(Mr),Di=this._buildInstruction(Ht,i,$h,Oo,Mc);if(Di.errors&&Di.errors.length)return void Vt.push(Di);if(Mc)return En.onStart(()=>tm(Mr,Di.fromStyles)),En.onDestroy(()=>xc(Mr,Di.toStyles)),void r.push(En);if(Ht.isFallbackTransition)return En.onStart(()=>tm(Mr,Di.fromStyles)),En.onDestroy(()=>xc(Mr,Di.toStyles)),void r.push(En);const yN=[];Di.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||yN.push(Qr)}),Di.timelines=yN,i.append(Mr,Di.timelines),c.push({instruction:Di,player:En,element:Mr}),Di.queriedElements.forEach(Qr=>ko(f,Qr,[]).push(En)),Di.preStyleProps.forEach((Qr,sm)=>{if(Qr.size){let Oa=g.get(sm);Oa||g.set(sm,Oa=new Set),Qr.forEach((zI,LA)=>Oa.add(LA))}}),Di.postStyleProps.forEach((Qr,sm)=>{let Oa=v.get(sm);Oa||v.set(sm,Oa=new Set),Qr.forEach((zI,LA)=>Oa.add(LA))})});if(Vt.length){const wt=[];Vt.forEach(Ot=>{wt.push(function zH(n,e){return new u.vHH(3505,!1)}())}),Rt.forEach(Ot=>Ot.destroy()),this.reportError(wt)}const pn=new Map,ks=new Map;c.forEach(wt=>{const Ot=wt.element;i.has(Ot)&&(ks.set(Ot,Ot),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,pn))}),r.forEach(wt=>{const Ot=wt.element;this._getPreviousPlayers(Ot,!1,wt.namespaceId,wt.triggerName,null).forEach(En=>{ko(pn,Ot,[]).push(En),En.destroy()})});const Xu=ge.filter(wt=>z1(wt,g,v)),Ju=new Map;H1(Ju,this.driver,lt,v,Ku).forEach(wt=>{z1(wt,g,v)&&Xu.push(wt)});const n0=new Map;U.forEach((wt,Ot)=>{H1(n0,this.driver,new Set(wt),g,"!")}),Xu.forEach(wt=>{const Ot=Ju.get(wt),Ht=n0.get(wt);Ju.set(wt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const rm=[],gN=[],_N={};c.forEach(wt=>{const{element:Ot,player:Ht,instruction:En}=wt;if(i.has(Ot)){if(I.has(Ot))return Ht.onDestroy(()=>xc(Ot,En.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(En.totalTime),void r.push(Ht);let Mr=_N;if(ks.size>1){let Oo=Ot;const $h=[];for(;Oo=Oo.parentNode;){const Di=ks.get(Oo);if(Di){Mr=Di;break}$h.push(Oo)}$h.forEach(Di=>ks.set(Di,Mr))}const Mc=this._buildAnimation(Ht.namespaceId,En,pn,a,n0,Ju);if(Ht.setRealPlayer(Mc),Mr===_N)rm.push(Ht);else{const Oo=this.playersByElement.get(Mr);Oo&&Oo.length&&(Ht.parentPlayer=Hh(Oo)),r.push(Ht)}}else tm(Ot,En.fromStyles),Ht.onDestroy(()=>xc(Ot,En.toStyles)),gN.push(Ht),I.has(Ot)&&r.push(Ht)}),gN.forEach(wt=>{const Ot=a.get(wt.element);if(Ot&&Ot.length){const Ht=Hh(Ot);wt.setRealPlayer(Ht)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<ge.length;wt++){const Ot=ge[wt],Ht=Ot[ka];if(P_(Ot,SI),Ht&&Ht.hasAnimation)continue;let En=[];if(f.size){let Mc=f.get(Ot);Mc&&Mc.length&&En.push(...Mc);let Oo=this.driver.query(Ot,gA,!0);for(let $h=0;$h<Oo.length;$h++){let Di=f.get(Oo[$h]);Di&&Di.length&&En.push(...Di)}}const Mr=En.filter(Mc=>!Mc.destroyed);Mr.length?qj(this,Ot,Mr):this.processLeaveNode(Ot)}return ge.length=0,rm.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ot=this.players.indexOf(wt);this.players.splice(Ot,1)}),wt.play()}),rm}elementContainsData(e,t){let i=!1;const r=t[ka];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==t0;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,I=v!==a,x=ko(i,v,[]);this._getPreviousPlayers(v,I,c,f,t.toState).forEach(U=>{const G=U.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),U.destroy(),x.push(U)})}tm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const f=t.triggerName,g=t.element,v=[],I=new Set,x=new Set,V=t.timelines.map(G=>{const ne=G.element;I.add(ne);const ge=ne[ka];if(ge&&ge.removedBeforeQueried)return new Hb(G.duration,G.delay);const Ge=ne!==g,lt=function Kj(n){const e=[];return $1(n,e),e}((i.get(ne)||Uj).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===ne),yt=a.get(ne),ft=c.get(ne),Rt=m1(0,this._normalizer,0,G.keyframes,yt,ft),Vt=this._buildPlayer(G,Rt,lt);if(G.subTimeline&&r&&x.add(ne),Ge){const pn=new AA(e,f,ne);pn.setRealPlayer(Vt),v.push(pn)}return Vt});v.forEach(G=>{ko(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function zj(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,G.element,G))}),I.forEach(G=>Ra(G,I1));const U=Hh(V);return U.onDestroy(()=>{I.forEach(G=>P_(G,I1)),xc(g,t.toStyles)}),x.forEach(G=>{ko(r,G,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Hb(e.duration,e.delay)}}class AA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Hb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>cA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function UI(n){return n&&1===n.nodeType}function U1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function H1(n,e,t,i,r){const a=[];t.forEach(g=>a.push(U1(g)));const c=[];i.forEach((g,v)=>{const I=new Map;g.forEach(x=>{const V=e.computeStyle(v,x,r);I.set(x,V),(!V||0==V.length)&&(v[ka]=Hj,c.push(v))}),n.set(v,I)});let f=0;return t.forEach(g=>U1(g,a[f++])),c}function j1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:c(v),a.set(f,g),g}return e.forEach(f=>{const g=c(f);1!==g&&t.get(g).push(f)}),t}function Ra(n,e){n.classList?.add(e)}function P_(n,e){n.classList?.remove(e)}function qj(n,e,t){Hh(t).onDone(()=>n.processLeaveNode(e))}function $1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof aP?$1(i.players,e):e.push(i)}}function z1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class HI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new $j(e,t,i),this._timelineEngine=new Nj(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let f=this._triggerCache[c];if(!f){const g=[],I=bA(this._driver,a,g,[]);if(g.length)throw function OH(n,e){return new u.vHH(3404,!1)}();f=function kj(n,e,t){return new Rj(n,e,t)}(r,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=g1(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,f]=g1(i);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qj=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tm(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kA(n){let e=null;return n.forEach((t,i)=>{(function Xj(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class G1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:A1(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Jj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return b1(e,t)}getParentElement(e){return fA(e)}query(e,t,i){return w1(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v=new Map,I=c.filter(U=>U instanceof G1);(function ij(n,e){return 0===n||0===e})(i,r)&&I.forEach(U=>{U.currentSnapshot.forEach((G,ne)=>v.set(ne,G))});let x=function JH(n){return n.length?n[0]instanceof Map?n:n.map(e=>D1(e)):[]}(t).map(U=>jh(U));x=function rj(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(f=>c.set(f,A1(n,f)))}}return e}(e,x,v);const V=function Yj(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=kA(e[0]),e.length>1&&(i=kA(e[e.length-1]))):e instanceof Map&&(t=kA(e)),t||i?new Qj(n,t,i):null}(e,x);return new G1(e,x,g,V)}}let e$=(()=>{class n extends rP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?sP(t):t;return W1(this._renderer,null,i,"register",[r]),new t$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class t$ extends class oB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new n$(this._id,e,t||{},this._renderer)}}class n${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return W1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const q1="@.disabled";let i$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new K1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const c=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(c,f,t,I.name,I)};return i.data.animation.forEach(g),new r$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(HI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class K1{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==q1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class r$ extends K1{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==q1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function s$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function o$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let a$=(()=>{class n extends HI{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(pA),u.LFG(DA),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Z1=[{provide:rP,useClass:e$},{provide:DA,useFactory:function l$(){return new Sj}},{provide:HI,useClass:a$},{provide:u.FYo,useFactory:function c$(n,e,t){return new i$(n,e,t)},deps:[Ya,HI,u.R0b]}],RA=[{provide:pA,useFactory:()=>new Jj},{provide:u.QbO,useValue:"BrowserAnimations"},...Z1],Y1=[{provide:pA,useClass:C1},{provide:u.QbO,useValue:"NoopAnimations"},...Z1];let u$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y1:RA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:RA,imports:[mo]}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class OA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class h$ extends OA{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class f$ extends OA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class p$ extends OA{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class g$ extends class m${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof h$?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof f$?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof p$?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const f=c.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ss,Yn,d$,$I]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ss,Yn,$M,Yn]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ss,Yn,$I,Wb,$M,p2,Yn]}),n})();const J1=hP();class S${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rr(-this._previousScrollPosition.left),e.style.top=rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),J1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J1&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class x${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eN{enable(){}disable(){}attach(){}}function PA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class M${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();PA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let A$=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new eN,this.close=c=>new x$(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new S$(this._viewportRuler,this._document),this.reposition=c=>new M$(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YM),u.LFG(wI),u.LFG(u.R0b),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class k${constructor(e){if(this.scrollStrategy=new eN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class R${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let nN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O$=(()=>{class n extends nN{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P$=(()=>{class n extends nN{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Xp(a)},this._clickListener=a=>{const c=Xp(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const I=g[v];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(Js),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iN=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),jM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(Js))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N${constructor(e,t,i,r,a,c,f,g,v,I=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=cu.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_s(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rr(this._config.width),e.height=rr(this._config.height),e.minWidth=rr(this._config.minWidth),e.minHeight=rr(this._config.minHeight),e.maxWidth=rr(this._config.maxWidth),e.maxHeight=rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=gI(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Mo((0,pM.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const rN="cdk-overlay-connected-position-bounding-box",F$=/([A-Za-z%]+)$/;class L${constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=cu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(rN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),I=this._getOverlayFit(v,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(I,v,i)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const v of a){const I=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);I>g&&(g=I,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&im(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?c:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=oN(t);let{x:c,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(c+=g),v&&(f+=v);let V=0-f,U=f+a.height-i.height,G=this._subtractOverflows(a.width,0-c,c+a.width-i.width),ne=this._subtractOverflows(a.height,V,U),ge=G*ne;return{visibleArea:ge,isCompletelyWithinViewport:a.width*a.height===ge,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:G==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=sN(this._overlayRef.getConfig().minHeight),f=sN(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=oN(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),g=Math.max(a.top-i.top-e.y,0),v=Math.max(a.left-i.left-e.x,0);let I=0,x=0;return I=r.width<=a.width?v||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,x=r.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new R$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,f,I,x,V;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),G=this._lastBoundingBoxSize.height;a=2*U,c=e.y-U,a>G&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-G/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)V=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,I=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),G=this._lastBoundingBoxSize.width;I=2*U,x=e.x-U,I>G&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-G/2)}return{top:c,left:x,bottom:f,right:V,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=rr(i.height),r.top=rr(i.top),r.bottom=rr(i.bottom),r.width=rr(i.width),r.left=rr(i.left),r.right=rr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=rr(a)),c&&(r.maxWidth=rr(c))}this._lastBoundingBoxSize=i,im(this._boundingBox.style,r)}_resetBoundingBoxStyles(){im(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){im(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();im(i,this._getExactOverlayY(t,e,I)),im(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),c.maxHeight&&(r?i.maxHeight=rr(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=rr(c.maxWidth):a&&(i.maxWidth="")),im(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=rr(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=rr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tN(e,i),isOriginOutsideView:PA(e,i),isOverlayClipped:tN(t,i),isOverlayOutsideView:PA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function im(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function sN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(F$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function oN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const aN="cdk-global-overlay-wrapper";class V${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(aN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,x=this._xOffset,V="rtl"===this._overlayRef.getConfig().direction;let U="",G="",ne="";g?ne="flex-start":"center"===I?(ne="center",V?G=x:U=x):V?"left"===I||"end"===I?(ne="flex-end",U=x):("right"===I||"start"===I)&&(ne="flex-start",G=x):"left"===I||"start"===I?(ne="flex-start",U=x):("right"===I||"end"===I)&&(ne="flex-end",G=x),e.position=this._cssPosition,e.marginLeft=g?"0":U,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":G,t.justifyContent=ne,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(aN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let B$=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new V$}flexibleConnectedTo(t){return new L$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wI),u.LFG(ae),u.LFG(Js),u.LFG(iN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U$=0,NA=(()=>{class n{constructor(t,i,r,a,c,f,g,v,I,x,V,U){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=g,this._document=v,this._directionality=I,this._location=x,this._outsideClickDispatcher=V,this._animationsModuleType=U}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new k$(t);return c.direction=c.direction||this._directionality.value,new N$(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+U$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new g$(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(A$),u.LFG(iN),u.LFG(u._Vd),u.LFG(B$),u.LFG(O$),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ae),u.LFG(WM),u.LFG(Fe),u.LFG(P$),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const $$={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[NA],useFactory:function j$(n){return()=>n.scrollStrategies.reposition()}};let z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[NA,$$],imports:[O_,$I,zP,zP]}),n})();const Z$={provide:new u.OlP("mat-select-scroll-strategy"),deps:[NA],useFactory:function K$(n){return()=>n.scrollStrategies.reposition()}};let Y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Z$],imports:[ss,z$,NP,Yn,Zb,X1,NP,Yn]}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yn,Yn]}),n})(),X$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[O_]}),n})(),FA=(()=>{class n{constructor(){this.changes=new nn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u3={provide:FA,deps:[[new u.FiY,new u.tp0,FA]],useFactory:function c3(n){return n||new FA}};let d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[u3,I2],imports:[Yn,ss,$I,LP,X$,d1,Wb,Yn]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Wb,Yn,Yn]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mU,d1,WU,T$,LP,_$,X1,Q$,Y$,lH,d3,D3]}),n})(),S3=(()=>{class n{constructor(t){this.loaderService=t}intercept(t,i){return this.loaderService.show(),i.handle(t).pipe(Ef(()=>this.loaderService.hide()))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[dH]}),n.\u0275inj=u.cJS({providers:[{provide:iA,useClass:S3,multi:!0}],imports:[mo,GA,L2,Er.hO.initializeApp(f1_firebase),u$,T3,MB.forRoot(),MU]}),n})();(0,u.G48)(),el().bootstrapModule(x3).catch(n=>console.error(n))},5867:(dt,Ae,F)=>{F.d(Ae,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=F(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(dt,Ae,F)=>{F.d(Ae,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(dt,Ae,F)=>{F.r(Ae);var u=F(5861),$=F(3942),P=F(8247),le=F(2090),ae=(F(9681),F(1877),F(4859));function pe(){return window}function W(){return(W=(0,u.Z)(function*(j,R,B){var re;const{BuildInfo:Le}=pe();(0,P.ap)(R.sessionId,"AuthEvent did not contain a session ID");const st=yield ye(R.sessionId),ot={};return(0,P.aq)()?ot.ibi=Le.packageName:(0,P.ar)()?ot.apn=Le.packageName:(0,P.as)(j,"operation-not-supported-in-this-environment"),Le.displayName&&(ot.appDisplayName=Le.displayName),ot.sessionId=st,(0,P.at)(j,B,R.type,void 0,null!==(re=R.eventId)&&void 0!==re?re:void 0,ot)})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(j){const{BuildInfo:R}=pe(),B={};(0,P.aq)()?B.iosBundleId=R.packageName:(0,P.ar)()?B.androidPackageName=R.packageName:(0,P.as)(j,"operation-not-supported-in-this-environment"),yield(0,P.au)(j,B)})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(j,R,B){const{cordova:re}=pe();let Le=()=>{};try{yield new Promise((st,ot)=>{let ke=null;function Be(){var Bt;st();const _n=null===(Bt=re.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof _n&&_n(),"function"==typeof B?.close&&B.close()}function Nt(){ke||(ke=window.setTimeout(()=>{ot((0,P.aw)(j,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&Nt()}R.addPassiveListener(Be),document.addEventListener("resume",Nt,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",gn,!1),Le=()=>{R.removePassiveListener(Be),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",gn,!1),ke&&window.clearTimeout(ke)}})}finally{Le()}})).apply(this,arguments)}function ye(j){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(j){const R=Qe(j),B=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(j){if((0,P.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const R=new ArrayBuffer(j.length),B=new Uint8Array(R);for(let re=0;re<j.length;re++)B[re]=j.charCodeAt(re);return B}class Pe extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(R)),super.onEvent(R)}initialized(){var R=this;return(0,u.Z)(function*(){yield R.initPromise})()}}function oe(j){return fe.apply(this,arguments)}function fe(){return(fe=(0,u.Z)(function*(j){const R=yield te()._get(me(j));return R&&(yield te()._remove(me(j))),R})).apply(this,arguments)}function X(){const j=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const re=Math.floor(Math.random()*R.length);j.push(R.charAt(re))}return j.join("")}function te(){return(0,P.az)(P.b)}function me(j){return(0,P.aA)("authEvent",j.config.apiKey,j.name)}function He(j){if(!j?.includes("?"))return{};const[R,...B]=j.split("?");return(0,le.zd)(B.join("?"))}function Ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Yt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Pi(j=(0,le.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const j=self.localStorage,R=P.aI();if(j)return j.setItem(R,"1"),j.removeItem(R),!function Xr(j=(0,le.z$)()){return function Wi(){return(0,le.w1)()&&11===document?.documentMode}()||function Ln(j=(0,le.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,le.hl)()}catch{return qi()&&(0,le.hl)()}return!1}function qi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qn(){return(function jt(){return"http:"===Yt()||"https:"===Yt()}()||(0,le.ru)()||Pi())&&!function Br(){return(0,le.b$)()||(0,le.UG)()}()&&Jr()&&!qi()}function Ar(){return Pi()&&typeof document<"u"}function Xe(){return(Xe=(0,u.Z)(function*(){return!!Ar()&&new Promise(j=>{const R=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),j(!0)})})})).apply(this,arguments)}const Xn={LOCAL:"local",NONE:"none",SESSION:"session"},In=P.ax,Ci="persistence";function Tn(j){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(j){yield j._initializationPromise;const R=mt(),B=P.aA(Ci,j.config.apiKey,j.name);R&&R.setItem(B,j._getPersistence())})).apply(this,arguments)}function mt(){var j;try{return(null===(j=function ni(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const gt=P.ax;class Pt{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class an{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(R){var B=this;return(0,u.Z)(function*(){const re=R._key();let Le=B.eventManagers.get(re);return Le||(Le=new Pe(R),B.eventManagers.set(re,Le),B.attachCallbackListeners(R,Le)),Le})()}_openPopup(R){(0,P.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,B,re,Le){var st=this;return(0,u.Z)(function*(){!function Ce(j){var R,B,re,Le,st,ot,ke,Be,Nt,gn;const Bt=pe();(0,P.ax)("function"==typeof(null===(R=Bt?.universalLinks)||void 0===R?void 0:R.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(B=Bt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(st=null===(Le=null===(re=Bt?.cordova)||void 0===re?void 0:re.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===st?void 0:st.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Be=null===(ke=null===(ot=Bt?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===Be?void 0:Be.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(gn=null===(Nt=Bt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===gn?void 0:gn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ot=yield st._initialize(R);yield ot.initialized(),ot.resetRedirect(),(0,P.aD)(),yield st._originValidation(R);const ke=function De(j,R,B=null){return{type:R,eventId:B,urlResponse:null,sessionId:X(),postBody:null,tenantId:j.tenantId,error:(0,P.aw)(j,"no-auth-event")}}(R,re,Le);yield function qe(j,R){return te()._set(me(j),R)}(R,ke);const Be=yield function K(j,R,B){return W.apply(this,arguments)}(R,ke,B),Nt=yield function Ne(j){const{cordova:R}=pe();return new Promise(B=>{R.plugins.browsertab.isAvailable(re=>{let Le=null;re?R.plugins.browsertab.openUrl(j):Le=R.InAppBrowser.open(j,(0,P.av)()?"_blank":"_system","location=yes"),B(Le)})})}(Be);return function Te(j,R,B){return it.apply(this,arguments)}(R,ot,Nt)})()}_isIframeWebStorageSupported(R,B){throw new Error("Method not implemented.")}_originValidation(R){const B=R._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ee(j){return $e.apply(this,arguments)}(R)),this.originValidationPromises[B]}attachCallbackListeners(R,B){const{universalLinks:re,handleOpenURL:Le,BuildInfo:st}=pe(),ot=setTimeout((0,u.Z)(function*(){yield oe(R),B.onEvent(Ze())}),500),ke=function(){var gn=(0,u.Z)(function*(Bt){clearTimeout(ot);const _n=yield oe(R);let ts=null;_n&&Bt?.url&&(ts=function we(j,R){var B,re;const Le=function Ue(j){const R=He(j),B=R.link?decodeURIComponent(R.link):void 0,re=He(B).link,Le=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return He(Le).link||Le||re||B||j}(R);if(Le.includes("/__/auth/callback")){const st=He(Le),ot=st.firebaseError?function ce(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,ke=null===(re=null===(B=ot?.code)||void 0===B?void 0:B.split("auth/"))||void 0===re?void 0:re[1],Be=ke?(0,P.aw)(ke):null;return Be?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Le,postBody:null}}return null}(_n,Bt.url)),B.onEvent(ts||Ze())});return function(_n){return gn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,ke);const Be=Le,Nt=`${st.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var gn=(0,u.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Nt)&&ke({url:Bt}),"function"==typeof Be)try{Be(Bt)}catch(_n){console.error(_n)}});return function(Bt){return gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(R){var B=this;return(0,u.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,B,re,Le){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(R,B,re,Le)})()}_openRedirect(R,B,re,Le){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(R,B,re,Le)})()}_isIframeWebStorageSupported(R,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,B)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,u.Z)(function*(){if(R.underlyingResolver)return;const B=yield function es(){return Xe.apply(this,arguments)}();R.underlyingResolver=B?R.cordovaResolver:R.browserResolver})()}}function or(j){return j.unwrap()}function Ni(j){return Ki(j)}function Ki(j){const{_tokenResponse:R}=j instanceof le.ZR?j.customData:j;if(!R)return null;if(!(j instanceof le.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return P.P.credentialFromResult(j);const B=R.providerId;if(!B||B===P.o.PASSWORD)return null;let re;switch(B){case P.o.GOOGLE:re=P.Q;break;case P.o.FACEBOOK:re=P.N;break;case P.o.GITHUB:re=P.T;break;case P.o.TWITTER:re=P.W;break;default:const{oauthIdToken:Le,oauthAccessToken:st,oauthTokenSecret:ot,pendingToken:ke,nonce:Be}=R;return st||ot||Le||ke?ke?B.startsWith("saml.")?P.aL._create(B,ke):P.J._fromParams({providerId:B,signInMethod:B,pendingToken:ke,idToken:Le,accessToken:st}):new P.U(B).credential({idToken:Le,accessToken:st,rawNonce:Be}):null}return j instanceof le.ZR?re.credentialFromError(j):re.credentialFromResult(j)}function Ut(j,R){return R.catch(B=>{throw B instanceof le.ZR&&function Mt(j,R){var B,re;const Le=null===(B=R.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(re=R)||void 0===re?void 0:re.code))R.resolver=new fi(j,P.an(j,R));else if(Le){const st=Ki(R),ot=R;st&&(ot.credential=st,ot.tenantId=Le.tenantId||void 0,ot.email=Le.email||void 0,ot.phoneNumber=Le.phoneNumber||void 0)}}(j,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:Ni(B),additionalUserInfo:P.al(B),user:Rn.getOrCreate(Le)}})}function mr(j,R){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(j,R){const B=yield R;return{verificationId:B.verificationId,confirm:re=>Ut(j,B.confirm(re))}})).apply(this,arguments)}class fi{constructor(R,B){this.resolver=B,this.auth=function ii(j){return j.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Ut(or(this.auth),this.resolver.resolveSignIn(R))}}class Rn{constructor(R){this._delegate=R,this.multiFactor=P.ao(R)}static getOrCreate(R){return Rn.USER_MAP.has(R)||Rn.USER_MAP.set(R,new Rn(R)),Rn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P.Z(B._delegate,R))})()}linkWithPhoneNumber(R,B){var re=this;return(0,u.Z)(function*(){return mr(re.auth,P.l(re._delegate,R,B))})()}linkWithPopup(R){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P.d(B._delegate,R,Pt))})()}linkWithRedirect(R){var B=this;return(0,u.Z)(function*(){return yield Tn(P.aE(B.auth)),P.g(B._delegate,R,Pt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var B=this;return(0,u.Z)(function*(){return Ut(B.auth,P._(B._delegate,R))})()}reauthenticateWithPhoneNumber(R,B){return mr(this.auth,P.r(this._delegate,R,B))}reauthenticateWithPopup(R){return Ut(this.auth,P.e(this._delegate,R,Pt))}reauthenticateWithRedirect(R){var B=this;return(0,u.Z)(function*(){return yield Tn(P.aE(B.auth)),P.h(B._delegate,R,Pt)})()}sendEmailVerification(R){return P.ab(this._delegate,R)}unlink(R){var B=this;return(0,u.Z)(function*(){return yield P.ak(B._delegate,R),B})()}updateEmail(R){return P.ag(this._delegate,R)}updatePassword(R){return P.ah(this._delegate,R)}updatePhoneNumber(R){return P.u(this._delegate,R)}updateProfile(R){return P.af(this._delegate,R)}verifyBeforeUpdateEmail(R,B){return P.ac(this._delegate,R,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rn.USER_MAP=new WeakMap;const tt=P.ax;let xe=(()=>{class j{constructor(B,re){if(this.app=B,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;tt(Le,"invalid-api-key",{appName:B.name}),tt(Le,"invalid-api-key",{appName:B.name});const st=typeof window<"u"?Pt:void 0;this._delegate=re.initialize({options:{persistence:It(Le,B.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,re){P.G(this._delegate,B,re)}applyActionCode(B){return P.a2(this._delegate,B)}checkActionCode(B){return P.a3(this._delegate,B)}confirmPasswordReset(B,re){return P.a1(this._delegate,B,re)}createUserWithEmailAndPassword(B,re){var Le=this;return(0,u.Z)(function*(){return Ut(Le._delegate,P.a5(Le._delegate,B,re))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return P.aa(this._delegate,B)}isSignInWithEmailLink(B){return P.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,u.Z)(function*(){tt(Qn(),B._delegate,"operation-not-supported-in-this-environment");const re=yield P.j(B._delegate,Pt);return re?Ut(B._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function mn(j,R){(0,P.aE)(j)._logFramework(R)}(this._delegate,B)}onAuthStateChanged(B,re,Le){const{next:st,error:ot,complete:ke}=nt(B,re,Le);return this._delegate.onAuthStateChanged(st,ot,ke)}onIdTokenChanged(B,re,Le){const{next:st,error:ot,complete:ke}=nt(B,re,Le);return this._delegate.onIdTokenChanged(st,ot,ke)}sendSignInLinkToEmail(B,re){return P.a7(this._delegate,B,re)}sendPasswordResetEmail(B,re){return P.a0(this._delegate,B,re||void 0)}setPersistence(B){var re=this;return(0,u.Z)(function*(){let Le;switch(function eo(j,R){In(Object.values(Xn).includes(R),j,"invalid-persistence-type"),(0,le.b$)()?In(R!==Xn.SESSION,j,"unsupported-persistence-type"):(0,le.UG)()?In(R===Xn.NONE,j,"unsupported-persistence-type"):qi()?In(R===Xn.NONE||R===Xn.LOCAL&&(0,le.hl)(),j,"unsupported-persistence-type"):In(R===Xn.NONE||Jr(),j,"unsupported-persistence-type")}(re._delegate,B),B){case Xn.SESSION:Le=P.a;break;case Xn.LOCAL:Le=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case Xn.NONE:Le=P.L;break;default:return P.as("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Ut(this._delegate,P.X(this._delegate))}signInWithCredential(B){return Ut(this._delegate,P.Y(this._delegate,B))}signInWithCustomToken(B){return Ut(this._delegate,P.$(this._delegate,B))}signInWithEmailAndPassword(B,re){return Ut(this._delegate,P.a6(this._delegate,B,re))}signInWithEmailLink(B,re){return Ut(this._delegate,P.a9(this._delegate,B,re))}signInWithPhoneNumber(B,re){return mr(this._delegate,P.s(this._delegate,B,re))}signInWithPopup(B){var re=this;return(0,u.Z)(function*(){return tt(Qn(),re._delegate,"operation-not-supported-in-this-environment"),Ut(re._delegate,P.c(re._delegate,B,Pt))})()}signInWithRedirect(B){var re=this;return(0,u.Z)(function*(){return tt(Qn(),re._delegate,"operation-not-supported-in-this-environment"),yield Tn(re._delegate),P.f(re._delegate,B,Pt)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return P.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Xn,j})();function nt(j,R,B){let re=j;"function"!=typeof j&&({next:re,error:R,complete:B}=j);const Le=re;return{next:ot=>Le(ot&&Rn.getOrCreate(ot)),error:R,complete:B}}function It(j,R){const B=function bn(j,R){const B=mt();if(!B)return[];const re=P.aA(Ci,j,R);switch(B.getItem(re)){case Xn.NONE:return[P.L];case Xn.LOCAL:return[P.i,P.a];case Xn.SESSION:return[P.a];default:return[]}}(j,R);if(typeof self<"u"&&!B.includes(P.i)&&B.push(P.i),typeof window<"u")for(const re of[P.b,P.a])B.includes(re)||B.push(re);return B.includes(P.L)||B.push(P.L),B}class Dt{constructor(){this.providerId="phone",this._delegate=new P.P(or($.Z.auth()))}static credential(R,B){return P.P.credential(R,B)}verifyPhoneNumber(R,B){return this._delegate.verifyPhoneNumber(R,B)}unwrap(){return this._delegate}}Dt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Dt.PROVIDER_ID=P.P.PROVIDER_ID;const tn=P.ax;class q{constructor(R,B,re=$.Z.app()){var Le;tn(null===(Le=re.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new P.R(R,B,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(j){j.INTERNAL.registerComponent(new ae.wA("auth-compat",R=>{const B=R.getProvider("app-compat").getImmediate(),re=R.getProvider("auth");return new xe(B,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Dt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:q,TwitterAuthProvider:P.W,Auth:xe,AuthCredential:P.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.2.24")}($.Z)},9751:(dt,Ae,F)=>{F.d(Ae,{y:()=>pe});var u=F(930),$=F(727),P=F(8822),le=F(9635),de=F(2416),ve=F(576),ae=F(2806);let pe=(()=>{class ee{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Te=new ee;return Te.source=this,Te.operator=Ne,Te}subscribe(Ne,Te,it){const Ce=function W(ee){return ee&&ee instanceof u.Lv||function K(ee){return ee&&(0,ve.m)(ee.next)&&(0,ve.m)(ee.error)&&(0,ve.m)(ee.complete)}(ee)&&(0,$.Nn)(ee)}(Ne)?Ne:new u.Hp(Ne,Te,it);return(0,ae.x)(()=>{const{operator:ye,source:et}=this;Ce.add(ye?ye.call(Ce,et):et?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Te){Ne.error(Te)}}forEach(Ne,Te){return new(Te=be(Te))((it,Ce)=>{const ye=new u.Hp({next:et=>{try{Ne(et)}catch(Qe){Ce(Qe),ye.unsubscribe()}},error:Ce,complete:it});this.subscribe(ye)})}_subscribe(Ne){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ne)}[P.L](){return this}pipe(...Ne){return(0,le.U)(Ne)(this)}toPromise(Ne){return new(Ne=be(Ne))((Te,it)=>{let Ce;this.subscribe(ye=>Ce=ye,ye=>it(ye),()=>Te(Ce))})}}return ee.create=$e=>new ee($e),ee})();function be(ee){var $e;return null!==($e=ee??de.v.Promise)&&void 0!==$e?$e:Promise}},7579:(dt,Ae,F)=>{F.d(Ae,{x:()=>ae});var u=F(9751),$=F(727);const le=(0,F(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=F(8737),ve=F(2806);let ae=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ee=new pe(this,this);return ee.operator=W,ee}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(W)}})}error(W){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ee}=this;for(;ee.length;)ee.shift().error(W)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ee,isStopped:$e,observers:Ne}=this;return ee||$e?$.Lc:(this.currentObservers=null,Ne.push(W),new $.w0(()=>{this.currentObservers=null,(0,de.P)(Ne,W)}))}_checkFinalizedStatuses(W){const{hasError:ee,thrownError:$e,isStopped:Ne}=this;ee?W.error($e):Ne&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return be.create=(K,W)=>new pe(K,W),be})();class pe extends ae{constructor(K,W){super(),this.destination=K,this.source=W}next(K){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ee||ee.call(W,K)}error(K){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ee||ee.call(W,K)}complete(){var K,W;null===(W=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===W||W.call(K)}_subscribe(K){var W,ee;return null!==(ee=null===(W=this.source)||void 0===W?void 0:W.subscribe(K))&&void 0!==ee?ee:$.Lc}}},930:(dt,Ae,F)=>{F.d(Ae,{Hp:()=>it,Lv:()=>ee});var u=F(576),$=F(727),P=F(2416),le=F(7849),de=F(5032);const ve=be("C",void 0,void 0);function be(Fe,Pe,De){return{kind:Fe,value:Pe,error:De}}var K=F(3410),W=F(2806);class ee extends $.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,$.Nn)(Pe)&&Pe.add(this)):this.destination=Qe}static create(Pe,De,qe){return new it(Pe,De,qe)}next(Pe){this.isStopped?et(function pe(Fe){return be("N",Fe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?et(function ae(Fe){return be("E",void 0,Fe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?et(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ne(Fe,Pe){return $e.call(Fe,Pe)}class Te{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:De}=this;if(De.next)try{De.next(Pe)}catch(qe){Ce(qe)}}error(Pe){const{partialObserver:De}=this;if(De.error)try{De.error(Pe)}catch(qe){Ce(qe)}else Ce(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(De){Ce(De)}}}class it extends ee{constructor(Pe,De,qe){let oe;if(super(),(0,u.m)(Pe)||!Pe)oe={next:Pe??void 0,error:De??void 0,complete:qe??void 0};else{let fe;this&&P.v.useDeprecatedNextContext?(fe=Object.create(Pe),fe.unsubscribe=()=>this.unsubscribe(),oe={next:Pe.next&&Ne(Pe.next,fe),error:Pe.error&&Ne(Pe.error,fe),complete:Pe.complete&&Ne(Pe.complete,fe)}):oe=Pe}this.destination=new Te(oe)}}function Ce(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Fe):(0,le.h)(Fe)}function et(Fe,Pe){const{onStoppedNotification:De}=P.v;De&&K.z.setTimeout(()=>De(Fe,Pe))}const Qe={closed:!0,next:de.Z,error:function ye(Fe){throw Fe},complete:de.Z}},727:(dt,Ae,F)=>{F.d(Ae,{Lc:()=>ve,w0:()=>de,Nn:()=>ae});var u=F(576);const P=(0,F(3888).d)(be=>function(W){be(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=F(8737);class de{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ne of W)Ne.remove(this);else W.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(Ne){K=Ne instanceof P?Ne.errors:[Ne]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ne of $e)try{pe(Ne)}catch(Te){K=K??[],Te instanceof P?K=[...K,...Te.errors]:K.push(Te)}}if(K)throw new P(K)}}add(K){var W;if(K&&K!==this)if(this.closed)pe(K);else{if(K instanceof de){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(K)}}_hasParent(K){const{_parentage:W}=this;return W===K||Array.isArray(W)&&W.includes(K)}_addParent(K){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(K),W):W?[W,K]:K}_removeParent(K){const{_parentage:W}=this;W===K?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,K)}remove(K){const{_finalizers:W}=this;W&&(0,le.P)(W,K),K instanceof de&&K._removeParent(this)}}de.EMPTY=(()=>{const be=new de;return be.closed=!0,be})();const ve=de.EMPTY;function ae(be){return be instanceof de||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function pe(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(dt,Ae,F)=>{F.d(Ae,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,F)=>{F.d(Ae,{E:()=>$});const $=new(F(9751).y)(de=>de.complete())},8996:(dt,Ae,F)=>{F.d(Ae,{D:()=>Pe});var u=F(8421),$=F(5363),P=F(9468),ve=F(9751),pe=F(2202),be=F(576),K=F(9672);function ee(De,qe){if(!De)throw new Error("Iterable cannot be null");return new ve.y(oe=>{(0,K.f)(oe,qe,()=>{const fe=De[Symbol.asyncIterator]();(0,K.f)(oe,qe,()=>{fe.next().then(we=>{we.done?oe.complete():oe.next(we.value)})},0,!0)})})}var $e=F(3670),Ne=F(8239),Te=F(1144),it=F(6495),Ce=F(2206),ye=F(4532),et=F(3260);function Pe(De,qe){return qe?function Fe(De,qe){if(null!=De){if((0,$e.c)(De))return function le(De,qe){return(0,u.Xf)(De).pipe((0,P.R)(qe),(0,$.Q)(qe))}(De,qe);if((0,Te.z)(De))return function ae(De,qe){return new ve.y(oe=>{let fe=0;return qe.schedule(function(){fe===De.length?oe.complete():(oe.next(De[fe++]),oe.closed||this.schedule())})})}(De,qe);if((0,Ne.t)(De))return function de(De,qe){return(0,u.Xf)(De).pipe((0,P.R)(qe),(0,$.Q)(qe))}(De,qe);if((0,Ce.D)(De))return ee(De,qe);if((0,it.T)(De))return function W(De,qe){return new ve.y(oe=>{let fe;return(0,K.f)(oe,qe,()=>{fe=De[pe.h](),(0,K.f)(oe,qe,()=>{let we,X;try{({value:we,done:X}=fe.next())}catch(te){return void oe.error(te)}X?oe.complete():oe.next(we)},0,!0)}),()=>(0,be.m)(fe?.return)&&fe.return()})}(De,qe);if((0,et.L)(De))return function Qe(De,qe){return ee((0,et.Q)(De),qe)}(De,qe)}throw(0,ye.z)(De)}(De,qe):(0,u.Xf)(De)}},8421:(dt,Ae,F)=>{F.d(Ae,{Xf:()=>$e});var u=F(655),$=F(1144),P=F(8239),le=F(9751),de=F(3670),ve=F(2206),ae=F(4532),pe=F(6495),be=F(3260),K=F(576),W=F(7849),ee=F(8822);function $e(Fe){if(Fe instanceof le.y)return Fe;if(null!=Fe){if((0,de.c)(Fe))return function Ne(Fe){return new le.y(Pe=>{const De=Fe[ee.L]();if((0,K.m)(De.subscribe))return De.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,$.z)(Fe))return function Te(Fe){return new le.y(Pe=>{for(let De=0;De<Fe.length&&!Pe.closed;De++)Pe.next(Fe[De]);Pe.complete()})}(Fe);if((0,P.t)(Fe))return function it(Fe){return new le.y(Pe=>{Fe.then(De=>{Pe.closed||(Pe.next(De),Pe.complete())},De=>Pe.error(De)).then(null,W.h)})}(Fe);if((0,ve.D)(Fe))return ye(Fe);if((0,pe.T)(Fe))return function Ce(Fe){return new le.y(Pe=>{for(const De of Fe)if(Pe.next(De),Pe.closed)return;Pe.complete()})}(Fe);if((0,be.L)(Fe))return function et(Fe){return ye((0,be.Q)(Fe))}(Fe)}throw(0,ae.z)(Fe)}function ye(Fe){return new le.y(Pe=>{(function Qe(Fe,Pe){var De,qe,oe,fe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Fe);!(qe=yield De.next()).done;)if(Pe.next(qe.value),Pe.closed)return}catch(we){oe={error:we}}finally{try{qe&&!qe.done&&(fe=De.return)&&(yield fe.call(De))}finally{if(oe)throw oe.error}}Pe.complete()})})(Fe,Pe).catch(De=>Pe.error(De))})}},6451:(dt,Ae,F)=>{F.d(Ae,{T:()=>ve});var u=F(8189),$=F(8421),P=F(515),le=F(3269),de=F(8996);function ve(...ae){const pe=(0,le.yG)(ae),be=(0,le._6)(ae,1/0),K=ae;return K.length?1===K.length?(0,$.Xf)(K[0]):(0,u.J)(be)((0,de.D)(K,pe)):P.E}},5403:(dt,Ae,F)=>{F.d(Ae,{x:()=>$});var u=F(930);function $(le,de,ve,ae,pe){return new P(le,de,ve,ae,pe)}class P extends u.Lv{constructor(de,ve,ae,pe,be,K){super(de),this.onFinalize=be,this.shouldUnsubscribe=K,this._next=ve?function(W){try{ve(W)}catch(ee){de.error(ee)}}:super._next,this._error=pe?function(W){try{pe(W)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(W){de.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(dt,Ae,F)=>{F.d(Ae,{U:()=>P});var u=F(4482),$=F(5403);function P(le,de){return(0,u.e)((ve,ae)=>{let pe=0;ve.subscribe((0,$.x)(ae,be=>{ae.next(le.call(de,be,pe++))}))})}},8189:(dt,Ae,F)=>{F.d(Ae,{J:()=>P});var u=F(5577),$=F(4671);function P(le=1/0){return(0,u.z)($.y,le)}},5577:(dt,Ae,F)=>{F.d(Ae,{z:()=>pe});var u=F(4004),$=F(8421),P=F(4482),le=F(9672),de=F(5403),ae=F(576);function pe(be,K,W=1/0){return(0,ae.m)(K)?pe((ee,$e)=>(0,u.U)((Ne,Te)=>K(ee,Ne,$e,Te))((0,$.Xf)(be(ee,$e))),W):("number"==typeof K&&(W=K),(0,P.e)((ee,$e)=>function ve(be,K,W,ee,$e,Ne,Te,it){const Ce=[];let ye=0,et=0,Qe=!1;const Fe=()=>{Qe&&!Ce.length&&!ye&&K.complete()},Pe=qe=>ye<ee?De(qe):Ce.push(qe),De=qe=>{Ne&&K.next(qe),ye++;let oe=!1;(0,$.Xf)(W(qe,et++)).subscribe((0,de.x)(K,fe=>{$e?.(fe),Ne?Pe(fe):K.next(fe)},()=>{oe=!0},void 0,()=>{if(oe)try{for(ye--;Ce.length&&ye<ee;){const fe=Ce.shift();Te?(0,le.f)(K,Te,()=>De(fe)):De(fe)}Fe()}catch(fe){K.error(fe)}}))};return be.subscribe((0,de.x)(K,Pe,()=>{Qe=!0,Fe()})),()=>{it?.()}}(ee,$e,be,W)))}},5363:(dt,Ae,F)=>{F.d(Ae,{Q:()=>le});var u=F(9672),$=F(4482),P=F(5403);function le(de,ve=0){return(0,$.e)((ae,pe)=>{ae.subscribe((0,P.x)(pe,be=>(0,u.f)(pe,de,()=>pe.next(be),ve),()=>(0,u.f)(pe,de,()=>pe.complete(),ve),be=>(0,u.f)(pe,de,()=>pe.error(be),ve)))})}},3099:(dt,Ae,F)=>{F.d(Ae,{B:()=>de});var u=F(8421),$=F(7579),P=F(930),le=F(4482);function de(ae={}){const{connector:pe=(()=>new $.x),resetOnError:be=!0,resetOnComplete:K=!0,resetOnRefCountZero:W=!0}=ae;return ee=>{let $e,Ne,Te,it=0,Ce=!1,ye=!1;const et=()=>{Ne?.unsubscribe(),Ne=void 0},Qe=()=>{et(),$e=Te=void 0,Ce=ye=!1},Fe=()=>{const Pe=$e;Qe(),Pe?.unsubscribe()};return(0,le.e)((Pe,De)=>{it++,!ye&&!Ce&&et();const qe=Te=Te??pe();De.add(()=>{it--,0===it&&!ye&&!Ce&&(Ne=ve(Fe,W))}),qe.subscribe(De),!$e&&it>0&&($e=new P.Hp({next:oe=>qe.next(oe),error:oe=>{ye=!0,et(),Ne=ve(Qe,be,oe),qe.error(oe)},complete:()=>{Ce=!0,et(),Ne=ve(Qe,K),qe.complete()}}),(0,u.Xf)(Pe).subscribe($e))})(ee)}}function ve(ae,pe,...be){if(!0===pe)return void ae();if(!1===pe)return;const K=new P.Hp({next:()=>{K.unsubscribe(),ae()}});return pe(...be).subscribe(K)}},9468:(dt,Ae,F)=>{F.d(Ae,{R:()=>$});var u=F(4482);function $(P,le=0){return(0,u.e)((de,ve)=>{ve.add(P.schedule(()=>de.subscribe(ve),le))})}},8505:(dt,Ae,F)=>{F.d(Ae,{b:()=>de});var u=F(576),$=F(4482),P=F(5403),le=F(4671);function de(ve,ae,pe){const be=(0,u.m)(ve)||ae||pe?{next:ve,error:ae,complete:pe}:ve;return be?(0,$.e)((K,W)=>{var ee;null===(ee=be.subscribe)||void 0===ee||ee.call(be);let $e=!0;K.subscribe((0,P.x)(W,Ne=>{var Te;null===(Te=be.next)||void 0===Te||Te.call(be,Ne),W.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=be.complete)||void 0===Ne||Ne.call(be),W.complete()},Ne=>{var Te;$e=!1,null===(Te=be.error)||void 0===Te||Te.call(be,Ne),W.error(Ne)},()=>{var Ne,Te;$e&&(null===(Ne=be.unsubscribe)||void 0===Ne||Ne.call(be)),null===(Te=be.finalize)||void 0===Te||Te.call(be)}))}):le.y}},4408:(dt,Ae,F)=>{F.d(Ae,{o:()=>de});var u=F(727);class $ extends u.w0{constructor(ae,pe){super()}schedule(ae,pe=0){return this}}const P={setInterval(ve,ae,...pe){const{delegate:be}=P;return be?.setInterval?be.setInterval(ve,ae,...pe):setInterval(ve,ae,...pe)},clearInterval(ve){const{delegate:ae}=P;return(ae?.clearInterval||clearInterval)(ve)},delegate:void 0};var le=F(8737);class de extends ${constructor(ae,pe){super(ae,pe),this.scheduler=ae,this.work=pe,this.pending=!1}schedule(ae,pe=0){var be;if(this.closed)return this;this.state=ae;const K=this.id,W=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(W,K,pe)),this.pending=!0,this.delay=pe,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(W,this.id,pe),this}requestAsyncId(ae,pe,be=0){return P.setInterval(ae.flush.bind(ae,this),be)}recycleAsyncId(ae,pe,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return pe;null!=pe&&P.clearInterval(pe)}execute(ae,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ae,pe);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,pe){let K,be=!1;try{this.work(ae)}catch(W){be=!0,K=W||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ae,scheduler:pe}=this,{actions:be}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(be,this),null!=ae&&(this.id=this.recycleAsyncId(pe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,F)=>{F.d(Ae,{v:()=>P});var u=F(6063);class ${constructor(de,ve=$.now){this.schedulerActionCtor=de,this.now=ve}schedule(de,ve=0,ae){return new this.schedulerActionCtor(this,de).schedule(ae,ve)}}$.now=u.l.now;class P extends ${constructor(de,ve=$.now){super(de,ve),this.actions=[],this._active=!1}flush(de){const{actions:ve}=this;if(this._active)return void ve.push(de);let ae;this._active=!0;do{if(ae=de.execute(de.state,de.delay))break}while(de=ve.shift());if(this._active=!1,ae){for(;de=ve.shift();)de.unsubscribe();throw ae}}}},4986:(dt,Ae,F)=>{F.d(Ae,{P:()=>le,z:()=>P});var u=F(4408);const P=new(F(7565).v)(u.o),le=P},6063:(dt,Ae,F)=>{F.d(Ae,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,F)=>{F.d(Ae,{z:()=>u});const u={setTimeout($,P,...le){const{delegate:de}=u;return de?.setTimeout?de.setTimeout($,P,...le):setTimeout($,P,...le)},clearTimeout($){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(dt,Ae,F)=>{F.d(Ae,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,F)=>{F.d(Ae,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,Ae,F)=>{F.d(Ae,{_6:()=>ve,jO:()=>le,yG:()=>de});var u=F(576),$=F(3532);function P(ae){return ae[ae.length-1]}function le(ae){return(0,u.m)(P(ae))?ae.pop():void 0}function de(ae){return(0,$.K)(P(ae))?ae.pop():void 0}function ve(ae,pe){return"number"==typeof P(ae)?ae.pop():pe}},8737:(dt,Ae,F)=>{function u($,P){if($){const le=$.indexOf(P);0<=le&&$.splice(le,1)}}F.d(Ae,{P:()=>u})},3888:(dt,Ae,F)=>{function u($){const le=$(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ae,{d:()=>u})},2806:(dt,Ae,F)=>{F.d(Ae,{O:()=>le,x:()=>P});var u=F(2416);let $=null;function P(de){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!$;if(ve&&($={errorThrown:!1,error:null}),de(),ve){const{errorThrown:ae,error:pe}=$;if($=null,ae)throw pe}}else de()}function le(de){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(dt,Ae,F)=>{function u($,P,le,de=0,ve=!1){const ae=P.schedule(function(){le(),ve?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(ae),!ve)return ae}F.d(Ae,{f:()=>u})},4671:(dt,Ae,F)=>{function u($){return $}F.d(Ae,{y:()=>u})},1144:(dt,Ae,F)=>{F.d(Ae,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(dt,Ae,F)=>{F.d(Ae,{D:()=>$});var u=F(576);function $(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(dt,Ae,F)=>{function u($){return"function"==typeof $}F.d(Ae,{m:()=>u})},3670:(dt,Ae,F)=>{F.d(Ae,{c:()=>P});var u=F(8822),$=F(576);function P(le){return(0,$.m)(le[u.L])}},6495:(dt,Ae,F)=>{F.d(Ae,{T:()=>P});var u=F(2202),$=F(576);function P(le){return(0,$.m)(le?.[u.h])}},8239:(dt,Ae,F)=>{F.d(Ae,{t:()=>$});var u=F(576);function $(P){return(0,u.m)(P?.then)}},3260:(dt,Ae,F)=>{F.d(Ae,{L:()=>le,Q:()=>P});var u=F(655),$=F(576);function P(de){return(0,u.FC)(this,arguments,function*(){const ae=de.getReader();try{for(;;){const{value:pe,done:be}=yield(0,u.qq)(ae.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(pe)}}finally{ae.releaseLock()}})}function le(de){return(0,$.m)(de?.getReader)}},3532:(dt,Ae,F)=>{F.d(Ae,{K:()=>$});var u=F(576);function $(P){return P&&(0,u.m)(P.schedule)}},4482:(dt,Ae,F)=>{F.d(Ae,{A:()=>$,e:()=>P});var u=F(576);function $(le){return(0,u.m)(le?.lift)}function P(le){return de=>{if($(de))return de.lift(function(ve){try{return le(ve,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,Ae,F)=>{function u(){}F.d(Ae,{Z:()=>u})},9635:(dt,Ae,F)=>{F.d(Ae,{U:()=>P,z:()=>$});var u=F(4671);function $(...le){return P(le)}function P(le){return 0===le.length?u.y:1===le.length?le[0]:function(ve){return le.reduce((ae,pe)=>pe(ae),ve)}}},7849:(dt,Ae,F)=>{F.d(Ae,{h:()=>P});var u=F(2416),$=F(3410);function P(le){$.z.setTimeout(()=>{const{onUnhandledError:de}=u.v;if(!de)throw le;de(le)})}},4532:(dt,Ae,F)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ae,{z:()=>u})},655:(dt,Ae,F)=>{function le(X,te){var me={};for(var ce in X)Object.prototype.hasOwnProperty.call(X,ce)&&te.indexOf(ce)<0&&(me[ce]=X[ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ce=Object.getOwnPropertySymbols(X);Ue<ce.length;Ue++)te.indexOf(ce[Ue])<0&&Object.prototype.propertyIsEnumerable.call(X,ce[Ue])&&(me[ce[Ue]]=X[ce[Ue]])}return me}function pe(X,te,me,ce){return new(me||(me=Promise))(function(He,pt){function an(mn){try{Ze(ce.next(mn))}catch(Dn){pt(Dn)}}function Wt(mn){try{Ze(ce.throw(mn))}catch(Dn){pt(Dn)}}function Ze(mn){mn.done?He(mn.value):function Ue(He){return He instanceof me?He:new me(function(pt){pt(He)})}(mn.value).then(an,Wt)}Ze((ce=ce.apply(X,te||[])).next())})}function Ce(X){return this instanceof Ce?(this.v=X,this):new Ce(X)}function ye(X,te,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ce=me.apply(X,te||[]),He=[];return Ue={},pt("next"),pt("throw"),pt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function pt(rn){ce[rn]&&(Ue[rn]=function(sn){return new Promise(function(Yt,jt){He.push([rn,sn,Yt,jt])>1||an(rn,sn)})})}function an(rn,sn){try{!function Wt(rn){rn.value instanceof Ce?Promise.resolve(rn.value.v).then(Ze,mn):Dn(He[0][2],rn)}(ce[rn](sn))}catch(Yt){Dn(He[0][3],Yt)}}function Ze(rn){an("next",rn)}function mn(rn){an("throw",rn)}function Dn(rn,sn){rn(sn),He.shift(),He.length&&an(He[0][0],He[0][1])}}function Qe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function ee(X){var te="function"==typeof Symbol&&Symbol.iterator,me=te&&X[te],ce=0;if(me)return me.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ce>=X.length&&(X=void 0),{value:X&&X[ce++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),me={},ce("next"),ce("throw"),ce("return"),me[Symbol.asyncIterator]=function(){return this},me);function ce(He){me[He]=X[He]&&function(pt){return new Promise(function(an,Wt){!function Ue(He,pt,an,Wt){Promise.resolve(Wt).then(function(Ze){He({value:Ze,done:an})},pt)}(an,Wt,(pt=X[He](pt)).done,pt.value)})}}}F.d(Ae,{FC:()=>ye,KL:()=>Qe,_T:()=>le,mG:()=>pe,qq:()=>Ce})},4650:(dt,Ae,F)=>{F.d(Ae,{$8M:()=>zl,$Z:()=>UD,AFp:()=>rb,ALo:()=>Cp,AaK:()=>pe,BQk:()=>Cu,CHM:()=>Kh,CRH:()=>Vu,CZH:()=>kp,CqO:()=>dg,D6c:()=>jp,EJc:()=>Sh,EiD:()=>iu,EpF:()=>ug,F$t:()=>Zf,F4k:()=>Do,FYo:()=>iy,FiY:()=>We,G48:()=>bS,Gf:()=>Il,GfV:()=>ry,Gpc:()=>W,Hsn:()=>fg,JOm:()=>Eo,JVY:()=>a0,Jf7:()=>O0,KtG:()=>jo,L6k:()=>l0,LAX:()=>c0,LFG:()=>Wn,LSH:()=>d0,Lbi:()=>t_,Lck:()=>jT,MAs:()=>qf,MMx:()=>Hg,NdJ:()=>Jy,O4$:()=>Bc,OlP:()=>Mn,Oqu:()=>Eg,PXZ:()=>Bp,Q6J:()=>ji,QGY:()=>rh,QP$:()=>Le,QbO:()=>cS,Qsj:()=>aD,R0b:()=>Sr,RDi:()=>o0,Rgc:()=>yh,SBq:()=>ou,Sil:()=>xh,Suo:()=>zv,TTD:()=>Os,TgZ:()=>Kf,Tol:()=>Ji,Udp:()=>Xf,VKq:()=>$g,WFA:()=>ev,X6Q:()=>wE,XFs:()=>Xe,Xpm:()=>xe,Xts:()=>W_,Y36:()=>gu,YKP:()=>At,YNc:()=>jw,Yjl:()=>j,Yz7:()=>sn,Z0I:()=>Br,ZZ4:()=>Hp,_Bn:()=>Ug,_UZ:()=>lg,_Vd:()=>Nd,_c5:()=>ju,_uU:()=>pv,aQg:()=>d_,c2e:()=>Op,cJS:()=>jt,cg1:()=>Iv,d8E:()=>Mg,dDg:()=>Lp,dqk:()=>Pt,eBb:()=>z_,eFA:()=>cb,ekj:()=>Jf,eoX:()=>Vp,f3M:()=>D,g9A:()=>Zn,h0i:()=>at,hGG:()=>$u,hij:()=>tp,iGM:()=>bh,ifc:()=>gt,ip1:()=>Uu,jDz:()=>HC,kL8:()=>Dv,lG2:()=>Q,lcZ:()=>_h,lqb:()=>Yl,lri:()=>Fp,mCW:()=>_,n5z:()=>Vs,n_E:()=>Ca,oAB:()=>tn,oJD:()=>Cm,oxw:()=>$w,pB0:()=>Ad,q3G:()=>ti,q4F:()=>D0,qLn:()=>Cf,qOj:()=>Yy,qZA:()=>ih,qzn:()=>ha,rWj:()=>Mh,s9C:()=>Yf,sBO:()=>kh,sIi:()=>$f,s_b:()=>Ep,soG:()=>Pp,tb:()=>Rp,tp0:()=>xt,uIk:()=>Qy,vHH:()=>Te,vpe:()=>ui,wAp:()=>bt,xp6:()=>W0,ynx:()=>cg,z2F:()=>s_,z3N:()=>Ws,zSh:()=>wf,zs3:()=>ml});var u=F(7579),$=F(727),P=F(9751),le=F(6451),de=F(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ve({__forward_ref__:ve});function W(s){return s.__forward_ref__=W,s.toString=function(){return pe(this())},s}function ee(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===W}class Te extends Error{constructor(o,l){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,o){throw new Te(-201,!1)}function Wt(s,o){null==s&&function Ze(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pi(s){return Wi(s,qi)||Wi(s,Ar)}function Br(s){return null!==Pi(s)}function Wi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jr(s){return s&&(s.hasOwnProperty(Qn)||s.hasOwnProperty(es))?s[Qn]:null}const qi=ve({\u0275prov:ve}),Qn=ve({\u0275inj:ve}),Ar=ve({ngInjectableDef:ve}),es=ve({ngInjectorDef:ve});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let ni;function In(s){const o=ni;return ni=s,o}function Ci(s,o,l){const d=Pi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Xe.Optional?null:void 0!==o?o:void Pe(pe(s))}function Tn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),gt=(()=>{return(s=gt||(gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",gt;var s})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ni={},Mt=[],Ki=ve({\u0275cmp:ve}),Ut=ve({\u0275dir:ve}),mr=ve({\u0275pipe:ve}),Jt=ve({\u0275mod:ve}),fi=ve({\u0275fac:ve}),Rn=ve({__NG_ELEMENT_ID__:ve});let tt=0;function xe(s){return Tn(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gt.Emulated,id:"c"+tt++,styles:s.styles||Mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=z(s.inputs,d),h.outputs=z(s.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(It).filter(Dt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(re).filter(Dt):null,h})}function It(s){return R(s)||B(s)}function Dt(s){return null!==s}function tn(s){return Tn(()=>({type:s.type,bootstrap:s.bootstrap||Mt,declarations:s.declarations||Mt,imports:s.imports||Mt,exports:s.exports||Mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return Ni;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const Q=xe;function j(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function R(s){return s[Ki]||null}function B(s){return s[Ut]||null}function re(s){return s[mr]||null}function Le(s){const o=R(s)||B(s)||re(s);return null!==o&&o.standalone}function st(s,o){const l=s[Jt]||null;if(!l&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function ri(s){return Array.isArray(s)&&"object"==typeof s[1]}function _r(s){return Array.isArray(s)&&!0===s[1]}function ao(s){return 0!=(8&s.flags)}function kl(s){return 2==(2&s.flags)}function Fa(s){return 1==(1&s.flags)}function lr(s){return null!==s.template}function Ac(s){return 0!=(256&s[2])}function Ti(s,o){return s.hasOwnProperty(fi)?s[fi]:null}class Vo{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Os(){return sd}function sd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Rc),Ol}function Ol(){const s=Bo(this),o=s?.current;if(o){const l=s.previous;if(l===Ni)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Rc(s,o,l,d){const h=Bo(s)||function ss(s,o){return s[od]=o}(s,{previous:Ni,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],E=y[w];p[w]=new Vo(E&&E.currentValue,o,y===Ni),s[d]=o}Os.ngInherit=!0;const od="__ngSimpleChanges__";function Bo(s){return s[od]||null}function Vn(s){for(;Array.isArray(s);)s=s[0];return s}function kr(s,o){return Vn(o[s])}function Si(s,o){return Vn(o[s.index])}function uo(s,o){return s.data[o]}function Ur(s,o){return s[o]}function ln(s,o){const l=o[s];return ri(l)?l:l[0]}function Ps(s){return 64==(64&s[2])}function wr(s,o){return null==o?null:s[o]}function Ba(s){s[18]=0}function Hn(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Lt={lFrame:Za(null),bindingsEnabled:!0};function ho(){return Lt.bindingsEnabled}function Re(){return Lt.lFrame.lView}function Qt(){return Lt.lFrame.tView}function Kh(s){return Lt.lFrame.contextLView=s,s[8]}function jo(s){return Lt.lFrame.contextLView=null,s}function si(){let s=$o();for(;null!==s&&64===s.type;)s=s.parent;return s}function $o(){return Lt.lFrame.currentTNode}function Zi(s,o){const l=Lt.lFrame;l.currentTNode=s,l.isParent=o}function Fl(){return Lt.lFrame.isParent}function zo(){Lt.lFrame.isParent=!1}function oi(){const s=Lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Wa(){return Lt.lFrame.bindingIndex++}function as(s){const o=Lt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ud(s,o){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Go(o)}function Go(s){Lt.lFrame.currentDirectiveIndex=s}function Lc(s){const o=Lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function qa(){return Lt.lFrame.currentQueryIndex}function Vc(s){Lt.lFrame.currentQueryIndex=s}function Ka(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function dd(s,o,l){if(l&Xe.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&Xe.Host||(h=Ka(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Lt.lFrame=Qh();return d.currentTNode=o,d.lView=s,!0}function Wo(s){const o=Qh(),l=s[1];Lt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Qh(){const s=Lt.lFrame,o=null===s?null:s.child;return null===o?Za(s):o}function Za(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Xh(){const s=Lt.lFrame;return Lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hd=Xh;function Ns(){const s=Xh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Pn(){return Lt.lFrame.selectedIndex}function ls(s){Lt.lFrame.selectedIndex=s}function Nn(){const s=Lt.lFrame;return uo(s.tView,s.selectedIndex)}function Bc(){Lt.lFrame.currentNamespace="svg"}function Ll(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:O}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function qo(s,o,l){Zo(s,o,3,l)}function Ko(s,o,l,d){(3&s[2])===l&&Zo(s,o,l,d)}function pd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Zo(s,o,l,d){const p=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(md(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function md(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Cr{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function cs(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],y=l[d++],w=l[d++];s.setAttribute(o,y,w,p)}else{const p=h,y=l[++d];Gc(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Qa(s){return 3===s||4===s||6===s}function Gc(s){return 64===s.charCodeAt(0)}function Xa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||_d(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function _d(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function tf(s){return-1!==s}function ai(s){return 32767&s}function Ls(s,o){let l=function nf(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Wc=!0;function Ja(s){const o=Wc;return Wc=s,o}let yd=0;const ur={};function us(s,o){const l=Hl(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,qc(d.data,s),qc(o,null),qc(d.blueprint,null));const h=el(s,o),p=s.injectorIndex;if(tf(h)){const y=ai(h),w=Ls(h,o),E=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|E[y+S]}return o[p+8]=h,p}function qc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Hl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function el(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=na(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function po(s,o,l){!function vd(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Rn)&&(d=l[Rn]),null==d&&(d=l[Rn]=yd++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Qo(s,o,l){if(l&Xe.Optional||void 0!==s)return s;Pe()}function mo(s,o,l,d){if(l&Xe.Optional&&void 0===d&&(d=null),0==(l&(Xe.Self|Xe.Host))){const h=s[9],p=In(void 0);try{return h?h.get(o,d,l&Xe.Optional):Ci(o,d,l&Xe.Optional)}finally{In(p)}}return Qo(d,0,l)}function Xo(s,o,l,d=Xe.Default,h){if(null!==s){if(1024&o[2]){const y=function af(s,o,l,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=bd(p,y,l,d|Xe.Self,ur);if(w!==ur)return w;let E=p.parent;if(!E){const S=y[21];if(S){const O=S.get(l,ur,d);if(O!==ur)return O}E=na(y),y=y[15]}p=E}return h}(s,o,l,d,ur);if(y!==ur)return y}const p=bd(s,o,l,d,ur);if(p!==ur)return p}return mo(o,l,d,h)}function bd(s,o,l,d,h){const p=function sf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Rn)?s[Rn]:void 0;return"number"==typeof o?o>=0?255&o:Kc:o}(l);if("function"==typeof p){if(!dd(o,s,d))return d&Xe.Host?Qo(h,0,d):mo(o,l,d,h);try{const y=p(d);if(null!=y||d&Xe.Optional)return y;Pe()}finally{hd()}}else if("number"==typeof p){let y=null,w=Hl(s,o),E=-1,S=d&Xe.Host?o[16][6]:null;for((-1===w||d&Xe.SkipSelf)&&(E=-1===w?el(s,o):o[w+8],-1!==E&&$l(d,!1)?(y=o[1],w=ai(E),o=Ls(E,o)):w=-1);-1!==w;){const O=o[1];if(Jo(p,w,O.data)){const L=jl(w,o,l,y,d,S);if(L!==ur)return L}E=o[w+8],-1!==E&&$l(d,o[1].data[w+8]===S)&&Jo(p,w,o)?(y=O,w=ai(E),o=Ls(E,o)):w=-1}}return h}function jl(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],O=nl(w,y,l,null==d?kl(w)&&Wc:d!=y&&0!=(3&w.type),h&Xe.Host&&p===w);return null!==O?jr(o,y,O,w):ur}function nl(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,O=p>>20,Y=h?w+O:s.directiveEnd;for(let se=d?w:w+O;se<Y;se++){const Ie=y[se];if(se<E&&l===Ie||se>=E&&Ie.type===l)return se}if(h){const se=y[E];if(se&&lr(se)&&se.type===l)return E}return null}function jr(s,o,l,d){let h=s[l];const p=o.data;if(function zc(s){return s instanceof Cr}(h)){const y=h;y.resolving&&function et(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(p[l]));const w=Ja(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?In(y.injectImpl):null;dd(s,d,Xe.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function $c(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=sd(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==E&&In(E),Ja(w),y.resolving=!1,hd()}}return h}function Jo(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function $l(s,o){return!(s&Xe.Self||s&Xe.Host&&o)}class ea{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Xo(this._tNode,this._lView,o,d,l)}}function Kc(){return new ea(si(),Re())}function Vs(s){return Tn(()=>{const o=s.prototype.constructor,l=o[fi]||ta(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[fi]||ta(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ta(s){return $e(s)?()=>{const o=ta(ee(s));return o&&o()}:Ti(s)}function na(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function zl(s){return function tl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(Qa(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(si(),s)}const ia="__parameters__";function sa(s,o,l){return Tn(()=>{const d=function Zc(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,S,O){const L=E.hasOwnProperty(ia)?E[ia]:Object.defineProperty(E,ia,{value:[]})[ia];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Mn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=sn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Li(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Li(d,o)):o!==s&&o.push(d)}return o}function ds(s,o){s.forEach(l=>Array.isArray(l)?ds(l,o):o(l))}function il(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function _o(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function dr(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Yi(s,o,l){let d=Or(s,o);return d>=0?s[1|d]=l:(d=~d,function ht(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function aa(s,o){const l=Or(s,o);if(l>=0)return s[1|l]}function Or(s,o){return function Qi(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const Gn={},Gr="__NG_DI_FLAG__",ca="ngTempTokenPath",ql=/\n/gm,Jc="__source";let ua;function fs(s){const o=ua;return ua=s,o}function Dd(s,o=Xe.Default){if(void 0===ua)throw new Te(-203,!1);return null===ua?Ci(s,void 0,o):ua.get(s,o&Xe.Optional?null:void 0,o)}function Wn(s,o=Xe.Default){return(function Xn(){return ni}()||Dd)(ee(s),o)}function D(s,o=Xe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Wn(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const d=ee(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let h,p=Xe.Default;for(let y=0;y<d.length;y++){const w=d[y],E=H(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(Wn(h,p))}else o.push(Wn(d))}return o}function k(s,o){return s[Gr]=o,s.prototype[Gr]=o,s}function H(s){return s[Gr]}const We=k(sa("Optional"),8),xt=k(sa("SkipSelf"),4);let vm,pf,Zl;function o0(s){vm=s}function sl(s){return function mf(){if(void 0===pf&&(pf=null,Pt.trustedTypes))try{pf=Pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return pf}()?.createHTML(s)||s}function tu(s){return function ol(){if(void 0===Zl&&(Zl=null,Pt.trustedTypes))try{Zl=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Zl}()?.createHTML(s)||s}class bo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Td extends bo{getTypeName(){return"HTML"}}class gf extends bo{getTypeName(){return"Style"}}class _f extends bo{getTypeName(){return"Script"}}class Sd extends bo{getTypeName(){return"URL"}}class xd extends bo{getTypeName(){return"ResourceURL"}}function Ws(s){return s instanceof bo?s.changingThisBreaksApplicationSecurity:s}function ha(s,o){const l=function Md(s){return s instanceof bo&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function a0(s){return new Td(s)}function l0(s){return new gf(s)}function z_(s){return new _f(s)}function c0(s){return new Sd(s)}function Ad(s){return new xd(s)}class kd{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(sl(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class yf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=sl(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=sl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function C(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function M(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const N=C("area,br,col,hr,img,wbr"),ie=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Me=C("rp,rt"),An=M(N,M(ie,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),M(Me,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),M(Me,ie)),ms=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rd=M(ms,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nu=C("script,style,template");class bm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!An.hasOwnProperty(l))return this.sanitizedSomething=!0,!nu.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!Rd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;ms[w]&&(E=_(E)),this.buf.push(" ",y,'="',cl(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();An.hasOwnProperty(l)&&!N.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(cl(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const G_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bf=/([^\#-~ |!])/g;function cl(s){return s.replace(/&/g,"&amp;").replace(G_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(bf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function iu(s,o){let l=null;try{fa=fa||function ll(s){const o=new yf(s);return function b(){try{return!!(new window.DOMParser).parseFromString(sl(""),"text/html")}catch{return!1}}()?new kd(o):o}(s);let d=o?String(o):"";l=fa.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=l.innerHTML,l=fa.getInertBodyElement(d)}while(d!==p);return sl((new bm).sanitizeChildren(ru(l)||l))}finally{if(l){const d=ru(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ru(s){return"content"in s&&function wm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ti=(()=>((ti=ti||{})[ti.NONE=0]="NONE",ti[ti.HTML=1]="HTML",ti[ti.STYLE=2]="STYLE",ti[ti.SCRIPT=3]="SCRIPT",ti[ti.URL=4]="URL",ti[ti.RESOURCE_URL=5]="RESOURCE_URL",ti))();function Cm(s){const o=Od();return o?tu(o.sanitize(ti.HTML,s)||""):ha(s,"HTML")?tu(Ws(s)):iu(function ff(){return void 0!==vm?vm:typeof document<"u"?document:void 0}(),Ce(s))}function d0(s){const o=Od();return o?o.sanitize(ti.URL,s)||"":ha(s,"URL")?Ws(s):_(Ce(s))}function Od(){const s=Re();return s&&s[12]}const W_=new Mn("ENVIRONMENT_INITIALIZER"),q_=new Mn("INJECTOR",-1),f0=new Mn("INJECTOR_DEF_TYPES");class JI{get(o,l=Gn){if(l===Gn){const d=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw d.name="NullInjectorError",d}return l}}function p0(...s){return{\u0275providers:m0(0,s)}}function m0(s,...o){const l=[],d=new Set;let h;return ds(o,p=>{const y=p;Z_(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&K_(h,l),l}function K_(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];ds(h,p=>{o.push(p)})}}function Z_(s,o,l,d){if(!(s=ee(s)))return!1;let h=null,p=Jr(s);const y=!p&&R(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Jr(E),!p)return!1;h=E}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of E)Z_(S,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;d.add(h);try{ds(p.imports,O=>{Z_(O,o,l,d)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&K_(S,o)}if(!w){const S=Ti(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Mt},{provide:f0,useValue:h,multi:!0},{provide:W_,useValue:()=>Wn(h),multi:!0})}const E=p.providers;null==E||w||ds(E,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}const g0=ve({provide:String,useValue:ve});function Y_(s){return null!==s&&"object"==typeof s&&g0 in s}function ul(s){return"function"==typeof s}const wf=new Mn("Set Injector scope."),Em={},X_={};let Im;function Dm(){return void 0===Im&&(Im=new JI),Im}class Yl{}class y0 extends Yl{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ty(o,y=>this.processProvider(y)),this.records.set(q_,Pd(void 0,this)),h.has("environment")&&this.records.set(Yl,Pd(void 0,this));const p=this.records.get(wf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(f0.multi,Mt,Xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=fs(this),d=In(void 0);try{return o()}finally{fs(l),In(d)}}get(o,l=Gn,d=Xe.Default){this.assertNotDestroyed();const h=fs(this),p=In(void 0);try{if(!(d&Xe.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function UA(s){return"function"==typeof s||"object"==typeof s&&s instanceof Mn}(o)&&Pi(o);w=E&&this.injectableDefInScope(E)?Pd(Tm(o),Em):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&Xe.Self?Dm():this.parent).get(o,l=d&Xe.Optional&&l===Gn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[ca]=y[ca]||[]).unshift(pe(o)),h)throw y;return function J(s,o,l,d){const h=s[ca];throw o[Jc]&&h.unshift(o[Jc]),s.message=function ue(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(ql,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[ca]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{In(p),fs(h)}}resolveInjectorInitializers(){const o=fs(this),l=In(void 0);try{const d=this.get(W_.multi,Mt,Xe.Self);for(const h of d)h()}finally{fs(o),In(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(pe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let l=ul(o=ee(o))?o:ee(o&&o.provide);const d=function J_(s){return Y_(s)?Pd(void 0,s.useValue):Pd(v0(s),Em)}(o);if(ul(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Pd(void 0,Em,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Em&&(l.value=X_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function iD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ee(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Tm(s){const o=Pi(s),l=null!==o?o.factory:Ti(s);if(null!==l)return l;if(s instanceof Mn)throw new Te(204,!1);if(s instanceof Function)return function nD(s){const o=s.length;if(o>0)throw dr(o,"?"),new Te(204,!1);const l=function Ln(s){const o=s&&(s[qi]||s[Ar]);if(o){const l=function Xr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Te(204,!1)}function v0(s,o,l){let d;if(ul(s)){const h=ee(s);return Ti(h)||Tm(h)}if(Y_(s))d=()=>ee(s.useValue);else if(function _0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function Q_(s){return!(!s||!s.useExisting)}(s))d=()=>Wn(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function b0(s){return!!s.deps}(s))return Ti(h)||Tm(h);d=()=>new h(...T(s.deps))}return d}function Pd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function ey(s){return!!s.\u0275providers}function ty(s,o){for(const l of s)Array.isArray(l)?ty(l,o):ey(l)?ty(l.\u0275providers,o):o(l)}class ny{}class sD{resolveComponentFactory(o){throw function su(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nd=(()=>{class s{}return s.NULL=new sD,s})();function oD(){return Fd(si(),Re())}function Fd(s,o){return new ou(Si(s,o))}let ou=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=oD,s})();function E0(s){return s instanceof ou?s.nativeElement:s}class iy{}let aD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function I0(){const s=Re(),l=ln(si().index,s);return(ri(l)?l:s)[11]}(),s})(),lD=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class ry{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const D0=new ry("14.2.11"),Sm={};function au(s){return s.ngOriginalError}class Cf{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&au(o);for(;l&&au(l);)l=au(l);return l||null}}const qs=new Map;let Vd=0;const gi="__ngContext__";function wn(s,o){ri(o)?(s[gi]=o[20],function cu(s){qs.set(s[20],s)}(o)):s[gi]=o}function O0(s){return s.ownerDocument.defaultView}function ys(s){return s instanceof Function?s():s}var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();function P0(s,o){return undefined(s,o)}function If(s){const o=s[3];return _r(o)?o[3]:o}function km(s){return fy(s[13])}function hy(s){return fy(s[4])}function fy(s){for(;null!==s&&!_r(s);)s=s[4];return s}function uu(s,o,l,d,h){if(null!=d){let p,y=!1;_r(d)?p=d:ri(d)&&(y=!0,d=d[0]);const w=Vn(d);0===s&&null!==l?null==h?my(o,l,w):Jl(o,l,w,h||null,!0):1===s&&null!==l?Jl(o,l,w,h||null,!0):2===s?function ED(s,o,l){const d=fu(s,o);d&&function wD(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function Af(s,o,l,d,h){const p=l[7];p!==Vn(l)&&uu(o,s,d,p,h);for(let w=10;w<l.length;w++){const E=l[w];Mf(E[1],E,s,o,d,p)}}(o,s,p,l,h)}}function en(s,o,l){return s.createElement(o,l)}function L0(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Hn(h,-1)),l.splice(d,1)}function Hd(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&L0(h,d),o>0&&(s[l-1][4]=d[4]);const p=_o(s,10+o);!function Tf(s,o){Mf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function jd(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Mf(s,o,l,3,null,null),function vD(s){let o=s[13];if(!o)return Om(s[1],s);for(;o;){let l=null;if(ri(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)ri(o)&&Om(o[1],o),o=o[3];null===o&&(o=s),ri(o)&&Om(o[1],o),l=o&&o[4]}o=l}}(o)}}function Om(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function bD(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Cr)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Pm(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):Vn(o[y]),E=d[h=l[p+2]],S=l[p+3];"boolean"==typeof S?w.removeEventListener(l[p],E,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&_r(o[3])){l!==o[3]&&L0(l,o);const d=o[19];null!==d&&d.detachView(s)}!function ay(s){qs.delete(s[20])}(o)}}function Nm(s,o,l){return function Sf(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===gt.None||h===gt.Emulated)return null}return Si(d,l)}(s,o.parent,l)}function Jl(s,o,l,d,h){s.insertBefore(o,l,d,h)}function my(s,o,l){s.appendChild(o,l)}function V0(s,o,l,d,h){null!==d?Jl(s,o,l,d,h):my(s,o,l)}function fu(s,o){return s.parentNode(o)}function B0(s,o,l){return H0(s,o,l)}let H0=function U0(s,o,l){return 40&s.type?Si(s,l):null};function pu(s,o,l,d){const h=Nm(s,d,o),p=o[11],w=B0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)V0(p,h,l[E],w,!1);else V0(p,h,l,w,!1)}function Lm(s,o){if(null!==o){const l=o.type;if(3&l)return Si(o,s);if(4&l)return xf(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Lm(s,d);{const h=s[o.index];return _r(h)?xf(-1,h):Vn(h)}}if(32&l)return P0(o,s)()||Vn(s[o.index]);{const d=ec(s,o);return null!==d?Array.isArray(d)?d[0]:Lm(If(s[16]),d):Lm(s,o.next)}}return null}function ec(s,o){return null!==o?s[16][6].projection[o.projection]:null}function xf(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Lm(d,h)}return o[7]}function _y(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===o&&(w&&wn(Vn(w),d),l.flags|=4),64!=(64&l.flags))if(8&E)_y(s,o,l.child,d,h,p,!1),uu(o,s,h,w,p);else if(32&E){const S=P0(l,d);let O;for(;O=S();)uu(o,s,h,O,p);uu(o,s,h,w,p)}else 16&E?$d(s,o,d,l,h,p):uu(o,s,h,w,p);l=y?l.projectionNext:l.next}}function Mf(s,o,l,d,h,p){_y(l,d,s.firstChild,o,h,p,!1)}function $d(s,o,l,d,h,p){const y=l[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)uu(o,s,h,E[S],p);else _y(s,o,E,y[3],h,p,!0)}function yy(s,o,l){s.setAttribute(o,"style",l)}function Vm(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function vy(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const j0="ng-template";function DD(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==vy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function by(s){return 4===s.type&&s.value!==j0}function TD(s,o,l){return o===(4!==s.type||l?s.value:j0)}function wy(s,o,l){let d=4;const h=s.attrs||[],p=function $0(s){for(let o=0;o<s.length;o++)if(Qa(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!TD(s,E,l)||""===E&&1===o.length){if(Nr(d))return!1;y=!0}}else{const S=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!DD(s.attrs,S,l)){if(Nr(d))return!1;y=!0}continue}const L=SD(8&d?"class":E,h,by(s),l);if(-1===L){if(Nr(d))return!1;y=!0;continue}if(""!==S){let Y;Y=L>p?"":h[L+1].toLowerCase();const se=8&d?Y:null;if(se&&-1!==vy(se,S,0)||2&d&&S!==Y){if(Nr(d))return!1;y=!0}}}}else{if(!y&&!Nr(d)&&!Nr(E))return!1;if(y&&Nr(E))continue;y=!1,d=E|1&d}}return Nr(d)||y}function Nr(s){return 0==(1&s)}function SD(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function z0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Bm(s,o,l=!1){for(let d=0;d<o.length;d++)if(wy(s,o[d],l))return!0;return!1}function pl(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Um(s,o){return s?":not("+o.trim()+")":o}function mu(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Nr(y)&&(o+=Um(p,h),h=""),d=y,p=p||!Nr(d);l++}return""!==h&&(o+=Um(p,h)),o}const Kt={};function W0(s){q0(Qt(),Re(),Pn()+s,!1)}function q0(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&qo(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Ko(o,p,0,l)}ls(l)}function Q0(s,o=null,l=null,d){const h=Cy(s,o,l,d);return h.resolveInjectorInitializers(),h}function Cy(s,o=null,l=null,d,h=new Set){const p=[l||Mt,p0(s)];return d=d||("object"==typeof s?void 0:pe(s)),new y0(p,o||Dm(),d||null,h)}let ml=(()=>{class s{static create(l,d){if(Array.isArray(l))return Q0({name:""},d,l,"");{const h=l.name??"";return Q0({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Gn,s.NULL=new JI,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Wn(q_)}),s.__NG_ELEMENT_ID__=-1,s})();function gu(s,o=Xe.Default){const l=Re();return null===l?Wn(s,o):Xo(si(),l,ee(s),o)}function UD(){throw new Error("invalid")}function My(s,o){return s<<17|o<<2}function ma(s){return s>>17&32767}function Ay(s){return 2|s}function gl(s){return(131068&s)>>2}function Rf(s,o){return-131069&s|o<<2}function zm(s){return 1|s}function Bf(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];Vc(h),y.contentQueries(2,o[p],p)}}}function yu(s,o,l,d,h,p,y,w,E,S,O){const L=o.blueprint.slice();return L[0]=h,L[2]=76|d,(null!==O||s&&1024&s[2])&&(L[2]|=1024),Ba(L),L[3]=L[15]=s,L[8]=l,L[10]=y||s&&s[10],L[11]=w||s&&s[11],L[12]=E||s&&s[12]||null,L[9]=S||s&&s[9]||null,L[6]=p,L[20]=function lu(){return Vd++}(),L[21]=O,L[16]=2==o.type?s[16]:L,L}function _l(s,o,l,d,h){let p=s.data[o];if(null===p)p=function Km(s,o,l,d,h){const p=$o(),y=Fl(),E=s.data[o]=function YD(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,l,d,h),function cd(){return Lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Nl(){const s=Lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Zi(p,!0),p}function ga(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Zm(s,o,l){Wo(o);try{const d=s.viewQuery;null!==d&&Wy(1,d,l);const h=s.template;null!==h&&yw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Bf(s,o),s.staticViewQueries&&Wy(2,s.viewQuery,l);const p=s.components;null!==p&&function _w(s,o){for(let l=0;l<o.length;l++)oT(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ns()}}function Ym(s,o,l,d){const h=o[2];if(128!=(128&h)){Wo(o);try{Ba(o),function Ga(s){return Lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&yw(s,o,l,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&qo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Ko(o,S,0,null),pd(o,0)}if(function sT(s){for(let o=km(s);null!==o;o=hy(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(512&h[2])&&Hn(p,1),h[2]|=512}}}(o),function rT(s){for(let o=km(s);null!==o;o=hy(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Ps(d)&&Ym(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Bf(s,o),y){const S=s.contentCheckHooks;null!==S&&qo(o,S)}else{const S=s.contentHooks;null!==S&&Ko(o,S,1),pd(o,1)}!function qD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)ls(~h);else{const p=h,y=l[++d],w=l[++d];ud(y,p),w(2,o[p])}}}finally{ls(-1)}}(s,o);const w=s.components;null!==w&&function gw(s,o){for(let l=0;l<o.length;l++)eg(s,o[l])}(o,w);const E=s.viewQuery;if(null!==E&&Wy(2,E,d),y){const S=s.viewCheckHooks;null!==S&&qo(o,S)}else{const S=s.viewHooks;null!==S&&Ko(o,S,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Hn(o[3],-1))}finally{Ns()}}}function yw(s,o,l,d,h){const p=Pn(),y=2&d;try{ls(-1),y&&o.length>22&&q0(s,o,22,!1),l(d,h)}finally{ls(p)}}function vw(s,o,l){if(ao(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Ly(s,o,l){!ho()||(function eT(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||us(l,o),wn(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],S=lr(E);S&&iT(o,l,E);const O=jr(o,s,w,l);wn(O,o),null!==y&&Xm(0,w-h,O,E,0,y),S&&(ln(l.index,o)[8]=O)}}(s,o,l,Si(l,o)),128==(128&l.flags)&&function tT(s,o,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function Yh(){return Lt.lFrame.currentDirectiveIndex}();try{ls(p);for(let w=d;w<h;w++){const E=s.data[w],S=o[w];Go(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Dw(E,S)}}finally{ls(-1),Go(y)}}(s,o,l))}function Vy(s,o,l=Si){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function Uf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=By(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function By(s,o,l,d,h,p,y,w,E,S){const O=22+d,L=O+h,Y=function KD(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Kt);return l}(O,L),se="function"==typeof S?S():S;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:w,declTNode:o,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function bw(s,o,l,d){const h=jf(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&ng(s).push(d,h.length-1))}function ww(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Uy(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let S=o.directiveStart;S<d;S++){const O=h[S],L=O.inputs,Y=null===p||by(o)?null:Aw(L,p);y.push(Y),w=ww(L,S,w),E=ww(O.outputs,S,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function qr(s,o,l,d,h,p,y,w){const E=Si(o,l);let O,S=o.inputs;!w&&null!=S&&(O=S[d])?(ig(s,l,O,d,h),kl(o)&&Hy(l,o.index)):3&o.type&&(d=function QD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(E,d,h))}function Hy(s,o){const l=ln(o,s);16&l[2]||(l[2]|=32)}function jy(s,o,l,d){let h=!1;if(ho()){const p=function Tw(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Bm(l,y.selectors,!1)&&(h||(h=[]),po(us(l,o),s,y.type),lr(y)?(Qm(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,nT(l,s.data.length,p.length);for(let O=0;O<p.length;O++){const L=p[O];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,S=ga(s,o,p.length,null);for(let O=0;O<p.length;O++){const L=p[O];l.mergedAttrs=Xa(l.mergedAttrs,L.hostAttrs),Mw(s,l,o,S,L),xw(S,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const Y=L.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),S++}Uy(s,l)}y&&function Sw(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Te(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=Xa(l.mergedAttrs,l.attrs),h}function Iw(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function JD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=E&&w.push(E),w.push(d,h,y)}}function Dw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Qm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function xw(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;lr(o)&&(l[""]=s)}}function nT(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Mw(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Ti(h.type)),y=new Cr(p,lr(h),gu);s.blueprint[d]=y,l[d]=y,Iw(s,o,0,d,ga(s,l,h.hostVars,Kt),h)}function iT(s,o,l){const d=Si(o,s),h=Uf(l),p=s[10],y=tg(s,yu(s,h,null,l.onPush?32:16,d,o,p,p.createRenderer(d,l),null,null,null));s[o.index]=y}function _a(s,o,l,d,h,p){const y=Si(s,o);!function $y(s,o,l,d,h,p,y){if(null==p)s.removeAttribute(o,h,l);else{const w=null==y?Ce(p):y(p,d||"",h);s.setAttribute(o,h,w,l)}}(o[11],y,p,s.value,l,d,h)}function Xm(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const S=y[E++],O=y[E++],L=y[E++];null!==w?d.setInput(l,L,S,O):l[O]=L}}}function Aw(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Jm(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function eg(s,o){const l=ln(o,s);if(Ps(l)){const d=l[1];48&l[2]?Ym(d,l,d.template,l[8]):l[5]>0&&zy(l)}}function zy(s){for(let d=km(s);null!==d;d=hy(d))for(let h=10;h<d.length;h++){const p=d[h];if(Ps(p))if(512&p[2]){const y=p[1];Ym(y,p,y.template,p[8])}else p[5]>0&&zy(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=ln(l[d],s);Ps(h)&&h[5]>0&&zy(h)}}function oT(s,o){const l=ln(o,s),d=l[1];(function aT(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Zm(d,l,l[8])}function tg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gy(s){for(;s;){s[2]|=32;const o=If(s);if(Ac(s)&&!o)return s;s=o}return null}function Hf(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{Ym(s,o,s.template,l)}catch(y){throw d&&Rw(o,y),y}finally{h.end&&h.end()}}function Wy(s,o,l){Vc(0),o(s,l)}function jf(s){return s[7]||(s[7]=[])}function ng(s){return s.cleanup||(s.cleanup=[])}function qy(s,o,l){return(null===s||lr(s))&&(l=function ad(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Rw(s,o){const l=s[9],d=l?l.get(Cf,null):null;d&&d.handleError(o)}function ig(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],E=o[y],S=s.data[y];null!==S.setInput?S.setInput(E,h,d,w):E[w]=h}}function Ky(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function rg(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(Vn(p)),_r(p))for(let w=10;w<p.length;w++){const E=p[w],S=E[1].firstChild;null!==S&&rg(E[1],E,S,d)}const y=l.type;if(8&y)rg(s,o,l.child,d);else if(32&y){const w=P0(l,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=ec(o,l);if(Array.isArray(w))d.push(...w);else{const E=If(o[16]);rg(E[1],E,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class vu{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return rg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_r(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Hd(o,d),_o(l,d))}this._attachedToViewContainer=!1}jd(this._lView[1],this._lView)}onDestroy(o){bw(this._lView[1],this._lView,null,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Hf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hu(s,o){Mf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class Ow extends vu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Hf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Yd extends Nd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=R(o);return new bu(l,this.ngModule)}}function cT(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Qd{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,Sm,d);return h!==Sm||l===Sm?h:this.parentInjector.get(o,l,d)}}class bu extends ny{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Hm(s){return s.map(mu).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return cT(this.componentDef.inputs)}get outputs(){return cT(this.componentDef.outputs)}create(o,l,d,h){let p=(h=h||this.ngModule)instanceof Yl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Qd(o,p):o,w=y.get(iy,null);if(null===w)throw new Te(407,!1);const E=y.get(lD,null),S=w.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=d?function ZD(s,o,l){return s.selectRootElement(o,l===gt.ShadowDom)}(S,d,this.componentDef.encapsulation):en(S,O,function Pw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),Y=this.componentDef.onPush?288:272,se=By(0,null,null,1,0,null,null,null,null,null),Ie=yu(null,se,null,Y,null,null,w,S,E,y,null);let ze,Ke;Wo(Ie);try{const ut=function dT(s,o,l,d,h,p){const y=l[1];l[22]=s;const E=_l(y,22,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(Ky(E,S,!0),null!==s&&(cs(h,s,S),null!==E.classes&&Vm(h,s,E.classes),null!==E.styles&&yy(h,s,E.styles)));const O=d.createRenderer(s,o),L=yu(l,Uf(o),null,o.onPush?32:16,l[22],E,d,O,p||null,null,null);return y.firstCreatePass&&(po(us(E,l),y,o.type),Qm(y,E),nT(E,l.length,1)),tg(l,L),l[22]=L}(L,this.componentDef,Ie,w,S);if(L)if(d)cs(S,L,["ng-version",D0.full]);else{const{attrs:St,classes:Se}=function G0(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!Nr(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);St&&cs(S,L,St),Se&&Se.length>0&&Vm(S,L,Se.join(" "))}if(Ke=uo(se,22),void 0!==l){const St=Ke.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const kt=l[Se];St.push(null!=kt?Array.from(kt):null)}}ze=function hT(s,o,l,d){const h=l[1],p=function Ew(s,o,l){const d=si();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Mw(s,d,o,ga(s,o,1,null),l),Uy(s,d));const h=jr(o,s,d.directiveStart,d);wn(h,o);const p=Si(d,o);return p&&wn(p,o),h}(h,l,o);if(s[8]=l[8]=p,null!==d)for(const w of d)w(p,o);if(o.contentQueries){const w=si();o.contentQueries(1,p,w.directiveStart)}const y=si();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ls(y.index),Iw(l[1],y,0,y.directiveStart,y.directiveEnd,o),Dw(o,p)),p}(ut,this.componentDef,Ie,[fT]),Zm(se,Ie,null)}finally{Ns()}return new Nw(this.componentType,ze,Fd(Ke,Ie),Ie,Ke)}}class Nw extends class w0{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new Ow(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;ig(p[1],p,h,o,l),Hy(p,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function fT(){const s=si();Ll(Re()[1],s)}function Yy(s){let o=function Zy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(lr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=Xd(s.inputs),y.declaredInputs=Xd(s.declaredInputs),y.outputs=Xd(s.outputs);const w=h.hostBindings;w&&pT(s,w);const E=h.viewQuery,S=h.contentQueries;if(E&&fk(s,E),S&&Lw(s,S),ae(s.inputs,h.inputs),ae(s.declaredInputs,h.declaredInputs),ae(s.outputs,h.outputs),lr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Yy&&(l=!1)}}o=Object.getPrototypeOf(o)}!function hk(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Xa(h.hostAttrs,l=Xa(l,h.hostAttrs))}}(d)}function Xd(s){return s===Ni?{}:s===Mt?[]:s}function fk(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function Lw(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function pT(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let sg=null;function wu(){if(!sg){const s=Pt.Symbol;if(s&&s.iterator)sg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(sg=d)}}}return sg}function $f(s){return!!Uw(s)&&(Array.isArray(s)||!(s instanceof Map)&&wu()in s)}function Uw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Hi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Qy(s,o,l,d){const h=Re();return Hi(h,Wa(),o)&&(Qt(),_a(Nn(),h,s,o,l,d)),Qy}function zf(s,o,l,d){return Hi(s,Wa(),l)?o+Ce(l)+d:Kt}function jw(s,o,l,d,h,p,y,w){const E=Re(),S=Qt(),O=s+22,L=S.firstCreatePass?function bT(s,o,l,d,h,p,y,w,E){const S=o.consts,O=_l(o,s,4,y||null,wr(S,w));jy(o,l,O,wr(S,E)),Ll(o,O);const L=O.tViews=By(2,O,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,O),L.queries=o.queries.embeddedTView(O)),O}(O,S,E,o,l,d,h,p,y):S.data[O];Zi(L,!1);const Y=E[11].createComment("");pu(S,E,Y,L),wn(Y,E),tg(E,E[O]=Jm(Y,E,Y,L)),Fa(L)&&Ly(S,E,L),null!=y&&Vy(E,L,w)}function qf(s){return Ur(function za(){return Lt.lFrame.contextLView}(),22+s)}function ji(s,o,l){const d=Re();return Hi(d,Wa(),o)&&qr(Qt(),Nn(),d,s,o,d[11],l,!1),ji}function ba(s,o,l,d,h){const y=h?"class":"style";ig(s,l,o.inputs[y],y,d)}function Kf(s,o,l,d){const h=Re(),p=Qt(),y=22+s,w=h[11],E=h[y]=en(w,o,function jc(){return Lt.lFrame.currentNamespace}()),S=p.firstCreatePass?function wT(s,o,l,d,h,p,y){const w=o.consts,S=_l(o,s,2,h,wr(w,p));return jy(o,l,S,wr(w,y)),null!==S.attrs&&Ky(S,S.attrs,!1),null!==S.mergedAttrs&&Ky(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,l,d):p.data[y];Zi(S,!0);const O=S.mergedAttrs;null!==O&&cs(w,E,O);const L=S.classes;null!==L&&Vm(w,E,L);const Y=S.styles;return null!==Y&&yy(w,E,Y),64!=(64&S.flags)&&pu(p,h,E,S),0===function Ha(){return Lt.lFrame.elementDepthCount}()&&wn(E,h),function ld(){Lt.lFrame.elementDepthCount++}(),Fa(S)&&(Ly(p,h,S),vw(p,S,h)),null!==d&&Vy(h,S),Kf}function ih(){let s=si();Fl()?zo():(s=s.parent,Zi(s,!1));const o=s;!function ja(){Lt.lFrame.elementDepthCount--}();const l=Qt();return l.firstCreatePass&&(Ll(l,s),ao(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Bl(s){return 0!=(16&s.flags)}(o)&&ba(l,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ul(s){return 0!=(32&s.flags)}(o)&&ba(l,o,Re(),o.stylesWithoutHost,!1),ih}function lg(s,o,l,d){return Kf(s,o,l,d),ih(),lg}function cg(s,o,l){const d=Re(),h=Qt(),p=s+22,y=h.firstCreatePass?function Dr(s,o,l,d,h){const p=o.consts,y=wr(p,d),w=_l(o,s,8,"ng-container",y);return null!==y&&Ky(w,y,!0),jy(o,l,w,wr(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,l):h.data[p];Zi(y,!0);const w=d[p]=d[11].createComment("");return pu(h,d,w,y),wn(w,d),Fa(y)&&(Ly(h,d,y),vw(h,y,d)),null!=l&&Vy(d,y),cg}function Cu(){let s=si();const o=Qt();return Fl()?zo():(s=s.parent,Zi(s,!1)),o.firstCreatePass&&(Ll(o,s),ao(s)&&o.queries.elementEnd(s)),Cu}function ug(){return Re()}function rh(s){return!!s&&"function"==typeof s.then}function Do(s){return!!s&&"function"==typeof s.subscribe}const dg=Do;function Jy(s,o,l,d){const h=Re(),p=Qt(),y=si();return tv(p,h,h[11],y,s,o,0,d),Jy}function ev(s,o){const l=si(),d=Re(),h=Qt();return tv(h,d,qy(Lc(h.data),l,d),l,s,o),ev}function tv(s,o,l,d,h,p,y,w){const E=Fa(d),O=s.firstCreatePass&&ng(s),L=o[8],Y=jf(o);let se=!0;if(3&d.type||w){const Ke=Si(d,o),ut=w?w(Ke):Ke,St=Y.length,Se=w?un=>w(Vn(un[d.index])):d.index;let kt=null;if(!w&&E&&(kt=function sh(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,se=!1;else{p=nv(d,o,L,p,!1);const un=l.listen(ut,h,p);Y.push(p,un),O&&O.push(h,Se,St,St+1)}}else p=nv(d,o,L,p,!1);const Ie=d.outputs;let ze;if(se&&null!==Ie&&(ze=Ie[h])){const Ke=ze.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const Fn=o[ze[ut]][ze[ut+1]].subscribe(p),Cc=Y.length;Y.push(p,Fn),O&&O.push(h,d.index,Cc,-(Cc+1))}}}function hg(s,o,l,d){try{return!1!==l(d)}catch(h){return Rw(s,h),!1}}function nv(s,o,l,d,h){return function p(y){if(y===Function)return d;Gy(2&s.flags?ln(s.index,o):o);let E=hg(o,0,d,y),S=p.__ngNextListenerFn__;for(;S;)E=hg(o,0,S,y)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function $w(s=1){return function Fs(s){return(Lt.lFrame.contextLView=function fd(s,o){for(;s>0;)o=o[15],s--;return o}(s,Lt.lFrame.contextLView))[8]}(s)}function zw(s,o){let l=null;const d=function xD(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Bm(s,p,!0):pl(d,p))return h}else l=h}return l}function Zf(s){const o=Re()[16][6];if(!o.projection){const d=o.projection=dr(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?zw(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function fg(s,o=0,l){const d=Re(),h=Qt(),p=_l(h,22+s,16,null,l||null);null===p.projection&&(p.projection=o),zo(),64!=(64&p.flags)&&function ID(s,o,l){$d(o[11],0,o,l,Nm(s,l,o),B0(l.parent||o[6],l,o))}(h,d,p)}function Yf(s,o,l){return Qf(s,"",o,"",l),Yf}function Qf(s,o,l,d,h){const p=Re(),y=zf(p,o,l,d);return y!==Kt&&qr(Qt(),Nn(),p,s,y,p[11],h,!1),Qf}function gg(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?ma(p):gl(p),E=!1;for(;0!==w&&(!1===E||y);){const O=s[w+1];Zw(s[w],o)&&(E=!0,s[w+1]=d?zm(O):Ay(O)),w=d?ma(O):gl(O)}E&&(s[l+1]=d?Ay(p):zm(p))}function Zw(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Or(s,o)>=0}const xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rv(s){return s.substring(xi.key,xi.keyEnd)}function yg(s,o){const l=xi.textEnd;return l===o?-1:(o=xi.keyEnd=function ET(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,xi.key=o,l),Eu(s,o,l))}function Eu(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Xf(s,o,l){return Cs(s,o,l,!1),Xf}function Jf(s,o){return Cs(s,o,null,!0),Jf}function Ji(s){!function To(s,o,l,d){const h=Qt(),p=as(2);h.firstUpdatePass&&dv(h,null,p,d);const y=Re();if(l!==Kt&&Hi(y,p,l)){const w=h.data[Pn()];if(lh(w,d)&&!Qw(h,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=be(E,l||"")),ba(h,w,y,l,d)}else!function bg(s,o,l,d,h,p,y,w){h===Kt&&(h=Mt);let E=0,S=0,O=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==O||null!==L;){const Y=E<h.length?h[E+1]:void 0,se=S<p.length?p[S+1]:void 0;let ze,Ie=null;O===L?(E+=2,S+=2,Y!==se&&(Ie=L,ze=se)):null===L||null!==O&&O<L?(E+=2,Ie=O):(S+=2,Ie=L,ze=se),null!==Ie&&wg(s,o,l,d,Ie,ze,y,w),O=E<h.length?h[E]:null,L=S<p.length?p[S]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function Jw(s,o,l){if(null==l||""===l)return Mt;const d=[],h=Ws(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(Yi,ws,s,!0)}function ws(s,o){for(let l=function sv(s){return function av(s){xi.key=0,xi.keyEnd=0,xi.value=0,xi.valueEnd=0,xi.textEnd=s.length}(s),yg(s,Eu(s,0,xi.textEnd))}(o);l>=0;l=yg(o,l))Yi(s,rv(o),!0)}function Cs(s,o,l,d){const h=Re(),p=Qt(),y=as(2);p.firstUpdatePass&&dv(p,s,y,d),o!==Kt&&Hi(h,y,o)&&wg(p,p.data[Pn()],h,h[11],s,h[y+1]=function TT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(Ws(s)))),s}(o,l),d,y)}function Qw(s,o){return o>=s.expandoStartIndex}function dv(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Pn()],y=Qw(s,l);lh(p,d)&&null===o&&!y&&(o=!1),o=function IT(s,o,l,d){const h=Lc(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Iu(l=fv(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=fv(h,s,o,l,d),null===p){let E=function DT(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==gl(d))return s[ma(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=fv(null,s,o,E[1],d),E=Iu(E,o.attrs,d),function Xw(s,o,l,d){s[ma(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function hv(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Iu(d,s[p].hostAttrs,l);return Iu(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function CT(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=ma(y),E=gl(y);s[d]=l;let O,S=!1;if(Array.isArray(l)){const L=l;O=L[1],(null===O||Or(L,O)>0)&&(S=!0)}else O=l;if(h)if(0!==E){const Y=ma(s[w+1]);s[d+1]=My(Y,w),0!==Y&&(s[Y+1]=Rf(s[Y+1],d)),s[w+1]=function jD(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=My(w,0),0!==w&&(s[w+1]=Rf(s[w+1],d)),w=d;else s[d+1]=My(E,0),0===w?w=d:s[E+1]=Rf(s[E+1],d),E=d;S&&(s[d+1]=Ay(s[d+1])),gg(s,O,d,!0),gg(s,O,d,!1),function mg(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Or(p,o)>=0&&(l[d+1]=zm(l[d+1]))}(o,O,s,d,p),y=My(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function fv(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=Iu(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Iu(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Yi(s,y,!!l||o[++p]))}return void 0===s?null:s}function wg(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const E=s.data,S=E[w+1];ep(function vs(s){return 1==(1&s)}(S)?Cg(E,o,l,h,gl(S),y):void 0)||(ep(p)||function $m(s){return 2==(2&s)}(S)&&(p=Cg(E,null,l,h,w,y)),function zd(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:Eo.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Eo.Important),s.setStyle(l,d,h,p))}}(d,y,kr(Pn(),l),h,p))}function Cg(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],S=Array.isArray(E),O=S?E[1]:E,L=null===O;let Y=l[h+1];Y===Kt&&(Y=L?Mt:void 0);let se=L?aa(Y,d):O===d?Y:void 0;if(S&&!ep(se)&&(se=aa(E,d)),ep(se)&&(w=se,y))return w;const Ie=s[h+1];h=y?ma(Ie):gl(Ie)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=aa(E,d))}return w}function ep(s){return void 0!==s}function lh(s,o){return 0!=(s.flags&(o?16:32))}function pv(s,o=""){const l=Re(),d=Qt(),h=s+22,p=d.firstCreatePass?_l(d,h,1,o,null):d.data[h],y=l[h]=function Rm(s,o){return s.createText(o)}(l[11],o);pu(d,l,y,p),Zi(p,!1)}function Eg(s){return tp("",s,""),Eg}function tp(s,o,l){const d=Re(),h=zf(d,s,o,l);return h!==Kt&&function oc(s,o,l){const d=kr(o,s);!function Df(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,Pn(),h),tp}function Mg(s,o,l){const d=Re();if(Hi(d,Wa(),o)){const p=Qt(),y=Nn();qr(p,y,d,s,o,qy(Lc(p.data),y,d),l,!0)}return Mg}const wa=void 0;var Tu=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lp(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let cc={};function Iv(s){const o=function Ag(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=fC(o);if(l)return l;const d=o.split("-")[0];if(l=fC(d),l)return l;if("en"===d)return Tu;throw new Te(701,!1)}function Dv(s){return Iv(s)[bt.PluralCase]}function fC(s){return s in cc||(cc[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),cc[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const kn="en-US";let mC=kn;function Mi(s,o,l,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)Mi(s[p],o,l,d,h);else{const p=Qt(),y=Re();let w=ul(s)?s:ee(s.provide),E=v0(s);const S=si(),O=1048575&S.providerIndexes,L=S.directiveStart,Y=S.providerIndexes>>20;if(ul(s)||!s.multi){const se=new Cr(E,h,gu),Ie=vp(w,o,h?O:O+Y,L);-1===Ie?(po(us(S,y),p,w),pc(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(se),y.push(se)):(l[Ie]=se,y[Ie]=se)}else{const se=vp(w,o,O+Y,L),Ie=vp(w,o,O,O+Y),ze=se>=0&&l[se],Ke=Ie>=0&&l[Ie];if(h&&!Ke||!h&&!ze){po(us(S,y),p,w);const ut=function Mu(s,o,l,d,h){const p=new Cr(s,l,gu);return p.multi=[],p.index=o,p.componentProviders=0,wl(p,h,d&&!l),p}(h?je:HT,l.length,h,d,E);!h&&Ke&&(l[Ie].providerFactory=ut),pc(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ut),y.push(ut)}else pc(p,s,se>-1?se:Ie,wl(l[h?Ie:se],E,!h&&d));!h&&d&&Ke&&l[Ie].componentProviders++}}}function pc(s,o,l,d){const h=ul(o),p=function tD(s){return!!s.useClass}(o);if(h||p){const E=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=S.indexOf(l);-1===O?S.push(l,[d,E]):S[O+1].push(d,E)}else S.push(l,E)}}}function wl(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function vp(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function HT(s,o,l,d){return ci(this.multi,[])}function je(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=jr(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),ci(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],ci(h,p);return p}function ci(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Ug(s,o=[]){return l=>{l.providersResolver=(d,h)=>function UC(s,o,l){const d=Qt();if(d.firstCreatePass){const h=lr(s);Mi(l,d.data,d.blueprint,h,!0),Mi(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class at{}class At{}function jT(s,o){return new _e(s,o??null)}class _e extends at{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);const d=st(o);this._bootstrapComponents=ys(d.bootstrap),this._r3Injector=Cy(o,l,[{provide:at,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ve extends At{constructor(o){super(),this.moduleType=o}create(o){return new _e(this.moduleType,o)}}class $i extends at{constructor(o,l,d){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;const h=new y0([...o,{provide:at,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],l||Dm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Hg(s,o,l=null){return new $i(s,o,l).injector}let $T=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=m0(0,l.type),h=d.length>0?Hg([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=sn({token:s,providedIn:"environment",factory:()=>new s(Wn(Yl))}),s})();function HC(s){s.getStandaloneInjector=o=>o.get($T).getOrCreateStandaloneInjector(s)}function $g(s,o,l,d){return Uv(Re(),oi(),s,o,l,d)}function Uv(s,o,l,d,h,p){const y=o+l;return Hi(s,y,h)?function ya(s,o,l){return s[o]=l}(s,y+1,p?d.call(p,h):d(h)):function Ru(s,o){const l=s[o];return l===Kt?void 0:l}(s,y+1)}function Cp(s,o){const l=Qt();let d;const h=s+22;l.firstCreatePass?(d=function So(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=Ti(d.type)),y=In(gu);try{const w=Ja(!1),E=p();return Ja(w),function Ir(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Re(),h,E),E}finally{In(y)}}function _h(s,o,l){const d=s+22,h=Re(),p=Ur(h,d);return function Pu(s,o){return s[1].data[o].pure}(h,d)?Uv(h,oi(),o,p.transform,l,p):p.transform(l)}function jv(s){return o=>{setTimeout(s,void 0,o)}}const ui=class ZT extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,p=l||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=jv(p),h&&(h=jv(h)),y&&(y=jv(y)));const w=super.subscribe({next:h,error:p,complete:y});return o instanceof $.w0&&o.add(w),w}};function ZC(){return this._results[wu()]()}class Ca{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=wu(),d=Ca.prototype;d[l]||(d[l]=ZC)}get changes(){return this._changes||(this._changes=new ui)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Li(o);(this._changesDetected=!function Cd(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yh=(()=>{class s{}return s.__NG_ELEMENT_ID__=pr,s})();const bi=yh,Wg=class extends bi{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=yu(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Zm(d,h,o),new vu(h)}};function pr(){return Cn(si(),Re())}function Cn(s,o){return 4&s.type?new Wg(o,s,Fd(s,o)):null}let Ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=vh,s})();function vh(){return El(si(),Re())}const Ds=Ep,YC=class extends Ds{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Fd(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const o=el(this._hostTNode,this._hostLView);if(tf(o)){const l=Ls(o,this._hostLView),d=ai(o);return new ea(l[1].data[d+8],l)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Ai(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(o,l,d,h,p){const y=o&&!function pi(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const E=y?o:new bu(R(o)),S=d||this.parentInjector;if(!p&&null==E.ngModule){const Y=(y?S:this.parentInjector).get(Yl,null);Y&&(p=Y)}const O=E.create(S,h,void 0,p);return this.insert(O.hostView,w),O}insert(o,l){const d=o._lView,h=d[1];if(function Nc(s){return _r(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const L=d[3],Y=new YC(L,L[6],L[3]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function F0(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],il(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function py(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,d,y,p);const w=xf(p,y),E=d[11],S=fu(E,y[7]);return null!==S&&function yD(s,o,l,d,h,p){d[0]=h,d[6]=o,Mf(s,d,l,1,h,p)}(h,y[6],E,d,S,w),o.attachToViewContainerRef(),il($v(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Ai(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Hd(this._lContainer,l);d&&(_o($v(this._lContainer),l),jd(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Hd(this._lContainer,l);return d&&null!=_o($v(this._lContainer),l)?new vu(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function Ai(s){return s[8]}function $v(s){return s[8]||(s[8]=[])}function El(s,o){let l;const d=o[s.index];if(_r(d))l=d;else{let h;if(8&s.type)h=Vn(d);else{const p=o[11];h=p.createComment("");const y=Si(s,o);Jl(p,fu(p,y),h,function CD(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=Jm(d,o,h,s),tg(o,l)}return new YC(l,s,o)}class qg{constructor(o){this.queryList=o,this.matches=null}clone(){return new qg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Fu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Wv(o,l).matches&&this.queries[l].setDirty()}}class XC{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Ea{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Ea(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Lu{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Lu(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,Ip(l,p)),this.matchTNodeWithReadOption(o,l,nl(l,o,p,!1,!1))}else d===yh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,nl(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ou||h===Ep||h===yh&&4&l.type)this.addMatch(l.index,-2);else{const p=nl(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Ip(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function gc(s,o,l,d){return-1===l?function JC(s,o){return 11&s.type?Fd(s,o):4&s.type?Cn(s,o):null}(o,s):-2===l?function Kg(s,o,l){return l===ou?Fd(o,s):l===yh?Cn(o,s):l===Ep?El(o,s):void 0}(s,o,d):jr(s,s[1],l,o)}function _c(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:gc(o,p[S],y[E+1],l.metadata.read))}h.matches=w}return h.matches}function Ys(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=_c(s,o,h,l);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const S=p[w+1],O=o[-E];for(let L=10;L<O.length;L++){const Y=O[L];Y[17]===Y[3]&&Ys(Y[1],Y,S,d)}if(null!==O[9]){const L=O[9];for(let Y=0;Y<L.length;Y++){const se=L[Y];Ys(se[1],se,S,d)}}}}}return d}function bh(s){const o=Re(),l=Qt(),d=qa();Vc(d+1);const h=Wv(l,d);if(s.dirty&&function Pc(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ys(l,o,d,[]):_c(l,o,h,d);s.reset(p,E0),s.notifyOnChanges()}return!0}return!1}function Il(s,o,l){const d=Qt();d.firstCreatePass&&(Zg(d,new XC(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),yc(d,Re(),o)}function zv(s,o,l,d){const h=Qt();if(h.firstCreatePass){const p=si();Zg(h,new XC(o,l,d),p.index),function Dp(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}yc(h,Re(),l)}function Vu(){return function Gv(s,o){return s[19].queries[o].queryList}(Re(),qa())}function yc(s,o,l){const d=new Ca(4==(4&l));bw(s,o,d,d.destroy),null===o[19]&&(o[19]=new Fu),o[19].queries.push(new qg(d))}function Zg(s,o,l){null===s.queries&&(s.queries=new Ea),s.queries.track(new Lu(o,l))}function Wv(s,o){return s.queries.getByIndex(o)}function Ta(...s){}const Uu=new Mn("Application Initializer");let kp=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Ta,this.reject=Ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(rh(p))l.push(p);else if(dg(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Wn(Uu,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rb=new Mn("AppId",{providedIn:"root",factory:function Th(){return`${sb()}${sb()}${sb()}`}});function sb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zn=new Mn("Platform Initializer"),t_=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rp=new Mn("appBootstrapListener"),cS=new Mn("AnimationModuleType");let Op=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Pp=new Mn("LocaleId",{providedIn:"root",factory:()=>D(Pp,Xe.Optional|Xe.SkipSelf)||function uS(){return typeof $localize<"u"&&$localize.locale||kn}()}),Sh=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uE{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let xh=(()=>{class s{compileModuleSync(l){return new Ve(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=ys(st(l).declarations).reduce((y,w)=>{const E=R(w);return E&&y.push(new bu(E)),y},[]);return new uE(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const pS=(()=>Promise.resolve(0))();function Tr(s){typeof Zone>"u"?pS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Sr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ui(!1),this.onMicrotaskEmpty=new ui(!1),this.onStable=new ui(!1),this.onError=new ui(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dE(){let s=Pt.requestAnimationFrame,o=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Np(s){const o=()=>{!function fE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,lb(s),s.isCheckStableRunning=!0,Qs(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),lb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return pE(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Zt(s)}},onInvoke:(l,d,h,p,y,w,E)=>{try{return pE(s),l.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Zt(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,lb(s),Qs(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sr.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Sr.isInAngularZone())throw new Te(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,hE,Ta,Ta);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const hE={};function Qs(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function lb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function pE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Zt(s){s._nesting--,Qs(s)}class mS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui,this.onMicrotaskEmpty=new ui,this.onStable=new ui,this.onError=new ui}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const Fp=new Mn(""),Mh=new Mn("");let n_,Lp=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n_||(function mE(s){n_=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sr.assertNotInAngularZone(),Tr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tr(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Wn(Sr),Wn(Vp),Wn(Mh))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Vp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return n_?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Tl=null;const gE=new Mn("AllowMultipleToken"),i_=new Mn("PlatformDestroyListeners");class Bp{constructor(o,l){this.name=o,this.token=l}}function cb(s,o,l=[]){const d=`Platform: ${o}`,h=new Mn(d);return(p=[])=>{let y=r_();if(!y||y.injector.get(gE,!1)){const w=[...l,...p,{provide:h,useValue:!0}];s?s(w):function _E(s){if(Tl&&!Tl.get(gE,!1))throw new Te(400,!1);Tl=s;const o=s.get(Ah);(function zi(s){const o=s.get(Zn,null);o&&o.forEach(l=>l())})(s)}(function xo(s=[],o){return ml.create({name:o,providers:[{provide:wf,useValue:"platform"},{provide:i_,useValue:new Set([()=>Tl=null])},...s]})}(w,d))}return function Up(s){const o=r_();if(!o)throw new Te(401,!1);return o}()}}function r_(){return Tl?.get(Ah)??null}let Ah=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function db(s,o){let l;return l="noop"===s?new mS:("zone.js"===s?void 0:s)||new Sr(o),l}(d?.ngZone,function ub(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Sr,useValue:h}];return h.run(()=>{const y=ml.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),E=w.injector.get(Cf,null);if(!E)throw new Te(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{E.handleError(O)}});w.onDestroy(()=>{wc(this._modules,w),S.unsubscribe()})}),function hb(s,o,l){try{const d=l();return rh(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=w.injector.get(kp);return S.runInitializers(),S.donePromise.then(()=>(function gC(s){Wt(s,"Expected localeId to be defined"),"string"==typeof s&&(mC=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Pp,kn)||kn),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=bE({},d);return function gS(s,o,l){const d=new Ve(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(s_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Te(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(i_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Wn(ml))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function bE(s,o){return Array.isArray(o)?o.reduce(bE,s):{...s,...o}}let s_=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Sr.assertNotInAngularZone(),Tr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Sr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,le.T)(p,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof ny;if(!this._injector.get(kp).done)throw!h&&Le(l),new Te(405,false);let y;y=h?l:this._injector.get(Nd).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function _S(s){return s.isBoundToModule}(y)?void 0:this._injector.get(at),S=y.create(ml.NULL,[],d||y.selector,w),O=S.location.nativeElement,L=S.injector.get(Fp,null);return L?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),wc(this.components,S),L?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;wc(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Rp,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>wc(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Te(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Wn(Sr),Wn(Yl),Wn(Cf))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function wc(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let fb=!0,a_=!1;function wE(){return a_=!0,fb}function bS(){if(a_)throw new Error("Cannot enable prod mode after platform setup.");fb=!1}let kh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rh,s})();function Rh(s){return function CS(s,o,l){if(kl(s)&&!l){const d=ln(s.index,o);return new vu(d,d)}return 47&s.type?new vu(o[16],o):null}(si(),Re(),16==(16&s))}class TE{constructor(){}supports(o){return $f(o)}create(o){return new TS(o)}}const DS=(s,o)=>o;class TS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DS}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<bb(d,h,p)?l:d,w=bb(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=w-h,O=E-h;if(S!=O){for(let Y=0;Y<S;Y++){const se=Y<p.length?p[Y]:p[Y]=0,Ie=se+Y;O<=Ie&&Ie<S&&(p[Y]=se+1)}p[y.previousIndex]=O-S}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!$f(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function _T(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[wu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new SE(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new vb),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class SE{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class vb{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new SS,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bb(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class xE{constructor(){}supports(o){return o instanceof Map||Uw(o)}create(){return new wb}}class wb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Uw(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new ir(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class ir{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u_(){return new Hp([new TE])}let Hp=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||u_()),deps:[[s,new xt,new We]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:u_}),s})();function Sl(){return new d_([new xE])}let d_=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Sl()),deps:[[s,new xt,new We]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Te(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Sl}),s})();const ju=cb(null,"core",[]);let $u=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Wn(s_))},s.\u0275mod=tn({type:s}),s.\u0275inj=jt({}),s})();function jp(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(dt,Ae,F)=>{F.d(Ae,{Z:()=>Te});var u=F(2090),$=F(4859),P=F(9681),le=F(1877);class de{constructor(Ce,ye){this._delegate=Ce,this.firebase=ye,(0,P._addComponent)(Ce,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ce,ye=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(Ce);return!Qe.isInitialized()&&"EXPLICIT"===(null===(et=Qe.getComponent())||void 0===et?void 0:et.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ye})}_removeServiceInstance(Ce,ye=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ye)}_addComponent(Ce){(0,P._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,P._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function be(){const it=function pe(it){const Ce={},ye={__esModule:!0,initializeApp:function Fe(oe,fe={}){const we=P.initializeApp(oe,fe);if((0,u.r3)(Ce,we.name))return Ce[we.name];const X=new it(we,ye);return Ce[we.name]=X,X},app:Qe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(oe){const fe=oe.name,we=fe.replace("-compat","");if(P._registerComponent(oe)&&"PUBLIC"===oe.type){const X=(te=Qe())=>{if("function"!=typeof te[we])throw ae.create("invalid-app-argument",{appName:fe});return te[we]()};void 0!==oe.serviceProps&&(0,u.ZB)(X,oe.serviceProps),ye[we]=X,it.prototype[we]=function(...te){return this._getService.bind(this,fe).apply(this,oe.multipleInstances?te:[])}}return"PUBLIC"===oe.type?ye[we]:null},removeApp:function et(oe){delete Ce[oe]},useAsService:function qe(oe,fe){return"serverAuth"===fe?null:fe},modularAPIs:P}};function Qe(oe){if(!(0,u.r3)(Ce,oe=oe||P._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:oe});return Ce[oe]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Pe(){return Object.keys(Ce).map(oe=>Ce[oe])}}),Qe.App=it,ye}(de);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Ce(ye){(0,u.ZB)(it,ye)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),it}(),W=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=K;!function Ne(it){(0,P.registerVersion)("@firebase/app-compat","0.1.39",it)}()},9681:(dt,Ae,F)=>{F.r(Ae),F.d(Ae,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>sn,_apps:()=>mn,_clearComponents:()=>Br,_components:()=>Dn,_getProvider:()=>jt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Pi,deleteApp:()=>es,getApp:()=>Qn,getApps:()=>Ar,initializeApp:()=>qi,onLog:()=>Xn,registerVersion:()=>ni,setLogLevel:()=>In});var u=F(5861),$=F(4859),P=F(1877),le=F(2090),de=F(8766);class ve{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function ae(tt){return"VERSION"===tt.getComponent()?.type}(nt)){const It=nt.getImmediate();return`${It.library}/${It.version}`}return null}).filter(nt=>nt).join(" ")}}const pe="@firebase/app",K=new P.Yd("@firebase/app"),Wt="[DEFAULT]",Ze={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Dn=new Map;function rn(tt,xe){try{tt.container.addComponent(xe)}catch(nt){K.debug(`Component ${xe.name} failed to register with FirebaseApp ${tt.name}`,nt)}}function sn(tt,xe){tt.container.addOrOverwriteComponent(xe)}function Yt(tt){const xe=tt.name;if(Dn.has(xe))return K.debug(`There were multiple attempts to register component ${xe}.`),!1;Dn.set(xe,tt);for(const nt of mn.values())rn(nt,tt);return!0}function jt(tt,xe){const nt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),tt.container.getProvider(xe)}function Pi(tt,xe,nt=Wt){jt(tt,xe).clearInstance(nt)}function Br(){Dn.clear()}const Ln=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xr{constructor(xe,nt,It){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const Jr="9.14.0";function qi(tt,xe={}){let nt=tt;"object"!=typeof xe&&(xe={name:xe});const It=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},xe),Dt=It.name;if("string"!=typeof Dt||!Dt)throw Ln.create("bad-app-name",{appName:String(Dt)});if(nt||(nt=(0,le.aH)()),!nt)throw Ln.create("no-options");const tn=mn.get(Dt);if(tn){if((0,le.vZ)(nt,tn.options)&&(0,le.vZ)(It,tn.config))return tn;throw Ln.create("duplicate-app",{appName:Dt})}const q=new $.H0(Dt);for(const Q of Dn.values())q.addComponent(Q);const z=new Xr(nt,It,q);return mn.set(Dt,z),z}function Qn(tt=Wt){const xe=mn.get(tt);if(!xe&&tt===Wt)return qi();if(!xe)throw Ln.create("no-app",{appName:tt});return xe}function Ar(){return Array.from(mn.values())}function es(tt){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(tt){const xe=tt.name;mn.has(xe)&&(mn.delete(xe),yield Promise.all(tt.container.getProviders().map(nt=>nt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function ni(tt,xe,nt){var It;let Dt=null!==(It=Ze[tt])&&void 0!==It?It:tt;nt&&(Dt+=`-${nt}`);const tn=Dt.match(/\s|\//),q=xe.match(/\s|\//);if(tn||q){const z=[`Unable to register library "${Dt}" with version "${xe}":`];return tn&&z.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),tn&&q&&z.push("and"),q&&z.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void K.warn(z.join(" "))}Yt(new $.wA(`${Dt}-version`,()=>({library:Dt,version:xe}),"VERSION"))}function Xn(tt,xe){if(null!==tt&&"function"!=typeof tt)throw Ln.create("invalid-log-argument");(0,P.Am)(tt,xe)}function In(tt){(0,P.Ub)(tt)}const Tn="firebase-heartbeat-store";let Sn=null;function bn(){return Sn||(Sn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(tt,xe)=>{0===xe&&tt.createObjectStore(Tn)}}).catch(tt=>{throw Ln.create("idb-open",{originalErrorMessage:tt.message})})),Sn}function gt(){return(gt=(0,u.Z)(function*(tt){var xe;try{return(yield bn()).transaction(Tn).objectStore(Tn).get(ii(tt))}catch(nt){if(nt instanceof le.ZR)K.warn(nt.message);else{const It=Ln.create("idb-get",{originalErrorMessage:null===(xe=nt)||void 0===xe?void 0:xe.message});K.warn(It.message)}}})).apply(this,arguments)}function Pt(tt,xe){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(tt,xe){var nt;try{const Dt=(yield bn()).transaction(Tn,"readwrite");return yield Dt.objectStore(Tn).put(xe,ii(tt)),Dt.done}catch(It){if(It instanceof le.ZR)K.warn(It.message);else{const Dt=Ln.create("idb-set",{originalErrorMessage:null===(nt=It)||void 0===nt?void 0:nt.message});K.warn(Dt.message)}}})).apply(this,arguments)}function ii(tt){return`${tt.name}!${tt.options.appId}`}class Ki{constructor(xe){this.container=xe,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Jt(nt),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var xe=this;return(0,u.Z)(function*(){const It=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=Ut();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!xe._heartbeatsCache.heartbeats.some(tn=>tn.date===Dt))return xe._heartbeatsCache.heartbeats.push({date:Dt,agent:It}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(tn=>{const q=new Date(tn.date).valueOf();return Date.now()-q<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,u.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const nt=Ut(),{heartbeatsToSend:It,unsentEntries:Dt}=function mr(tt,xe=1024){const nt=[];let It=tt.slice();for(const Dt of tt){const tn=nt.find(q=>q.agent===Dt.agent);if(tn){if(tn.dates.push(Dt.date),fi(nt)>xe){tn.dates.pop();break}}else if(nt.push({agent:Dt.agent,dates:[Dt.date]}),fi(nt)>xe){nt.pop();break}It=It.slice(1)}return{heartbeatsToSend:nt,unsentEntries:It}}(xe._heartbeatsCache.heartbeats),tn=(0,le.L)(JSON.stringify({version:2,heartbeats:It}));return xe._heartbeatsCache.lastSentHeartbeatDate=nt,Dt.length>0?(xe._heartbeatsCache.heartbeats=Dt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),tn})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,u.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function mt(tt){return gt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const tn=yield nt.read();return Pt(nt.app,{lastSentHeartbeatDate:null!==(It=xe.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var nt=this;return(0,u.Z)(function*(){var It;if(yield nt._canUseIndexedDBPromise){const tn=yield nt.read();return Pt(nt.app,{lastSentHeartbeatDate:null!==(It=xe.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...xe.heartbeats]})}})()}}function fi(tt){return(0,le.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Rn(tt){Yt(new $.wA("platform-logger",xe=>new ve(xe),"PRIVATE")),Yt(new $.wA("heartbeat",xe=>new Ki(xe),"PRIVATE")),ni(pe,"0.8.4",tt),ni(pe,"0.8.4","esm2017"),ni("fire-js","")}("")},4859:(dt,Ae,F)=>{F.d(Ae,{H0:()=>pe,wA:()=>P});var u=F(5861),$=F(2090);class P{constructor(K,W,ee){this.name=K,this.instanceFactory=W,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const le="[DEFAULT]";class de{constructor(K,W){this.name=K,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const W=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(W)){const ee=new $.BH;if(this.instancesDeferred.set(W,ee),this.isInitialized(W)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:W});$e&&ee.resolve($e)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(K){var W;const ee=this.normalizeInstanceIdentifier(K?.identifier),$e=null!==(W=K?.optional)&&void 0!==W&&W;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ne){if($e)return null;throw Ne}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ae(be){return"EAGER"===be.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[W,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(W);try{const Ne=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(Ne)}catch{}}}}clearInstance(K=le){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,u.Z)(function*(){const W=Array.from(K.instances.values());yield Promise.all([...W.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...W.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=le){return this.instances.has(K)}getOptions(K=le){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:W={}}=K,ee=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:W});for(const[Ne,Te]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ne)&&Te.resolve($e);return $e}onInit(K,W){var ee;const $e=this.normalizeInstanceIdentifier(W),Ne=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;Ne.add(K),this.onInitCallbacks.set($e,Ne);const Te=this.instances.get($e);return Te&&K(Te,$e),()=>{Ne.delete(K)}}invokeOnInitCallbacks(K,W){const ee=this.onInitCallbacks.get(W);if(ee)for(const $e of ee)try{$e(K,W)}catch{}}getOrInitializeService({instanceIdentifier:K,options:W={}}){let ee=this.instances.get(K);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(be=K,be===le?void 0:be),options:W}),this.instances.set(K,ee),this.instancesOptions.set(K,W),this.invokeOnInitCallbacks(ee,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ee)}catch{}var be;return ee||null}normalizeInstanceIdentifier(K=le){return this.component?this.component.multipleInstances?K:le:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const W=this.getProvider(K.name);if(W.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);W.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const W=new de(K,this);return this.providers.set(K,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,F)=>{F.d(Ae,{Am:()=>be,Ub:()=>pe,Yd:()=>ae,in:()=>$});const u=[];var $=(()=>{return(K=$||($={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",$;var K})();const P={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},le=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ve=(K,W,...ee)=>{if(W<K.logLevel)return;const $e=(new Date).toISOString(),Ne=de[W];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ne](`[${$e}]  ${K.name}:`,...ee)};class ae{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in $))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...W),this._logHandler(this,$.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...W),this._logHandler(this,$.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,$.INFO,...W),this._logHandler(this,$.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,$.WARN,...W),this._logHandler(this,$.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...W),this._logHandler(this,$.ERROR,...W)}}function pe(K){u.forEach(W=>{W.setLogLevel(K)})}function be(K,W){for(const ee of u){let $e=null;W&&W.level&&($e=P[W.level]),ee.userLogHandler=null===K?null:(Ne,Te,...it)=>{const Ce=it.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Te>=($e??Ne.logLevel)&&K({level:$[Te].toLowerCase(),message:Ce,args:it,type:Ne.name})}}}},8766:(dt,Ae,F)=>{F.d(Ae,{Lj:()=>Fe,X3:()=>Qe});var u=F(5861);let P,le;const ae=new WeakMap,pe=new WeakMap,be=new WeakMap,K=new WeakMap,W=new WeakMap;let Ne={get(fe,we,X){if(fe instanceof IDBTransaction){if("done"===we)return pe.get(fe);if("objectStoreNames"===we)return fe.objectStoreNames||be.get(fe);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ye(fe[we])},set:(fe,we,X)=>(fe[we]=X,!0),has:(fe,we)=>fe instanceof IDBTransaction&&("done"===we||"store"===we)||we in fe};function Ce(fe){return"function"==typeof fe?function it(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...we){return fe.apply(et(this),we),ye(ae.get(this))}:function(...we){return ye(fe.apply(et(this),we))}:function(we,...X){const te=fe.call(et(this),we,...X);return be.set(te,we.sort?we.sort():[we]),ye(te)}}(fe):(fe instanceof IDBTransaction&&function $e(fe){if(pe.has(fe))return;const we=new Promise((X,te)=>{const me=()=>{fe.removeEventListener("complete",ce),fe.removeEventListener("error",Ue),fe.removeEventListener("abort",Ue)},ce=()=>{X(),me()},Ue=()=>{te(fe.error||new DOMException("AbortError","AbortError")),me()};fe.addEventListener("complete",ce),fe.addEventListener("error",Ue),fe.addEventListener("abort",Ue)});pe.set(fe,we)}(fe),((fe,we)=>we.some(X=>fe instanceof X))(fe,function de(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Ne):fe)}function ye(fe){if(fe instanceof IDBRequest)return function ee(fe){const we=new Promise((X,te)=>{const me=()=>{fe.removeEventListener("success",ce),fe.removeEventListener("error",Ue)},ce=()=>{X(ye(fe.result)),me()},Ue=()=>{te(fe.error),me()};fe.addEventListener("success",ce),fe.addEventListener("error",Ue)});return we.then(X=>{X instanceof IDBCursor&&ae.set(X,fe)}).catch(()=>{}),W.set(we,fe),we}(fe);if(K.has(fe))return K.get(fe);const we=Ce(fe);return we!==fe&&(K.set(fe,we),W.set(we,fe)),we}const et=fe=>W.get(fe);function Qe(fe,we,{blocked:X,upgrade:te,blocking:me,terminated:ce}={}){const Ue=indexedDB.open(fe,we),He=ye(Ue);return te&&Ue.addEventListener("upgradeneeded",pt=>{te(ye(Ue.result),pt.oldVersion,pt.newVersion,ye(Ue.transaction))}),X&&Ue.addEventListener("blocked",()=>X()),He.then(pt=>{ce&&pt.addEventListener("close",()=>ce()),me&&pt.addEventListener("versionchange",()=>me())}).catch(()=>{}),He}function Fe(fe,{blocked:we}={}){const X=indexedDB.deleteDatabase(fe);return we&&X.addEventListener("blocked",()=>we()),ye(X).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function oe(fe,we){if(!(fe instanceof IDBDatabase)||we in fe||"string"!=typeof we)return;if(qe.get(we))return qe.get(we);const X=we.replace(/FromIndex$/,""),te=we!==X,me=De.includes(X);if(!(X in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!Pe.includes(X))return;const ce=function(){var Ue=(0,u.Z)(function*(He,...pt){const an=this.transaction(He,me?"readwrite":"readonly");let Wt=an.store;return te&&(Wt=Wt.index(pt.shift())),(yield Promise.all([Wt[X](...pt),me&&an.done]))[0]});return function(pt){return Ue.apply(this,arguments)}}();return qe.set(we,ce),ce}!function Te(fe){Ne=fe(Ne)}(fe=>({...fe,get:(we,X,te)=>oe(we,X)||fe.get(we,X,te),has:(we,X)=>!!oe(we,X)||fe.has(we,X)}))},5861:(dt,Ae,F)=>{function u(P,le,de,ve,ae,pe,be){try{var K=P[pe](be),W=K.value}catch(ee){return void de(ee)}K.done?le(W):Promise.resolve(W).then(ve,ae)}function $(P){return function(){var le=this,de=arguments;return new Promise(function(ve,ae){var pe=P.apply(le,de);function be(W){u(pe,ve,ae,be,K,"next",W)}function K(W){u(pe,ve,ae,be,K,"throw",W)}be(void 0)})}}F.d(Ae,{Z:()=>$})}},dt=>{dt(dt.s=5417)}]);