"use strict";(self.webpackChunkmy_networth=self.webpackChunkmy_networth||[]).push([[179],{440:(Et,Ve,R)=>{R.d(Ve,{nm:()=>Xr});var y=R(5813);R(4650),R(5867);var je=R(5861),Oe=R(9681),We=R(4859),Dt=R(2090),He=R(1877);const Ce=new Map,qe={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function De(Ge){return Ce.get(Ge)||Object.assign({},qe)}function ze(){return ye}class Cn{constructor(Le,nt,wt,$t,sn){if(this.operation=Le,this.retryPolicy=nt,this.getWaitDuration=wt,this.lowerBound=$t,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=$t,$t>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Le){var nt=this;return(0,je.Z)(function*(){nt.stop();try{nt.pending=new Dt.BH,yield function rt(Ge){return new Promise(Le=>{setTimeout(Le,Ge)})}(nt.getNextRun(Le)),nt.pending.resolve(),yield nt.pending.promise,nt.pending=new Dt.BH,yield nt.operation(),nt.pending.resolve(),yield nt.pending.promise,nt.process(!0).catch(()=>{})}catch(wt){nt.retryPolicy(wt)?nt.process(!1).catch(()=>{}):nt.stop()}})()}getNextRun(Le){if(Le)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const nt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),nt}}}const Pe=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ct(Ge){if(!De(Ge).activated)throw Pe.create("use-before-activation",{appName:Ge.name})}function ui(Ge,Le){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,je.Z)(function*({url:Ge,body:Le},nt){var wt,$t;const sn={"Content-Type":"application/json"},An=nt.getImmediate({optional:!0});if(An){const eo=yield An.getHeartbeatsHeader();eo&&(sn["X-Firebase-Client"]=eo)}const xi={method:"POST",body:JSON.stringify(Le),headers:sn};let yi,Kr;try{yi=yield fetch(Ge,xi)}catch(eo){throw Pe.create("fetch-network-error",{originalErrorMessage:null===(wt=eo)||void 0===wt?void 0:wt.message})}if(200!==yi.status)throw Pe.create("fetch-status-error",{httpStatus:yi.status});try{Kr=yield yi.json()}catch(eo){throw Pe.create("fetch-parse-error",{originalErrorMessage:null===($t=eo)||void 0===$t?void 0:$t.message})}const yo=Kr.ttl.match(/^([\d.]+)(s)$/);if(!yo||!yo[2]||isNaN(Number(yo[1])))throw Pe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Kr.ttl}`});const yr=1e3*Number(yo[1]),Ts=Date.now();return{token:Kr.token,expireTimeMillis:Ts+yr,issuedAtTimeMillis:Ts}})).apply(this,arguments)}function Zn(Ge,Le){const{projectId:nt,appId:wt,apiKey:$t}=Ge.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${nt}/apps/${wt}:exchangeDebugToken?key=${$t}`,body:{debug_token:Le}}}const qn="firebase-app-check-store";let On=null;function ii(){return On||(On=new Promise((Ge,Le)=>{var nt;try{const wt=indexedDB.open("firebase-app-check-database",1);wt.onsuccess=$t=>{Ge($t.target.result)},wt.onerror=$t=>{var sn;Le(Pe.create("storage-open",{originalErrorMessage:null===(sn=$t.target.error)||void 0===sn?void 0:sn.message}))},wt.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(qn,{keyPath:"compositeKey"})}}catch(wt){Le(Pe.create("storage-open",{originalErrorMessage:null===(nt=wt)||void 0===nt?void 0:nt.message}))}}),On)}function Te(){return(Te=(0,je.Z)(function*(Ge,Le){const wt=(yield ii()).transaction(qn,"readwrite"),sn=wt.objectStore(qn).put({compositeKey:Ge,value:Le});return new Promise((An,xi)=>{sn.onsuccess=yi=>{An()},wt.onerror=yi=>{var Kr;xi(Pe.create("storage-set",{originalErrorMessage:null===(Kr=yi.target.error)||void 0===Kr?void 0:Kr.message}))}})})).apply(this,arguments)}const on=new He.Yd("@firebase/app-check");function zt(Ge,Le){return(0,Dt.hl)()?function Bi(Ge,Le){return function dt(Ge,Le){return Te.apply(this,arguments)}(function at(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),Le)}(Ge,Le).catch(nt=>{on.warn(`Failed to write token to IndexedDB. Error: ${nt}`)}):Promise.resolve()}function Ei(){return ze().enabled}function En(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,je.Z)(function*(){const Ge=ze();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kt={error:"UNKNOWN_ERROR"};function bt(Ge){return Dt.US.encodeString(JSON.stringify(Ge),!1)}function Bt(Ge){return fn.apply(this,arguments)}function fn(){return(fn=(0,je.Z)(function*(Ge,Le=!1){const nt=Ge.app;Ct(nt);const wt=De(nt);let sn,$t=wt.token;if($t&&!ge($t)&&(wt.token=void 0,$t=void 0),!$t){const yi=yield wt.cachedTokenPromise;yi&&(ge(yi)?$t=yi:yield zt(nt,void 0))}if(!Le&&$t&&ge($t))return{token:$t.token};let xi,An=!1;if(Ei()){wt.exchangeTokenPromise||(wt.exchangeTokenPromise=ui(Zn(nt,yield En()),Ge.heartbeatServiceProvider).finally(()=>{wt.exchangeTokenPromise=void 0}),An=!0);const yi=yield wt.exchangeTokenPromise;return yield zt(nt,yi),wt.token=yi,{token:yi.token}}try{wt.exchangeTokenPromise||(wt.exchangeTokenPromise=wt.provider.getToken().finally(()=>{wt.exchangeTokenPromise=void 0}),An=!0),$t=yield De(nt).exchangeTokenPromise}catch(yi){"appCheck/throttled"===yi.code?on.warn(yi.message):on.error(yi),sn=yi}return $t?sn?xi=ge($t)?{token:$t.token,internalError:sn}:X(sn):(xi={token:$t.token},wt.token=$t,yield zt(nt,$t)):xi=X(sn),An&&Fe(nt,xi),xi})).apply(this,arguments)}function kn(Ge,Le){const nt=De(Ge),wt=nt.tokenObservers.filter($t=>$t.next!==Le);0===wt.length&&nt.tokenRefresher&&nt.tokenRefresher.isRunning()&&nt.tokenRefresher.stop(),nt.tokenObservers=wt}function Me(Ge){const{app:Le}=Ge,nt=De(Le);let wt=nt.tokenRefresher;wt||(wt=function Ee(Ge){const{app:Le}=Ge;return new Cn((0,je.Z)(function*(){let wt;if(wt=De(Le).token?yield Bt(Ge,!0):yield Bt(Ge),wt.error)throw wt.error;if(wt.internalError)throw wt.internalError}),()=>!0,()=>{const nt=De(Le);if(nt.token){let wt=nt.token.issuedAtTimeMillis+.5*(nt.token.expireTimeMillis-nt.token.issuedAtTimeMillis)+3e5;return wt=Math.min(wt,nt.token.expireTimeMillis-3e5),Math.max(0,wt-Date.now())}return 0},3e4,96e4)}(Ge),nt.tokenRefresher=wt),!wt.isRunning()&&nt.isTokenAutoRefreshEnabled&&wt.start()}function Fe(Ge,Le){const nt=De(Ge).tokenObservers;for(const wt of nt)try{"EXTERNAL"===wt.type&&null!=Le.error?wt.error(Le.error):wt.next(Le)}catch{}}function ge(Ge){return Ge.expireTimeMillis-Date.now()>0}function X(Ge){return{token:bt(Kt),error:Ge}}class ce{constructor(Le,nt){this.app=Le,this.heartbeatServiceProvider=nt}_delete(){const{tokenObservers:Le}=De(this.app);for(const nt of Le)kn(this.app,nt.next);return Promise.resolve()}}const ao="app-check-internal";!function xr(){(0,Oe._registerComponent)(new We.wA("app-check",Ge=>function Xe(Ge,Le){return new ce(Ge,Le)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,Le,nt)=>{Ge.getProvider(ao).initialize()})),(0,Oe._registerComponent)(new We.wA(ao,Ge=>function Ot(Ge){return{getToken:Le=>Bt(Ge,Le),addTokenListener:Le=>function un(Ge,Le,nt,wt){const{app:$t}=Ge,sn=De($t);if(sn.tokenObservers=[...sn.tokenObservers,{next:nt,error:wt,type:Le}],sn.token&&ge(sn.token)){const xi=sn.token;Promise.resolve().then(()=>{nt({token:xi.token}),Me(Ge)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>Me(Ge))}(Ge,"INTERNAL",Le),removeTokenListener:Le=>kn(Ge.app,Le)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)("@firebase/app-check","0.5.17")}();class Xr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},1205:(Et,Ve,R)=>{R.d(Ve,{zQ:()=>It,rT:()=>ye,f7:()=>Qe,L6:()=>Ce,_Q:()=>qe,lh:()=>De,Qv:()=>He,nw:()=>ze});var y=R(4650),_=R(7579),K=R(9646),fe=R(9751),Ie=R(8996),Re=R(6451),Ne=R(5363),pe=R(3900),Ze=R(4004),de=R(6063);class _e extends _.x{constructor(an=1/0,en=1/0,vt=de.l){super(),this._bufferSize=an,this._windowTime=en,this._timestampProvider=vt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=en===1/0,this._bufferSize=Math.max(1,an),this._windowTime=Math.max(1,en)}next(an){const{isStopped:en,_buffer:vt,_infiniteTimeWindow:Cn,_timestampProvider:rt,_windowTime:mt}=this;en||(vt.push(an),!Cn&&vt.push(rt.now()+mt)),this._trimBuffer(),super.next(an)}_subscribe(an){this._throwIfClosed(),this._trimBuffer();const en=this._innerSubscribe(an),{_infiniteTimeWindow:vt,_buffer:Cn}=this,rt=Cn.slice();for(let mt=0;mt<rt.length&&!an.closed;mt+=vt?1:2)an.next(rt[mt]);return this._checkFinalizedStatuses(an),en}_trimBuffer(){const{_bufferSize:an,_timestampProvider:en,_buffer:vt,_infiniteTimeWindow:Cn}=this,rt=(Cn?1:2)*an;if(an<1/0&&rt<vt.length&&vt.splice(0,vt.length-rt),!Cn){const mt=en.now();let Pe=0;for(let xe=1;xe<vt.length&&vt[xe]<=mt;xe+=2)Pe=xe;Pe&&vt.splice(0,Pe+1)}}}var Se=R(3099);function gt(Wt,an,en){let vt,Cn=!1;return Wt&&"object"==typeof Wt?({bufferSize:vt=1/0,windowTime:an=1/0,refCount:Cn=!1,scheduler:en}=Wt):vt=Wt??1/0,(0,Se.B)({connector:()=>new _e(vt,an,en),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Cn})}var ut=R(590),Je=R(576);function At(Wt,an){return(0,Je.m)(an)?(0,pe.w)(()=>Wt,an):(0,pe.w)(()=>Wt)}var tt=R(9468),Ke=R(9300),Ae=R(5813),xt=R(2011),je=R(6895),Oe=R(440);R(127);const He=new y.OlP("angularfire2.auth.use-emulator"),Ce=new y.OlP("angularfire2.auth.settings"),qe=new y.OlP("angularfire2.auth.tenant-id"),ye=new y.OlP("angularfire2.auth.langugage-code"),De=new y.OlP("angularfire2.auth.use-device-language"),Qe=new y.OlP("angularfire.auth.persistence"),ze=(Wt,an,en,vt,Cn,rt,mt,Pe)=>(0,xt.cc)(`${Wt.name}.auth`,"AngularFireAuth",Wt.name,()=>{const xe=an.runOutsideAngular(()=>Wt.auth());if(en&&xe.useEmulator(...en),vt&&(xe.tenantId=vt),xe.languageCode=Cn,rt&&xe.useDeviceLanguage(),mt)for(const[Ct,gn]of Object.entries(mt))xe.settings[Ct]=gn;return Pe&&xe.setPersistence(Pe),xe},[en,vt,Cn,rt,mt,Pe]);let It=(()=>{class Wt{constructor(en,vt,Cn,rt,mt,Pe,xe,Ct,gn,Mn,ui,Jn){const fi=new _.x,Un=(0,K.of)(void 0).pipe((0,Ne.Q)(mt.outsideAngular),(0,pe.w)(()=>rt.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,Ze.U)(()=>(0,xt.on)(en,rt,vt)),(0,Ze.U)(Zn=>ze(Zn,rt,Pe,Ct,gn,Mn,xe,ui)),gt({bufferSize:1,refCount:!1}));if((0,je.PM)(Cn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Un.pipe((0,ut.P)()).subscribe();const Vn=Un.pipe((0,pe.w)(St=>St.getRedirectResult().then(On=>On,()=>null)),Ae.iC,gt({bufferSize:1,refCount:!1})),Zi=Un.pipe((0,pe.w)(St=>new fe.y(On=>({unsubscribe:rt.runOutsideAngular(()=>St.onAuthStateChanged(ii=>On.next(ii),ii=>On.error(ii),()=>On.complete()))})))),qn=Un.pipe((0,pe.w)(St=>new fe.y(On=>({unsubscribe:rt.runOutsideAngular(()=>St.onIdTokenChanged(ii=>On.next(ii),ii=>On.error(ii),()=>On.complete()))}))));this.authState=Vn.pipe(At(Zi),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular)),this.user=Vn.pipe(At(qn),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(St=>St?(0,Ie.D)(St.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(St=>St?(0,Ie.D)(St.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,Re.T)(Vn,fi,this.authState.pipe((0,Ke.h)(St=>!St))).pipe((0,Ze.U)(St=>St?.user?St:null),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular))}return(0,xt.pX)(this,Un,rt,{spy:{apply:(Zn,Vn,Zi)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&Zi.then(qn=>fi.next(qn))}}})}}return Wt.\u0275fac=function(en){return new(en||Wt)(y.LFG(xt.Dh),y.LFG(xt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ae.HU),y.LFG(He,8),y.LFG(Ce,8),y.LFG(qe,8),y.LFG(ye,8),y.LFG(De,8),y.LFG(Qe,8),y.LFG(Oe.nm,8))},Wt.\u0275prov=y.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"any"}),Wt})()},2011:(Et,Ve,R)=>{R.d(Ve,{Dh:()=>pe,GT:()=>Re,cc:()=>ut,hO:()=>gt,on:()=>de,pX:()=>Ie,xv:()=>Ze});var y=R(4650),_=R(127),K=R(5813);Et=R.hmd(Et);const fe=["ngOnDestroy"],Ie=(Ke,Ae,xt,je={})=>new Proxy(Ke,{get:(Oe,We)=>xt.runOutsideAngular(()=>{var Dt;if(Ke[We])return!(null===(Dt=je?.spy)||void 0===Dt)&&Dt.get&&je.spy.get(We,Ke[We]),Ke[We];if(fe.indexOf(We)>-1)return()=>{};const He=Ae.toPromise().then(Ce=>{const qe=Ce&&Ce[We];return"function"==typeof qe?qe.bind(Ce):qe&&qe.then?qe.then(ye=>xt.run(()=>ye)):xt.run(()=>qe)});return new Proxy(()=>{},{get:(Ce,qe)=>He[qe],apply:(Ce,qe,ye)=>He.then(De=>{var Qe;const ze=De&&De(...ye);return!(null===(Qe=je?.spy)||void 0===Qe)&&Qe.apply&&je.spy.apply(We,ye,ze),ze})})})}),Re=(Ke,Ae)=>{Ae.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(je=>{Object.defineProperty(Ke.prototype,je,Object.getOwnPropertyDescriptor(xt.prototype||xt,je))})})};class Ne{constructor(Ae){return Ae}}const pe=new y.OlP("angularfire2.app.options"),Ze=new y.OlP("angularfire2.app.name");function de(Ke,Ae,xt){const Oe="object"==typeof xt&&xt||{};Oe.name=Oe.name||"string"==typeof xt&&xt||"[DEFAULT]";const Dt=_.Z.apps.filter(He=>He&&He.name===Oe.name)[0]||Ae.runOutsideAngular(()=>_.Z.initializeApp(Ke,Oe));try{JSON.stringify(Ke)!==JSON.stringify(Dt.options)&&_e("error",`${Dt.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(Dt)}const _e=(Ke,...Ae)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ke](...Ae)},Se={provide:Ne,useFactory:de,deps:[pe,y.R0b,[new y.FiY,Ze]]};let gt=(()=>{class Ke{constructor(xt){_.Z.registerVersion("angularfire",K.q4.full,"core"),_.Z.registerVersion("angularfire",K.q4.full,"app-compat"),_.Z.registerVersion("angular",y.q4F.full,xt.toString())}static initializeApp(xt,je){return{ngModule:Ke,providers:[{provide:pe,useValue:xt},{provide:Ze,useValue:je}]}}}return Ke.\u0275fac=function(xt){return new(xt||Ke)(y.LFG(y.Lbi))},Ke.\u0275mod=y.oAB({type:Ke}),Ke.\u0275inj=y.cJS({providers:[Se]}),Ke})();function ut(Ke,Ae,xt,je,Oe){const[,We,Dt]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Ke)||[];if(We)return function Je(Ke,Ae){try{return Ke.toString()===Ae.toString()}catch{return Ke===Ae}}(Oe,Dt)||(tt("error",`${Ae} was already initialized on the ${xt} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Oe,was:Dt})),We;{const He=je();return globalThis.\u0275AngularfireInstanceCache.push([Ke,He,Oe]),He}}const At=!!Et.hot,tt=(Ke,...Ae)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ke](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Et,Ve,R)=>{R.d(Ve,{q4:()=>ae,iC:()=>ro,HU:()=>Io,vb:()=>Ns,JM:()=>Ys});var y=R(4650),_=R(5867),K=R(5861),fe=R(9681),Ie=R(2090),Re=R(4859),Ne=R(1877),pe=R(8766);const Ze="@firebase/installations",de="0.5.16",Se=`w:${de}`,gt="FIS_v2",Ae=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(B){return B instanceof Ie.ZR&&B.code.includes("request-failed")}function je({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Oe(B){return{token:B.token,requestStatus:2,expiresIn:De(B.expiresIn),creationTime:Date.now()}}function We(B,W){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)(function*(B,W){const ve=(yield W.json()).error;return Ae.create("request-failed",{requestName:B,serverCode:ve.code,serverMessage:ve.message,serverStatus:ve.status})})).apply(this,arguments)}function He({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ce(B,{refreshToken:W}){const Q=He(B);return Q.append("Authorization",function Qe(B){return`${gt} ${B}`}(W)),Q}function qe(B){return ye.apply(this,arguments)}function ye(){return(ye=(0,K.Z)(function*(B){const W=yield B();return W.status>=500&&W.status<600?B():W})).apply(this,arguments)}function De(B){return Number(B.replace("s","000"))}function ze(B,W){return It.apply(this,arguments)}function It(){return(It=(0,K.Z)(function*({appConfig:B,heartbeatServiceProvider:W},{fid:Q}){const ve=je(B),$e=He(B),lt=W.getImmediate({optional:!0});if(lt){const zn=yield lt.getHeartbeatsHeader();zn&&$e.append("x-firebase-client",zn)}const Xt={method:"POST",headers:$e,body:JSON.stringify({fid:Q,authVersion:gt,appId:B.appId,sdkVersion:Se})},In=yield qe(()=>fetch(ve,Xt));if(In.ok){const zn=yield In.json();return{fid:zn.fid||Q,registrationStatus:2,refreshToken:zn.refreshToken,authToken:Oe(zn.authToken)}}throw yield We("Create Installation",In)})).apply(this,arguments)}function Rt(B){return new Promise(W=>{setTimeout(W,B)})}const an=/^[cdef][\w-]{21}$/;function vt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const Q=function Cn(B){return function Wt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return an.test(Q)?Q:""}catch{return""}}function rt(B){return`${B.appName}!${B.appId}`}const mt=new Map;function Pe(B,W){const Q=rt(B);gn(Q,W),function Mn(B,W){const Q=function Jn(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=B=>{gn(B.data.key,B.data.fid)}),ui}();Q&&Q.postMessage({key:B,fid:W}),function fi(){0===mt.size&&ui&&(ui.close(),ui=null)}()}(Q,W)}function gn(B,W){const Q=mt.get(B);if(Q)for(const ve of Q)ve(W)}let ui=null;const Vn="firebase-installations-store";let Zi=null;function qn(){return Zi||(Zi=(0,pe.X3)("firebase-installations-database",1,{upgrade:(B,W)=>{0===W&&B.createObjectStore(Vn)}})),Zi}function St(B,W){return On.apply(this,arguments)}function On(){return(On=(0,K.Z)(function*(B,W){const Q=rt(B),$e=(yield qn()).transaction(Vn,"readwrite"),lt=$e.objectStore(Vn),Nt=yield lt.get(Q);return yield lt.put(W,Q),yield $e.done,(!Nt||Nt.fid!==W.fid)&&Pe(B,W.fid),W})).apply(this,arguments)}function ii(B){return li.apply(this,arguments)}function li(){return(li=(0,K.Z)(function*(B){const W=rt(B),ve=(yield qn()).transaction(Vn,"readwrite");yield ve.objectStore(Vn).delete(W),yield ve.done})).apply(this,arguments)}function Bi(B,W){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,K.Z)(function*(B,W){const Q=rt(B),$e=(yield qn()).transaction(Vn,"readwrite"),lt=$e.objectStore(Vn),Nt=yield lt.get(Q),Xt=W(Nt);return void 0===Xt?yield lt.delete(Q):yield lt.put(Xt,Q),yield $e.done,Xt&&(!Nt||Nt.fid!==Xt.fid)&&Pe(B,Xt.fid),Xt})).apply(this,arguments)}function _i(B){return dt.apply(this,arguments)}function dt(){return(dt=(0,K.Z)(function*(B){let W;const Q=yield Bi(B.appConfig,ve=>{const $e=Te(ve),lt=be(B,$e);return W=lt.registrationPromise,lt.installationEntry});return""===Q.fid?{installationEntry:yield W}:{installationEntry:Q,registrationPromise:W}})).apply(this,arguments)}function Te(B){return zt(B||{fid:vt(),registrationStatus:0})}function be(B,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Ae.create("app-offline"))};const Q={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},ve=function st(B,W){return at.apply(this,arguments)}(B,Q);return{installationEntry:Q,registrationPromise:ve}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:on(B)}:{installationEntry:W}}function at(){return(at=(0,K.Z)(function*(B,W){try{const Q=yield ze(B,W);return St(B.appConfig,Q)}catch(Q){throw xt(Q)&&409===Q.customData.serverCode?yield ii(B.appConfig):yield St(B.appConfig,{fid:W.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function on(B){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,K.Z)(function*(B){let W=yield Hn(B.appConfig);for(;1===W.registrationStatus;)yield Rt(100),W=yield Hn(B.appConfig);if(0===W.registrationStatus){const{installationEntry:Q,registrationPromise:ve}=yield _i(B);return ve||Q}return W})).apply(this,arguments)}function Hn(B){return Bi(B,W=>{if(!W)throw Ae.create("installation-not-found");return zt(W)})}function zt(B){return function jn(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function bn(B,W){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,K.Z)(function*({appConfig:B,heartbeatServiceProvider:W},Q){const ve=En(B,Q),$e=Ce(B,Q),lt=W.getImmediate({optional:!0});if(lt){const zn=yield lt.getHeartbeatsHeader();zn&&$e.append("x-firebase-client",zn)}const Xt={method:"POST",headers:$e,body:JSON.stringify({installation:{sdkVersion:Se,appId:B.appId}})},In=yield qe(()=>fetch(ve,Xt));if(In.ok)return Oe(yield In.json());throw yield We("Generate Auth Token",In)})).apply(this,arguments)}function En(B,{fid:W}){return`${je(B)}/${W}/authTokens:generate`}function Pn(B){return yn.apply(this,arguments)}function yn(){return(yn=(0,K.Z)(function*(B,W=!1){let Q;const ve=yield Bi(B.appConfig,lt=>{if(!kn(lt))throw Ae.create("not-registered");const Nt=lt.authToken;if(!W&&Me(Nt))return lt;if(1===Nt.requestStatus)return Q=Kt(B,W),lt;{if(!navigator.onLine)throw Ae.create("app-offline");const Xt=Fe(lt);return Q=fn(B,Xt),Xt}});return Q?yield Q:ve.authToken})).apply(this,arguments)}function Kt(B,W){return bt.apply(this,arguments)}function bt(){return(bt=(0,K.Z)(function*(B,W){let Q=yield Bt(B.appConfig);for(;1===Q.authToken.requestStatus;)yield Rt(100),Q=yield Bt(B.appConfig);const ve=Q.authToken;return 0===ve.requestStatus?Pn(B,W):ve})).apply(this,arguments)}function Bt(B){return Bi(B,W=>{if(!kn(W))throw Ae.create("not-registered");return function ge(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function fn(B,W){return un.apply(this,arguments)}function un(){return(un=(0,K.Z)(function*(B,W){try{const Q=yield bn(B,W),ve=Object.assign(Object.assign({},W),{authToken:Q});return yield St(B.appConfig,ve),Q}catch(Q){if(!xt(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const ve=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield St(B.appConfig,ve)}else yield ii(B.appConfig);throw Q}})).apply(this,arguments)}function kn(B){return void 0!==B&&2===B.registrationStatus}function Me(B){return 2===B.requestStatus&&!function Ee(B){const W=Date.now();return W<B.creationTime||B.creationTime+B.expiresIn<W+36e5}(B)}function Fe(B){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:W})}function ce(){return(ce=(0,K.Z)(function*(B){const W=B,{installationEntry:Q,registrationPromise:ve}=yield _i(W);return ve?ve.catch(console.error):Pn(W).catch(console.error),Q.fid})).apply(this,arguments)}function Ot(){return(Ot=(0,K.Z)(function*(B,W=!1){const Q=B;return yield tn(Q),(yield Pn(Q,W)).token})).apply(this,arguments)}function tn(B){return nn.apply(this,arguments)}function nn(){return(nn=(0,K.Z)(function*(B){const{registrationPromise:W}=yield _i(B);W&&(yield W)})).apply(this,arguments)}function qi(B){return Ae.create("missing-app-config-values",{valueName:B})}const go="installations",Hr=B=>{const W=B.getProvider("app").getImmediate(),Q=function Wn(B){if(!B||!B.options)throw qi("App Configuration");if(!B.name)throw qi("App Name");const W=["projectId","apiKey","appId"];for(const Q of W)if(!B.options[Q])throw qi(Q);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(W);return{app:W,appConfig:Q,heartbeatServiceProvider:(0,fe._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},jr=B=>{const W=B.getProvider("app").getImmediate(),Q=(0,fe._getProvider)(W,go).getImmediate();return{getId:()=>function X(B){return ce.apply(this,arguments)}(Q),getToken:$e=>function Xe(B){return Ot.apply(this,arguments)}(Q,$e)}};(function Uo(){(0,fe._registerComponent)(new Re.wA(go,Hr,"PUBLIC")),(0,fe._registerComponent)(new Re.wA("installations-internal",jr,"PRIVATE"))})(),(0,fe.registerVersion)(Ze,de),(0,fe.registerVersion)(Ze,de,"esm2017");const Ar="@firebase/remote-config",Si=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hs{constructor(W,Q,ve,$e){this.client=W,this.storage=Q,this.storageCache=ve,this.logger=$e}isCachedDataFresh(W,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ve=Date.now()-Q,$e=ve<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${$e}.`),$e}fetch(W){var Q=this;return(0,K.Z)(function*(){const[ve,$e]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if($e&&Q.isCachedDataFresh(W.cacheMaxAgeMillis,ve))return $e;W.eTag=$e&&$e.eTag;const lt=yield Q.client.fetch(W),Nt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&Nt.push(Q.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(Nt),lt})()}}function or(B=navigator){return B.languages&&B.languages[0]||B.language}class jo{constructor(W,Q,ve,$e,lt,Nt){this.firebaseInstallations=W,this.sdkVersion=Q,this.namespace=ve,this.projectId=$e,this.apiKey=lt,this.appId=Nt}fetch(W){var Q=this;return(0,K.Z)(function*(){var ve,$e,lt;const[Nt,Xt]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),zn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,ti={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Rn={sdk_version:Q.sdkVersion,app_instance_id:Nt,app_instance_id_token:Xt,app_id:Q.appId,language_code:or()},Rr={method:"POST",headers:ti,body:JSON.stringify(Rn)},mo=fetch(zn,Rr),Mr=new Promise((Ol,Fs)=>{W.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",Fs(za)})});let Ka;try{yield Promise.race([mo,Mr]),Ka=yield mo}catch(Ol){let Fs="fetch-client-network";throw"AbortError"===(null===(ve=Ol)||void 0===ve?void 0:ve.name)&&(Fs="fetch-timeout"),Si.create(Fs,{originalErrorMessage:null===($e=Ol)||void 0===$e?void 0:$e.message})}let wi=Ka.status;const $a=Ka.headers.get("ETag")||void 0;let Xs,Ls;if(200===Ka.status){let Ol;try{Ol=yield Ka.json()}catch(Fs){throw Si.create("fetch-client-parse",{originalErrorMessage:null===(lt=Fs)||void 0===lt?void 0:lt.message})}Xs=Ol.entries,Ls=Ol.state}if("INSTANCE_STATE_UNSPECIFIED"===Ls?wi=500:"NO_CHANGE"===Ls?wi=304:("NO_TEMPLATE"===Ls||"EMPTY_CONFIG"===Ls)&&(Xs={}),304!==wi&&200!==wi)throw Si.create("fetch-status",{httpStatus:wi});return{status:wi,eTag:$a,config:Xs}})()}}class Le{constructor(W,Q){this.client=W,this.storage=Q}fetch(W){var Q=this;return(0,K.Z)(function*(){const ve=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(W,ve)})()}attemptFetch(W,{throttleEndTimeMillis:Q,backoffCount:ve}){var $e=this;return(0,K.Z)(function*(){yield function _r(B,W){return new Promise((Q,ve)=>{const $e=Math.max(W-Date.now(),0),lt=setTimeout(Q,$e);B.addEventListener(()=>{clearTimeout(lt),ve(Si.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,Q);try{const lt=yield $e.client.fetch(W);return yield $e.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function Ge(B){if(!(B instanceof Ie.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}(lt))throw lt;const Nt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(ve),backoffCount:ve+1};return yield $e.storage.setThrottleMetadata(Nt),$e.attemptFetch(W,Nt)}})()}}class $t{constructor(W,Q,ve,$e,lt){this.app=W,this._client=Q,this._storageCache=ve,this._storage=$e,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sn(B,W){var Q;const ve=B.target.error||void 0;return Si.create(W,{originalErrorMessage:ve&&(null===(Q=ve)||void 0===Q?void 0:Q.message)})}const An="app_namespace_store";class yo{constructor(W,Q,ve,$e=function Kr(){return new Promise((B,W)=>{var Q;try{const ve=indexedDB.open("firebase_remote_config",1);ve.onerror=$e=>{W(sn($e,"storage-open"))},ve.onsuccess=$e=>{B($e.target.result)},ve.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(An,{keyPath:"compositeKey"})}}catch(ve){W(Si.create("storage-open",{originalErrorMessage:null===(Q=ve)||void 0===Q?void 0:Q.message}))}})}()){this.appId=W,this.appName=Q,this.namespace=ve,this.openDbPromise=$e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var Q=this;return(0,K.Z)(function*(){const ve=yield Q.openDbPromise;return new Promise(($e,lt)=>{var Nt;const In=ve.transaction([An],"readonly").objectStore(An),zn=Q.createCompositeKey(W);try{const ti=In.get(zn);ti.onerror=Rn=>{lt(sn(Rn,"storage-get"))},ti.onsuccess=Rn=>{const Rr=Rn.target.result;$e(Rr?Rr.value:void 0)}}catch(ti){lt(Si.create("storage-get",{originalErrorMessage:null===(Nt=ti)||void 0===Nt?void 0:Nt.message}))}})})()}set(W,Q){var ve=this;return(0,K.Z)(function*(){const $e=yield ve.openDbPromise;return new Promise((lt,Nt)=>{var Xt;const zn=$e.transaction([An],"readwrite").objectStore(An),ti=ve.createCompositeKey(W);try{const Rn=zn.put({compositeKey:ti,value:Q});Rn.onerror=Rr=>{Nt(sn(Rr,"storage-set"))},Rn.onsuccess=()=>{lt()}}catch(Rn){Nt(Si.create("storage-set",{originalErrorMessage:null===(Xt=Rn)||void 0===Xt?void 0:Xt.message}))}})})()}delete(W){var Q=this;return(0,K.Z)(function*(){const ve=yield Q.openDbPromise;return new Promise(($e,lt)=>{var Nt;const In=ve.transaction([An],"readwrite").objectStore(An),zn=Q.createCompositeKey(W);try{const ti=In.delete(zn);ti.onerror=Rn=>{lt(sn(Rn,"storage-delete"))},ti.onsuccess=()=>{$e()}}catch(ti){lt(Si.create("storage-delete",{originalErrorMessage:null===(Nt=ti)||void 0===Nt?void 0:Nt.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class yr{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,K.Z)(function*(){const Q=W.storage.getLastFetchStatus(),ve=W.storage.getLastSuccessfulFetchTimestampMillis(),$e=W.storage.getActiveConfig(),lt=yield Q;lt&&(W.lastFetchStatus=lt);const Nt=yield ve;Nt&&(W.lastSuccessfulFetchTimestampMillis=Nt);const Xt=yield $e;Xt&&(W.activeConfig=Xt)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Hs(){return $r.apply(this,arguments)}function $r(){return($r=(0,K.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ts(){(0,fe._registerComponent)(new Re.wA("remote-config",function B(W,{instanceIdentifier:Q}){const ve=W.getProvider("app").getImmediate(),$e=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Si.create("registration-window");if(!(0,Ie.hl)())throw Si.create("indexed-db-unavailable");const{projectId:lt,apiKey:Nt,appId:Xt}=ve.options;if(!lt)throw Si.create("registration-project-id");if(!Nt)throw Si.create("registration-api-key");if(!Xt)throw Si.create("registration-app-id");const In=new yo(Xt,ve.name,Q=Q||"firebase"),zn=new yr(In),ti=new Ne.Yd(Ar);ti.logLevel=Ne.in.ERROR;const Rn=new jo($e,fe.SDK_VERSION,Q,lt,Nt,Xt),Rr=new Le(Rn,In),mo=new hs(Rr,In,zn,ti),Mr=new $t(ve,mo,zn,In,ti);return function Ui(B){const W=(0,Ie.m9)(B);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Mr),Mr},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Ar,"0.3.15"),(0,fe.registerVersion)(Ar,"0.3.15","esm2017")}();const Ni="/firebase-messaging-sw.js",co="/firebase-cloud-messaging-push-scope",uo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",no="google.c.a.c_id",ho="google.c.a.c_l",es="google.c.a.ts",Oi="google.c.a.e";var vr=(()=>{return(B=vr||(vr={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",vr;var B})();function Ao(B){const W=new Uint8Array(B);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sr(B){const Q=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ve=atob(Q),$e=new Uint8Array(ve.length);for(let lt=0;lt<ve.length;++lt)$e[lt]=ve.charCodeAt(lt);return $e}const Ci="fcm_token_details_db",Fr="fcm_token_object_Store";function wr(B){return As.apply(this,arguments)}function As(){return As=(0,K.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(Ci))return null;let W=null;return(yield(0,pe.X3)(Ci,5,{upgrade:(ve=(0,K.Z)(function*($e,lt,Nt,Xt){var In;if(lt<2||!$e.objectStoreNames.contains(Fr))return;const zn=Xt.objectStore(Fr),ti=yield zn.index("fcmSenderId").get(B);if(yield zn.clear(),ti)if(2===lt){const Rn=ti;if(!Rn.auth||!Rn.p256dh||!Rn.endpoint)return;W={token:Rn.fcmToken,createTime:null!==(In=Rn.createTime)&&void 0!==In?In:Date.now(),subscriptionOptions:{auth:Rn.auth,p256dh:Rn.p256dh,endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:"string"==typeof Rn.vapidKey?Rn.vapidKey:Ao(Rn.vapidKey)}}}else if(3===lt){const Rn=ti;W={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:Ao(Rn.auth),p256dh:Ao(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:Ao(Rn.vapidKey)}}}else if(4===lt){const Rn=ti;W={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:Ao(Rn.auth),p256dh:Ao(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:Ao(Rn.vapidKey)}}}}),function(lt,Nt,Xt,In){return ve.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Ci),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Li(W)?W:null;var ve}),As.apply(this,arguments)}function Li(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:W}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const zr="firebase-messaging-store";let Wi=null;function fo(){return Wi||(Wi=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(B,W)=>{0===W&&B.createObjectStore(zr)}})),Wi}function ns(B){return tr.apply(this,arguments)}function tr(){return(tr=(0,K.Z)(function*(B){const W=Di(B),ve=yield(yield fo()).transaction(zr).objectStore(zr).get(W);if(ve)return ve;{const $e=yield wr(B.appConfig.senderId);if($e)return yield ci(B,$e),$e}})).apply(this,arguments)}function ci(B,W){return ma.apply(this,arguments)}function ma(){return(ma=(0,K.Z)(function*(B,W){const Q=Di(B),$e=(yield fo()).transaction(zr,"readwrite");return yield $e.objectStore(zr).put(W,Q),yield $e.done,W})).apply(this,arguments)}function vo(B){return bo.apply(this,arguments)}function bo(){return(bo=(0,K.Z)(function*(B){const W=Di(B),ve=(yield fo()).transaction(zr,"readwrite");yield ve.objectStore(zr).delete(W),yield ve.done})).apply(this,arguments)}function Di({appConfig:B}){return B.appId}const Mi=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kn(B,W){return fs.apply(this,arguments)}function fs(){return(fs=(0,K.Z)(function*(B,W){var Q;const ve=yield Wo(B),$e=Pt(W),lt={method:"POST",headers:ve,body:JSON.stringify($e)};let Nt;try{Nt=yield(yield fetch(Zr(B.appConfig),lt)).json()}catch(Xt){throw Mi.create("token-subscribe-failed",{errorInfo:null===(Q=Xt)||void 0===Q?void 0:Q.toString()})}if(Nt.error)throw Mi.create("token-subscribe-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw Mi.create("token-subscribe-no-token");return Nt.token})).apply(this,arguments)}function js(B,W){return So.apply(this,arguments)}function So(){return(So=(0,K.Z)(function*(B,W){var Q;const ve=yield Wo(B),$e=Pt(W.subscriptionOptions),lt={method:"PATCH",headers:ve,body:JSON.stringify($e)};let Nt;try{Nt=yield(yield fetch(`${Zr(B.appConfig)}/${W.token}`,lt)).json()}catch(Xt){throw Mi.create("token-update-failed",{errorInfo:null===(Q=Xt)||void 0===Q?void 0:Q.toString()})}if(Nt.error)throw Mi.create("token-update-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw Mi.create("token-update-no-token");return Nt.token})).apply(this,arguments)}function Ra(B,W){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,K.Z)(function*(B,W){var Q;const $e={method:"DELETE",headers:yield Wo(B)};try{const Nt=yield(yield fetch(`${Zr(B.appConfig)}/${W}`,$e)).json();if(Nt.error)throw Mi.create("token-unsubscribe-failed",{errorInfo:Nt.error.message})}catch(lt){throw Mi.create("token-unsubscribe-failed",{errorInfo:null===(Q=lt)||void 0===Q?void 0:Q.toString()})}})).apply(this,arguments)}function Zr({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Wo(B){return ps.apply(this,arguments)}function ps(){return(ps=(0,K.Z)(function*({appConfig:B,installations:W}){const Q=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Pt({p256dh:B,auth:W,endpoint:Q,vapidKey:ve}){const $e={web:{endpoint:Q,auth:W,p256dh:B}};return ve!==uo&&($e.web.applicationPubKey=ve),$e}const Yn=6048e5;function Ks(B){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,K.Z)(function*(B){const W=yield vn(B.swRegistration,B.vapidKey),Q={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:W.endpoint,auth:Ao(W.getKey("auth")),p256dh:Ao(W.getKey("p256dh"))},ve=yield ns(B.firebaseDependencies);if(ve){if(Eo(ve.subscriptionOptions,Q))return Date.now()>=ve.createTime+Yn?j(B,{token:ve.token,createTime:Date.now(),subscriptionOptions:Q}):ve.token;try{yield Ra(B.firebaseDependencies,ve.token)}catch($e){console.warn($e)}return ie(B.firebaseDependencies,Q)}return ie(B.firebaseDependencies,Q)})).apply(this,arguments)}function ur(B){return $.apply(this,arguments)}function $(){return($=(0,K.Z)(function*(B){const W=yield ns(B.firebaseDependencies);W&&(yield Ra(B.firebaseDependencies,W.token),yield vo(B.firebaseDependencies));const Q=yield B.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function j(B,W){return V.apply(this,arguments)}function V(){return(V=(0,K.Z)(function*(B,W){try{const Q=yield js(B.firebaseDependencies,W),ve=Object.assign(Object.assign({},W),{token:Q,createTime:Date.now()});return yield ci(B.firebaseDependencies,ve),Q}catch(Q){throw yield ur(B),Q}})).apply(this,arguments)}function ie(B,W){return ft.apply(this,arguments)}function ft(){return(ft=(0,K.Z)(function*(B,W){const ve={token:yield Kn(B,W),createTime:Date.now(),subscriptionOptions:W};return yield ci(B,ve),ve.token})).apply(this,arguments)}function vn(B,W){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,K.Z)(function*(B,W){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sr(W)})})).apply(this,arguments)}function Eo(B,W){return W.vapidKey===B.vapidKey&&W.endpoint===B.endpoint&&W.auth===B.auth&&W.p256dh===B.p256dh}function dr(B){const W={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Fi(B,W){if(!W.notification)return;B.notification={};const Q=W.notification.title;Q&&(B.notification.title=Q);const ve=W.notification.body;ve&&(B.notification.body=ve);const $e=W.notification.image;$e&&(B.notification.image=$e);const lt=W.notification.icon;lt&&(B.notification.icon=lt)}(W,B),function Ko(B,W){!W.data||(B.data=W.data)}(W,B),function Hi(B,W){var Q,ve,$e,lt,Nt;if(!(W.fcmOptions||null!==(Q=W.notification)&&void 0!==Q&&Q.click_action))return;B.fcmOptions={};const Xt=null!==($e=null===(ve=W.fcmOptions)||void 0===ve?void 0:ve.link)&&void 0!==$e?$e:null===(lt=W.notification)||void 0===lt?void 0:lt.click_action;Xt&&(B.fcmOptions.link=Xt);const In=null===(Nt=W.fcmOptions)||void 0===Nt?void 0:Nt.analytics_label;In&&(B.fcmOptions.analyticsLabel=In)}(W,B),W}function xs(B){return"object"==typeof B&&!!B&&no in B}function $o(B,W){const Q=[];for(let ve=0;ve<B.length;ve++)Q.push(B.charAt(ve)),ve<W.length&&Q.push(W.charAt(ve));return Q.join("")}function ka(B){return Mi.create("missing-app-config-values",{valueName:B})}$o("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$o("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Na{constructor(W,Q,ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $e=function il(B){if(!B||!B.options)throw ka("App Configuration Object");if(!B.name)throw ka("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=B;for(const ve of W)if(!Q[ve])throw ka(ve);return{appName:B.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:$e,installations:Q,analyticsProvider:ve}}_delete(){return Promise.resolve()}}function rl(B){return ms.apply(this,arguments)}function ms(){return(ms=(0,K.Z)(function*(B){var W;try{B.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:co}),B.swRegistration.update().catch(()=>{})}catch(Q){throw Mi.create("failed-service-worker-registration",{browserErrorMessage:null===(W=Q)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function sa(B,W){return Os.apply(this,arguments)}function Os(){return(Os=(0,K.Z)(function*(B,W){if(!W&&!B.swRegistration&&(yield rl(B)),W||!B.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw Mi.create("invalid-sw-registration");B.swRegistration=W}})).apply(this,arguments)}function xo(B,W){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,K.Z)(function*(B,W){W?B.vapidKey=W:B.vapidKey||(B.vapidKey=uo)})).apply(this,arguments)}function Rs(){return(Rs=(0,K.Z)(function*(B,W){if(!navigator)throw Mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mi.create("permission-blocked");return yield xo(B,W?.vapidKey),yield sa(B,W?.serviceWorkerRegistration),Ks(B)})).apply(this,arguments)}function $s(B,W,Q){return ks.apply(this,arguments)}function ks(){return(ks=(0,K.Z)(function*(B,W,Q){const ve=La(W);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(ve,{message_id:Q[no],message_name:Q[ho],message_time:Q[es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function La(B){switch(B){case vr.NOTIFICATION_CLICKED:return"notification_open";case vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function q(){return(q=(0,K.Z)(function*(B,W){const Q=W.data;if(!Q.isFirebaseMessaging)return;B.onMessageHandler&&Q.messageType===vr.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(dr(Q)):B.onMessageHandler.next(dr(Q)));const ve=Q.data;xs(ve)&&"1"===ve[Oi]&&(yield $s(B,Q.messageType,ve))})).apply(this,arguments)}const U="@firebase/messaging",we=B=>{const W=new Na(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function k(B,W){return q.apply(this,arguments)}(W,Q)),W},ot=B=>{const W=B.getProvider("messaging").getImmediate();return{getToken:ve=>function aa(B,W){return Rs.apply(this,arguments)}(W,ve)}};function ln(){return mi.apply(this,arguments)}function mi(){return(mi=(0,K.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yt(){(0,fe._registerComponent)(new Re.wA("messaging",we,"PUBLIC")),(0,fe._registerComponent)(new Re.wA("messaging-internal",ot,"PRIVATE")),(0,fe.registerVersion)(U,"0.11.0"),(0,fe.registerVersion)(U,"0.11.0","esm2017")}();const Po="analytics",gs="firebase_id",zs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fa="https://www.googletagmanager.com/gtag/js",Xi=new Ne.Yd("@firebase/analytics");function _s(B){return Promise.all(B.map(W=>W.catch(Q=>Q)))}function Cl(B,W){const Q=document.createElement("script");Q.src=`${Fa}?l=${B}&id=${W}`,Q.async=!0,document.head.appendChild(Q)}function ec(B,W,Q,ve,$e,lt){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,K.Z)(function*(B,W,Q,ve,$e,lt){const Nt=ve[$e];try{if(Nt)yield W[Nt];else{const In=(yield _s(Q)).find(zn=>zn.measurementId===$e);In&&(yield W[In.appId])}}catch(Xt){Xi.error(Xt)}B("config",$e,lt)})).apply(this,arguments)}function la(B,W,Q,ve,$e){return ol.apply(this,arguments)}function ol(){return(ol=(0,K.Z)(function*(B,W,Q,ve,$e){try{let lt=[];if($e&&$e.send_to){let Nt=$e.send_to;Array.isArray(Nt)||(Nt=[Nt]);const Xt=yield _s(Q);for(const In of Nt){const zn=Xt.find(Rn=>Rn.measurementId===In),ti=zn&&W[zn.appId];if(!ti){lt=[];break}lt.push(ti)}}0===lt.length&&(lt=Object.values(W)),yield Promise.all(lt),B("event",ve,$e||{})}catch(lt){Xi.error(lt)}})).apply(this,arguments)}function tc(B){const W=window.document.getElementsByTagName("script");for(const Q of Object.values(W))if(Q.src&&Q.src.includes(Fa)&&Q.src.includes(B))return Q;return null}const Ji=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ut=new class Hc{constructor(W={},Q=1e3){this.throttleMetadata=W,this.intervalMillis=Q}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,Q){this.throttleMetadata[W]=Q}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function ar(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function is(B){return nr.apply(this,arguments)}function nr(){return(nr=(0,K.Z)(function*(B){var W;const{appId:Q,apiKey:ve}=B,$e={method:"GET",headers:ar(ve)},lt=zs.replace("{app-id}",Q),Nt=yield fetch(lt,$e);if(200!==Nt.status&&304!==Nt.status){let Xt="";try{const In=yield Nt.json();null!==(W=In.error)&&void 0!==W&&W.message&&(Xt=In.error.message)}catch{}throw Ji.create("config-fetch-failed",{httpStatus:Nt.status,responseMessage:Xt})}return Nt.json()})).apply(this,arguments)}function hn(B){return _n.apply(this,arguments)}function _n(){return(_n=(0,K.Z)(function*(B,W=Ut,Q){const{appId:ve,apiKey:$e,measurementId:lt}=B.options;if(!ve)throw Ji.create("no-app-id");if(!$e){if(lt)return{measurementId:lt,appId:ve};throw Ji.create("no-api-key")}const Nt=W.getThrottleMetadata(ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new ir;return setTimeout((0,K.Z)(function*(){Xt.abort()}),void 0!==Q?Q:6e4),wl({appId:ve,apiKey:$e,measurementId:lt},Nt,Xt,W)})).apply(this,arguments)}function wl(B,W,Q){return qt.apply(this,arguments)}function qt(){return(qt=(0,K.Z)(function*(B,{throttleEndTimeMillis:W,backoffCount:Q},ve,$e=Ut){var lt,Nt;const{appId:Xt,measurementId:In}=B;try{yield pt(ve,W)}catch(zn){if(In)return Xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${In} provided in the "measurementId" field in the local Firebase config. [${null===(lt=zn)||void 0===lt?void 0:lt.message}]`),{appId:Xt,measurementId:In};throw zn}try{const zn=yield is(B);return $e.deleteThrottleMetadata(Xt),zn}catch(zn){const ti=zn;if(!kt(ti)){if($e.deleteThrottleMetadata(Xt),In)return Xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${In} provided in the "measurementId" field in the local Firebase config. [${ti?.message}]`),{appId:Xt,measurementId:In};throw zn}const Rn=503===Number(null===(Nt=ti?.customData)||void 0===Nt?void 0:Nt.httpStatus)?(0,Ie.$s)(Q,$e.intervalMillis,30):(0,Ie.$s)(Q,$e.intervalMillis),Rr={throttleEndTimeMillis:Date.now()+Rn,backoffCount:Q+1};return $e.setThrottleMetadata(Xt,Rr),Xi.debug(`Calling attemptFetch again in ${Rn} millis`),wl(B,Rr,ve,$e)}})).apply(this,arguments)}function pt(B,W){return new Promise((Q,ve)=>{const $e=Math.max(W-Date.now(),0),lt=setTimeout(Q,$e);B.addEventListener(()=>{clearTimeout(lt),ve(Ji.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function kt(B){if(!(B instanceof Ie.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}class ir{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let _a,$n;function sl(){return(sl=(0,K.Z)(function*(B,W,Q,ve,$e){if($e&&$e.global)B("event",Q,ve);else{const lt=yield W;B("event",Q,Object.assign(Object.assign({},ve),{send_to:lt}))}})).apply(this,arguments)}function zo(B){$n=B}function Ha(B){_a=B}function hr(){return wn.apply(this,arguments)}function wn(){return(wn=(0,K.Z)(function*(){var B;if(!(0,Ie.hl)())return Xi.warn(Ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(W){return Xi.warn(Ji.create("indexeddb-unavailable",{errorInfo:null===(B=W)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function ri(){return(ri=(0,K.Z)(function*(B,W,Q,ve,$e,lt,Nt){var Xt;const In=hn(B);In.then(mo=>{Q[mo.measurementId]=mo.appId,B.options.measurementId&&mo.measurementId!==B.options.measurementId&&Xi.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mo=>Xi.error(mo)),W.push(In);const zn=hr().then(mo=>{if(mo)return ve.getId()}),[ti,Rn]=yield Promise.all([In,zn]);tc(lt)||Cl(lt,ti.measurementId),$n&&($e("consent","default",$n),zo(void 0)),$e("js",new Date);const Rr=null!==(Xt=Nt?.config)&&void 0!==Xt?Xt:{};return Rr.origin="firebase",Rr.update=!0,null!=Rn&&(Rr[gs]=Rn),$e("config",ti.measurementId,Rr),_a&&($e("set",_a),Ha(void 0)),ti.measurementId})).apply(this,arguments)}class al{constructor(W){this.app=W}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},Yt=[];const Do={};let ba,wo,qr="dataLayer",Tl=!1;function ic(B,W,Q){!function Mu(){const B=[];if((0,Ie.ru)()&&B.push("This is a browser extension environment."),(0,Ie.zI)()||B.push("Cookies are not available."),B.length>0){const W=B.map((ve,$e)=>`(${$e+1}) ${ve}`).join(" "),Q=Ji.create("invalid-analytics-context",{errorInfo:W});Xi.warn(Q.message)}}();const ve=B.options.appId;if(!ve)throw Ji.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Ji.create("no-api-key");Xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[ve])throw Ji.create("already-exists",{id:ve});if(!Tl){!function Ba(B){let W=[];Array.isArray(window[B])?W=window[B]:window[B]=W}(qr);const{wrappedGtag:lt,gtagCore:Nt}=function Dl(B,W,Q,ve,$e){let lt=function(...Nt){window[ve].push(arguments)};return window[$e]&&"function"==typeof window[$e]&&(lt=window[$e]),window[$e]=function ga(B,W,Q,ve){function lt(){return(lt=(0,K.Z)(function*(Nt,Xt,In){try{"event"===Nt?yield la(B,W,Q,Xt,In):"config"===Nt?yield ec(B,W,Q,ve,Xt,In):"consent"===Nt?B("consent","update",In):B("set",Xt)}catch(zn){Xi.error(zn)}})).apply(this,arguments)}return function $e(Nt,Xt,In){return lt.apply(this,arguments)}}(lt,B,W,Q),{gtagCore:lt,wrappedGtag:window[$e]}}(oi,Yt,Do,qr,"gtag");wo=lt,ba=Nt,Tl=!0}return oi[ve]=function va(B,W,Q,ve,$e,lt,Nt){return ri.apply(this,arguments)}(B,Yt,Do,W,ba,qr,Q),new al(B)}function Tu(){return jc.apply(this,arguments)}function jc(){return(jc=(0,K.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const bs="@firebase/analytics";!function br(){(0,fe._registerComponent)(new Re.wA(Po,(W,{options:Q})=>ic(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,fe._registerComponent)(new Re.wA("analytics-internal",function B(W){try{const Q=W.getProvider(Po).getImmediate();return{logEvent:(ve,$e,lt)=>function Wa(B,W,Q,ve){B=(0,Ie.m9)(B),function Il(B,W,Q,ve,$e){return sl.apply(this,arguments)}(wo,oi[B.app.options.appId],W,Q,ve).catch($e=>Xi.error($e))}(Q,ve,$e,lt)}}catch(Q){throw Ji.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,fe.registerVersion)(bs,"0.8.4"),(0,fe.registerVersion)(bs,"0.8.4","esm2017")}();var Go=R(4408),qs=R(7565);const T=new class Ca extends qs.v{}(class Ea extends Go.o{constructor(W,Q){super(W,Q),this.scheduler=W,this.work=Q}schedule(W,Q=0){return Q>0?super.schedule(W,Q):(this.delay=Q,this.state=W,this.scheduler.flush(this),this)}execute(W,Q){return Q>0||this.closed?super.execute(W,Q):this._execute(W,Q)}requestAsyncId(W,Q,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(W,Q,ve):(W.flush(this),0)}});var M=R(4986),L=R(8505),H=R(9468),J=R(5363);const ae=new y.GfV("7.4.1"),me="__angularfire_symbol__analyticsIsSupportedValue",ht="__angularfire_symbol__analyticsIsSupported",Zt="__angularfire_symbol__remoteConfigIsSupportedValue",Tn="__angularfire_symbol__remoteConfigIsSupported",pn="__angularfire_symbol__messagingIsSupportedValue",Bn="__angularfire_symbol__messagingIsSupported";function Ys(B,W,Q){if(W){if(1===W.length)return W[0];const lt=W.filter(Nt=>Nt.app===Q);if(1===lt.length)return lt[0]}return Q.container.getProvider(B).getImmediate({optional:!0})}globalThis[ht]||(globalThis[ht]=Tu().then(B=>globalThis[me]=B).catch(()=>globalThis[me]=!1)),globalThis[Bn]||(globalThis[Bn]=ln().then(B=>globalThis[pn]=B).catch(()=>globalThis[pn]=!1)),globalThis[Tn]||(globalThis[Tn]=Hs().then(B=>globalThis[Zt]=B).catch(()=>globalThis[Zt]=!1));const Ns=(B,W)=>{const Q=W?[W]:(0,_.C6)(),ve=[];return Q.forEach($e=>{$e.container.getProvider(B).instances.forEach(Nt=>{ve.includes(Nt)||ve.push(Nt)})}),ve};function ko(){}class ll{constructor(W,Q=T){this.zone=W,this.delegate=Q}now(){return this.delegate.now()}schedule(W,Q,ve){const $e=this.zone;return this.delegate.schedule(function(Nt){$e.runGuarded(()=>{W.apply(this,[Nt])})},Q,ve)}}class Qs{constructor(W){this.zone=W,this.task=null}call(W,Q){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),Q.pipe((0,L.b)({next:ve,complete:ve,error:ve})).subscribe(W).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Io=(()=>{class B{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=Q.run(()=>new ll(Zone.current,M.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(Q){return new(Q||B)(y.LFG(y.R0b))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function os(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function ro(B){return os(),function xl(B){return function(Q){return(Q=Q.lift(new Qs(B.ngZone))).pipe((0,H.R)(B.outsideAngular),(0,J.Q)(B.insideAngular))}}(os())(B)}},8247:(Et,Ve,R)=>{R.d(Ve,{$:()=>Zr,A:()=>_e,B:()=>ut,G:()=>jr,H:()=>Sr,J:()=>Le,L:()=>Me,M:()=>$r,N:()=>To,P:()=>M,Q:()=>no,R:()=>Al,T:()=>ho,U:()=>uo,V:()=>vr,W:()=>Ao,X:()=>wr,Y:()=>Gr,Z:()=>Kn,_:()=>js,a:()=>ys,a0:()=>Ks,a1:()=>ur,a2:()=>j,a3:()=>ie,a4:()=>vn,a5:()=>Eo,a6:()=>Fi,a7:()=>Ko,a8:()=>xs,a9:()=>$o,aA:()=>Ee,aB:()=>In,aC:()=>Sl,aD:()=>Zo,aE:()=>dn,aI:()=>ar,aL:()=>Oi,aa:()=>rl,ab:()=>sa,ac:()=>xo,af:()=>$s,ag:()=>La,ah:()=>k,ak:()=>zr,al:()=>di,an:()=>Fa,ao:()=>Vc,ap:()=>qe,aq:()=>se,ar:()=>tn,as:()=>xt,at:()=>Da,au:()=>$a,av:()=>re,aw:()=>je,ax:()=>He,ay:()=>mo,az:()=>De,b:()=>Ji,c:()=>pn,d:()=>$i,e:()=>po,f:()=>xl,g:()=>ve,h:()=>B,i:()=>wn,j:()=>Nt,k:()=>Ou,l:()=>oc,m:()=>wa,o:()=>pe,r:()=>Go,s:()=>ca,u:()=>T});var y=R(5861),_=R(2090),K=R(9681),fe=R(1877),Ie=R(655),Re=R(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ut=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new fe.Yd("@firebase/auth");function Ae(S,...E){Ke.logLevel<=fe.in.ERROR&&Ke.error(`Auth (${K.SDK_VERSION}): ${S}`,...E)}function xt(S,...E){throw Dt(S,...E)}function je(S,...E){return Dt(S,...E)}function Oe(S,E,C){const P=Object.assign(Object.assign({},Je()),{[E]:C});return new _.LL("auth","Firebase",P).create(E,{appName:S.name})}function We(S,E,C){if(!(E instanceof C))throw C.name!==E.constructor.name&&xt(S,"argument-error"),Oe(S,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(S,...E){if("string"!=typeof S){const C=E[0],P=[...E.slice(1)];return P[0]&&(P[0].appName=S.name),S._errorFactory.create(C,...P)}return At.create(S,...E)}function He(S,E,...C){if(!S)throw Dt(E,...C)}function Ce(S){const E="INTERNAL ASSERTION FAILED: "+S;throw Ae(E),new Error(E)}function qe(S,E){S||Ce(E)}const ye=new Map;function De(S){qe(S instanceof Function,"Expected a class definition");let E=ye.get(S);return E?(qe(E instanceof S,"Instance stored in cache mismatched with class"),E):(E=new S,ye.set(S,E),E)}function It(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function Rt(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class vt{constructor(E,C){this.shortDelay=E,this.longDelay=C,qe(C>E,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(S,E){qe(S.emulator,"Emulator should always be set here");const{url:C}=S.emulator;return E?`${C}${E.startsWith("/")?E.slice(1):E}`:C}class rt{static initialize(E,C,P){this.fetchImpl=E,C&&(this.headersImpl=C),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pe=new vt(3e4,6e4);function xe(S,E){return S.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:S.tenantId}):E}function Ct(S,E,C,P){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(S,E,C,P,Y={}){return Mn(S,Y,(0,y.Z)(function*(){let oe={},et={};P&&("GET"===E?et=P:oe={body:JSON.stringify(P)});const Mt=(0,_.xO)(Object.assign({key:S.config.apiKey},et)).slice(1),mn=yield S._getAdditionalHeaders();return mn["Content-Type"]="application/json",S.languageCode&&(mn["X-Firebase-Locale"]=S.languageCode),rt.fetch()(Un(S,S.config.apiHost,C,Mt),Object.assign({method:E,headers:mn,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Mn(S,E,C){return ui.apply(this,arguments)}function ui(){return(ui=(0,y.Z)(function*(S,E,C){S._canInitEmulator=!1;const P=Object.assign(Object.assign({},mt),E);try{const Y=new Zn(S),oe=yield Promise.race([C(),Y.promise]);Y.clearNetworkTimeout();const et=yield oe.json();if("needConfirmation"in et)throw Vn(S,"account-exists-with-different-credential",et);if(oe.ok&&!("errorMessage"in et))return et;{const Mt=oe.ok?et.errorMessage:et.error.message,[mn,Ln]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mn)throw Vn(S,"credential-already-in-use",et);if("EMAIL_EXISTS"===mn)throw Vn(S,"email-already-in-use",et);if("USER_DISABLED"===mn)throw Vn(S,"user-disabled",et);const Dn=P[mn]||mn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw Oe(S,Dn,Ln);xt(S,Dn)}}catch(Y){if(Y instanceof _.ZR)throw Y;xt(S,"network-request-failed")}})).apply(this,arguments)}function Jn(S,E,C,P){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(S,E,C,P,Y={}){const oe=yield Ct(S,E,C,P,Y);return"mfaPendingCredential"in oe&&xt(S,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Un(S,E,C,P){const Y=`${E}${C}?${P}`;return S.config.emulator?Cn(S.config,Y):`${S.config.apiScheme}://${Y}`}class Zn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((C,P)=>{this.timer=setTimeout(()=>P(je(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(S,E,C){const P={appName:S.name};C.email&&(P.email=C.email),C.phoneNumber&&(P.phoneNumber=C.phoneNumber);const Y=je(S,E,P);return Y.customData._tokenResponse=C,Y}function qn(){return(qn=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function St(S,E){return On.apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ii(S,E){return li.apply(this,arguments)}function li(){return(li=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function Bi(S){if(S)try{const E=new Date(Number(S));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function dt(){return(dt=(0,y.Z)(function*(S,E=!1){const C=(0,_.m9)(S),P=yield C.getIdToken(E),Y=be(P);He(Y&&Y.exp&&Y.auth_time&&Y.iat,C.auth,"internal-error");const oe="object"==typeof Y.firebase?Y.firebase:void 0,et=oe?.sign_in_provider;return{claims:Y,token:P,authTime:Bi(Te(Y.auth_time)),issuedAtTime:Bi(Te(Y.iat)),expirationTime:Bi(Te(Y.exp)),signInProvider:et||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Te(S){return 1e3*Number(S)}function be(S){var E;const[C,P,Y]=S.split(".");if(void 0===C||void 0===P||void 0===Y)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const oe=(0,_.tV)(P);return oe?JSON.parse(oe):(Ae("Failed to decode base64 JWT payload"),null)}catch(oe){return Ae("Caught error parsing JWT payload as JSON",null===(E=oe)||void 0===E?void 0:E.toString()),null}}function at(S,E){return on.apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(S,E,C=!1){if(C)return E;try{return yield E}catch(P){throw P instanceof _.ZR&&Ht(P)&&S.auth.currentUser===S&&(yield S.auth.signOut()),P}})).apply(this,arguments)}function Ht({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Hn{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var C;if(E){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const Y=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(E=!1){var C=this;if(!this.isRunning)return;const P=this.getInterval(E);this.timerId=setTimeout((0,y.Z)(function*(){yield C.iteration()}),P)}iteration(){var E=this;return(0,y.Z)(function*(){var C;try{yield E.user.getIdToken(!0)}catch(P){return void("auth/network-request-failed"===(null===(C=P)||void 0===C?void 0:C.code)&&E.schedule(!0))}E.schedule()})()}}class zt{constructor(E,C){this.createdAt=E,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bi(this.lastLoginAt),this.creationTime=Bi(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(S){return bn.apply(this,arguments)}function bn(){return(bn=(0,y.Z)(function*(S){var E;const C=S.auth,P=yield S.getIdToken(),Y=yield at(S,ii(C,{idToken:P}));He(Y?.users.length,C,"internal-error");const oe=Y.users[0];S._notifyReloadListener(oe);const et=null!==(E=oe.providerUserInfo)&&void 0!==E&&E.length?yn(oe.providerUserInfo):[],Mt=Pn(S.providerData,et),Dn=!!S.isAnonymous&&!(S.email&&oe.passwordHash||Mt?.length),zi={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Mt,metadata:new zt(oe.createdAt,oe.lastLoginAt),isAnonymous:Dn};Object.assign(S,zi)})).apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(S){const E=(0,_.m9)(S);yield jn(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function Pn(S,E){return[...S.filter(P=>!E.some(Y=>Y.providerId===P.providerId)),...E]}function yn(S){return S.map(E=>{var{providerId:C}=E,P=(0,Ie._T)(E,["providerId"]);return{providerId:C,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function bt(){return(bt=(0,y.Z)(function*(S,E){const C=yield Mn(S,{},(0,y.Z)(function*(){const P=(0,_.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:Y,apiKey:oe}=S.config,et=Un(S,Y,"/v1/token",`key=${oe}`),Mt=yield S._getAdditionalHeaders();return Mt["Content-Type"]="application/x-www-form-urlencoded",rt.fetch()(et,{method:"POST",headers:Mt,body:P})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){He(E.idToken,"internal-error"),He(typeof E.idToken<"u","internal-error"),He(typeof E.refreshToken<"u","internal-error");const C="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function st(S){const E=be(S);return He(E,"internal-error"),He(typeof E.exp<"u","internal-error"),He(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,C)}getToken(E,C=!1){var P=this;return(0,y.Z)(function*(){return He(!P.accessToken||P.refreshToken,E,"user-token-expired"),C||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(E,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,C){var P=this;return(0,y.Z)(function*(){const{accessToken:Y,refreshToken:oe,expiresIn:et}=yield function Kt(S,E){return bt.apply(this,arguments)}(E,C);P.updateTokensAndExpiration(Y,oe,Number(et))})()}updateTokensAndExpiration(E,C,P){this.refreshToken=C||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(E,C){const{refreshToken:P,accessToken:Y,expirationTime:oe}=C,et=new Bt;return P&&(He("string"==typeof P,"internal-error",{appName:E}),et.refreshToken=P),Y&&(He("string"==typeof Y,"internal-error",{appName:E}),et.accessToken=Y),oe&&(He("number"==typeof oe,"internal-error",{appName:E}),et.expirationTime=oe),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function fn(S,E){He("string"==typeof S||typeof S>"u","internal-error",{appName:E})}class un{constructor(E){var{uid:C,auth:P,stsTokenManager:Y}=E,oe=(0,Ie._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=P,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new zt(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(E){var C=this;return(0,y.Z)(function*(){const P=yield at(C,C.stsTokenManager.getToken(C.auth,E));return He(P,C.auth,"internal-error"),C.accessToken!==P&&(C.accessToken=P,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),P})()}getIdTokenResult(E){return function _i(S){return dt.apply(this,arguments)}(this,E)}reload(){return function Ei(S){return En.apply(this,arguments)}(this)}_assign(E){this!==E&&(He(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(C=>Object.assign({},C)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new un(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,C=!1){var P=this;return(0,y.Z)(function*(){let Y=!1;E.idToken&&E.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(E),Y=!0),C&&(yield jn(P)),yield P.auth._persistUserIfCurrent(P),Y&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var E=this;return(0,y.Z)(function*(){const C=yield E.getIdToken();return yield at(E,function Zi(S,E){return qn.apply(this,arguments)}(E.auth,{idToken:C})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,C){var P,Y,oe,et,Mt,mn,Ln,Dn;const zi=null!==(P=C.displayName)&&void 0!==P?P:void 0,ss=null!==(Y=C.email)&&void 0!==Y?Y:void 0,Ga=null!==(oe=C.phoneNumber)&&void 0!==oe?oe:void 0,Cd=null!==(et=C.photoURL)&&void 0!==et?et:void 0,Ia=null!==(Mt=C.tenantId)&&void 0!==Mt?Mt:void 0,Dd=null!==(mn=C._redirectEventId)&&void 0!==mn?mn:void 0,uc=null!==(Ln=C.createdAt)&&void 0!==Ln?Ln:void 0,Rl=null!==(Dn=C.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:as,emailVerified:Gc,isAnonymous:dc,providerData:hc,stsTokenManager:Ma}=C;He(as&&Ma,E,"internal-error");const Za=Bt.fromJSON(this.name,Ma);He("string"==typeof as,E,"internal-error"),fn(zi,E.name),fn(ss,E.name),He("boolean"==typeof Gc,E,"internal-error"),He("boolean"==typeof dc,E,"internal-error"),fn(Ga,E.name),fn(Cd,E.name),fn(Ia,E.name),fn(Dd,E.name),fn(uc,E.name),fn(Rl,E.name);const pr=new un({uid:as,auth:E,email:ss,emailVerified:Gc,displayName:zi,isAnonymous:dc,photoURL:Cd,phoneNumber:Ga,tenantId:Ia,stsTokenManager:Za,createdAt:uc,lastLoginAt:Rl});return hc&&Array.isArray(hc)&&(pr.providerData=hc.map(Yr=>Object.assign({},Yr))),Dd&&(pr._redirectEventId=Dd),pr}static _fromIdTokenResponse(E,C,P=!1){return(0,y.Z)(function*(){const Y=new Bt;Y.updateFromServerResponse(C);const oe=new un({uid:C.localId,auth:E,stsTokenManager:Y,isAnonymous:P});return yield jn(oe),oe})()}}const Me=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(C,P){var Y=this;return(0,y.Z)(function*(){Y.storage[C]=P})()}_get(C){var P=this;return(0,y.Z)(function*(){const Y=P.storage[C];return void 0===Y?null:Y})()}_remove(C){var P=this;return(0,y.Z)(function*(){delete P.storage[C]})()}_addListener(C,P){}_removeListener(C,P){}}return S.type="NONE",S})();function Ee(S,E,C){return`firebase:${S}:${E}:${C}`}class Fe{constructor(E,C,P){this.persistence=E,this.auth=C,this.userKey=P;const{config:Y,name:oe}=this.auth;this.fullUserKey=Ee(this.userKey,Y.apiKey,oe),this.fullPersistenceKey=Ee("persistence",Y.apiKey,oe),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,y.Z)(function*(){const C=yield E.persistence._get(E.fullUserKey);return C?un._fromJSON(E.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var C=this;return(0,y.Z)(function*(){if(C.persistence===E)return;const P=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=E,P?C.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,C,P="authUser"){return(0,y.Z)(function*(){if(!C.length)return new Fe(De(Me),E,P);const Y=(yield Promise.all(C.map(function(){var Ln=(0,y.Z)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let oe=Y[0]||De(Me);const et=Ee(P,E.config.apiKey,E.name);let Mt=null;for(const Ln of C)try{const Dn=yield Ln._get(et);if(Dn){const zi=un._fromJSON(E,Dn);Ln!==oe&&(Mt=zi),oe=Ln;break}}catch{}const mn=Y.filter(Ln=>Ln._shouldAllowMigration);return oe._shouldAllowMigration&&mn.length?(oe=mn[0],Mt&&(yield oe._set(et,Mt.toJSON())),yield Promise.all(C.map(function(){var Ln=(0,y.Z)(function*(Dn){if(Dn!==oe)try{yield Dn._remove(et)}catch{}});return function(Dn){return Ln.apply(this,arguments)}}())),new Fe(oe,E,P)):new Fe(oe,E,P)})()}}function ge(S){const E=S.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(Ot(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(X(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(nn(E))return"Blackberry";if(ue(E))return"Webos";if(ce(E))return"Safari";if((E.includes("chrome/")||Xe(E))&&!E.includes("edge/"))return"Chrome";if(tn(E))return"Android";{const P=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function X(S=(0,_.z$)()){return/firefox\//i.test(S)}function ce(S=(0,_.z$)()){const E=S.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function Xe(S=(0,_.z$)()){return/crios\//i.test(S)}function Ot(S=(0,_.z$)()){return/iemobile/i.test(S)}function tn(S=(0,_.z$)()){return/android/i.test(S)}function nn(S=(0,_.z$)()){return/blackberry/i.test(S)}function ue(S=(0,_.z$)()){return/webos/i.test(S)}function se(S=(0,_.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function re(S=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function Ft(S=(0,_.z$)()){return se(S)||tn(S)||ue(S)||nn(S)||/windows phone/i.test(S)||Ot(S)}function Wn(S,E=[]){let C;switch(S){case"Browser":C=ge((0,_.z$)());break;case"Worker":C=`${ge((0,_.z$)())}-${S}`;break;default:C=S}const P=E.length?E.join(","):"FirebaseCore-web";return`${C}/JsCore/${K.SDK_VERSION}/${P}`}class qi{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,C){const P=oe=>new Promise((et,Mt)=>{try{et(E(oe))}catch(mn){Mt(mn)}});P.onAbort=C,this.queue.push(P);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(E){var C=this;return(0,y.Z)(function*(){var P;if(C.auth.currentUser===E)return;const Y=[];try{for(const oe of C.queue)yield oe(E),oe.onAbort&&Y.push(oe.onAbort)}catch(oe){Y.reverse();for(const et of Y)try{et()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:null===(P=oe)||void 0===P?void 0:P.message})}})()}}class go{constructor(E,C,P){this.app=E,this.heartbeatServiceProvider=C,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hr(this),this.idTokenSubscription=new Hr(this),this.beforeStateQueue=new qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(E,C){var P=this;return C&&(this._popupRedirectResolver=De(C)),this._initializationPromise=this.queue((0,y.Z)(function*(){var Y,oe;if(!P._deleted&&(P.persistenceManager=yield Fe.create(P,E),!P._deleted)){if(null!==(Y=P._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(C),P.lastNotifiedUid=(null===(oe=P.currentUser)||void 0===oe?void 0:oe.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,y.Z)(function*(){if(E._deleted)return;const C=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||C){if(E.currentUser&&C&&E.currentUser.uid===C.uid)return E._currentUser._assign(C),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(C,!0)}})()}initializeCurrentUser(E){var C=this;return(0,y.Z)(function*(){var P;const Y=yield C.assertedPersistence.getCurrentUser();let oe=Y,et=!1;if(E&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Mt=null===(P=C.redirectUser)||void 0===P?void 0:P._redirectEventId,mn=oe?._redirectEventId,Ln=yield C.tryRedirectSignIn(E);(!Mt||Mt===mn)&&Ln?.user&&(oe=Ln.user,et=!0)}if(!oe)return C.directlySetCurrentUser(null);if(!oe._redirectEventId){if(et)try{yield C.beforeStateQueue.runMiddleware(oe)}catch(Mt){oe=Y,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Mt))}return oe?C.reloadAndSetCurrentUserOrClear(oe):C.directlySetCurrentUser(null)}return He(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===oe._redirectEventId?C.directlySetCurrentUser(oe):C.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(E){var C=this;return(0,y.Z)(function*(){let P=null;try{P=yield C._popupRedirectResolver._completeRedirectFn(C,E,!0)}catch{yield C._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(E){var C=this;return(0,y.Z)(function*(){var P;try{yield jn(E)}catch(Y){if("auth/network-request-failed"!==(null===(P=Y)||void 0===P?void 0:P.code))return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var E=this;return(0,y.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var C=this;return(0,y.Z)(function*(){const P=E?(0,_.m9)(E):null;return P&&He(P.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(P&&P._clone(C))})()}_updateCurrentUser(E,C=!1){var P=this;return(0,y.Z)(function*(){if(!P._deleted)return E&&He(P.tenantId===E.tenantId,P,"tenant-id-mismatch"),C||(yield P.beforeStateQueue.runMiddleware(E)),P.queue((0,y.Z)(function*(){yield P.directlySetCurrentUser(E),P.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,y.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var C=this;return this.queue((0,y.Z)(function*(){yield C.assertedPersistence.setPersistence(De(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new _.LL("auth","Firebase",E())}onAuthStateChanged(E,C,P){return this.registerStateListener(this.authStateSubscription,E,C,P)}beforeAuthStateChanged(E,C){return this.beforeStateQueue.pushCallback(E,C)}onIdTokenChanged(E,C,P){return this.registerStateListener(this.idTokenSubscription,E,C,P)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,C){var P=this;return(0,y.Z)(function*(){const Y=yield P.getOrInitRedirectPersistenceManager(C);return null===E?Y.removeCurrentUser():Y.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var C=this;return(0,y.Z)(function*(){if(!C.redirectPersistenceManager){const P=E&&De(E)||C._popupRedirectResolver;He(P,C,"argument-error"),C.redirectPersistenceManager=yield Fe.create(C,[De(P._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(E){var C=this;return(0,y.Z)(function*(){var P,Y;return C._isInitialized&&(yield C.queue((0,y.Z)(function*(){}))),(null===(P=C._currentUser)||void 0===P?void 0:P._redirectEventId)===E?C._currentUser:(null===(Y=C.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===E?C.redirectUser:null})()}_persistUserIfCurrent(E){var C=this;return(0,y.Z)(function*(){if(E===C.currentUser)return C.queue((0,y.Z)(function*(){return C.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(C=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,C,P,Y){if(this._deleted)return()=>{};const oe="function"==typeof C?C:C.next.bind(C),et=this._isInitialized?Promise.resolve():this._initializationPromise;return He(et,this,"internal-error"),et.then(()=>oe(this.currentUser)),"function"==typeof C?E.addObserver(C,P,Y):E.addObserver(C)}directlySetCurrentUser(E){var C=this;return(0,y.Z)(function*(){C.currentUser&&C.currentUser!==E&&C._currentUser._stopProactiveRefresh(),E&&C.isProactiveRefreshEnabled&&E._startProactiveRefresh(),C.currentUser=E,E?yield C.assertedPersistence.setCurrentUser(E):yield C.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,y.Z)(function*(){var C;const P={"X-Client-Version":E.clientVersion};E.app.options.appId&&(P["X-Firebase-gmpid"]=E.app.options.appId);const Y=yield null===(C=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return Y&&(P["X-Firebase-Client"]=Y),P})()}}function dn(S){return(0,_.m9)(S)}class Hr{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,_.ne)(C=>this.observer=C)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(S,E,C){const P=dn(S);He(P._canInitEmulator,P,"emulator-config-failed"),He(/^https?:\/\//.test(E),P,"invalid-emulator-scheme");const Y=!!C?.disableWarnings,oe=Uo(E),{host:et,port:Mt}=function Ar(S){const E=Uo(S),C=/(\/\/)?([^?#/]+)/.exec(S.substr(E.length));if(!C)return{host:"",port:null};const P=C[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(P);if(Y){const oe=Y[1];return{host:oe,port:Yi(P.substr(oe.length+1))}}{const[oe,et]=P.split(":");return{host:oe,port:Yi(et)}}}(E);P.config.emulator={url:`${oe}//${et}${null===Mt?"":`:${Mt}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:et,port:Mt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Cr(){function S(){const E=document.createElement("p"),C=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function Uo(S){const E=S.indexOf(":");return E<0?"":S.substr(0,E+1)}function Yi(S){if(!S)return null;const E=Number(S);return isNaN(E)?null:E}class Sr{constructor(E,C){this.providerId=E,this.signInMethod=C}toJSON(){return Ce("not implemented")}_getIdTokenResponse(E){return Ce("not implemented")}_linkToIdToken(E,C){return Ce("not implemented")}_getReauthenticationResolver(E){return Ce("not implemented")}}function Wr(S,E){return Si.apply(this,arguments)}function Si(){return(Si=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:resetPassword",xe(S,E))})).apply(this,arguments)}function Vo(S,E){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Xo(S,E){return ao.apply(this,arguments)}function ao(){return(ao=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:update",xe(S,E))})).apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithPassword",xe(S,E))})).apply(this,arguments)}function Lr(S,E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:sendOobCode",xe(S,E))})).apply(this,arguments)}function cr(S,E){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(S,E){return Lr(S,E)})).apply(this,arguments)}function Ho(S,E){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(S,E){return Lr(S,E)})).apply(this,arguments)}function Jr(S,E){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(S,E){return Lr(S,E)})).apply(this,arguments)}function _o(S,E){return ds.apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(S,E){return Lr(S,E)})).apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithEmailLink",xe(S,E))})).apply(this,arguments)}function hs(){return(hs=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithEmailLink",xe(S,E))})).apply(this,arguments)}class or extends Sr{constructor(E,C,P,Y=null){super("password",P),this._email=E,this._password=C,this._tenantId=Y}static _fromEmailAndPassword(E,C){return new or(E,C,"password")}static _fromEmailAndCode(E,C,P=null){return new or(E,C,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(E){var C=this;return(0,y.Z)(function*(){switch(C.signInMethod){case"password":return function xr(S,E){return lo.apply(this,arguments)}(E,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function gr(S,E){return Is.apply(this,arguments)}(E,{email:C._email,oobCode:C._password});default:xt(E,"internal-error")}})()}_linkToIdToken(E,C){var P=this;return(0,y.Z)(function*(){switch(P.signInMethod){case"password":return Vo(E,{idToken:C,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Ms(S,E){return hs.apply(this,arguments)}(E,{idToken:C,email:P._email,oobCode:P._password});default:xt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function jo(S,E){return _r.apply(this,arguments)}function _r(){return(_r=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithIdp",xe(S,E))})).apply(this,arguments)}class Le extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const C=new Le(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(C.idToken=E.idToken),E.accessToken&&(C.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(C.nonce=E.nonce),E.pendingToken&&(C.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(C.accessToken=E.oauthToken,C.secret=E.oauthTokenSecret):xt("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:P,signInMethod:Y}=C,oe=(0,Ie._T)(C,["providerId","signInMethod"]);if(!P||!Y)return null;const et=new Le(P,Y);return et.idToken=oe.idToken||void 0,et.accessToken=oe.accessToken||void 0,et.secret=oe.secret,et.nonce=oe.nonce,et.pendingToken=oe.pendingToken||null,et}_getIdTokenResponse(E){return jo(E,this.buildRequest())}_linkToIdToken(E,C){const P=this.buildRequest();return P.idToken=C,jo(E,P)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,jo(E,C)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),E.postBody=(0,_.xO)(C)}return E}}function nt(S,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:sendVerificationCode",xe(S,E))})).apply(this,arguments)}function sn(){return(sn=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithPhoneNumber",xe(S,E))})).apply(this,arguments)}function xi(){return(xi=(0,y.Z)(function*(S,E){const C=yield Jn(S,"POST","/v1/accounts:signInWithPhoneNumber",xe(S,E));if(C.temporaryProof)throw Vn(S,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const yi={USER_NOT_FOUND:"user-not-found"};function yo(){return(yo=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithPhoneNumber",xe(S,Object.assign(Object.assign({},E),{operation:"REAUTH"})),yi)})).apply(this,arguments)}class yr extends Sr{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,C){return new yr({verificationId:E,verificationCode:C})}static _fromTokenResponse(E,C){return new yr({phoneNumber:E,temporaryProof:C})}_getIdTokenResponse(E){return function $t(S,E){return sn.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,C){return function An(S,E){return xi.apply(this,arguments)}(E,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function Kr(S,E){return yo.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:C,verificationId:P,verificationCode:Y}=this.params;return E&&C?{temporaryProof:E,phoneNumber:C}:{sessionInfo:P,code:Y}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:C,verificationCode:P,phoneNumber:Y,temporaryProof:oe}=E;return P||C||Y||oe?new yr({verificationId:C,verificationCode:P,phoneNumber:Y,temporaryProof:oe}):null}}class to{constructor(E){var C,P,Y,oe,et,Mt;const mn=(0,_.zd)((0,_.pd)(E)),Ln=null!==(C=mn.apiKey)&&void 0!==C?C:null,Dn=null!==(P=mn.oobCode)&&void 0!==P?P:null,zi=function Ts(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=mn.mode)&&void 0!==Y?Y:null);He(Ln&&Dn&&zi,"argument-error"),this.apiKey=Ln,this.operation=zi,this.code=Dn,this.continueUrl=null!==(oe=mn.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(et=mn.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Mt=mn.tenantId)&&void 0!==Mt?Mt:null}static parseLink(E){const C=function eo(S){const E=(0,_.zd)((0,_.pd)(S)).link,C=E?(0,_.zd)((0,_.pd)(E)).deep_link_id:null,P=(0,_.zd)((0,_.pd)(S)).deep_link_id;return(P?(0,_.zd)((0,_.pd)(P)).link:null)||P||C||E||S}(E);try{return new to(C)}catch{return null}}}let $r=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(C,P){return or._fromEmailAndPassword(C,P)}static credentialWithLink(C,P){const Y=to.parseLink(P);return He(Y,"argument-error"),or._fromEmailAndCode(C,Y.code,Y.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Ni{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class co extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class uo extends co{static credentialFromJSON(E){const C="string"==typeof E?JSON.parse(E):E;return He("providerId"in C&&"signInMethod"in C,"argument-error"),Le._fromParams(C)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return He(E.idToken||E.accessToken,"argument-error"),Le._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return uo.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return uo.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:C,oauthAccessToken:P,oauthTokenSecret:Y,pendingToken:oe,nonce:et,providerId:Mt}=E;if(!P&&!Y&&!C&&!oe||!Mt)return null;try{return new uo(Mt)._credential({idToken:C,accessToken:P,nonce:et,pendingToken:oe})}catch{return null}}}let To=(()=>{class S extends co{constructor(){super("facebook.com")}static credential(C){return Le._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),no=(()=>{class S extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(C,P){return Le._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:P})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:P,oauthAccessToken:Y}=C;if(!P&&!Y)return null;try{return S.credential(P,Y)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),ho=(()=>{class S extends co{constructor(){super("github.com")}static credential(C){return Le._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class Oi extends Sr{constructor(E,C){super(E,E),this.pendingToken=C}_getIdTokenResponse(E){return jo(E,this.buildRequest())}_linkToIdToken(E,C){const P=this.buildRequest();return P.idToken=C,jo(E,P)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,jo(E,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:P,signInMethod:Y,pendingToken:oe}=C;return P&&Y&&oe&&P===Y?new Oi(P,oe):null}static _create(E,C){return new Oi(E,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vr extends Ni{constructor(E){He(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return vr.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return vr.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const C=Oi.fromJSON(E);return He(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:C,providerId:P}=E;if(!C||!P)return null;try{return Oi._create(P,C)}catch{return null}}}let Ao=(()=>{class S extends co{constructor(){super("twitter.com")}static credential(C,P){return Le._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:P})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:P,oauthTokenSecret:Y}=C;if(!P||!Y)return null;try{return S.credential(P,Y)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function sr(S,E){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signUp",xe(S,E))})).apply(this,arguments)}class Qi{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,C,P,Y=!1){return(0,y.Z)(function*(){const oe=yield un._fromIdTokenResponse(E,P,Y),et=Fr(P);return new Qi({user:oe,providerId:et,_tokenResponse:P,operationType:C})})()}static _forOperation(E,C,P){return(0,y.Z)(function*(){yield E._updateTokensIfNecessary(P,!0);const Y=Fr(P);return new Qi({user:E,providerId:Y,_tokenResponse:P,operationType:C})})()}}function Fr(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function wr(S){return As.apply(this,arguments)}function As(){return(As=(0,y.Z)(function*(S){var E;const C=dn(S);if(yield C._initializationPromise,null!==(E=C.currentUser)&&void 0!==E&&E.isAnonymous)return new Qi({user:C.currentUser,providerId:null,operationType:"signIn"});const P=yield sr(C,{returnSecureToken:!0}),Y=yield Qi._fromIdTokenResponse(C,"signIn",P,!0);return yield C._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Li extends _.ZR{constructor(E,C,P,Y){var oe;super(C.code,C.message),this.operationType=P,this.user=Y,Object.setPrototypeOf(this,Li.prototype),this.customData={appName:E.name,tenantId:null!==(oe=E.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:C.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(E,C,P,Y){return new Li(E,C,P,Y)}}function ts(S,E,C,P){return("reauthenticate"===E?C._getReauthenticationResolver(S):C._getIdTokenResponse(S)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Li._fromErrorAndOperation(S,oe,E,P):oe})}function Pi(S){return new Set(S.map(({providerId:E})=>E).filter(E=>!!E))}function zr(S,E){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,y.Z)(function*(S,E){const C=(0,_.m9)(S);yield tr(!0,C,E);const{providerUserInfo:P}=yield St(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[E]}),Y=Pi(P||[]);return C.providerData=C.providerData.filter(oe=>Y.has(oe.providerId)),Y.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function fo(S,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(S,E,C=!1){const P=yield at(S,E._linkToIdToken(S.auth,yield S.getIdToken()),C);return Qi._forOperation(S,"link",P)})).apply(this,arguments)}function tr(S,E,C){return ci.apply(this,arguments)}function ci(){return(ci=(0,y.Z)(function*(S,E,C){yield jn(E);const Y=!1===S?"provider-already-linked":"no-such-provider";He(Pi(E.providerData).has(C)===S,E.auth,Y)})).apply(this,arguments)}function ma(S,E){return vo.apply(this,arguments)}function vo(){return(vo=(0,y.Z)(function*(S,E,C=!1){var P;const{auth:Y}=S,oe="reauthenticate";try{const et=yield at(S,ts(Y,oe,E,S),C);He(et.idToken,Y,"internal-error");const Mt=be(et.idToken);He(Mt,Y,"internal-error");const{sub:mn}=Mt;return He(S.uid===mn,Y,"user-mismatch"),Qi._forOperation(S,oe,et)}catch(et){throw"auth/user-not-found"===(null===(P=et)||void 0===P?void 0:P.code)&&xt(Y,"user-mismatch"),et}})).apply(this,arguments)}function bo(S,E){return Di.apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(S,E,C=!1){const P="signIn",Y=yield ts(S,P,E),oe=yield Qi._fromIdTokenResponse(S,P,Y);return C||(yield S._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Gr(S,E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,y.Z)(function*(S,E){return bo(dn(S),E)})).apply(this,arguments)}function Kn(S,E){return fs.apply(this,arguments)}function fs(){return(fs=(0,y.Z)(function*(S,E){const C=(0,_.m9)(S);return yield tr(!1,C,E.providerId),fo(C,E)})).apply(this,arguments)}function js(S,E){return So.apply(this,arguments)}function So(){return(So=(0,y.Z)(function*(S,E){return ma((0,_.m9)(S),E)})).apply(this,arguments)}function Ra(S,E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(S,E){return Jn(S,"POST","/v1/accounts:signInWithCustomToken",xe(S,E))})).apply(this,arguments)}function Zr(S,E){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,y.Z)(function*(S,E){const C=dn(S),P=yield Ra(C,{token:E,returnSecureToken:!0}),Y=yield Qi._fromIdTokenResponse(C,"signIn",P);return yield C._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ps{constructor(E,C){this.factorId=E,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(E,C){return"phoneInfo"in C?Pt._fromServerResponse(E,C):xt(E,"internal-error")}}class Pt extends ps{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,C){return new Pt(C)}}function Yn(S,E,C){var P;He((null===(P=C.url)||void 0===P?void 0:P.length)>0,S,"invalid-continue-uri"),He(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),E.continueUrl=C.url,E.dynamicLinkDomain=C.dynamicLinkDomain,E.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(He(C.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),E.iOSBundleId=C.iOS.bundleId),C.android&&(He(C.android.packageName.length>0,S,"missing-android-pkg-name"),E.androidInstallApp=C.android.installApp,E.androidMinimumVersionCode=C.android.minimumVersion,E.androidPackageName=C.android.packageName)}function Ks(S,E,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S),Y={requestType:"PASSWORD_RESET",email:E};C&&Yn(P,Y,C),yield Ho(P,Y)})).apply(this,arguments)}function ur(S,E,C){return $.apply(this,arguments)}function $(){return($=(0,y.Z)(function*(S,E,C){yield Wr((0,_.m9)(S),{oobCode:E,newPassword:C})})).apply(this,arguments)}function j(S,E){return V.apply(this,arguments)}function V(){return(V=(0,y.Z)(function*(S,E){yield Xo((0,_.m9)(S),{oobCode:E})})).apply(this,arguments)}function ie(S,E){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(S,E){const C=(0,_.m9)(S),P=yield Wr(C,{oobCode:E}),Y=P.requestType;switch(He(Y,C,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(P.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(P.mfaInfo,C,"internal-error");default:He(P.email,C,"internal-error")}let oe=null;return P.mfaInfo&&(oe=ps._fromServerResponse(dn(C),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:oe},operation:Y}})).apply(this,arguments)}function vn(S,E){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,y.Z)(function*(S,E){const{data:C}=yield ie((0,_.m9)(S),E);return C.email})).apply(this,arguments)}function Eo(S,E,C){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.Z)(function*(S,E,C){const P=dn(S),Y=yield sr(P,{returnSecureToken:!0,email:E,password:C}),oe=yield Qi._fromIdTokenResponse(P,"signIn",Y);return yield P._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function Fi(S,E,C){return Gr((0,_.m9)(S),$r.credential(E,C))}function Ko(S,E,C){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S),Y={requestType:"EMAIL_SIGNIN",email:E};He(C.handleCodeInApp,P,"argument-error"),C&&Yn(P,Y,C),yield Jr(P,Y)})).apply(this,arguments)}function xs(S,E){return"EMAIL_SIGNIN"===to.parseLink(E)?.operation}function $o(S,E,C){return il.apply(this,arguments)}function il(){return(il=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S),Y=$r.credentialWithLink(E,C||It());return He(Y._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Gr(P,Y)})).apply(this,arguments)}function ka(S,E){return Na.apply(this,arguments)}function Na(){return(Na=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:createAuthUri",xe(S,E))})).apply(this,arguments)}function rl(S,E){return ms.apply(this,arguments)}function ms(){return(ms=(0,y.Z)(function*(S,E){const P={identifier:E,continueUri:Rt()?It():"http://localhost"},{signinMethods:Y}=yield ka((0,_.m9)(S),P);return Y||[]})).apply(this,arguments)}function sa(S,E){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.Z)(function*(S,E){const C=(0,_.m9)(S),Y={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};E&&Yn(C.auth,Y,E);const{email:oe}=yield cr(C.auth,Y);oe!==S.email&&(yield S.reload())})).apply(this,arguments)}function xo(S,E,C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:E};C&&Yn(P.auth,oe,C);const{email:et}=yield _o(P.auth,oe);et!==S.email&&(yield S.reload())})).apply(this,arguments)}function aa(S,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,y.Z)(function*(S,E){return Ct(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function $s(S,E){return ks.apply(this,arguments)}function ks(){return(ks=(0,y.Z)(function*(S,{displayName:E,photoURL:C}){if(void 0===E&&void 0===C)return;const P=(0,_.m9)(S),oe={idToken:yield P.getIdToken(),displayName:E,photoUrl:C,returnSecureToken:!0},et=yield at(P,aa(P.auth,oe));P.displayName=et.displayName||null,P.photoURL=et.photoUrl||null;const Mt=P.providerData.find(({providerId:mn})=>"password"===mn);Mt&&(Mt.displayName=P.displayName,Mt.photoURL=P.photoURL),yield P._updateTokensIfNecessary(et)})).apply(this,arguments)}function La(S,E){return q((0,_.m9)(S),E,null)}function k(S,E){return q((0,_.m9)(S),null,E)}function q(S,E,C){return U.apply(this,arguments)}function U(){return(U=(0,y.Z)(function*(S,E,C){const{auth:P}=S,oe={idToken:yield S.getIdToken(),returnSecureToken:!0};E&&(oe.email=E),C&&(oe.password=C);const et=yield at(S,Vo(P,oe));yield S._updateTokensIfNecessary(et,!0)})).apply(this,arguments)}class we{constructor(E,C,P={}){this.isNewUser=E,this.providerId=C,this.profile=P}}class ot extends we{constructor(E,C,P,Y){super(E,C,P),this.username=Y}}class yt extends we{constructor(E,C){super(E,"facebook.com",C)}}class ln extends ot{constructor(E,C){super(E,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class mi extends we{constructor(E,C){super(E,"google.com",C)}}class vi extends ot{constructor(E,C,P){super(E,"twitter.com",C,P)}}function di(S){const{user:E,_tokenResponse:C}=S;return E.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function ee(S){var E,C;if(!S)return null;const{providerId:P}=S,Y=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},oe=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!P&&S?.idToken){const et=null===(C=null===(E=be(S.idToken))||void 0===E?void 0:E.firebase)||void 0===C?void 0:C.sign_in_provider;if(et)return new we(oe,"anonymous"!==et&&"custom"!==et?et:null)}if(!P)return null;switch(P){case"facebook.com":return new yt(oe,Y);case"github.com":return new ln(oe,Y);case"google.com":return new mi(oe,Y);case"twitter.com":return new vi(oe,Y,S.screenName||null);case"custom":case"anonymous":return new we(oe,null);default:return new we(oe,P,Y)}}(C)}class Ki{constructor(E,C,P){this.type=E,this.credential=C,this.auth=P}static _fromIdtoken(E,C){return new Ki("enroll",E,C)}static _fromMfaPendingCredential(E){return new Ki("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var C,P;if(E?.multiFactorSession){if(null!==(C=E.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Ki._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(P=E.multiFactorSession)&&void 0!==P&&P.idToken)return Ki._fromIdtoken(E.multiFactorSession.idToken)}return null}}class zs{constructor(E,C,P){this.session=E,this.hints=C,this.signInResolver=P}static _fromError(E,C){const P=dn(E),Y=C.customData._serverResponse,oe=(Y.mfaInfo||[]).map(Mt=>ps._fromServerResponse(P,Mt));He(Y.mfaPendingCredential,P,"internal-error");const et=Ki._fromMfaPendingCredential(Y.mfaPendingCredential);return new zs(et,oe,function(){var Mt=(0,y.Z)(function*(mn){const Ln=yield mn._process(P,et);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Dn=Object.assign(Object.assign({},Y),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(C.operationType){case"signIn":const zi=yield Qi._fromIdTokenResponse(P,C.operationType,Dn);return yield P._updateCurrentUser(zi.user),zi;case"reauthenticate":return He(C.user,P,"internal-error"),Qi._forOperation(C.user,C.operationType,Dn);default:xt(P,"internal-error")}});return function(mn){return Mt.apply(this,arguments)}}())}resolveSignIn(E){var C=this;return(0,y.Z)(function*(){return C.signInResolver(E)})()}}function Fa(S,E){var C;const P=(0,_.m9)(S),Y=E;return He(E.customData.operationType,P,"argument-error"),He(null===(C=Y.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,P,"argument-error"),zs._fromError(P,Y)}function Xi(S,E){return Ct(S,"POST","/v2/accounts/mfaEnrollment:start",xe(S,E))}class Ba{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(P=>ps._fromServerResponse(E.auth,P)))})}static _fromUser(E){return new Ba(E)}getSession(){var E=this;return(0,y.Z)(function*(){return Ki._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,C){var P=this;return(0,y.Z)(function*(){const Y=E,oe=yield P.getSession(),et=yield at(P.user,Y._process(P.user.auth,oe,C));return yield P.user._updateTokensIfNecessary(et),P.user.reload()})()}unenroll(E){var C=this;return(0,y.Z)(function*(){var P;const Y="string"==typeof E?E:E.uid,oe=yield C.user.getIdToken(),et=yield at(C.user,function Cl(S,E){return Ct(S,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(S,E))}(C.user.auth,{idToken:oe,mfaEnrollmentId:Y}));C.enrolledFactors=C.enrolledFactors.filter(({uid:Mt})=>Mt!==Y),yield C.user._updateTokensIfNecessary(et);try{yield C.user.reload()}catch(Mt){if("auth/user-token-expired"!==(null===(P=Mt)||void 0===P?void 0:P.code))throw Mt}})()}}const ec=new WeakMap;function Vc(S){const E=(0,_.m9)(S);return ec.has(E)||ec.set(E,Ba._fromUser(E)),ec.get(E)}const la="__sak";class ol{constructor(E,C){this.storageRetriever=E,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(la,"1"),this.storage.removeItem(la),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,C){return this.storage.setItem(E,JSON.stringify(C)),Promise.resolve()}_get(E){const C=this.storage.getItem(E);return Promise.resolve(C?JSON.parse(C):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ji=(()=>{class S extends ol{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,P)=>this.onStorageEvent(C,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ga(){const S=(0,_.z$)();return ce(S)||se(S)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const P of Object.keys(this.listeners)){const Y=this.storage.getItem(P),oe=this.localCache[P];Y!==oe&&C(P,oe,Y)}}onStorageEvent(C,P=!1){if(!C.key)return void this.forAllChangedKeys((Mt,mn,Ln)=>{this.notifyListeners(Mt,Ln)});const Y=C.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Mt=this.storage.getItem(Y);if(C.newValue!==Mt)null!==C.newValue?this.storage.setItem(Y,C.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===C.newValue&&!P)return}const oe=()=>{const Mt=this.storage.getItem(Y);!P&&this.localCache[Y]===Mt||this.notifyListeners(Y,Mt)},et=this.storage.getItem(Y);!function Ye(){return(0,_.w1)()&&10===document.documentMode}()||et===C.newValue||C.newValue===C.oldValue?oe():setTimeout(oe,10)}notifyListeners(C,P){this.localCache[C]=P;const Y=this.listeners[C];if(Y)for(const oe of Array.from(Y))oe(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,P,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:P,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(P)}_removeListener(C,P){this.listeners[C]&&(this.listeners[C].delete(P),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,P){var Y=()=>super._set,oe=this;return(0,y.Z)(function*(){yield Y().call(oe,C,P),oe.localCache[C]=JSON.stringify(P)})()}_get(C){var P=()=>super._get,Y=this;return(0,y.Z)(function*(){const oe=yield P().call(Y,C);return Y.localCache[C]=JSON.stringify(oe),oe})()}_remove(C){var P=()=>super._remove,Y=this;return(0,y.Z)(function*(){yield P().call(Y,C),delete Y.localCache[C]})()}}return S.type="LOCAL",S})(),ys=(()=>{class S extends ol{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,P){}_removeListener(C,P){}}return S.type="SESSION",S})();let Ut=(()=>{class S{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const P=this.receivers.find(oe=>oe.isListeningto(C));if(P)return P;const Y=new S(C);return this.receivers.push(Y),Y}isListeningto(C){return this.eventTarget===C}handleEvent(C){var P=this;return(0,y.Z)(function*(){const Y=C,{eventId:oe,eventType:et,data:Mt}=Y.data,mn=P.handlersMap[et];if(!mn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:oe,eventType:et});const Ln=Array.from(mn).map(function(){var zi=(0,y.Z)(function*(ss){return ss(Y.origin,Mt)});return function(ss){return zi.apply(this,arguments)}}()),Dn=yield function Hc(S){return Promise.all(S.map(function(){var E=(0,y.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(P){return{fulfilled:!1,reason:P}}});return function(C){return E.apply(this,arguments)}}()))}(Ln);Y.ports[0].postMessage({status:"done",eventId:oe,eventType:et,response:Dn})})()}_subscribe(C,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(P)}_unsubscribe(C,P){this.handlersMap[C]&&P&&this.handlersMap[C].delete(P),(!P||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ar(S="",E=10){let C="";for(let P=0;P<E;P++)C+=Math.floor(10*Math.random());return S+C}class is{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,C,P=50){var Y=this;return(0,y.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let et,Mt;return new Promise((mn,Ln)=>{const Dn=ar("",20);oe.port1.start();const zi=setTimeout(()=>{Ln(new Error("unsupported_event"))},P);Mt={messageChannel:oe,onMessage(ss){const Ga=ss;if(Ga.data.eventId===Dn)switch(Ga.data.status){case"ack":clearTimeout(zi),et=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),mn(Ga.data.response);break;default:clearTimeout(zi),clearTimeout(et),Ln(new Error("invalid_response"))}}},Y.handlers.add(Mt),oe.port1.addEventListener("message",Mt.onMessage),Y.target.postMessage({eventType:E,eventId:Dn,data:C},[oe.port2])}).finally(()=>{Mt&&Y.removeMessageHandler(Mt)})})()}}function nr(){return window}function _n(){return typeof nr().WorkerGlobalScope<"u"&&"function"==typeof nr().importScripts}function qt(){return(qt=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ir="firebaseLocalStorageDb",Il="firebaseLocalStorage",sl="fbase_key";class Ua{constructor(E){this.request=E}toPromise(){return new Promise((E,C)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function ya(S,E){return S.transaction([Il],E?"readwrite":"readonly").objectStore(Il)}function fr(){const S=indexedDB.open(ir,1);return new Promise((E,C)=>{S.addEventListener("error",()=>{C(S.error)}),S.addEventListener("upgradeneeded",()=>{const P=S.result;try{P.createObjectStore(Il,{keyPath:sl})}catch(Y){C(Y)}}),S.addEventListener("success",(0,y.Z)(function*(){const P=S.result;P.objectStoreNames.contains(Il)?E(P):(P.close(),yield function nc(){const S=indexedDB.deleteDatabase(ir);return new Ua(S).toPromise()}(),E(yield fr()))}))})}function Va(S,E,C){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(S,E,C){const P=ya(S,!0).put({[sl]:E,value:C});return new Ua(P).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(S,E){const C=ya(S,!1).get(E),P=yield new Ua(C).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function $n(S,E){const C=ya(S,!0).delete(E);return new Ua(C).toPromise()}const wn=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,y.Z)(function*(){return C.db||(C.db=yield fr()),C.db})()}_withRetries(C){var P=this;return(0,y.Z)(function*(){let Y=0;for(;;)try{const oe=yield P._openDb();return yield C(oe)}catch(oe){if(Y++>3)throw oe;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,y.Z)(function*(){return _n()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,y.Z)(function*(){C.receiver=Ut._getInstance(function kt(){return _n()?self:null}()),C.receiver._subscribe("keyChanged",function(){var P=(0,y.Z)(function*(Y,oe){return{keyProcessed:(yield C._poll()).includes(oe.key)}});return function(Y,oe){return P.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var P=(0,y.Z)(function*(Y,oe){return["keyChanged"]});return function(Y,oe){return P.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,y.Z)(function*(){var P,Y;if(C.activeServiceWorker=yield function wl(){return qt.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new is(C.activeServiceWorker);const oe=yield C.sender._send("ping",{},800);!oe||(null===(P=oe[0])||void 0===P?void 0:P.fulfilled)&&(null===(Y=oe[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var P=this;return(0,y.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function pt(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:C},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const C=yield fr();return yield Va(C,la,"1"),yield $n(C,la),!0}catch{}return!1})()}_withPendingWrite(C){var P=this;return(0,y.Z)(function*(){P.pendingWrites++;try{yield C()}finally{P.pendingWrites--}})()}_set(C,P){var Y=this;return(0,y.Z)(function*(){return Y._withPendingWrite((0,y.Z)(function*(){return yield Y._withRetries(oe=>Va(oe,C,P)),Y.localCache[C]=P,Y.notifyServiceWorker(C)}))})()}_get(C){var P=this;return(0,y.Z)(function*(){const Y=yield P._withRetries(oe=>function Ml(S,E){return Ro.apply(this,arguments)}(oe,C));return P.localCache[C]=Y,Y})()}_remove(C){var P=this;return(0,y.Z)(function*(){return P._withPendingWrite((0,y.Z)(function*(){return yield P._withRetries(Y=>$n(Y,C)),delete P.localCache[C],P.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,y.Z)(function*(){const P=yield C._withRetries(et=>{const Mt=ya(et,!1).getAll();return new Ua(Mt).toPromise()});if(!P)return[];if(0!==C.pendingWrites)return[];const Y=[],oe=new Set;for(const{fbase_key:et,value:Mt}of P)oe.add(et),JSON.stringify(C.localCache[et])!==JSON.stringify(Mt)&&(C.notifyListeners(et,Mt),Y.push(et));for(const et of Object.keys(C.localCache))C.localCache[et]&&!oe.has(et)&&(C.notifyListeners(et,null),Y.push(et));return Y})()}notifyListeners(C,P){this.localCache[C]=P;const Y=this.listeners[C];if(Y)for(const oe of Array.from(Y))oe(P)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(P)}_removeListener(C,P){this.listeners[C]&&(this.listeners[C].delete(P),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();function va(S,E){return Ct(S,"POST","/v2/accounts/mfaSignIn:start",xe(S,E))}function oi(){return(oi=(0,y.Z)(function*(S){return(yield Ct(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Do(S){return new Promise((E,C)=>{const P=document.createElement("script");P.setAttribute("src",S),P.onload=E,P.onerror=Y=>{const oe=je("internal-error");oe.customData=Y,C(oe)},P.type="text/javascript",P.charset="UTF-8",function Yt(){var S,E;return null!==(E=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==E?E:document}().appendChild(P)})}function qr(S){return`__${S}${Math.floor(1e6*Math.random())}`}const wo=1e12;class Tl{constructor(E){this.auth=E,this.counter=wo,this._widgets=new Map}render(E,C){const P=this.counter;return this._widgets.set(P,new Ti(E,this.auth.name,C||{})),this.counter++,P}reset(E){var C;const P=E||wo;null===(C=this._widgets.get(P))||void 0===C||C.delete(),this._widgets.delete(P)}getResponse(E){var C;return(null===(C=this._widgets.get(E||wo))||void 0===C?void 0:C.getResponse())||""}execute(E){var C=this;return(0,y.Z)(function*(){var P;return null===(P=C._widgets.get(E||wo))||void 0===P||P.execute(),""})()}}class Ti{constructor(E,C,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof E?document.getElementById(E):E;He(Y,"argument-error",{appName:C}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mu(S){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<S;P++)E.push(C.charAt(Math.floor(Math.random()*C.length)));return E.join("")}(50);const{callback:E,"expired-callback":C}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ic=qr("rcb"),vs=new vt(3e4,6e4);class Tu{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=nr().grecaptcha)||void 0===E||!E.render)}load(E,C=""){return He(function jc(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(C),E,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(nr().grecaptcha):new Promise((P,Y)=>{const oe=nr().setTimeout(()=>{Y(je(E,"network-request-failed"))},vs.get());nr()[ic]=()=>{nr().clearTimeout(oe),delete nr()[ic];const Mt=nr().grecaptcha;if(!Mt)return void Y(je(E,"internal-error"));const mn=Mt.render;Mt.render=(Ln,Dn)=>{const zi=mn(Ln,Dn);return this.counter++,zi},this.hostLanguage=C,P(Mt)},Do(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:ic,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(oe),Y(je(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var C;return!(null===(C=nr().grecaptcha)||void 0===C||!C.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zs{load(E){return(0,y.Z)(function*(){return new Tl(E)})()}clearedOneInstance(){}}const ja="recaptcha",ct={theme:"light",type:"image"};class Al{constructor(E,C=Object.assign({},ct),P){this.parameters=C,this.type=ja,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(P),this.isInvisible="invisible"===this.parameters.size,He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof E?document.getElementById(E):E;He(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zs:new Tu,this.validateStartingState()}verify(){var E=this;return(0,y.Z)(function*(){E.assertNotDestroyed();const C=yield E.render(),P=E.getAssertedRecaptcha();return P.getResponse(C)||new Promise(oe=>{const et=Mt=>{!Mt||(E.tokenChangeListeners.delete(et),oe(Mt))};E.tokenChangeListeners.add(et),E.isInvisible&&P.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return C=>{if(this.tokenChangeListeners.forEach(P=>P(C)),"function"==typeof E)E(C);else if("string"==typeof E){const P=nr()[E];"function"==typeof P&&P(C)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,y.Z)(function*(){if(yield E.init(),!E.widgetId){let C=E.container;if(!E.isInvisible){const P=document.createElement("div");C.appendChild(P),C=P}E.widgetId=E.getAssertedRecaptcha().render(C,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,y.Z)(function*(){He(Rt()&&!_n(),E.auth,"internal-error"),yield function ji(){let S=null;return new Promise(E=>{"complete"!==document.readyState?(S=()=>E(),window.addEventListener("load",S)):E()}).catch(E=>{throw S&&window.removeEventListener("load",S),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const C=yield function al(S){return oi.apply(this,arguments)}(E.auth);He(C,E.auth,"internal-error"),E.parameters.sitekey=C})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wa{constructor(E,C){this.verificationId=E,this.onConfirmation=C}confirm(E){const C=yr._fromVerification(this.verificationId,E);return this.onConfirmation(C)}}function ca(S,E,C){return bs.apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(S,E,C){const P=dn(S),Y=yield qs(P,E,(0,_.m9)(C));return new Wa(Y,oe=>Gr(P,oe))})).apply(this,arguments)}function oc(S,E,C){return br.apply(this,arguments)}function br(){return(br=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S);yield tr(!1,P,"phone");const Y=yield qs(P.auth,E,(0,_.m9)(C));return new Wa(Y,oe=>Kn(P,oe))})).apply(this,arguments)}function Go(S,E,C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S),Y=yield qs(P.auth,E,(0,_.m9)(C));return new Wa(Y,oe=>js(P,oe))})).apply(this,arguments)}function qs(S,E,C){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,y.Z)(function*(S,E,C){var P;const Y=yield C.verify();try{let oe;if(He("string"==typeof Y,S,"argument-error"),He(C.type===ja,S,"argument-error"),oe="string"==typeof E?{phoneNumber:E}:E,"session"in oe){const et=oe.session;if("phoneNumber"in oe)return He("enroll"===et.type,S,"internal-error"),(yield Xi(S,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{He("signin"===et.type,S,"internal-error");const Mt=(null===(P=oe.multiFactorHint)||void 0===P?void 0:P.uid)||oe.multiFactorUid;return He(Mt,S,"missing-multi-factor-info"),(yield va(S,{mfaPendingCredential:et.credential,mfaEnrollmentId:Mt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield nt(S,{phoneNumber:oe.phoneNumber,recaptchaToken:Y});return et}}finally{C._reset()}})).apply(this,arguments)}function T(S,E){return x.apply(this,arguments)}function x(){return(x=(0,y.Z)(function*(S,E){yield fo((0,_.m9)(S),E)})).apply(this,arguments)}let M=(()=>{class S{constructor(C){this.providerId=S.PROVIDER_ID,this.auth=dn(C)}verifyPhoneNumber(C,P){return qs(this.auth,C,(0,_.m9)(P))}static credential(C,P){return yr._fromVerification(C,P)}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:P,temporaryProof:Y}=C;return P&&Y?yr._fromTokenResponse(P,Y):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function L(S,E){return E?De(E):(He(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class H extends Sr{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return jo(E,this._buildIdpRequest())}_linkToIdToken(E,C){return jo(E,this._buildIdpRequest(C))}_getReauthenticationResolver(E){return jo(E,this._buildIdpRequest())}_buildIdpRequest(E){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(C.idToken=E),C}}function J(S){return bo(S.auth,new H(S),S.bypassAuthState)}function ae(S){const{auth:E,user:C}=S;return He(C,E,"internal-error"),ma(C,new H(S),S.bypassAuthState)}function me(S){return ht.apply(this,arguments)}function ht(){return(ht=(0,y.Z)(function*(S){const{auth:E,user:C}=S;return He(C,E,"internal-error"),fo(C,new H(S),S.bypassAuthState)})).apply(this,arguments)}class Zt{constructor(E,C,P,Y,oe=!1){this.auth=E,this.resolver=P,this.user=Y,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var E=this;return new Promise(function(){var C=(0,y.Z)(function*(P,Y){E.pendingPromise={resolve:P,reject:Y};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(oe){E.reject(oe)}});return function(P,Y){return C.apply(this,arguments)}}())}onAuthEvent(E){var C=this;return(0,y.Z)(function*(){const{urlResponse:P,sessionId:Y,postBody:oe,tenantId:et,error:Mt,type:mn}=E;if(Mt)return void C.reject(Mt);const Ln={auth:C.auth,requestUri:P,sessionId:Y,tenantId:et||void 0,postBody:oe||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(mn)(Ln))}catch(Dn){C.reject(Dn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return J;case"linkViaPopup":case"linkViaRedirect":return me;case"reauthViaPopup":case"reauthViaRedirect":return ae;default:xt(this.auth,"internal-error")}}resolve(E){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tn=new vt(2e3,1e4);function pn(S,E,C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(S,E,C){const P=dn(S);We(S,E,Ni);const Y=L(P,C);return new Ys(P,"signInViaPopup",E,Y).executeNotNull()})).apply(this,arguments)}function po(S,E,C){return io.apply(this,arguments)}function io(){return(io=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S);We(P.auth,E,Ni);const Y=L(P.auth,C);return new Ys(P.auth,"reauthViaPopup",E,Y,P).executeNotNull()})).apply(this,arguments)}function $i(S,E,C){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S);We(P.auth,E,Ni);const Y=L(P.auth,C);return new Ys(P.auth,"linkViaPopup",E,Y,P).executeNotNull()})).apply(this,arguments)}let Ys=(()=>{class S extends Zt{constructor(C,P,Y,oe,et){super(C,P,oe,et),this.provider=Y,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var C=this;return(0,y.Z)(function*(){const P=yield C.execute();return He(P,C.auth,"internal-error"),P})()}onExecution(){var C=this;return(0,y.Z)(function*(){qe(1===C.filter.length,"Popup operations only handle one event");const P=ar();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],P),C.authWindow.associatedEvent=P,C.resolver._originValidation(C.auth).catch(Y=>{C.reject(Y)}),C.resolver._isIframeWebStorageSupported(C.auth,Y=>{Y||C.reject(je(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const C=()=>{var P,Y;this.pollId=null!==(Y=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,Tn.get())};C()}}return S.currentPopupAction=null,S})();const ko=new Map;class ll extends Zt{constructor(E,C,P=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,P),this.eventId=null}execute(){var E=()=>super.execute,C=this;return(0,y.Z)(function*(){let P=ko.get(C.auth._key());if(!P){try{const oe=(yield function Qs(S,E){return Io.apply(this,arguments)}(C.resolver,C.auth))?yield E().call(C):null;P=()=>Promise.resolve(oe)}catch(Y){P=()=>Promise.reject(Y)}ko.set(C.auth._key(),P)}return C.bypassAuthState||ko.set(C.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(E){var C=()=>super.onAuthEvent,P=this;return(0,y.Z)(function*(){if("signInViaRedirect"===E.type)return C().call(P,E);if("unknown"!==E.type){if(E.eventId){const Y=yield P.auth._redirectUserForId(E.eventId);if(Y)return P.user=Y,C().call(P,E);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Io(){return(Io=(0,y.Z)(function*(S,E){const C=ro(E),P=No(S);if(!(yield P._isAvailable()))return!1;const Y="true"===(yield P._get(C));return yield P._remove(C),Y})).apply(this,arguments)}function os(S,E){return sc.apply(this,arguments)}function sc(){return(sc=(0,y.Z)(function*(S,E){return No(S)._set(ro(E),"true")})).apply(this,arguments)}function Zo(){ko.clear()}function Sl(S,E){ko.set(S._key(),E)}function No(S){return De(S._redirectPersistence)}function ro(S){return Ee("pendingRedirect",S.config.apiKey,S.name)}function xl(S,E,C){return function rr(S,E,C){return ac.apply(this,arguments)}(S,E,C)}function ac(){return(ac=(0,y.Z)(function*(S,E,C){const P=dn(S);We(S,E,Ni);const Y=L(P,C);return yield os(Y,P),Y._openRedirect(P,E,"signInViaRedirect")})).apply(this,arguments)}function B(S,E,C){return function W(S,E,C){return Q.apply(this,arguments)}(S,E,C)}function Q(){return(Q=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S);We(P.auth,E,Ni);const Y=L(P.auth,C);yield os(Y,P.auth);const oe=yield ti(P);return Y._openRedirect(P.auth,E,"reauthViaRedirect",oe)})).apply(this,arguments)}function ve(S,E,C){return function $e(S,E,C){return lt.apply(this,arguments)}(S,E,C)}function lt(){return(lt=(0,y.Z)(function*(S,E,C){const P=(0,_.m9)(S);We(P.auth,E,Ni);const Y=L(P.auth,C);yield tr(!1,P,E.providerId),yield os(Y,P.auth);const oe=yield ti(P);return Y._openRedirect(P.auth,E,"linkViaRedirect",oe)})).apply(this,arguments)}function Nt(S,E){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,y.Z)(function*(S,E){return yield dn(S)._initializationPromise,In(S,E,!1)})).apply(this,arguments)}function In(S,E){return zn.apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(S,E,C=!1){const P=dn(S),Y=L(P,E),et=yield new ll(P,Y,C).execute();return et&&!C&&(delete et.user._redirectEventId,yield P._persistUserIfCurrent(et.user),yield P._setRedirectUser(null,E)),et})).apply(this,arguments)}function ti(S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(S){const E=ar(`${S.uid}:::`);return S._redirectEventId=E,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),E})).apply(this,arguments)}class mo{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let C=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(E,P)&&(C=!0,this.sendToConsumer(E,P),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function wi(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ka(S);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=E,C=!0)),C}sendToConsumer(E,C){var P;if(E.error&&!Ka(E)){const Y=(null===(P=E.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";C.onError(je(this.auth,Y))}else C.onAuthEvent(E)}isEventForConsumer(E,C){const P=null===C.eventId||!!E.eventId&&E.eventId===C.eventId;return C.filter.includes(E.type)&&P}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mr(E))}saveEventToCache(E){this.cachedEventUids.add(Mr(E)),this.lastProcessedEventTime=Date.now()}}function Mr(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(E=>E).join("-")}function Ka({type:S,error:E}){return"unknown"===S&&"auth/no-auth-event"===E?.code}function $a(S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,y.Z)(function*(S,E={}){return Ct(S,"GET","/v1/projects",E)})).apply(this,arguments)}const Ls=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ol=/^https?/;function za(){return(za=(0,y.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:E}=yield $a(S);for(const C of E)try{if(md(C))return}catch{}xt(S,"unauthorized-domain")})).apply(this,arguments)}function md(S){const E=It(),{protocol:C,hostname:P}=new URL(E);if(S.startsWith("chrome-extension://")){const et=new URL(S);return""===et.hostname&&""===P?"chrome-extension:"===C&&S.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===C&&et.hostname===P}if(!Ol.test(C))return!1;if(Ls.test(S))return P===S;const Y=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(P)}const _h=new vt(3e4,6e4);function Au(){const S=nr().___jsl;if(S?.H)for(const E of Object.keys(S.H))if(S.H[E].r=S.H[E].r||[],S.H[E].L=S.H[E].L||[],S.H[E].r=[...S.H[E].L],S.CP)for(let C=0;C<S.CP.length;C++)S.CP[C]=null}let lc=null;function Bf(S){return lc=lc||function qo(S){return new Promise((E,C)=>{var P,Y,oe;function et(){Au(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Au(),C(je(S,"network-request-failed"))},timeout:_h.get()})}if(null!==(Y=null===(P=nr().gapi)||void 0===P?void 0:P.iframes)&&void 0!==Y&&Y.Iframe)E(gapi.iframes.getContext());else{if(null===(oe=nr().gapi)||void 0===oe||!oe.load){const Mt=qr("iframefcb");return nr()[Mt]=()=>{gapi.load?et():C(je(S,"network-request-failed"))},Do(`https://apis.google.com/js/api.js?onload=${Mt}`).catch(mn=>C(mn))}et()}}).catch(E=>{throw lc=null,E})}(S),lc}const vm=new vt(5e3,15e3),vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wc(S){const E=S.config;He(E.authDomain,S,"auth-domain-config-required");const C=E.emulator?Cn(E,"emulator/auth/iframe"):`https://${S.config.authDomain}/__/auth/iframe`,P={apiKey:E.apiKey,appName:S.name,v:K.SDK_VERSION},Y=bh.get(S.config.apiHost);Y&&(P.eid=Y);const oe=S._getFrameworks();return oe.length&&(P.fw=oe.join(",")),`${C}?${(0,_.xO)(P).slice(1)}`}function Js(){return Js=(0,y.Z)(function*(S){const E=yield Bf(S),C=nr().gapi;return He(C,S,"internal-error"),E.open({where:document.body,url:Wc(S),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},P=>new Promise(function(){var Y=(0,y.Z)(function*(oe,et){yield P.restyle({setHideOnLeave:!1});const Mt=je(S,"network-request-failed"),mn=nr().setTimeout(()=>{et(Mt)},vm.get());function Ln(){nr().clearTimeout(mn),oe(P)}P.ping(Ln).then(Ln,()=>{et(Mt)})});return function(oe,et){return Y.apply(this,arguments)}}()))}),Js.apply(this,arguments)}const gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kc{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Da(S,E,C,P,Y,oe){He(S.config.authDomain,S,"auth-domain-config-required"),He(S.config.apiKey,S,"invalid-api-key");const et={apiKey:S.config.apiKey,appName:S.name,authType:C,redirectUrl:P,v:K.SDK_VERSION,eventId:Y};if(E instanceof Ni){E.setDefaultLanguage(S.languageCode),et.providerId=E.providerId||"",(0,_.xb)(E.getCustomParameters())||(et.customParameters=JSON.stringify(E.getCustomParameters()));for(const[mn,Ln]of Object.entries(oe||{}))et[mn]=Ln}if(E instanceof co){const mn=E.getScopes().filter(Ln=>""!==Ln);mn.length>0&&(et.scopes=mn.join(","))}S.tenantId&&(et.tid=S.tenantId);const Mt=et;for(const mn of Object.keys(Mt))void 0===Mt[mn]&&delete Mt[mn];return`${function Ur({config:S}){return S.emulator?Cn(S,"emulator/auth/handler"):`https://${S.authDomain}/__/auth/handler`}(S)}?${(0,_.xO)(Mt).slice(1)}`}const Pl="webStorageSupport",Ou=class Lt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=In,this._overrideRedirectResult=Sl}_openPopup(E,C,P,Y){var oe=this;return(0,y.Z)(function*(){var et;qe(null===(et=oe.eventManagers[E._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Mt=Da(E,C,P,It(),Y);return function Su(S,E,C,P=500,Y=600){const oe=Math.max((window.screen.availHeight-Y)/2,0).toString(),et=Math.max((window.screen.availWidth-P)/2,0).toString();let Mt="";const mn=Object.assign(Object.assign({},gd),{width:P.toString(),height:Y.toString(),top:oe,left:et}),Ln=(0,_.z$)().toLowerCase();C&&(Mt=Xe(Ln)?"_blank":C),X(Ln)&&(E=E||"http://localhost",mn.scrollbars="yes");const Dn=Object.entries(mn).reduce((ss,[Ga,Cd])=>`${ss}${Ga}=${Cd},`,"");if(function Ue(S=(0,_.z$)()){var E;return se(S)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(Ln)&&"_self"!==Mt)return function xu(S,E){const C=document.createElement("a");C.href=S,C.target=E;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(P)}(E||"",Mt),new Kc(null);const zi=window.open(E||"",Mt,Dn);He(zi,S,"popup-blocked");try{zi.focus()}catch{}return new Kc(zi)}(E,Mt,ar())})()}_openRedirect(E,C,P,Y){var oe=this;return(0,y.Z)(function*(){return yield oe._originValidation(E),function hn(S){nr().location.href=S}(Da(E,C,P,It(),Y)),new Promise(()=>{})})()}_initialize(E){const C=E._key();if(this.eventManagers[C]){const{manager:Y,promise:oe}=this.eventManagers[C];return Y?Promise.resolve(Y):(qe(oe,"If manager is not set, promise should be"),oe)}const P=this.initAndGetManager(E);return this.eventManagers[C]={promise:P},P.catch(()=>{delete this.eventManagers[C]}),P}initAndGetManager(E){var C=this;return(0,y.Z)(function*(){const P=yield function cl(S){return Js.apply(this,arguments)}(E),Y=new mo(E);return P.register("authEvent",oe=>(He(oe?.authEvent,E,"invalid-auth-event"),{status:Y.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[E._key()]={manager:Y},C.iframes[E._key()]=P,Y})()}_isIframeWebStorageSupported(E,C){this.iframes[E._key()].send(Pl,{type:Pl},Y=>{var oe;const et=null===(oe=Y?.[0])||void 0===oe?void 0:oe[Pl];void 0!==et&&C(!!et),xt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const C=E._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Fs(S){return za.apply(this,arguments)}(E)),this.originValidationPromises[C]}get _shouldInitProactively(){return Ft()||ce()||se()}};class $c extends class vd{constructor(E){this.factorId=E}_process(E,C,P){switch(C.type){case"enroll":return this._finalizeEnroll(E,C.credential,P);case"signin":return this._finalizeSignIn(E,C.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new $c(E)}_finalizeEnroll(E,C,P){return function _s(S,E){return Ct(S,"POST","/v2/accounts/mfaEnrollment:finalize",xe(S,E))}(E,{idToken:C,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,C){return function ri(S,E){return Ct(S,"POST","/v2/accounts/mfaSignIn:finalize",xe(S,E))}(E,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wa=(()=>{class S{constructor(){}static assertion(C){return $c._fromCredential(C)}}return S.FACTOR_ID="phone",S})();var hl="@firebase/auth",Eh="0.20.11";class Vf{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var C=this;return(0,y.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const C=this.auth.onIdTokenChanged(P=>{var Y;E((null===(Y=P)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(E,C),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const C=this.internalListeners.get(E);!C||(this.internalListeners.delete(E),C(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,_.Pz)("authIdTokenMaxAge"),function jf(S){(0,K._registerComponent)(new Re.wA("auth",(E,{options:C})=>{const P=E.getProvider("app").getImmediate(),Y=E.getProvider("heartbeat"),{apiKey:oe,authDomain:et}=P.options;return((Mt,mn)=>{He(oe&&!oe.includes(":"),"invalid-api-key",{appName:Mt.name}),He(!et?.includes(":"),"argument-error",{appName:Mt.name});const Ln={apiKey:oe,authDomain:et,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(S)},Dn=new go(Mt,mn,Ln);return function ze(S,E){const C=E?.persistence||[],P=(Array.isArray(C)?C:[C]).map(De);E?.errorMap&&S._updateErrorMap(E.errorMap),S._initializeWithPersistence(P,E?.popupRedirectResolver)}(Dn,C),Dn})(P,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,C,P)=>{E.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new Re.wA("auth-internal",E=>{const C=dn(E.getProvider("auth").getImmediate());return new Vf(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(hl,Eh,function Hf(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,K.registerVersion)(hl,Eh,"esm2017")}("Browser")},2090:(Et,Ve,R)=>{R.d(Ve,{$s:()=>Bt,BH:()=>en,G6:()=>We,L:()=>pe,LL:()=>mt,Pz:()=>an,Sg:()=>vt,UG:()=>Je,US:()=>Re,ZB:()=>_e,ZR:()=>rt,aH:()=>Wt,b$:()=>Ke,eu:()=>He,hl:()=>Dt,jU:()=>At,m9:()=>kn,ne:()=>dt,pd:()=>Vr,r3:()=>Zn,ru:()=>tt,tV:()=>Ze,uI:()=>ut,vZ:()=>St,w1:()=>xt,xO:()=>li,xb:()=>Zi,z$:()=>gt,zI:()=>Ce,zd:()=>Bi});const fe=function(Me){const Ee=[];let Fe=0;for(let ge=0;ge<Me.length;ge++){let X=Me.charCodeAt(ge);X<128?Ee[Fe++]=X:X<2048?(Ee[Fe++]=X>>6|192,Ee[Fe++]=63&X|128):55296==(64512&X)&&ge+1<Me.length&&56320==(64512&Me.charCodeAt(ge+1))?(X=65536+((1023&X)<<10)+(1023&Me.charCodeAt(++ge)),Ee[Fe++]=X>>18|240,Ee[Fe++]=X>>12&63|128,Ee[Fe++]=X>>6&63|128,Ee[Fe++]=63&X|128):(Ee[Fe++]=X>>12|224,Ee[Fe++]=X>>6&63|128,Ee[Fe++]=63&X|128)}return Ee},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Ee){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let X=0;X<Me.length;X+=3){const ce=Me[X],Xe=X+1<Me.length,Ot=Xe?Me[X+1]:0,tn=X+2<Me.length,nn=tn?Me[X+2]:0;let re=(15&Ot)<<2|nn>>6,Ue=63&nn;tn||(Ue=64,Xe||(re=64)),ge.push(Fe[ce>>2],Fe[(3&ce)<<4|Ot>>4],Fe[re],Fe[Ue])}return ge.join("")},encodeString(Me,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Me):this.encodeByteArray(fe(Me),Ee)},decodeString(Me,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Me):function(Me){const Ee=[];let Fe=0,ge=0;for(;Fe<Me.length;){const X=Me[Fe++];if(X<128)Ee[ge++]=String.fromCharCode(X);else if(X>191&&X<224){const ce=Me[Fe++];Ee[ge++]=String.fromCharCode((31&X)<<6|63&ce)}else if(X>239&&X<365){const tn=((7&X)<<18|(63&Me[Fe++])<<12|(63&Me[Fe++])<<6|63&Me[Fe++])-65536;Ee[ge++]=String.fromCharCode(55296+(tn>>10)),Ee[ge++]=String.fromCharCode(56320+(1023&tn))}else{const ce=Me[Fe++],Xe=Me[Fe++];Ee[ge++]=String.fromCharCode((15&X)<<12|(63&ce)<<6|63&Xe)}}return Ee.join("")}(this.decodeStringToByteArray(Me,Ee))},decodeStringToByteArray(Me,Ee){this.init_();const Fe=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let X=0;X<Me.length;){const ce=Fe[Me.charAt(X++)],Ot=X<Me.length?Fe[Me.charAt(X)]:0;++X;const nn=X<Me.length?Fe[Me.charAt(X)]:64;++X;const se=X<Me.length?Fe[Me.charAt(X)]:64;if(++X,null==ce||null==Ot||null==nn||null==se)throw Error();ge.push(ce<<2|Ot>>4),64!==nn&&(ge.push(Ot<<4&240|nn>>2),64!==se&&ge.push(nn<<6&192|se))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},pe=function(Me){return function(Me){const Ee=fe(Me);return Re.encodeByteArray(Ee,!0)}(Me).replace(/\./g,"")},Ze=function(Me){try{return Re.decodeString(Me,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function _e(Me,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Ee}for(const Fe in Ee)!Ee.hasOwnProperty(Fe)||!Se(Fe)||(Me[Fe]=_e(Me[Fe],Ee[Fe]));return Me}function Se(Me){return"__proto__"!==Me}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function tt(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xt(){const Me=gt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function We(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dt(){return"object"==typeof indexedDB}function He(){return new Promise((Me,Ee)=>{try{let Fe=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ge);X.onsuccess=()=>{X.result.close(),Fe||self.indexedDB.deleteDatabase(ge),Me(!0)},X.onupgradeneeded=()=>{Fe=!1},X.onerror=()=>{var ce;Ee((null===(ce=X.error)||void 0===ce?void 0:ce.message)||"")}}catch(Fe){Ee(Fe)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ze=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=Me&&Ze(Me[1]);return Ee&&JSON.parse(Ee)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},Wt=()=>{var Me;return null===(Me=ze())||void 0===Me?void 0:Me.config},an=Me=>{var Ee;return null===(Ee=ze())||void 0===Ee?void 0:Ee[`_${Me}`]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Fe)=>{this.resolve=Ee,this.reject=Fe})}wrapCallback(Ee){return(Fe,ge)=>{Fe?this.reject(Fe):this.resolve(ge),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Fe):Ee(Fe,ge))}}}function vt(Me,Ee){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=Ee||"demo-project",X=Me.iat||0,ce=Me.sub||Me.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:X,exp:X+3600,auth_time:X,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Xe)),""].join(".")}class rt extends Error{constructor(Ee,Fe,ge){super(Fe),this.code=Ee,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(Ee,Fe,ge){this.service=Ee,this.serviceName=Fe,this.errors=ge}create(Ee,...Fe){const ge=Fe[0]||{},X=`${this.service}/${Ee}`,ce=this.errors[Ee],Xe=ce?function Pe(Me,Ee){return Me.replace(xe,(Fe,ge)=>{const X=Ee[ge];return null!=X?String(X):`<${ge}?>`})}(ce,ge):"Error";return new rt(X,`${this.serviceName}: ${Xe} (${X}).`,ge)}}const xe=/\{\$([^}]+)}/g;function Zn(Me,Ee){return Object.prototype.hasOwnProperty.call(Me,Ee)}function Zi(Me){for(const Ee in Me)if(Object.prototype.hasOwnProperty.call(Me,Ee))return!1;return!0}function St(Me,Ee){if(Me===Ee)return!0;const Fe=Object.keys(Me),ge=Object.keys(Ee);for(const X of Fe){if(!ge.includes(X))return!1;const ce=Me[X],Xe=Ee[X];if(On(ce)&&On(Xe)){if(!St(ce,Xe))return!1}else if(ce!==Xe)return!1}for(const X of ge)if(!Fe.includes(X))return!1;return!0}function On(Me){return null!==Me&&"object"==typeof Me}function li(Me){const Ee=[];for(const[Fe,ge]of Object.entries(Me))Array.isArray(ge)?ge.forEach(X=>{Ee.push(encodeURIComponent(Fe)+"="+encodeURIComponent(X))}):Ee.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ge));return Ee.length?"&"+Ee.join("&"):""}function Bi(Me){const Ee={};return Me.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[X,ce]=ge.split("=");Ee[decodeURIComponent(X)]=decodeURIComponent(ce)}}),Ee}function Vr(Me){const Ee=Me.indexOf("?");if(!Ee)return"";const Fe=Me.indexOf("#",Ee);return Me.substring(Ee,Fe>0?Fe:void 0)}function dt(Me,Ee){const Fe=new Te(Me,Ee);return Fe.subscribe.bind(Fe)}class Te{constructor(Ee,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{Ee(this)}).catch(ge=>{this.error(ge)})}next(Ee){this.forEachObserver(Fe=>{Fe.next(Ee)})}error(Ee){this.forEachObserver(Fe=>{Fe.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Fe,ge){let X;if(void 0===Ee&&void 0===Fe&&void 0===ge)throw new Error("Missing Observer.");X=function st(Me,Ee){if("object"!=typeof Me||null===Me)return!1;for(const Fe of Ee)if(Fe in Me&&"function"==typeof Me[Fe])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Fe,complete:ge},void 0===X.next&&(X.next=at),void 0===X.error&&(X.error=at),void 0===X.complete&&(X.complete=at);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),ce}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,Ee)}sendOne(Ee,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Fe(this.observers[Ee])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function at(){}function Bt(Me,Ee=1e3,Fe=2){const ge=Ee*Math.pow(Fe,Me),X=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+X)}function kn(Me){return Me&&Me._delegate?Me._delegate:Me}},874:(Et,Ve,R)=>{R.d(Ve,{D:()=>K});var y=R(7579),_=R(4650);let K=(()=>{class fe{constructor(){this.isLoading=new y.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return fe.\u0275fac=function(Re){return new(Re||fe)},fe.\u0275prov=_.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},9668:(Et,Ve,R)=>{R.d(Ve,{B:()=>fe});var y=R(8505),_=R(4650),K=R(529);let fe=(()=>{class Ie{constructor(Ne){this.http=Ne}getStateCityMap(){return null!=this.state_city_map?Promise.resolve(this.state_city_map):this.http.get("/assets/collections/state-city.json").pipe((0,y.b)(Ne=>this.state_city_map=Ne)).toPromise()}getIndustries(){return null!=this.industries?Promise.resolve(this.industries):this.http.get("/assets/collections/industries.json").pipe((0,y.b)(Ne=>this.industries=Ne)).toPromise()}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)(_.LFG(K.eN))},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},3261:(Et,Ve,R)=>{R.d(Ve,{C:()=>t_});var y=R(4650),_=R(4986),K=R(9751),fe=R(8996),Ie=R(9646),Re=R(5813),Ne=R(8675),pe=R(4482),Ze=R(5403);function de(){return(0,pe.e)((o,e)=>{let t,l=!1;o.subscribe((0,Ze.x)(e,f=>{const g=t;t=f,l&&e.next([g,f]),l=!0}))})}var Ce,_e=R(4004),Se=R(5026),gt=R(1884),ut=R(9300),Je=R(2011),At=R(6895),Ke=(R(5881),R(3942)),Ae=R(5861),xt=R(9681),je=R(4859),Oe=R(1877),We=R(2090),Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He={},qe=qe||{},ye=Dt||self;function De(){}function Qe(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function ze(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),Wt=0;function an(o,e,t){return o.call.apply(o.bind,arguments)}function en(o,e,t){if(!o)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,l),o.apply(e,f)}}return function(){return o.apply(e,arguments)}}function vt(o,e,t){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?an:en).apply(null,arguments)}function Cn(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),o.apply(this,l)}}function rt(o,e){function t(){}t.prototype=e.prototype,o.X=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.Wb=function(l,f,g){for(var D=Array(arguments.length-2),u=2;u<arguments.length;u++)D[u-2]=arguments[u];return e.prototype[f].apply(l,D)}}function mt(){this.s=this.s,this.o=this.o}mt.prototype.s=!1,mt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function It(o){Object.prototype.hasOwnProperty.call(o,Rt)&&o[Rt]||(o[Rt]=++Wt)}(this)},mt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xe=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let t=0;t<o.length;t++)if(t in o&&o[t]===e)return t;return-1};function Ct(o){const e=o.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=o[l];return t}return[]}function gn(o,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Qe(l)){const f=o.length||0,g=l.length||0;o.length=f+g;for(let D=0;D<g;D++)o[f+D]=l[D]}else o.push(l)}}function Mn(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Mn.prototype.h=function(){this.defaultPrevented=!0};var ui=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{ye.addEventListener("test",De,e),ye.removeEventListener("test",De,e)}catch{}return o}();function Jn(o){return/^[\s\xa0]*$/.test(o)}var fi=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function Un(o,e){return o<e?-1:o>e?1:0}function Zn(){var o=ye.navigator;return o&&(o=o.userAgent)?o:""}function Vn(o){return-1!=Zn().indexOf(o)}function Zi(o){return Zi[" "](o),o}Zi[" "]=De;var dt,o,St=Vn("Opera"),On=Vn("Trident")||Vn("MSIE"),ii=Vn("Edge"),li=ii||On,Bi=Vn("Gecko")&&!(-1!=Zn().toLowerCase().indexOf("webkit")&&!Vn("Edge"))&&!(Vn("Trident")||Vn("MSIE"))&&!Vn("Edge"),Vr=-1!=Zn().toLowerCase().indexOf("webkit")&&!Vn("Edge");function _i(){var o=ye.document;return o?o.documentMode:void 0}e:{var Te="",be=(o=Zn(),Bi?/rv:([^\);]+)(\)|;)/.exec(o):ii?/Edge\/([\d\.]+)/.exec(o):On?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Vr?/WebKit\/(\S+)/.exec(o):St?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(be&&(Te=be?be[1]:""),On){var st=_i();if(null!=st&&st>parseFloat(Te)){dt=String(st);break e}}dt=Te}var at={};var zt=ye.document&&On&&(_i()||parseInt(dt,10))||void 0;function jn(o,e){if(Mn.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var t=this.type=o.type,l=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(Bi){e:{try{Zi(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=o.fromElement:"mouseout"==t&&(e=o.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:bn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&jn.X.h.call(this)}}rt(jn,Mn);var bn={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.X.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ei="closure_listenable_"+(1e6*Math.random()|0),En=0;function Pn(o,e,t,l,f){this.listener=o,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.ha=f,this.key=++En,this.ba=this.ea=!1}function yn(o){o.ba=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Kt(o,e,t){for(const l in o)e.call(t,o[l],l,o)}function bt(o){const e={};for(const t in o)e[t]=o[t];return e}const Bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fn(o,e){let t,l;for(let f=1;f<arguments.length;f++){for(t in l=arguments[f],l)o[t]=l[t];for(let g=0;g<Bt.length;g++)t=Bt[g],Object.prototype.hasOwnProperty.call(l,t)&&(o[t]=l[t])}}function un(o){this.src=o,this.g={},this.h=0}function kn(o,e){var t=e.type;if(t in o.g){var g,l=o.g[t],f=xe(l,e);(g=0<=f)&&Array.prototype.splice.call(l,f,1),g&&(yn(e),0==o.g[t].length&&(delete o.g[t],o.h--))}}function Me(o,e,t,l){for(var f=0;f<o.length;++f){var g=o[f];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==l)return f}return-1}un.prototype.add=function(o,e,t,l,f){var g=o.toString();(o=this.g[g])||(o=this.g[g]=[],this.h++);var D=Me(o,e,l,f);return-1<D?(e=o[D],t||(e.ea=!1)):((e=new Pn(e,this.src,g,!!l,f)).ea=t,o.push(e)),e};var Ee="closure_lm_"+(1e6*Math.random()|0),Fe={};function ge(o,e,t,l,f){if(l&&l.once)return Xe(o,e,t,l,f);if(Array.isArray(e)){for(var g=0;g<e.length;g++)ge(o,e[g],t,l,f);return null}return t=Ue(t),o&&o[Ei]?o.N(e,t,ze(l)?!!l.capture:!!l,f):X(o,e,t,!1,l,f)}function X(o,e,t,l,f,g){if(!e)throw Error("Invalid event type");var D=ze(f)?!!f.capture:!!f,u=se(o);if(u||(o[Ee]=u=new un(o)),(t=u.add(e,t,l,D,g)).proxy)return t;if(l=function ce(){const e=ue;return function o(t){return e.call(o.src,o.listener,t)}}(),t.proxy=l,l.src=o,l.listener=t,o.addEventListener)ui||(f=D),void 0===f&&(f=!1),o.addEventListener(e.toString(),l,f);else if(o.attachEvent)o.attachEvent(nn(e.toString()),l);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(l)}return t}function Xe(o,e,t,l,f){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Xe(o,e[g],t,l,f);return null}return t=Ue(t),o&&o[Ei]?o.O(e,t,ze(l)?!!l.capture:!!l,f):X(o,e,t,!0,l,f)}function Ot(o,e,t,l,f){if(Array.isArray(e))for(var g=0;g<e.length;g++)Ot(o,e[g],t,l,f);else l=ze(l)?!!l.capture:!!l,t=Ue(t),o&&o[Ei]?(o=o.i,(e=String(e).toString())in o.g&&-1<(t=Me(g=o.g[e],t,l,f))&&(yn(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete o.g[e],o.h--))):o&&(o=se(o))&&(e=o.g[e.toString()],o=-1,e&&(o=Me(e,t,l,f)),(t=-1<o?e[o]:null)&&tn(t))}function tn(o){if("number"!=typeof o&&o&&!o.ba){var e=o.src;if(e&&e[Ei])kn(e.i,o);else{var t=o.type,l=o.proxy;e.removeEventListener?e.removeEventListener(t,l,o.capture):e.detachEvent?e.detachEvent(nn(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=se(e))?(kn(t,o),0==t.h&&(t.src=null,e[Ee]=null)):yn(o)}}}function nn(o){return o in Fe?Fe[o]:Fe[o]="on"+o}function ue(o,e){if(o.ba)o=!0;else{e=new jn(e,this);var t=o.listener,l=o.ha||o.src;o.ea&&tn(o),o=t.call(l,e)}return o}function se(o){return(o=o[Ee])instanceof un?o:null}var re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(o){return"function"==typeof o?o:(o[re]||(o[re]=function(e){return o.handleEvent(e)}),o[re])}function Ye(){mt.call(this),this.i=new un(this),this.P=this,this.I=null}function Ft(o,e){var t,l=o.I;if(l)for(t=[];l;l=l.I)t.push(l);if(o=o.P,l=e.type||e,"string"==typeof e)e=new Mn(e,o);else if(e instanceof Mn)e.target=e.target||o;else{var f=e;fn(e=new Mn(l,o),f)}if(f=!0,t)for(var g=t.length-1;0<=g;g--){var D=e.g=t[g];f=Nn(D,l,!0,e)&&f}if(f=Nn(D=e.g=o,l,!0,e)&&f,f=Nn(D,l,!1,e)&&f,t)for(g=0;g<t.length;g++)f=Nn(D=e.g=t[g],l,!1,e)&&f}function Nn(o,e,t,l){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,g=0;g<e.length;++g){var D=e[g];if(D&&!D.ba&&D.capture==t){var u=D.listener,s=D.ha||D.src;D.ea&&kn(o.i,D),f=!1!==u.call(s,l)&&f}}return f&&!l.defaultPrevented}rt(Ye,mt),Ye.prototype[Ei]=!0,Ye.prototype.removeEventListener=function(o,e,t,l){Ot(this,o,e,t,l)},Ye.prototype.M=function(){if(Ye.X.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var t=o.g[e],l=0;l<t.length;l++)yn(t[l]);delete o.g[e],o.h--}}this.I=null},Ye.prototype.N=function(o,e,t,l){return this.i.add(String(o),e,!1,t,l)},Ye.prototype.O=function(o,e,t,l){return this.i.add(String(o),e,!0,t,l)};var Wn=ye.JSON.stringify;function qi(){var o=Sr;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Ar,dn=new class{constructor(o,e){this.i=o,this.j=e,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}(()=>new Hr,o=>o.reset());class Hr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jr(o){ye.setTimeout(()=>{throw o},0)}function Uo(o,e){Ar||function Yi(){var o=ye.Promise.resolve(void 0);Ar=function(){o.then(Wr)}}(),Cr||(Ar(),Cr=!0),Sr.add(o,e)}var Cr=!1,Sr=new class go{constructor(){this.h=this.g=null}add(e,t){const l=dn.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}};function Wr(){for(var o;o=qi();){try{o.h.call(o.g)}catch(t){jr(t)}var e=dn;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}Cr=!1}function Si(o,e){Ye.call(this),this.h=o||1,this.g=e||ye,this.j=vt(this.lb,this),this.l=Date.now()}function Vo(o){o.ca=!1,o.R&&(o.g.clearTimeout(o.R),o.R=null)}function pi(o,e,t){if("function"==typeof o)t&&(o=vt(o,t));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=vt(o.handleEvent,o)}return 2147483647<Number(e)?-1:ye.setTimeout(o,e||0)}function Xo(o){o.g=pi(()=>{o.g=null,o.i&&(o.i=!1,Xo(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}rt(Si,Ye),(Ce=Si.prototype).ca=!1,Ce.R=null,Ce.lb=function(){if(this.ca){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-o):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ft(this,"tick"),this.ca&&(Vo(this),this.start()))}},Ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.M=function(){Si.X.M.call(this),Vo(this),delete this.g};class ao extends mt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xo(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(o){mt.call(this),this.h=o,this.g={}}rt(xr,mt);var lo=[];function Lr(o,e,t,l){Array.isArray(t)||(t&&(lo[0]=t.toString()),t=lo);for(var f=0;f<t.length;f++){var g=ge(e,t[f],l||o.handleEvent,!1,o.h||o);if(!g)break;o.g[g.key]=g}}function Xr(o){Kt(o.g,function(e,t){this.g.hasOwnProperty(t)&&tn(e)},o),o.g={}}function cr(){this.g=!0}function Ii(o,e,t,l){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jo(o,e){if(!o.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(o=0;o<t.length;o++)if(Array.isArray(t[o])){var l=t[o];if(!(2>l.length)){var f=l[1];if(Array.isArray(f)&&!(1>f.length)){var g=f[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var D=1;D<f.length;D++)f[D]=""}}}return Wn(t)}catch{return e}}(o,t)+(l?" "+l:"")})}xr.prototype.M=function(){xr.X.M.call(this),Xr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cr.prototype.Aa=function(){this.g=!1},cr.prototype.info=function(){};var _o={},ds=null;function gr(){return ds=ds||new Ye}function Is(o){Mn.call(this,_o.Pa,o)}function Ms(o){const e=gr();Ft(e,new Is(e))}function hs(o,e){Mn.call(this,_o.STAT_EVENT,o),this.stat=e}function or(o){const e=gr();Ft(e,new hs(e,o))}function jo(o,e){Mn.call(this,_o.Qa,o),this.size=e}function _r(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){o()},e)}_o.Pa="serverreachability",rt(Is,Mn),_o.STAT_EVENT="statevent",rt(hs,Mn),_o.Qa="timingevent",rt(jo,Mn);var Ge={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Le={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function nt(){}function $t(){}nt.prototype.h=null;var yi,sn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function An(){Mn.call(this,"d")}function xi(){Mn.call(this,"c")}function Kr(){}function yo(o,e,t,l){this.l=o,this.j=e,this.m=t,this.U=l||1,this.S=new xr(this),this.O=Ts,this.T=new Si(o=li?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}rt(An,Mn),rt(xi,Mn),rt(Kr,nt),Kr.prototype.g=function(){return new XMLHttpRequest},Kr.prototype.i=function(){return{}},yi=new Kr;var Ts=45e3,eo={},to={};function Hs(o,e,t){o.K=1,o.v=zr(wr(e)),o.s=t,o.P=!0,$r(o,null)}function $r(o,e){o.F=Date.now(),To(o),o.A=wr(o.v);var t=o.A,l=o.U;Array.isArray(l)||(l=[String(l)]),fs(t.i,"t",l),o.C=0,t=o.l.H,o.h=new yr,o.g=Po(o.l,t?e:null,!o.s),0<o.N&&(o.L=new ao(vt(o.La,o,o.g),o.N)),Lr(o.S,o.g,"readystatechange",o.ib),e=o.H?bt(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.da(o.A,o.u,o.s,e)):(o.u="GET",o.g.da(o.A,o.u,null,e)),Ms(),function Ui(o,e,t,l,f,g){o.info(function(){if(o.g)if(g)for(var D="",u=g.split("&"),s=0;s<u.length;s++){var i=u[s].split("=");if(1<i.length){var d=i[0];i=i[1];var m=d.split("_");D=2<=m.length&&"type"==m[1]?D+(d+"=")+i+"&":D+(d+"=redacted&")}}else D=null;else D=g;return"XMLHTTP REQ ("+l+") [attempt "+f+"]: "+e+"\n"+t+"\n"+D})}(o.j,o.u,o.A,o.m,o.U,o.s)}function Ni(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Da}function co(o,e,t){let f,l=!0;for(;!o.I&&o.C<t.length;){if(f=uo(o,t),f==to){4==e&&(o.o=4,or(14),l=!1),Ii(o.j,o.m,null,"[Incomplete Response]");break}if(f==eo){o.o=4,or(15),Ii(o.j,o.m,t,"[Invalid Chunk]"),l=!1;break}Ii(o.j,o.m,f,null),Dr(o,f)}Ni(o)&&f!=to&&f!=eo&&(o.h.g="",o.C=0),4!=e||0!=t.length||o.h.h||(o.o=1,or(16),l=!1),o.i=o.i&&l,l?0<t.length&&!o.$&&(o.$=!0,(e=o.l).g==o&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),vi(e),e.K=!0,or(11))):(Ii(o.j,o.m,t,"[Invalid Chunked Response]"),Oi(o),es(o))}function uo(o,e){var t=o.C,l=e.indexOf("\n",t);return-1==l?to:(t=Number(e.substring(t,l)),isNaN(t)?eo:(l+=1)+t>e.length?to:(e=e.substr(l,t),o.C=l+t,e))}function To(o){o.V=Date.now()+o.O,no(o,o.O)}function no(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=_r(vt(o.gb,o),e)}function ho(o){o.B&&(ye.clearTimeout(o.B),o.B=null)}function es(o){0==o.l.G||o.I||Ir(o.l,o)}function Oi(o){ho(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,Vo(o.T),Xr(o.S),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function Dr(o,e){try{var t=o.l;if(0!=t.G&&(t.g==o||Pt(t.h,o)))if(!o.J&&Pt(t.h,o)&&3==t.G){try{var l=t.Fa.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var f=l;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<o.F))break e;ei(t),k(t)}mi(t),or(18)}}else t.Ba=f[1],0<t.Ba-t.T&&37500>f[2]&&t.L&&0==t.A&&!t.v&&(t.v=_r(vt(t.cb,t),6e3));if(1>=ps(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ri(t,11)}else if((o.J||t.g==o)&&ei(t),!Jn(e))for(f=t.Fa.g.parse(e),e=0;e<f.length;e++){let i=f[e];if(t.T=i[0],i=i[1],2==t.G)if("c"==i[0]){t.I=i[1],t.ka=i[2];const d=i[3];null!=d&&(t.ma=d,t.j.info("VER="+t.ma));const m=i[4];null!=m&&(t.Ca=m,t.j.info("SVER="+t.Ca));const w=i[5];null!=w&&"number"==typeof w&&0<w&&(t.J=l=1.5*w,t.j.info("backChannelRequestTimeoutMs_="+l)),l=t;const F=o.g;if(F){const z=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var g=l.h;g.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Yn(g,g.h),g.h=null))}if(l.D){const ne=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(l.za=ne,Pi(l.F,l.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-o.F,t.j.info("Handshake RTT: "+t.P+"ms"));var D=o;if((l=t).sa=Co(l,l.H?l.ka:null,l.V),D.J){Ks(l.h,D);var u=D,s=l.J;s&&u.setTimeout(s),u.B&&(ho(u),To(u)),l.g=D}else ln(l);0<t.i.length&&U(t)}else"stop"!=i[0]&&"close"!=i[0]||Ri(t,7);else 3==t.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ri(t,7):La(t):"noop"!=i[0]&&t.l&&t.l.wa(i),t.A=0)}Ms()}catch{}}function sr(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(Qe(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var t=function Ao(o){if(o.oa&&"function"==typeof o.oa)return o.oa();if(!o.W||"function"!=typeof o.W){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(Qe(o)||"string"==typeof o){var e=[];o=o.length;for(var t=0;t<o;t++)e.push(t);return e}e=[],t=0;for(const l in o)e[t++]=l;return e}}}(o),l=function vr(o){if(o.W&&"function"==typeof o.W)return o.W();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(Qe(o)){for(var e=[],t=o.length,l=0;l<t;l++)e.push(o[l]);return e}for(l in e=[],t=0,o)e[t++]=o[l];return e}(o),f=l.length,g=0;g<f;g++)e.call(void 0,l[g],t&&t[g],o)}(Ce=yo.prototype).setTimeout=function(o){this.O=o},Ce.ib=function(o){o=o.target;const e=this.L;e&&3==xo(o)?e.l():this.La(o)},Ce.La=function(o){try{if(o==this.g)e:{const d=xo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>d)&&(3!=d||li||this.g&&(this.h.h||this.g.fa()||Ps(this.g)))){this.I||4!=d||7==e||Ms(),ho(this);var t=this.g.aa();this.Y=t;t:if(Ni(this)){var l=Ps(this.g);o="";var f=l.length,g=4==xo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),es(this);var D="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,o+=this.h.i.decode(l[e],{stream:g&&e==f-1});l.splice(0,f),this.h.g+=o,this.C=0,D=this.h.g}else D=this.g.fa();if(this.i=200==t,function Ho(o,e,t,l,f,g,D){o.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+g+" "+D})}(this.j,this.u,this.A,this.m,this.U,d,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,s=this.g;if((u=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(u)){var i=u;break t}}i=null}if(!(t=i)){this.i=!1,this.o=3,or(12),Oi(this),es(this);break e}Ii(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dr(this,t)}this.P?(co(this,d,D),li&&this.i&&3==d&&(Lr(this.S,this.T,"tick",this.hb),this.T.start())):(Ii(this.j,this.m,D,null),Dr(this,D)),4==d&&Oi(this),this.i&&!this.I&&(4==d?Ir(this.l,this):(this.i=!1,To(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),Oi(this),es(this)}}}catch{}},Ce.hb=function(){if(this.g){var o=xo(this.g),e=this.g.fa();this.C<e.length&&(ho(this),co(this,o,e),this.i&&4!=o&&To(this))}},Ce.cancel=function(){this.I=!0,Oi(this)},Ce.gb=function(){this.B=null;const o=Date.now();0<=o-this.V?(function Jr(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ms(),or(17)),Oi(this),this.o=2,es(this)):no(this,this.V-o)};var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fr(o,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof Fr){this.h=void 0!==e?e:o.h,As(this,o.j),this.s=o.s,this.g=o.g,Li(this,o.m),this.l=o.l,e=o.i;var t=new Di;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ts(this,t),this.o=o.o}else o&&(t=String(o).match(Ci))?(this.h=!!e,As(this,t[1]||"",!0),this.s=Wi(t[2]||""),this.g=Wi(t[3]||"",!0),Li(this,t[4]),this.l=Wi(t[5]||"",!0),ts(this,t[6]||"",!0),this.o=Wi(t[7]||"")):(this.h=!!e,this.i=new Di(null,this.h))}function wr(o){return new Fr(o)}function As(o,e,t){o.j=t?Wi(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function ts(o,e,t){e instanceof Di?(o.i=e,function So(o,e){e&&!o.j&&(Gr(o),o.i=null,o.g.forEach(function(t,l){var f=l.toLowerCase();l!=f&&(Mi(this,l),fs(this,f,t))},o)),o.j=e}(o.i,o.h)):(t||(e=fo(e,vo)),o.i=new Di(e,o.h))}function Pi(o,e,t){o.i.set(e,t)}function zr(o){return Pi(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Wi(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fo(o,e,t){return"string"==typeof o?(o=encodeURI(o).replace(e,ns),t&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ns(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Fr.prototype.toString=function(){var o=[],e=this.j;e&&o.push(fo(e,tr,!0),":");var t=this.g;return(t||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(fo(e,tr,!0),"@"),o.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&o.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&o.push("/"),o.push(fo(t,"/"==t.charAt(0)?ma:ci,!0))),(t=this.i.toString())&&o.push("?",t),(t=this.o)&&o.push("#",fo(t,bo)),o.join("")};var tr=/[#\/\?@]/g,ci=/[#\?:]/g,ma=/[#\?]/g,vo=/[#\?@]/g,bo=/#/g;function Di(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Gr(o){o.g||(o.g=new Map,o.h=0,o.i&&function Qi(o,e){if(o){o=o.split("&");for(var t=0;t<o.length;t++){var l=o[t].indexOf("="),f=null;if(0<=l){var g=o[t].substring(0,l);f=o[t].substring(l+1)}else g=o[t];e(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(o.i,function(e,t){o.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Mi(o,e){Gr(o),e=js(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function Kn(o,e){return Gr(o),e=js(o,e),o.g.has(e)}function fs(o,e,t){Mi(o,e),0<t.length&&(o.i=null,o.g.set(js(o,e),Ct(t)),o.h+=t.length)}function js(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function Ws(o){this.l=o||Zr,o=ye.PerformanceNavigationTiming?0<(o=ye.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(ye.g&&ye.g.Ga&&ye.g.Ga()&&ye.g.Ga().$b),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=Di.prototype).add=function(o,e){Gr(this),this.i=null,o=js(this,o);var t=this.g.get(o);return t||this.g.set(o,t=[]),t.push(e),this.h+=1,this},Ce.forEach=function(o,e){Gr(this),this.g.forEach(function(t,l){t.forEach(function(f){o.call(e,f,l,this)},this)},this)},Ce.oa=function(){Gr(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const f=o[l];for(let g=0;g<f.length;g++)t.push(e[l])}return t},Ce.W=function(o){Gr(this);let e=[];if("string"==typeof o)Kn(this,o)&&(e=e.concat(this.g.get(js(this,o))));else{o=Array.from(this.g.values());for(let t=0;t<o.length;t++)e=e.concat(o[t])}return e},Ce.set=function(o,e){return Gr(this),this.i=null,Kn(this,o=js(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},Ce.get=function(o,e){return o&&0<(o=this.W(o)).length?String(o[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const g=encodeURIComponent(String(l)),D=this.W(l);for(l=0;l<D.length;l++){var f=g;""!==D[l]&&(f+="="+encodeURIComponent(String(D[l]))),o.push(f)}}return this.i=o.join("&")};var Zr=10;function Wo(o){return!!o.h||!!o.g&&o.g.size>=o.j}function ps(o){return o.h?1:o.g?o.g.size:0}function Pt(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Yn(o,e){o.g?o.g.add(e):o.h=e}function Ks(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Ss(o){if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const t of o.g.values())e=e.concat(t.D);return e}return Ct(o.i)}function ur(){}function $(){this.g=new ur}function j(o,e,t){const l=t||"";try{sr(o,function(f,g){let D=f;ze(f)&&(D=Wn(f)),e.push(l+g+"="+encodeURIComponent(D))})}catch(f){throw e.push(l+"type="+encodeURIComponent("_badmap")),f}}function ie(o,e,t,l,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(l)}catch{}}function ft(o){this.l=o.ac||null,this.j=o.jb||!1}function vn(o,e){Ye.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=Vi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ws.prototype.cancel=function(){if(this.i=Ss(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},ur.prototype.stringify=function(o){return ye.JSON.stringify(o,void 0)},ur.prototype.parse=function(o){return ye.JSON.parse(o,void 0)},rt(ft,nt),ft.prototype.g=function(){return new vn(this.l,this.j)},ft.prototype.i=function(o){return function(){return o}}({}),rt(vn,Ye);var Vi=0;function Eo(o){o.j.read().then(o.Ta.bind(o)).catch(o.ga.bind(o))}function dr(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Fi(o)}function Fi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(Ce=vn.prototype).open=function(o,e){if(this.readyState!=Vi)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,Fi(this)},Ce.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||ye).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dr(this)),this.readyState=Vi},Ce.Wa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eo(this)}else o.text().then(this.Va.bind(this),this.ga.bind(this))},Ce.Ta=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?dr(this):Fi(this),3==this.readyState&&Eo(this)}},Ce.Va=function(o){this.g&&(this.response=this.responseText=o,dr(this))},Ce.Ua=function(o){this.g&&(this.response=o,dr(this))},Ce.ga=function(){this.g&&dr(this)},Ce.setRequestHeader=function(o,e){this.v.append(o,e)},Ce.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var t=e.next();!t.done;)o.push((t=t.value)[0]+": "+t[1]),t=e.next();return o.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var Ko=ye.JSON.parse;function Hi(o){Ye.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xs,this.K=this.L=!1}rt(Hi,Ye);var xs="",$o=/^https?$/i,il=["POST","PUT"];function Na(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,rl(o),sa(o)}function rl(o){o.D||(o.D=!0,Ft(o,"complete"),Ft(o,"error"))}function ms(o){if(o.h&&typeof qe<"u"&&(!o.C[1]||4!=xo(o)||2!=o.aa()))if(o.v&&4==xo(o))pi(o.Ha,0,o);else if(Ft(o,"readystatechange"),4==xo(o)){o.h=!1;try{const u=o.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===u){var f=String(o.H).match(Ci)[1]||null;if(!f&&ye.self&&ye.self.location){var g=ye.self.location.protocol;f=g.substr(0,g.length-1)}l=!$o.test(f?f.toLowerCase():"")}t=l}if(t)Ft(o,"complete"),Ft(o,"success");else{o.m=6;try{var D=2<xo(o)?o.g.statusText:""}catch{D=""}o.j=D+" ["+o.aa()+"]",rl(o)}}finally{sa(o)}}}function sa(o,e){if(o.g){Os(o);const t=o.g,l=o.C[0]?De:null;o.g=null,o.C=null,e||Ft(o,"ready");try{t.onreadystatechange=l}catch{}}}function Os(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(ye.clearTimeout(o.A),o.A=null)}function xo(o){return o.g?o.g.readyState:0}function Ps(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case xs:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(o){let e="";return Kt(o,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function Rs(o,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=aa(t),"string"==typeof o?null!=t&&encodeURIComponent(String(t)):Pi(o,e,t))}function $s(o,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[o]||e}function ks(o){this.Ca=0,this.i=[],this.j=new cr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$s("failFast",!1,o),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$s("baseRetryDelayMs",5e3,o),this.bb=$s("retryDelaySeedMs",1e4,o),this.$a=$s("forwardChannelMaxRetries",2,o),this.ta=$s("forwardChannelRequestTimeoutMs",2e4,o),this.ra=o&&o.xmlHttpFactory||void 0,this.Da=o&&o.Zb||!1,this.J=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.I="",this.h=new Ws(o&&o.concurrentRequestLimit),this.Fa=new $,this.O=o&&o.fastHandshake||!1,this.N=o&&o.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=o&&o.Xb||!1,o&&o.Aa&&this.j.Aa(),o&&o.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&o&&o.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function La(o){if(q(o),3==o.G){var e=o.U++,t=wr(o.F);Pi(t,"SID",o.I),Pi(t,"RID",e),Pi(t,"TYPE","terminate"),ot(o,t),(e=new yo(o,o.j,e,void 0)).K=2,e.v=zr(wr(t)),t=!1,ye.navigator&&ye.navigator.sendBeacon&&(t=ye.navigator.sendBeacon(e.v.toString(),"")),!t&&ye.Image&&((new Image).src=e.v,t=!0),t||(e.g=Po(e.l,null),e.g.da(e.v)),e.F=Date.now(),To(e)}Oo(o)}function k(o){o.g&&(vi(o),o.g.cancel(),o.g=null)}function q(o){k(o),o.u&&(ye.clearTimeout(o.u),o.u=null),ei(o),o.h.cancel(),o.m&&("number"==typeof o.m&&ye.clearTimeout(o.m),o.m=null)}function U(o){Wo(o.h)||o.m||(o.m=!0,Uo(o.Ja,o),o.C=0)}function we(o,e){var t;t=e?e.m:o.U++;const l=wr(o.F);Pi(l,"SID",o.I),Pi(l,"RID",t),Pi(l,"AID",o.T),ot(o,l),o.o&&o.s&&Rs(l,o.o,o.s),t=new yo(o,o.j,t,o.C+1),null===o.o&&(t.H=o.s),e&&(o.i=e.D.concat(o.i)),e=yt(o,t,1e3),t.setTimeout(Math.round(.5*o.ta)+Math.round(.5*o.ta*Math.random())),Yn(o.h,t),Hs(t,l,e)}function ot(o,e){o.ia&&Kt(o.ia,function(t,l){Pi(e,l,t)}),o.l&&sr({},function(t,l){Pi(e,l,t)})}function yt(o,e,t){t=Math.min(o.i.length,t);var l=o.l?vt(o.l.Ra,o.l,o):null;e:{var f=o.i;let g=-1;for(;;){const D=["count="+t];-1==g?0<t?(g=f[0].h,D.push("ofs="+g)):g=0:D.push("ofs="+g);let u=!0;for(let s=0;s<t;s++){let i=f[s].h;const d=f[s].g;if(i-=g,0>i)g=Math.max(0,f[s].h-100),u=!1;else try{j(d,D,"req"+i+"_")}catch{l&&l(d)}}if(u){l=D.join("&");break e}}}return o=o.i.splice(0,t),e.D=o,l}function ln(o){o.g||o.u||(o.Z=1,Uo(o.Ia,o),o.A=0)}function mi(o){return!(o.g||o.u||3<=o.A||(o.Z++,o.u=_r(vt(o.Ia,o),gi(o,o.A)),o.A++,0))}function vi(o){null!=o.B&&(ye.clearTimeout(o.B),o.B=null)}function di(o){o.g=new yo(o,o.j,"rpc",o.Z),null===o.o&&(o.g.H=o.s),o.g.N=0;var e=wr(o.sa);Pi(e,"RID","rpc"),Pi(e,"SID",o.I),Pi(e,"CI",o.L?"0":"1"),Pi(e,"AID",o.T),Pi(e,"TYPE","xmlhttp"),ot(o,e),o.o&&o.s&&Rs(e,o.o,o.s),o.J&&o.g.setTimeout(o.J);var t=o.g;o=o.ka,t.K=1,t.v=zr(wr(e)),t.s=null,t.P=!0,$r(t,o)}function ei(o){null!=o.v&&(ye.clearTimeout(o.v),o.v=null)}function Ir(o,e){var t=null;if(o.g==e){ei(o),vi(o),o.g=null;var l=2}else{if(!Pt(o.h,e))return;t=e.D,Ks(o.h,e),l=1}if(0!=o.G)if(o.pa=e.Y,e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.F;var f=o.C;Ft(l=gr(),new jo(l,t)),U(o)}else ln(o);else if(3==(f=e.o)||0==f&&0<o.pa||!(1==l&&function ee(o,e){return!(ps(o.h)>=o.h.j-(o.m?1:0)||(o.m?(o.i=e.D.concat(o.i),0):1==o.G||2==o.G||o.C>=(o.Za?0:o.$a)||(o.m=_r(vt(o.Ja,o,e),gi(o,o.C)),o.C++,0)))}(o,e)||2==l&&mi(o)))switch(t&&0<t.length&&(e=o.h,e.i=e.i.concat(t)),f){case 1:Ri(o,5);break;case 4:Ri(o,10);break;case 3:Ri(o,6);break;default:Ri(o,2)}}function gi(o,e){let t=o.Xa+Math.floor(Math.random()*o.bb);return o.l||(t*=2),t*e}function Ri(o,e){if(o.j.info("Error code "+e),2==e){var t=null;o.l&&(t=null);var l=vt(o.kb,o);t||(t=new Fr("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||As(t,"https"),zr(t)),function V(o,e){const t=new cr;if(ye.Image){const l=new Image;l.onload=Cn(ie,t,l,"TestLoadImage: loaded",!0,e),l.onerror=Cn(ie,t,l,"TestLoadImage: error",!1,e),l.onabort=Cn(ie,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=Cn(ie,t,l,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=o}else e(!1)}(t.toString(),l)}else or(2);o.G=0,o.l&&o.l.va(e),Oo(o),q(o)}function Oo(o){if(o.G=0,o.la=[],o.l){const e=Ss(o.h);(0!=e.length||0!=o.i.length)&&(gn(o.la,e),gn(o.la,o.i),o.h.i.length=0,Ct(o.i),o.i.length=0),o.l.ua()}}function Co(o,e,t){var l=t instanceof Fr?wr(t):new Fr(t,void 0);if(""!=l.g)e&&(l.g=e+"."+l.g),Li(l,l.m);else{var f=ye.location;l=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var g=new Fr(null,void 0);l&&As(g,l),e&&(g.g=e),f&&Li(g,f),t&&(g.l=t),l=g}return e=o.za,(t=o.D)&&e&&Pi(l,t,e),Pi(l,"VER",o.ma),ot(o,l),l}function Po(o,e,t){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hi(t&&o.Da&&!o.ra?new ft({jb:!0}):o.ra)).Ka(o.H),e}function gs(){}function Br(){if(On&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function Ki(o,e){Ye.call(this),this.g=new ks(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.S=o,(o=e&&e.Yb)&&!Jn(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jn(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new Xi(this)}function zs(o){An.call(this);var e=o.__sm__;if(e){e:{for(const t in e){o=t;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Fa(){xi.call(this),this.status=1}function Xi(o){this.g=o}(Ce=Hi.prototype).Ka=function(o){this.L=o},Ce.da=function(o,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yi.g(),this.C=function wt(o){return o.h||(o.h=o.i())}(this.u?this.u:yi),this.g.onreadystatechange=vt(this.Ha,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(g){return void Na(this,g)}if(o=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var f in l)t.set(f,l[f]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const g of l.keys())t.set(g,l.get(g))}l=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),f=ye.FormData&&o instanceof ye.FormData,!(0<=xe(il,e))||l||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,D]of t)this.g.setRequestHeader(g,D);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Os(this),0<this.B&&((this.K=function ka(o){return On&&function on(){return function qn(o){var e=at;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=o(9)}(function(){let o=0;const e=fi(String(dt)).split("."),t=fi("9").split("."),l=Math.max(e.length,t.length);for(let D=0;0==o&&D<l;D++){var f=e[D]||"",g=t[D]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==f[0].length&&0==g[0].length)break;o=Un(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||Un(0==f[2].length,0==g[2].length)||Un(f[2],g[2]),f=f[3],g=g[3]}while(0==o)}return 0<=o})}()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.qa,this)):this.A=pi(this.qa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(g){Na(this,g)}},Ce.qa=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},Ce.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Ft(this,"complete"),Ft(this,"abort"),sa(this))},Ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sa(this,!0)),Hi.X.M.call(this)},Ce.Ha=function(){this.s||(this.F||this.v||this.l?ms(this):this.fb())},Ce.fb=function(){ms(this)},Ce.aa=function(){try{return 2<xo(this)?this.g.status:-1}catch{return-1}},Ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Sa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),Ko(e)}},Ce.Ea=function(){return this.m},Ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=ks.prototype).ma=8,Ce.G=1,Ce.Ja=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const f=new yo(this,this.j,o,void 0);let g=this.s;if(this.S&&(g?(g=bt(g),fn(g,this.S)):g=this.S),null!==this.o||this.N||(f.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var l=this.i[t];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yt(this,f,e),Pi(t=wr(this.F),"RID",o),Pi(t,"CVER",22),this.D&&Pi(t,"X-HTTP-Session-Id",this.D),ot(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(aa(g)))+"&"+e:this.o&&Rs(t,this.o,g)),Yn(this.h,f),this.Ya&&Pi(t,"TYPE","init"),this.O?(Pi(t,"$req",e),Pi(t,"SID","null"),f.Z=!0,Hs(f,t,null)):Hs(f,t,e),this.G=2}}else 3==this.G&&(o?we(this,o):0==this.i.length||Wo(this.h)||we(this))},Ce.Ia=function(){if(this.u=null,di(this),this.$&&!(this.K||null==this.g||0>=this.P)){var o=2*this.P;this.j.info("BP detection timer enabled: "+o),this.B=_r(vt(this.eb,this),o)}},Ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,or(10),k(this),di(this))},Ce.cb=function(){null!=this.v&&(this.v=null,k(this),mi(this),or(19))},Ce.kb=function(o){o?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))},(Ce=gs.prototype).xa=function(){},Ce.wa=function(){},Ce.va=function(){},Ce.ua=function(){},Ce.Ra=function(){},Br.prototype.g=function(o,e){return new Ki(o,e)},rt(Ki,Ye),Ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,t=this.h||void 0;or(0),o.V=e,o.ia=t||{},o.L=o.Y,o.F=Co(o,null,o.V),U(o)},Ki.prototype.close=function(){La(this.g)},Ki.prototype.u=function(o){var e=this.g;if("string"==typeof o){var t={};t.__data__=o,o=t}else this.v&&((t={}).__data__=Wn(o),o=t);e.i.push(new class{constructor(o,e){this.h=o,this.g=e}}(e.ab++,o)),3==e.G&&U(e)},Ki.prototype.M=function(){this.g.l=null,delete this.j,La(this.g),delete this.g,Ki.X.M.call(this)},rt(zs,An),rt(Fa,xi),rt(Xi,gs),Xi.prototype.xa=function(){Ft(this.g,"a")},Xi.prototype.wa=function(o){Ft(this.g,new zs(o))},Xi.prototype.va=function(o){Ft(this.g,new Fa)},Xi.prototype.ua=function(){Ft(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,Ki.prototype.send=Ki.prototype.u,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Le.COMPLETE="complete",$t.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",Ye.prototype.listen=Ye.prototype.N,Hi.prototype.listenOnce=Hi.prototype.O,Hi.prototype.getLastError=Hi.prototype.Oa,Hi.prototype.getLastErrorCode=Hi.prototype.Ea,Hi.prototype.getStatus=Hi.prototype.aa,Hi.prototype.getResponseJson=Hi.prototype.Sa,Hi.prototype.getResponseText=Hi.prototype.fa,Hi.prototype.send=Hi.prototype.da,Hi.prototype.setWithCredentials=Hi.prototype.Ka;var _s=He.createWebChannelTransport=function(){return new Br},Cl=He.getStatEventTarget=function(){return gr()},Ba=He.ErrorCode=Ge,ec=He.EventType=Le,Vc=He.Event=_o,la=He.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ol=He.FetchXmlHttpFactory=ft,ga=He.WebChannel=$t,Dl=He.XhrIo=Hi;const tc="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Ji="9.14.0";const bi=new Oe.Yd("@firebase/firestore");function ys(){return bi.logLevel}function Ut(o,...e){if(bi.logLevel<=Oe.in.DEBUG){const t=e.map(nr);bi.debug(`Firestore (${Ji}): ${o}`,...t)}}function ar(o,...e){if(bi.logLevel<=Oe.in.ERROR){const t=e.map(nr);bi.error(`Firestore (${Ji}): ${o}`,...t)}}function is(o,...e){if(bi.logLevel<=Oe.in.WARN){const t=e.map(nr);bi.warn(`Firestore (${Ji}): ${o}`,...t)}}function nr(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function hn(o="Unexpected state"){const e=`FIRESTORE (${Ji}) INTERNAL ASSERTION FAILED: `+o;throw ar(e),new Error(e)}function _n(o,e){o||hn()}function qt(o,e){return o}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends We.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Il{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ua{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let f=this.i;const g=i=>this.i!==f?(f=this.i,t(i)):Promise.resolve();let D=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new ir,e.enqueueRetryable(()=>g(this.currentUser))};const u=()=>{const i=D;e.enqueueRetryable((0,Ae.Z)(function*(){yield i.promise,yield g(l.currentUser)}))},s=i=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=i,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(i=>s(i)),setTimeout(()=>{if(!this.auth){const i=this.t.getImmediate({optional:!0});i?s(i):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new ir)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(_n("string"==typeof l.accessToken),new _a(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _n(null===e||"string"==typeof e),new Or(e)}}class ya{constructor(e,t,l,f){this.h=e,this.l=t,this.m=l,this.g=f,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_n(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nc{constructor(e,t,l,f){this.h=e,this.l=t,this.m=l,this.g=f}getToken(){return Promise.resolve(new ya(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Va{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const l=g=>{null!=g.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const D=g.token!==this.A;return this.A=g.token,Ut("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>l(g))};const f=g=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>f(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?f(g):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_n("string"==typeof t.token),this.A=t.token,new fr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ml(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<o;l++)t[l]=Math.floor(256*Math.random());return t}class Ro{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const f=Ml(40);for(let g=0;g<f.length;++g)l.length<20&&f[g]<t&&(l+=e.charAt(f[g]%e.length))}return l}}function $n(o,e){return o<e?-1:o>e?1:0}function zo(o,e,t){return o.length===e.length&&o.every((l,f)=>t(l,e[f]))}function Ha(o){return o+"\0"}class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new hr(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$n(this.nanoseconds,e.nanoseconds):$n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new hr(0,0))}static max(){return new wn(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class va{constructor(e,t,l){void 0===t?t=0:t>e.length&&hn(),void 0===l?l=e.length-t:l>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===va.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let f=0;f<l;f++){const g=e.get(f),D=t.get(f);if(g<D)return-1;if(g>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ri extends va{construct(e,t,l){return new ri(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new kt(pt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(f=>f.length>0))}return new ri(t)}static emptyPath(){return new ri([])}}const al=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends va{construct(e,t,l){return new oi(e,t,l)}static isValidIdentifier(e){return al.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const t=[];let l="",f=0;const g=()=>{if(0===l.length)throw new kt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let D=!1;for(;f<e.length;){const u=e[f];if("\\"===u){if(f+1===e.length)throw new kt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const s=e[f+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new kt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=s,f+=2}else"`"===u?(D=!D,f++):"."!==u||D?(l+=u,f++):(g(),f++)}if(g(),D)throw new kt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)}static emptyPath(){return new oi([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(ri.fromString(e))}static fromName(e){return new Yt(ri.fromString(e).popFirst(5))}static empty(){return new Yt(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ri.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ri.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new ri(e.slice()))}}class Do{constructor(e,t,l,f){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=f}}function qr(o){return o.fields.find(e=>2===e.kind)}function rs(o){return o.fields.filter(e=>2!==e.kind)}Do.UNKNOWN_ID=-1;class wo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ti{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ti(0,vs.min())}}function Mu(o,e){const t=o.toTimestamp().seconds,l=o.toTimestamp().nanoseconds+1,f=wn.fromTimestamp(1e9===l?new hr(t+1,0):new hr(t,l));return new vs(f,Yt.empty(),e)}function ic(o){return new vs(o.readTime,o.key,-1)}class vs{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new vs(wn.min(),Yt.empty(),-1)}static max(){return new vs(wn.max(),Yt.empty(),-1)}}function rc(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(o.documentKey,e.documentKey),0!==t?t:$n(o.largestBatchId,e.largestBatchId))}const Tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zs(o){return ja.apply(this,arguments)}function ja(){return ja=(0,Ae.Z)(function*(o){if(o.code!==pt.FAILED_PRECONDITION||o.message!==Tu)throw o;Ut("LocalStore","Unexpectedly lost primary lease")}),ja.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((l,f)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(l,f)},this.catchCallback=g=>{this.wrapFailure(t,g).next(l,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,l)=>{t(e)})}static reject(e){return new ct((t,l)=>{l(e)})}static waitFor(e){return new ct((t,l)=>{let f=0,g=0,D=!1;e.forEach(u=>{++f,u.next(()=>{++g,D&&g===f&&t()},s=>l(s))}),D=!0,g===f&&t()})}static or(e){let t=ct.resolve(!1);for(const l of e)t=t.next(f=>f?ct.resolve(f):l());return t}static forEach(e,t){const l=[];return e.forEach((f,g)=>{l.push(t.call(this,f,g))}),this.waitFor(l)}static mapArray(e,t){return new ct((l,f)=>{const g=e.length,D=new Array(g);let u=0;for(let s=0;s<g;s++){const i=s;t(e[i]).next(d=>{D[i]=d,++u,u===g&&l(D)},d=>f(d))}})}static doWhile(e,t){return new ct((l,f)=>{const g=()=>{!0===e()?t().next(()=>{g()},f):l()};g()})}}class Al{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ir,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ca(e,t.error)):this.P.resolve()},this.transaction.onerror=l=>{const f=Ea(l.target.error);this.P.reject(new ca(e,f))}}static open(e,t,l,f){try{return new Al(t,e.transaction(f,l))}catch(g){throw new ca(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oc(t)}}class ji{constructor(e,t,l){this.name=e,this.version=t,this.S=l,12.2===ji.D((0,We.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ut("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,We.hl)())return!1;if(ji.N())return!0;const e=(0,We.z$)(),t=ji.D(e),l=0<t&&t<10,f=ji.k(e),g=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||g)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static k(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}F(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(Ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,f)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=D=>{l(D.target.result)},g.onblocked=()=>{f(new ca(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=D=>{const u=D.target.error;f("VersionError"===u.name?new kt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new kt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new ca(e,u))},g.onupgradeneeded=D=>{Ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,g.transaction,D.oldVersion,t.version).next(()=>{Ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=l=>t.B(l)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,f){var g=this;return(0,Ae.Z)(function*(){const D="readonly"===t;let u=0;for(;;){++u;try{g.db=yield g.F(e);const s=Al.open(g.db,e,D?"readonly":"readwrite",l),i=f(s).next(d=>(s.V(),d)).catch(d=>(s.abort(d),ct.reject(d))).toPromise();return i.catch(()=>{}),yield s.v,i}catch(s){const i=s,d="FirebaseError"!==i.name&&u<3;if(Ut("SimpleDb","Transaction failed with error:",i.message,"Retrying:",d),g.close(),!d)return Promise.reject(i)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return br(this.U.delete())}}class ca extends kt{constructor(e,t){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bs(o){return"IndexedDbTransactionError"===o.name}class oc{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(Ut("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(Ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),br(l)}add(e){return Ut("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ut("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return Ut("SimpleDb","COUNT",this.store.name),br(this.store.count())}W(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const f=this.cursor(l),g=[];return this.H(f,(D,u)=>{g.push(u)}).next(()=>g)}{const f=this.store.getAll(l.range);return new ct((g,D)=>{f.onerror=u=>{D(u.target.error)},f.onsuccess=u=>{g(u.target.result)}})}}J(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new ct((f,g)=>{l.onerror=D=>{g(D.target.error)},l.onsuccess=D=>{f(D.target.result)}})}Y(e,t){Ut("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.X=!1;const f=this.cursor(l);return this.H(f,(g,D,u)=>u.delete())}Z(e,t){let l;t?l=e:(l={},t=e);const f=this.cursor(l);return this.H(f,t)}tt(e){const t=this.cursor({});return new ct((l,f)=>{t.onerror=g=>{const D=Ea(g.target.error);f(D)},t.onsuccess=g=>{const D=g.target.result;D?e(D.primaryKey,D.value).next(u=>{u?D.continue():l()}):l()}})}H(e,t){const l=[];return new ct((f,g)=>{e.onerror=D=>{g(D.target.error)},e.onsuccess=D=>{const u=D.target.result;if(!u)return void f();const s=new Wa(u),i=t(u.primaryKey,u.value,s);if(i instanceof ct){const d=i.catch(m=>(s.done(),ct.reject(m)));l.push(d)}s.isDone?f():null===s.G?u.continue():u.continue(s.G)}}).next(()=>ct.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.X?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function br(o){return new ct((e,t)=>{o.onsuccess=l=>{e(l.target.result)},o.onerror=l=>{const f=Ea(l.target.error);t(f)}})}let Go=!1;function Ea(o){const e=ji.D((0,We.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const l=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Go||(Go=!0,setTimeout(()=>{throw l},0)),l}}return o}class qs{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{Ut("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(l){bs(l)?Ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Zs(l)}yield t.nt(6e4)}))}}class Ca{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.it(l,e))})()}it(e,t){const l=new Set;let f=t,g=!0;return ct.doWhile(()=>!0===g&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!l.has(D))return Ut("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,f).next(u=>{f-=u,l.add(D)});g=!1})).next(()=>t-f)}rt(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,l).next(g=>{const D=g.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(f,g)).next(u=>(Ut("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>D.size)}))}ot(e,t){let l=e;return t.changes.forEach((f,g)=>{const D=ic(g);rc(D,l)>0&&(l=D)}),new vs(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}class T{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>t.writeSequenceNumber(l))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function x(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function M(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function L(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}T.at=-1;class H{constructor(e,t){this.comparator=e,this.root=t||ae.EMPTY}insert(e,t){return new H(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(e){return new H(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ae.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const f=this.comparator(e,l.key);if(0===f)return t+l.left.size;f<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new J(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new J(this.root,e,this.comparator,!1)}getReverseIterator(){return new J(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new J(this.root,e,this.comparator,!0)}}class J{constructor(e,t,l,f){this.isReverse=f,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?l(e.key,t):1,t&&f&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ae{constructor(e,t,l,f,g){this.key=e,this.value=t,this.color=l??ae.RED,this.left=f??ae.EMPTY,this.right=g??ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,f,g){return new ae(e??this.key,t??this.value,l??this.color,f??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let f=this;const g=l(e,f.key);return f=g<0?f.copy(null,null,null,f.left.insert(e,t,l),null):0===g?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,l)),f.fixUp()}removeMin(){if(this.left.isEmpty())return ae.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return ae.EMPTY;l=f.right.min(),f=f.copy(l.key,l.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1,ae.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(o,e,t,l,f){return this}insert(o,e,t){return new ae(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class me{constructor(e){this.comparator=e,this.data=new H(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const f=l.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ht(this.data.getIterator())}getIteratorFrom(e){return new ht(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof me)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,g=l.getNext().key;if(0!==this.comparator(f,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new me(this.comparator);return t.data=e,t}}class ht{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zt(o){return o.hasNext()?o.getNext():void 0}class Tn{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new me(oi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bn(t)}static fromUint8Array(e){const t=function(l){let f="";for(let g=0;g<l.length;++g)f+=String.fromCharCode(l[g]);return f}(e);return new Bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const po=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(o){if(_n(!!o),"string"==typeof o){let e=0;const t=po.exec(o);if(_n(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const l=new Date(o);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:$i(o.seconds),nanos:$i(o.nanos)}}function $i(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Pr(o){return"string"==typeof o?Bn.fromBase64String(o):Bn.fromUint8Array(o)}function Ys(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ns(o){const e=o.mapValue.fields.__previous_value__;return Ys(e)?Ns(e):e}function ko(o){const e=io(o.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class ll{constructor(e,t,l,f,g,D,u,s){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=f,this.ssl=g,this.forceLongPolling=D,this.autoDetectLongPolling=u,this.useFetchStreams=s}}class Qs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qs&&e.projectId===this.projectId&&e.database===this.database}}function Io(o){return null==o}function os(o){return 0===o&&1/o==-1/0}function sc(o){return"number"==typeof o&&Number.isInteger(o)&&!os(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sl={nullValue:"NULL_VALUE"};function No(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Ys(o)?4:zn(o)?9007199254740991:10:hn()}function ro(o,e){if(o===e)return!0;const t=No(o);if(t!==No(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return ko(o).isEqual(ko(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const g=io(l.timestampValue),D=io(f.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return f=e,Pr(o.bytesValue).isEqual(Pr(f.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(l,f){return $i(l.geoPointValue.latitude)===$i(f.geoPointValue.latitude)&&$i(l.geoPointValue.longitude)===$i(f.geoPointValue.longitude)}(o,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return $i(l.integerValue)===$i(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const g=$i(l.doubleValue),D=$i(f.doubleValue);return g===D?os(g)===os(D):isNaN(g)&&isNaN(D)}return!1}(o,e);case 9:return zo(o.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:return function(l,f){const g=l.mapValue.fields||{},D=f.mapValue.fields||{};if(x(g)!==x(D))return!1;for(const u in g)if(g.hasOwnProperty(u)&&(void 0===D[u]||!ro(g[u],D[u])))return!1;return!0}(o,e);default:return hn()}var f}function xl(o,e){return void 0!==(o.values||[]).find(t=>ro(t,e))}function rr(o,e){if(o===e)return 0;const t=No(o),l=No(e);if(t!==l)return $n(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return $n(o.booleanValue,e.booleanValue);case 2:return function(f,g){const D=$i(f.integerValue||f.doubleValue),u=$i(g.integerValue||g.doubleValue);return D<u?-1:D>u?1:D===u?0:isNaN(D)?isNaN(u)?0:-1:1}(o,e);case 3:return ac(o.timestampValue,e.timestampValue);case 4:return ac(ko(o),ko(e));case 5:return $n(o.stringValue,e.stringValue);case 6:return function(f,g){const D=Pr(f),u=Pr(g);return D.compareTo(u)}(o.bytesValue,e.bytesValue);case 7:return function(f,g){const D=f.split("/"),u=g.split("/");for(let s=0;s<D.length&&s<u.length;s++){const i=$n(D[s],u[s]);if(0!==i)return i}return $n(D.length,u.length)}(o.referenceValue,e.referenceValue);case 8:return function(f,g){const D=$n($i(f.latitude),$i(g.latitude));return 0!==D?D:$n($i(f.longitude),$i(g.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(f,g){const D=f.values||[],u=g.values||[];for(let s=0;s<D.length&&s<u.length;++s){const i=rr(D[s],u[s]);if(i)return i}return $n(D.length,u.length)}(o.arrayValue,e.arrayValue);case 10:return function(f,g){if(f===Zo.mapValue&&g===Zo.mapValue)return 0;if(f===Zo.mapValue)return 1;if(g===Zo.mapValue)return-1;const D=f.fields||{},u=Object.keys(D),s=g.fields||{},i=Object.keys(s);u.sort(),i.sort();for(let d=0;d<u.length&&d<i.length;++d){const m=$n(u[d],i[d]);if(0!==m)return m;const w=rr(D[u[d]],s[i[d]]);if(0!==w)return w}return $n(u.length,i.length)}(o.mapValue,e.mapValue);default:throw hn()}}function ac(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return $n(o,e);const t=io(o),l=io(e),f=$n(t.seconds,l.seconds);return 0!==f?f:$n(t.nanos,l.nanos)}function B(o){return W(o)}function W(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(l){const f=io(l);return`time(${f.seconds},${f.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?Pr(o.bytesValue).toBase64():"referenceValue"in o?Yt.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(l){let f="[",g=!0;for(const D of l.values||[])g?g=!1:f+=",",f+=W(D);return f+"]"}(o.arrayValue):"mapValue"in o?function(l){const f=Object.keys(l.fields||{}).sort();let g="{",D=!0;for(const u of f)D?D=!1:g+=",",g+=`${u}:${W(l.fields[u])}`;return g+"}"}(o.mapValue):hn();var e}function Q(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function ve(o){return!!o&&"integerValue"in o}function $e(o){return!!o&&"arrayValue"in o}function lt(o){return!!o&&"nullValue"in o}function Nt(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Xt(o){return!!o&&"mapValue"in o}function In(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return M(o.mapValue.fields,(t,l)=>e.mapValue.fields[t]=In(l)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=In(o.arrayValue.values[t]);return e}return Object.assign({},o)}function zn(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function ti(o){return"nullValue"in o?Sl:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Q(Qs.empty(),Yt.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:hn()}function Rn(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Q(Qs.empty(),Yt.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Zo:hn()}function Rr(o,e){const t=rr(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function mo(o,e){const t=rr(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!Xt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=In(t)}setAll(e){let t=oi.emptyPath(),l={},f=[];e.forEach((D,u)=>{if(!t.isImmediateParentOf(u)){const s=this.getFieldsMap(t);this.applyChanges(s,l,f),l={},f=[],t=u.popLast()}D?l[u.lastSegment()]=In(D):f.push(u.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,l,f)}delete(e){const t=this.field(e.popLast());Xt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let f=t.mapValue.fields[e.get(l)];Xt(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,l){M(t,(f,g)=>e[f]=g);for(const f of l)delete e[f]}clone(){return new Mr(In(this.value))}}function Ka(o){const e=[];return M(o.fields,(t,l)=>{const f=new oi([t]);if(Xt(l)){const g=Ka(l.mapValue).fields;if(0===g.length)e.push(f);else for(const D of g)e.push(f.child(D))}else e.push(f)}),new Tn(e)}class wi{constructor(e,t,l,f,g,D){this.key=e,this.documentType=t,this.version=l,this.readTime=f,this.data=g,this.documentState=D}static newInvalidDocument(e){return new wi(e,0,wn.min(),wn.min(),Mr.empty(),0)}static newFoundDocument(e,t,l){return new wi(e,1,t,wn.min(),l,0)}static newNoDocument(e,t){return new wi(e,2,t,wn.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,wn.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $a{constructor(e,t=null,l=[],f=[],g=null,D=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=f,this.limit=g,this.startAt=D,this.endAt=u,this.ht=null}}function Xs(o,e=null,t=[],l=[],f=null,g=null,D=null){return new $a(o,e,t,l,f,g,D)}function Ls(o){const e=qt(o);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>{return(f=l).field.canonicalString()+f.op.toString()+B(f.value);var f}).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(f=l).field.canonicalString()+f.dir;var f}).join(","),Io(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>B(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>B(l)).join(",")),e.ht=t}return e.ht}function Fs(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<o.orderBy.length;f++)if(!gd(o.orderBy[f],e.orderBy[f]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let f=0;f<o.filters.length;f++)if((t=o.filters[f]).op!==(l=e.filters[f]).op||!t.field.isEqual(l.field)||!ro(t.value,l.value))return!1;var t,l;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!cc(o.startAt,e.startAt)&&cc(o.endAt,e.endAt)}function za(o){return Yt.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function md(o,e){return o.filters.filter(t=>t instanceof qo&&t.field.isEqual(e))}function _h(o,e,t){let l=Sl,f=!0;for(const g of md(o,e)){let D=Sl,u=!0;switch(g.op){case"<":case"<=":D=ti(g.value);break;case"==":case"in":case">=":D=g.value;break;case">":D=g.value,u=!1;break;case"!=":case"not-in":D=Sl}Rr({value:l,inclusive:f},{value:D,inclusive:u})<0&&(l=D,f=u)}if(null!==t)for(let g=0;g<o.orderBy.length;++g)if(o.orderBy[g].field.isEqual(e)){const D=t.position[g];Rr({value:l,inclusive:f},{value:D,inclusive:t.inclusive})<0&&(l=D,f=t.inclusive);break}return{value:l,inclusive:f}}function Au(o,e,t){let l=Zo,f=!0;for(const g of md(o,e)){let D=Zo,u=!0;switch(g.op){case">=":case">":D=Rn(g.value),u=!1;break;case"==":case"in":case"<=":D=g.value;break;case"<":D=g.value,u=!1;break;case"!=":case"not-in":D=Zo}mo({value:l,inclusive:f},{value:D,inclusive:u})>0&&(l=D,f=u)}if(null!==t)for(let g=0;g<o.orderBy.length;++g)if(o.orderBy[g].field.isEqual(e)){const D=t.position[g];mo({value:l,inclusive:f},{value:D,inclusive:t.inclusive})>0&&(l=D,f=t.inclusive);break}return{value:l,inclusive:f}}class qo extends class{}{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,l):new lc(e,t,l):"array-contains"===t?new o_(e,l):"in"===t?new vh(e,l):"not-in"===t?new bh(e,l):"array-contains-any"===t?new Wc(e,l):new qo(e,t,l)}static lt(e,t,l){return"in"===t?new Bf(e,l):new vm(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(rr(t,this.value)):null!==t&&No(this.value)===No(t)&&this.ft(rr(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lc extends qo{constructor(e,t,l){super(e,t,l),this.key=Yt.fromName(l.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.ft(t)}}class Bf extends qo{constructor(e,t){super(e,"in",t),this.keys=yh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vm extends qo{constructor(e,t){super(e,"not-in",t),this.keys=yh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yh(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>Yt.fromName(l.referenceValue))}class o_ extends qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $e(t)&&xl(t.arrayValue,this.value)}}class vh extends qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xl(this.value.arrayValue,t)}}class bh extends qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xl(this.value.arrayValue,t)}}class Wc extends qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$e(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>xl(this.value.arrayValue,l))}}class cl{constructor(e,t){this.position=e,this.inclusive=t}}class Js{constructor(e,t="asc"){this.field=e,this.dir=t}}function gd(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}function _d(o,e,t){let l=0;for(let f=0;f<o.position.length;f++){const g=e[f],D=o.position[f];if(l=g.field.isKeyField()?Yt.comparator(Yt.fromName(D.referenceValue),t.key):rr(D,t.data.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return l}function cc(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!ro(o.position[t],e.position[t]))return!1;return!0}class ul{constructor(e,t=null,l=[],f=[],g=null,D="F",u=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=f,this.limit=g,this.limitType=D,this.startAt=u,this.endAt=s,this._t=null,this.wt=null}}function Uf(o,e,t,l,f,g,D,u){return new ul(o,e,t,l,f,g,D,u)}function Kc(o){return new ul(o)}function Su(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function xu(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function yd(o){for(const e of o.filters)if(e.dt())return e.field;return null}function dl(o){return null!==o.collectionGroup}function Da(o){const e=qt(o);if(null===e._t){e._t=[];const t=yd(e),l=xu(e);if(null!==t&&null===l)t.isKeyField()||e._t.push(new Js(t)),e._t.push(new Js(oi.keyField(),"asc"));else{let f=!1;for(const g of e.explicitOrderBy)e._t.push(g),g.field.isKeyField()&&(f=!0);if(!f){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Js(oi.keyField(),g))}}}return e._t}function Ur(o){const e=qt(o);if(!e.wt)if("F"===e.limitType)e.wt=Xs(e.path,e.collectionGroup,Da(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of Da(e))t.push(new Js(g.field,"desc"===g.dir?"asc":"desc"));const l=e.endAt?new cl(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new cl(e.startAt.position,e.startAt.inclusive):null;e.wt=Xs(e.path,e.collectionGroup,t,e.filters,e.limit,l,f)}return e.wt}function Pl(o,e,t){return new ul(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function Lt(o,e){return Fs(Ur(o),Ur(e))&&o.limitType===e.limitType}function Ou(o){return`${Ls(Ur(o))}|lt:${o.limitType}`}function vd(o){return`Query(target=${function Ol(o){let e=o.path.canonicalString();return null!==o.collectionGroup&&(e+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(e+=`, filters: [${o.filters.map(t=>{return`${(l=t).field.canonicalString()} ${l.op} ${B(l.value)}`;var l}).join(", ")}]`),Io(o.limit)||(e+=", limit: "+o.limit),o.orderBy.length>0&&(e+=`, orderBy: [${o.orderBy.map(t=>{return`${(l=t).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),o.startAt&&(e+=", startAt: ",e+=o.startAt.inclusive?"b:":"a:",e+=o.startAt.position.map(t=>B(t)).join(",")),o.endAt&&(e+=", endAt: ",e+=o.endAt.inclusive?"a:":"b:",e+=o.endAt.position.map(t=>B(t)).join(",")),`Target(${e})`}(Ur(o))}; limitType=${o.limitType})`}function $c(o,e){return e.isFoundDocument()&&function(t,l){const f=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):Yt.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(o,e)&&function(t,l){for(const f of t.explicitOrderBy)if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(o,e)&&function(t,l){for(const f of t.filters)if(!f.matches(l))return!1;return!0}(o,e)&&(l=e,!((t=o).startAt&&!function(f,g,D){const u=_d(f,g,D);return f.inclusive?u<=0:u<0}(t.startAt,Da(t),l)||t.endAt&&!function(f,g,D){const u=_d(f,g,D);return f.inclusive?u>=0:u>0}(t.endAt,Da(t),l)));var t,l}function wa(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function hl(o){return(e,t)=>{let l=!1;for(const f of Da(o)){const g=Eh(f,e,t);if(0!==g)return g;l=l||f.field.isKeyField()}return 0}}function Eh(o,e,t){const l=o.field.isKeyField()?Yt.comparator(e.key,t.key):function(f,g,D){const u=g.data.field(f),s=D.data.field(f);return null!==u&&null!==s?rr(u,s):hn()}(o.field,e,t);switch(o.dir){case"asc":return l;case"desc":return-1*l;default:return hn()}}function Vf(o,e){if(o.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:os(e)?"-0":e}}function Hf(o){return{integerValue:""+o}}function jf(o,e){return sc(e)?Hf(e):Vf(o,e)}class bd{constructor(){this._=void 0}}function bm(o,e,t){return o instanceof zc?function(l,f){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&(g.fields.__previous_value__=f),{mapValue:g}}(t,e):o instanceof S?E(o,e):o instanceof C?P(o,e):function(l,f){const g=Wf(l,f),D=oe(g)+oe(l.yt);return ve(g)&&ve(l.yt)?Hf(D):Vf(l.It,D)}(o,e)}function Ed(o,e,t){return o instanceof S?E(o,e):o instanceof C?P(o,e):t}function Wf(o,e){return o instanceof Y?ve(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class zc extends bd{}class S extends bd{constructor(e){super(),this.elements=e}}function E(o,e){const t=et(e);for(const l of o.elements)t.some(f=>ro(f,l))||t.push(l);return{arrayValue:{values:t}}}class C extends bd{constructor(e){super(),this.elements=e}}function P(o,e){let t=et(e);for(const l of o.elements)t=t.filter(f=>!ro(f,l));return{arrayValue:{values:t}}}class Y extends bd{constructor(e,t){super(),this.It=e,this.yt=t}}function oe(o){return $i(o.integerValue||o.doubleValue)}function et(o){return $e(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class Mt{constructor(e,t){this.field=e,this.transform=t}}class Ln{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zi(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class ss{}function Ga(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Ma(o.key,Dn.none()):new Rl(o.key,o.data,Dn.none());{const t=o.data,l=Mr.empty();let f=new me(oi.comparator);for(let g of e.fields)if(!f.has(g)){let D=t.field(g);null===D&&g.length>1&&(g=g.popLast(),D=t.field(g)),null===D?l.delete(g):l.set(g,D),f=f.add(g)}return new as(o.key,l,new Tn(f.toArray()),Dn.none())}}function Cd(o,e,t){o instanceof Rl?function(l,f,g){const D=l.value.clone(),u=dc(l.fieldTransforms,f,g.transformResults);D.setAll(u),f.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(o,e,t):o instanceof as?function(l,f,g){if(!zi(l.precondition,f))return void f.convertToUnknownDocument(g.version);const D=dc(l.fieldTransforms,f,g.transformResults),u=f.data;u.setAll(Gc(l)),u.setAll(D),f.convertToFoundDocument(g.version,u).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ia(o,e,t,l){return o instanceof Rl?function(f,g,D,u){if(!zi(f.precondition,g))return D;const s=f.value.clone(),i=hc(f.fieldTransforms,u,g);return s.setAll(i),g.convertToFoundDocument(g.version,s).setHasLocalMutations(),null}(o,e,t,l):o instanceof as?function(f,g,D,u){if(!zi(f.precondition,g))return D;const s=hc(f.fieldTransforms,u,g),i=g.data;return i.setAll(Gc(f)),i.setAll(s),g.convertToFoundDocument(g.version,i).setHasLocalMutations(),null===D?null:D.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(d=>d.field))}(o,e,t,l):(D=t,zi(o.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function Dd(o,e){let t=null;for(const l of o.fieldTransforms){const f=e.data.field(l.field),g=Wf(l.transform,f||null);null!=g&&(null===t&&(t=Mr.empty()),t.set(l.field,g))}return t||null}function uc(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=o.fieldTransforms)&&void 0===l||t&&l&&zo(t,l,(f,g)=>function mn(o,e){return o.field.isEqual(e.field)&&(l=e.transform,(t=o.transform)instanceof S&&l instanceof S||t instanceof C&&l instanceof C?zo(t.elements,l.elements,ro):t instanceof Y&&l instanceof Y?ro(t.yt,l.yt):t instanceof zc&&l instanceof zc);var t,l}(f,g))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var t,l}class Rl extends ss{constructor(e,t,l,f=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class as extends ss{constructor(e,t,l,f,g=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=f,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Gc(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=o.data.field(t);e.set(t,l)}}),e}function dc(o,e,t){const l=new Map;_n(o.length===t.length);for(let f=0;f<t.length;f++){const g=o[f],D=g.transform,u=e.data.field(g.field);l.set(g.field,Ed(D,u,t[f]))}return l}function hc(o,e,t){const l=new Map;for(const f of o){const g=f.transform,D=t.data.field(f.field);l.set(f.field,bm(g,D,e))}return l}class Ma extends ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Za extends ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pr{constructor(e){this.count=e}}var Yr,Gi;function Zc(o){switch(o){default:return hn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Ch(o){if(void 0===o)return ar("GRPC error has no .code"),pt.UNKNOWN;switch(o){case Yr.OK:return pt.OK;case Yr.CANCELLED:return pt.CANCELLED;case Yr.UNKNOWN:return pt.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return pt.INTERNAL;case Yr.UNAVAILABLE:return pt.UNAVAILABLE;case Yr.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Yr.NOT_FOUND:return pt.NOT_FOUND;case Yr.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Yr.ABORTED:return pt.ABORTED;case Yr.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Yr.DATA_LOSS:return pt.DATA_LOSS;default:return hn()}}(Gi=Yr||(Yr={}))[Gi.OK=0]="OK",Gi[Gi.CANCELLED=1]="CANCELLED",Gi[Gi.UNKNOWN=2]="UNKNOWN",Gi[Gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gi[Gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gi[Gi.NOT_FOUND=5]="NOT_FOUND",Gi[Gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gi[Gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gi[Gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gi[Gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gi[Gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gi[Gi.ABORTED=10]="ABORTED",Gi[Gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gi[Gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gi[Gi.INTERNAL=13]="INTERNAL",Gi[Gi.UNAVAILABLE=14]="UNAVAILABLE",Gi[Gi.DATA_LOSS=15]="DATA_LOSS";class fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[f,g]of l)if(this.equalsFn(f,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),f=this.inner[l];if(void 0===f)return this.inner[l]=[[e,t]],void this.innerSize++;for(let g=0;g<f.length;g++)if(this.equalsFn(f[g][0],e))return void(f[g]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return 1===l.length?delete this.inner[t]:l.splice(f,1),this.innerSize--,!0;return!1}forEach(e){M(this.inner,(t,l)=>{for(const[f,g]of l)e(f,g)})}isEmpty(){return L(this.inner)}size(){return this.innerSize}}const s_=new H(Yt.comparator);function ea(){return s_}const Em=new H(Yt.comparator);function wd(...o){let e=Em;for(const t of o)e=e.insert(t.key,t);return e}function Cm(o){let e=Em;return o.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function kl(){return qc()}function Pu(){return qc()}function qc(){return new fc(o=>o.toString(),(o,e)=>o.isEqual(e))}const Kf=new H(Yt.comparator),Dm=new me(Yt.comparator);function hi(...o){let e=Dm;for(const t of o)e=e.add(t);return e}const a_=new me($n);function Id(){return a_}class Yc{constructor(e,t,l,f,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=f,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const f=new Map;return f.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new Yc(wn.min(),f,Id(),ea(),hi())}}class Ru{constructor(e,t,l,f,g){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=f,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Ru(l,t,hi(),hi(),hi())}}class $f{constructor(e,t,l,f){this.Tt=e,this.removedTargetIds=t,this.key=l,this.Et=f}}class wm{constructor(e,t){this.targetId=e,this.At=t}}class Dh{constructor(e,t,l=Bn.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=f}}class zf{constructor(){this.Rt=0,this.bt=Mm(),this.Pt=Bn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=hi(),t=hi(),l=hi();return this.bt.forEach((f,g)=>{switch(g){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:l=l.add(f);break;default:hn()}}),new Ru(this.Pt,this.vt,e,t,l)}Nt(){this.Vt=!1,this.bt=Mm()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Im{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ea(),this.qt=pc(),this.Kt=new me($n)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const l=this.zt(t);switch(e.state){case 0:this.Ht(t)&&l.Ct(e.resumeToken);break;case 1:l.Ft(),l.St||l.Nt(),l.Ct(e.resumeToken);break;case 2:l.Ft(),l.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(l.$t(),l.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),l.Ct(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((l,f)=>{this.Ht(f)&&t(f)})}Yt(e){const t=e.targetId,l=e.At.count,f=this.Xt(t);if(f){const g=f.target;if(za(g))if(0===l){const D=new Yt(g.path);this.jt(t,D,wi.newNoDocument(D,wn.min()))}else _n(1===l);else this.Zt(t)!==l&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((g,D)=>{const u=this.Xt(D);if(u){if(g.current&&za(u.target)){const s=new Yt(u.target.path);null!==this.Ut.get(s)||this.ee(D,s)||this.jt(D,s,wi.newNoDocument(s,e))}g.Dt&&(t.set(D,g.xt()),g.Nt())}});let l=hi();this.qt.forEach((g,D)=>{let u=!0;D.forEachWhile(s=>{const i=this.Xt(s);return!i||2===i.purpose||(u=!1,!1)}),u&&(l=l.add(g))}),this.Ut.forEach((g,D)=>D.setReadTime(e));const f=new Yc(e,t,this.Kt,this.Ut,l);return this.Ut=ea(),this.qt=pc(),this.Kt=new me($n),f}Qt(e,t){if(!this.Ht(e))return;const l=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,l),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,l){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,t)?f.kt(t,1):f.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),l&&(this.Ut=this.Ut.insert(t,l))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new zf,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new me($n),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new zf),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function pc(){return new H(Yt.comparator)}function Mm(){return new H(Yt.comparator)}const Gf={asc:"ASCENDING",desc:"DESCENDING"},wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Tm{constructor(e,t){this.databaseId=e,this.gt=t}}function Qc(o,e){return o.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Md(o,e){return o.gt?e.toBase64():e.toUint8Array()}function Nl(o,e){return Qc(o,e.toTimestamp())}function Lo(o){return _n(!!o),wn.fromTimestamp(function(e){const t=io(e);return new hr(t.seconds,t.nanos)}(o))}function Td(o,e){return(t=o,new ri(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Am(o){const e=ri.fromString(o);return _n(Zf(e)),e}function Ad(o,e){return Td(o.databaseId,e.path)}function qa(o,e){const t=Am(e);if(t.get(1)!==o.databaseId.projectId)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new Yt(xm(t))}function Es(o,e){return Td(o.databaseId,e)}function Sm(o){const e=Am(o);return 4===e.length?ri.emptyPath():xm(e)}function Ih(o){return new ri(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function xm(o){return _n(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Om(o,e,t){return{name:Ad(o,e),fields:t.value.mapValue.fields}}function Mh(o,e,t){const l=qa(o,e.name),f=Lo(e.updateTime),g=new Mr({mapValue:{fields:e.fields}}),D=wi.newFoundDocument(l,f,g);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function ku(o,e){let t;if(e instanceof Rl)t={update:Om(o,e.key,e.value)};else if(e instanceof Ma)t={delete:Ad(o,e.key)};else if(e instanceof as)t={update:Om(o,e.key,e.data),updateMask:Nm(e.fieldMask)};else{if(!(e instanceof Za))return hn();t={verify:Ad(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(f,g){const D=g.transform;if(D instanceof zc)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof S)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof C)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Y)return{fieldPath:g.field.canonicalString(),increment:D.yt};throw hn()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Nl(o,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:hn()),t;var f}function Th(o,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Dn.updateTime(Lo(f.updateTime)):void 0!==f.exists?Dn.exists(f.exists):Dn.none():Dn.none(),l=e.updateTransforms?e.updateTransforms.map(f=>function(g,D){let u=null;"setToServerValue"in D?(_n("REQUEST_TIME"===D.setToServerValue),u=new zc):"appendMissingElements"in D?u=new S(D.appendMissingElements.values||[]):"removeAllFromArray"in D?u=new C(D.removeAllFromArray.values||[]):"increment"in D?u=new Y(g,D.increment):hn();const s=oi.fromServerFormat(D.fieldPath);return new Mt(s,u)}(o,f)):[];var f;if(e.update){const f=qa(o,e.update.name),g=new Mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Tn((e.updateMask.fieldPaths||[]).map(i=>oi.fromServerFormat(i)));return new as(f,g,D,t,l)}return new Rl(f,g,t,l)}if(e.delete){const f=qa(o,e.delete);return new Ma(f,t)}if(e.verify){const f=qa(o,e.verify);return new Za(f,t)}return hn()}function Rm(o,e){return{documents:[Es(o,e.path)]}}function Xc(o,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=Es(o,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Es(o,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const f=function(s){if(0===s.length)return;const i=s.map(d=>function(m){if("=="===m.op){if(Nt(m.value))return{unaryFilter:{field:Jc(m.field),op:"IS_NAN"}};if(lt(m.value))return{unaryFilter:{field:Jc(m.field),op:"IS_NULL"}}}else if("!="===m.op){if(Nt(m.value))return{unaryFilter:{field:Jc(m.field),op:"IS_NOT_NAN"}};if(lt(m.value))return{unaryFilter:{field:Jc(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(m.field),op:Ry(m.op),value:m.value}}}(d));return 1===i.length?i[0]:{compositeFilter:{op:"AND",filters:i}}}(e.filters);f&&(t.structuredQuery.where=f);const g=function(s){if(0!==s.length)return s.map(i=>{return{field:Jc((d=i).field),direction:c_(d.dir)};var d})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const D=(i=e.limit,o.gt||Io(i)?i:{value:i});var i,u,s;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(s=e.endAt).inclusive,values:s.position}),t}function km(o){let e=Sm(o.parent);const t=o.structuredQuery,l=t.from?t.from.length:0;let f=null;if(l>0){_n(1===l);const d=t.from[0];d.allDescendants?f=d.collectionId:e=e.child(d.collectionId)}let g=[];t.where&&(g=Lu(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(d=>{return new Js(Sd((m=d).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction));var m}));let u=null;t.limit&&(u=function(d){let m;return m="object"==typeof d?d.value:d,Io(m)?null:m}(t.limit));let s=null;var d;t.startAt&&(s=new cl((d=t.startAt).values||[],!!d.before));let i=null;return t.endAt&&(i=function(d){return new cl(d.values||[],!d.before)}(t.endAt)),Uf(e,f,D,g,u,"F",s,i)}function Lu(o){return o?void 0!==o.unaryFilter?[d_(o)]:void 0!==o.fieldFilter?[u_(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(e=>Lu(e)).reduce((e,t)=>e.concat(t)):hn():[]}function c_(o){return Gf[o]}function Ry(o){return wh[o]}function Jc(o){return{fieldPath:o.canonicalString()}}function Sd(o){return oi.fromServerFormat(o.fieldPath)}function u_(o){return qo.create(Sd(o.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(o.fieldFilter.op),o.fieldFilter.value)}function d_(o){switch(o.unaryFilter.op){case"IS_NAN":const e=Sd(o.unaryFilter.field);return qo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Sd(o.unaryFilter.field);return qo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sd(o.unaryFilter.field);return qo.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Sd(o.unaryFilter.field);return qo.create(f,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}function Nm(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zf(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function ls(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=Lm(e)),e=h_(o.get(t),e);return Lm(e)}function h_(o,e){let t=e;const l=o.length;for(let f=0;f<l;f++){const g=o.charAt(f);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function Lm(o){return o+"\x01\x01"}function Ta(o){const e=o.length;if(_n(e>=2),2===e)return _n("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),ri.emptyPath();const t=e-2,l=[];let f="";for(let g=0;g<e;){const D=o.indexOf("\x01",g);switch((D<0||D>t)&&hn(),o.charAt(D+1)){case"\x01":const u=o.substring(g,D);let s;0===f.length?s=u:(f+=u,s=f,f=""),l.push(s);break;case"\x10":f+=o.substring(g,D),f+="\0";break;case"\x11":f+=o.substring(g,D+1);break;default:hn()}g=D+2}return new ri(l)}const f_=["userId","batchId"];function qf(o,e){return[o,ls(e)]}function Ah(o,e,t){return[o,ls(e),t]}const ky={},Ny=["prefixPath","collectionGroup","readTime","documentId"],Ly=["prefixPath","collectionGroup","documentId"],Fy=["collectionGroup","readTime","prefixPath","documentId"],By=["canonicalId","targetId"],p_=["targetId","path"],Fm=["path","targetId"],Yf=["collectionId","parent"],Bm=["indexId","uid"],Um=["uid","sequenceNumber"],Vm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hm=["indexId","uid","orderedDocumentKey"],m_=["userId","collectionPath","documentId"],Qf=["userId","collectionPath","largestBatchId"],xd=["userId","collectionGroup","largestBatchId"],Sh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mc=[...Sh,"documentOverlays"],Xf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Od=Xf,Jf=[...Od,"indexConfiguration","indexState","indexEntries"];class Pd extends jc{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function lr(o,e){const t=qt(o);return ji.M(t.ie,e)}class xh{constructor(e,t,l,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=f}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const g=this.mutations[f];g.key.isEqual(e.key)&&Cd(g,e,l[f])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=Ia(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=Ia(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Pu();return this.mutations.forEach(f=>{const g=e.get(f.key),D=g.overlayedDocument;let u=this.applyToLocalView(D,g.mutatedFields);u=t.has(f.key)?null:u;const s=Ga(D,u);null!==s&&l.set(f.key,s),D.isValidDocument()||D.convertToNoDocument(wn.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hi())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,l)=>uc(t,l))&&zo(this.baseMutations,e.baseMutations,(t,l)=>uc(t,l))}}class eu{constructor(e,t,l,f){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=f}static from(e,t,l){_n(e.mutations.length===l.length);let f=Kf;const g=e.mutations;for(let D=0;D<g.length;D++)f=f.insert(g[D].key,l[D].version);return new eu(e,t,l,f)}}class Oh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ll{constructor(e,t,l,f,g=wn.min(),D=wn.min(),u=Bn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=f,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=u}withSequenceNumber(e){return new Ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ph{constructor(e){this.re=e}}function jm(o,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Ad(f=o.re,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Qc(f,g.version.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:oo(e.version)};else{if(!e.isUnknownDocument())return hn();l.unknownDocument={path:t.path.toArray(),version:oo(e.version)}}var f,g;return l}function fl(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function oo(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(o){const e=new hr(o.seconds,o.nanoseconds);return wn.fromTimestamp(e)}function tu(o,e){const t=(e.baseMutations||[]).map(g=>Th(o.re,g));for(let g=0;g<e.mutations.length-1;++g){const D=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(D.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const l=e.mutations.map(g=>Th(o.re,g)),f=hr.fromMillis(e.localWriteTimeMs);return new xh(e.batchId,f,t,l)}function nu(o){const e=Fl(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?Fl(o.lastLimboFreeSnapshotVersion):wn.min();let l;var f;return void 0!==o.query.documents?(_n(1===(f=o.query).documents.length),l=Ur(Kc(Sm(f.documents[0])))):l=Ur(km(o.query)),new Ll(l,o.targetId,0,o.lastListenSequenceNumber,e,t,Bn.fromBase64String(o.resumeToken))}function Yo(o,e){const t=oo(e.snapshotVersion),l=oo(e.lastLimboFreeSnapshotVersion);let f;f=za(e.target)?Rm(o.re,e.target):Xc(o.re,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ls(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:f}}function gc(o){const e=km({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Pl(e,e.limit,"L"):e}function ep(o,e){return new Oh(e.largestBatchId,Th(o.re,e.overlayMutation))}function tp(o,e){const t=e.path.lastSegment();return[o,ls(e.path.popLast()),t]}function Rh(o,e,t,l){return{indexId:o,uid:e.uid||"",sequenceNumber:t,readTime:oo(l.readTime),documentKey:ls(l.documentKey.path),largestBatchId:l.largestBatchId}}class Wm{getBundleMetadata(e,t){return np(e).get(t).next(l=>{if(l)return{id:(f=l).bundleId,createTime:Fl(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return np(e).put({bundleId:(l=t).id,createTime:oo(Lo(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return ip(e).get(t).next(l=>{if(l)return{name:(f=l).name,query:gc(f.bundledQuery),readTime:Fl(f.readTime)};var f})}saveNamedQuery(e,t){return ip(e).put({name:(l=t).name,readTime:oo(Lo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function np(o){return lr(o,"bundles")}function ip(o){return lr(o,"namedQueries")}class Fu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Fu(e,t.uid||"")}getOverlay(e,t){return Bl(e).get(tp(this.userId,t)).next(l=>l?ep(this.It,l):null)}getOverlays(e,t){const l=kl();return ct.forEach(t,f=>this.getOverlay(e,f).next(g=>{null!==g&&l.set(f,g)})).next(()=>l)}saveOverlays(e,t,l){const f=[];return l.forEach((g,D)=>{const u=new Oh(t,D);f.push(this.ue(e,u))}),ct.waitFor(f)}removeOverlaysForBatchId(e,t,l){const f=new Set;t.forEach(D=>f.add(ls(D.getCollectionPath())));const g=[];return f.forEach(D=>{const u=IDBKeyRange.bound([this.userId,D,l],[this.userId,D,l+1],!1,!0);g.push(Bl(e).Y("collectionPathOverlayIndex",u))}),ct.waitFor(g)}getOverlaysForCollection(e,t,l){const f=kl(),g=ls(t),D=IDBKeyRange.bound([this.userId,g,l],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Bl(e).W("collectionPathOverlayIndex",D).next(u=>{for(const s of u){const i=ep(this.It,s);f.set(i.getKey(),i)}return f})}getOverlaysForCollectionGroup(e,t,l,f){const g=kl();let D;const u=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bl(e).Z({index:"collectionGroupOverlayIndex",range:u},(s,i,d)=>{const m=ep(this.It,i);g.size()<f||m.largestBatchId===D?(g.set(m.getKey(),m),D=m.largestBatchId):d.done()}).next(()=>g)}ue(e,t){return Bl(e).put(function(l,f,g){const[D,u,s]=tp(f,g.mutation.key);return{userId:f,collectionPath:u,documentId:s,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:ku(l.re,g.mutation)}}(this.It,this.userId,t))}}function Bl(o){return lr(o,"documentOverlays")}class pl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe($i(e.integerValue));else if("doubleValue"in e){const l=$i(e.doubleValue);isNaN(l)?this.le(t,13):(this.le(t,15),os(l)?t.fe(0):t.fe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.le(t,20),"string"==typeof l?t.de(l):(t.de(`${l.seconds||""}`),t.fe(l.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Pr(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.le(t,45),t.fe(l.latitude||0),t.fe(l.longitude||0)}else"mapValue"in e?zn(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):hn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const l=e.fields||{};this.le(t,55);for(const f of Object.keys(l))this._e(f,t),this.ae(l[f],t)}pe(e,t){const l=e.values||[];this.le(t,50);for(const f of l)this.ae(f,t)}ge(e,t){this.le(t,37),Yt.fromName(e).path.forEach(l=>{this.le(t,60),this.Ie(l,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function kh(o){if(0===o)return 8;let e=0;return o>>4==0&&(e+=4,o<<=4),o>>6==0&&(e+=2,o<<=2),o>>7==0&&(e+=1),e}function Nh(o){const e=64-function(t){let l=0;for(let f=0;f<8;++f){const g=kh(255&t[f]);if(l+=g,8!==g)break}return l}(o);return Math.ceil(e/8)}pl.Te=new pl;class rp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ae(l.value),l=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Pe(l.value),l=t.next();this.ve()}Ve(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ae(l);else if(l<2048)this.Ae(960|l>>>6),this.Ae(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l);else{const f=t.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Pe(l);else if(l<2048)this.Pe(960|l>>>6),this.Pe(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l);else{const f=t.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const t=this.Ce(e),l=Nh(t);this.xe(1+l),this.buffer[this.position++]=255&l;for(let f=t.length-l;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Ne(e){const t=this.Ce(e),l=Nh(t);this.xe(1+l),this.buffer[this.position++]=~(255&l);for(let f=t.length-l;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(f){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,f,!1),new Uint8Array(g.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let f=1;f<t.length;++f)t[f]^=l?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const f=new Uint8Array(l);f.set(this.buffer),this.buffer=f}}class Ul{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class _c{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Cs{constructor(){this.Be=new rp,this.Le=new Ul(this.Be),this.Ue=new _c(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class iu{constructor(e,t,l,f){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=f}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new iu(this.indexId,this.documentKey,this.arrayValue,l)}}function Ya(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=Km(o.arrayValue,e.arrayValue),0!==t?t:(t=Km(o.directionalValue,e.directionalValue),0!==t?t:Yt.comparator(o.documentKey,e.documentKey)))}function Km(o,e){for(let t=0;t<o.length&&t<e.length;++t){const l=o[t]-e[t];if(0!==l)return l}return o.length-e.length}class Uy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const l=t;l.dt()?this.je=l:this.Qe.push(l)}}We(e){const t=qr(e);if(void 0!==t&&!this.ze(t))return!1;const l=rs(e);let f=0,g=0;for(;f<l.length&&this.ze(l[f]);++f);if(f===l.length)return!0;if(void 0!==this.je){const D=l[f];if(!this.He(this.je,D)||!this.Je(this.Ge[g++],D))return!1;++f}for(;f<l.length;++f){const D=l[f];if(g>=this.Ge.length||!this.Je(this.Ge[g++],D))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class op{constructor(){this.Ye=new Vl}addToCollectionParentIndex(e,t){return this.Ye.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(vs.min())}updateCollectionGroup(e,t,l){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Vl{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),f=this.index[t]||new me(ri.comparator),g=!f.has(l);return this.index[t]=f.add(l),g}has(e){const t=e.lastSegment(),l=e.popLast(),f=this.index[t];return f&&f.has(l)}getEntries(e){return(this.index[e]||new me(ri.comparator)).toArray()}}const ta=new Uint8Array(0);class Lh{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Vl,this.Ze=new fc(l=>Ls(l),(l,f)=>Fs(l,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const l=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const g={collectionId:l,parent:ls(f)};return ua(e).put(g)}return ct.resolve()}getCollectionParents(e,t){const l=[],f=IDBKeyRange.bound([t,""],[Ha(t),""],!1,!0);return ua(e).W(f).next(g=>{for(const D of g){if(D.collectionId!==t)break;l.push(Ta(D.parent))}return l})}addFieldIndex(e,t){const l=Hl(e),f={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var D;delete f.indexId;const g=l.add(f);if(t.indexState){const D=Rd(e);return g.next(u=>{D.put(Rh(u,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const l=Hl(e),f=Rd(e),g=Qa(e);return l.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Qa(e);let f=!0;const g=new Map;return ct.forEach(this.tn(t),D=>this.en(e,D).next(u=>{f&&(f=!!u),g.set(D,u)})).next(()=>{if(f){let D=hi();const u=[];return ct.forEach(g,(s,i)=>{var d;Ut("IndexedDbIndexManager",`Using index ${d=s,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(Jt=>`${Jt.fieldPath}:${Jt.kind}`).join(",")}`} to execute ${Ls(t)}`);const m=function(Jt,rn){const jt=qr(rn);if(void 0===jt)return null;for(const Gt of md(Jt,jt.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(i,s),w=function(Jt,rn){const jt=new Map;for(const Gt of rs(rn))for(const Fn of md(Jt,Gt.fieldPath))switch(Fn.op){case"==":case"in":jt.set(Gt.fieldPath.canonicalString(),Fn.value);break;case"not-in":case"!=":return jt.set(Gt.fieldPath.canonicalString(),Fn.value),Array.from(jt.values())}return null}(i,s),F=function(Jt,rn){const jt=[];let Gt=!0;for(const Fn of rs(rn)){const ki=0===Fn.kind?_h(Jt,Fn.fieldPath,Jt.startAt):Au(Jt,Fn.fieldPath,Jt.startAt);jt.push(ki.value),Gt&&(Gt=ki.inclusive)}return new cl(jt,Gt)}(i,s),z=function(Jt,rn){const jt=[];let Gt=!0;for(const Fn of rs(rn)){const ki=0===Fn.kind?Au(Jt,Fn.fieldPath,Jt.endAt):_h(Jt,Fn.fieldPath,Jt.endAt);jt.push(ki.value),Gt&&(Gt=ki.inclusive)}return new cl(jt,Gt)}(i,s),ne=this.nn(s,i,F),le=this.nn(s,i,z),ke=this.sn(s,i,w),_t=this.rn(s.indexId,m,ne,F.inclusive,le,z.inclusive,ke);return ct.forEach(_t,Jt=>l.J(Jt,t.limit).next(rn=>{rn.forEach(jt=>{const Gt=Yt.fromSegments(jt.documentKey);D.has(Gt)||(D=D.add(Gt),u.push(Gt))})}))}).next(()=>u)}return ct.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,l,f,g,D,u){const s=(null!=t?t.length:1)*Math.max(l.length,g.length),i=s/(null!=t?t.length:1),d=[];for(let m=0;m<s;++m){const w=t?this.on(t[m/i]):ta,F=this.un(e,w,l[m%i],f),z=this.cn(e,w,g[m%i],D),ne=u.map(le=>this.un(e,w,le,!0));d.push(...this.createRange(F,z,ne))}return d}un(e,t,l,f){const g=new iu(e,Yt.empty(),t,l);return f?g:g.Ke()}cn(e,t,l,f){const g=new iu(e,Yt.empty(),t,l);return f?g.Ke():g}en(e,t){const l=new Uy(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(g=>{let D=null;for(const u of g)l.We(u)&&(!D||u.fields.length>D.fields.length)&&(D=u);return D})}getIndexType(e,t){let l=2;return ct.forEach(this.tn(t),f=>this.en(e,f).next(g=>{g?0!==l&&g.fields.length<function(D){let u=new me(oi.comparator),s=!1;for(const i of D.filters){const d=i;d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?s=!0:u=u.add(d.field))}for(const i of D.orderBy)i.field.isKeyField()||(u=u.add(i.field));return u.size+(s?1:0)}(f)&&(l=1):l=0})).next(()=>l)}an(e,t){const l=new Cs;for(const f of rs(e)){const g=t.data.field(f.fieldPath);if(null==g)return null;const D=l.qe(f.kind);pl.Te.ce(g,D)}return l.$e()}on(e){const t=new Cs;return pl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const l=new Cs;return pl.Te.ce(Q(this.databaseId,t),l.qe(function(f){const g=rs(f);return 0===g.length?0:g[g.length-1].kind}(e))),l.$e()}sn(e,t,l){if(null===l)return[];let f=[];f.push(new Cs);let g=0;for(const D of rs(e)){const u=l[g++];for(const s of f)if(this.ln(t,D.fieldPath)&&$e(u))f=this.fn(f,D,u);else{const i=s.qe(D.kind);pl.Te.ce(u,i)}}return this.dn(f)}nn(e,t,l){return this.sn(e,t,l.position)}dn(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].$e();return t}fn(e,t,l){const f=[...e],g=[];for(const D of l.arrayValue.values||[])for(const u of f){const s=new Cs;s.seed(u.$e()),pl.Te.ce(D,s.qe(t.kind)),g.push(s)}return g}ln(e,t){return!!e.filters.find(l=>l instanceof qo&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=Hl(e),f=Rd(e);return(t?l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.W()).next(g=>{const D=[];return ct.forEach(g,u=>f.get([u.indexId,this.uid]).next(s=>{D.push(function(i,d){const m=d?new Ti(d.sequenceNumber,new vs(Fl(d.readTime),new Yt(Ta(d.documentKey)),d.largestBatchId)):Ti.empty(),w=i.fields.map(([F,z])=>new wo(oi.fromServerFormat(F),z));return new Do(i.indexId,i.collectionGroup,w,m)}(u,s))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,f)=>{const g=l.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==g?g:$n(l.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const f=Hl(e),g=Rd(e);return this._n(e).next(D=>f.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>ct.forEach(u,s=>g.put(Rh(s.indexId,this.user,D,l)))))}updateIndexEntries(e,t){const l=new Map;return ct.forEach(t,(f,g)=>{const D=l.get(f.collectionGroup);return(D?ct.resolve(D):this.getFieldIndexes(e,f.collectionGroup)).next(u=>(l.set(f.collectionGroup,u),ct.forEach(u,s=>this.wn(e,f,s).next(i=>{const d=this.mn(g,s);return i.isEqual(d)?ct.resolve():this.gn(e,g,s,i,d)}))))})}yn(e,t,l,f){return Qa(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(l,t.key),documentKey:t.key.path.toArray()})}pn(e,t,l,f){return Qa(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(l,t.key),t.key.path.toArray()])}wn(e,t,l){const f=Qa(e);let g=new me(Ya);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.hn(l,t)])},(D,u)=>{g=g.add(new iu(l.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>g)}mn(e,t){let l=new me(Ya);const f=this.an(t,e);if(null==f)return l;const g=qr(t);if(null!=g){const D=e.data.field(g.fieldPath);if($e(D))for(const u of D.arrayValue.values||[])l=l.add(new iu(t.indexId,e.key,this.on(u),f))}else l=l.add(new iu(t.indexId,e.key,ta,f));return l}gn(e,t,l,f,g){Ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(u,s,i,d,m){const w=u.getIterator(),F=s.getIterator();let z=Zt(w),ne=Zt(F);for(;z||ne;){let le=!1,ke=!1;if(z&&ne){const _t=i(z,ne);_t<0?ke=!0:_t>0&&(le=!0)}else null!=z?ke=!0:le=!0;le?(d(ne),ne=Zt(F)):ke?(m(z),z=Zt(w)):(z=Zt(w),ne=Zt(F))}}(f,g,Ya,u=>{D.push(this.yn(e,t,l,u))},u=>{D.push(this.pn(e,t,l,u))}),ct.waitFor(D)}_n(e){let t=1;return Rd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,f,g)=>{g.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((D,u)=>Ya(D,u)).filter((D,u,s)=>!u||0!==Ya(D,s[u-1]));const f=[];f.push(e);for(const D of l){const u=Ya(D,e),s=Ya(D,t);if(0===u)f[0]=e.Ke();else if(u>0&&s<0)f.push(D),f.push(D.Ke());else if(s>0)break}f.push(t);const g=[];for(let D=0;D<f.length;D+=2)g.push(IDBKeyRange.bound([f[D].indexId,this.uid,f[D].arrayValue,f[D].directionalValue,ta,[]],[f[D+1].indexId,this.uid,f[D+1].arrayValue,f[D+1].directionalValue,ta,[]]));return g}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yc)}getMinOffset(e,t){return ct.mapArray(this.tn(t),l=>this.en(e,l).next(f=>f||hn())).next(yc)}}function ua(o){return lr(o,"collectionParents")}function Qa(o){return lr(o,"indexEntries")}function Hl(o){return lr(o,"indexConfiguration")}function Rd(o){return lr(o,"indexState")}function yc(o){_n(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<o.length;l++){const f=o[l].indexState.offset;rc(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new vs(e.readTime,e.documentKey,t)}const sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qo{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ru(o,e,t){const l=o.store("mutations"),f=o.store("documentMutations"),g=[],D=IDBKeyRange.only(t.batchId);let u=0;const s=l.Z({range:D},(d,m,w)=>(u++,w.delete()));g.push(s.next(()=>{_n(1===u)}));const i=[];for(const d of t.mutations){const m=Ah(e,d.key.path,t.batchId);g.push(f.delete(m)),i.push(d.key)}return ct.waitFor(g).next(()=>i)}function Bu(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw hn();e=o.noDocument}return JSON.stringify(e).length}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class ou{constructor(e,t,l,f){this.userId=e,this.It=t,this.indexManager=l,this.referenceDelegate=f,this.In={}}static oe(e,t,l,f){_n(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new ou(g,t,l,f)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return da(e).Z({index:"userMutationsIndex",range:l},(f,g,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,l,f){const g=vc(e),D=da(e);return D.add({}).next(u=>{_n("number"==typeof u);const s=new xh(u,t,l,f),i=function(w,F,z){const ne=z.baseMutations.map(ke=>ku(w.re,ke)),le=z.mutations.map(ke=>ku(w.re,ke));return{userId:F,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ne,mutations:le}}(this.It,this.userId,s),d=[];let m=new me((w,F)=>$n(w.canonicalString(),F.canonicalString()));for(const w of f){const F=Ah(this.userId,w.key.path,u);m=m.add(w.key.path.popLast()),d.push(D.put(i)),d.push(g.put(F,ky))}return m.forEach(w=>{d.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.In[u]=s.keys()}),ct.waitFor(d).next(()=>s)})}lookupMutationBatch(e,t){return da(e).get(t).next(l=>l?(_n(l.userId===this.userId),tu(this.It,l)):null)}Tn(e,t){return this.In[t]?ct.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const f=l.keys();return this.In[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,f=IDBKeyRange.lowerBound([this.userId,l]);let g=null;return da(e).Z({index:"userMutationsIndex",range:f},(D,u,s)=>{u.userId===this.userId&&(_n(u.batchId>=l),g=tu(this.It,u)),s.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return da(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(f,g,D)=>{l=g.batchId,D.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return da(e).W("userMutationsIndex",t).next(l=>l.map(f=>tu(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=qf(this.userId,t.path),f=IDBKeyRange.lowerBound(l),g=[];return vc(e).Z({range:f},(D,u,s)=>{const[i,d,m]=D,w=Ta(d);if(i===this.userId&&t.path.isEqual(w))return da(e).get(m).next(F=>{if(!F)throw hn();_n(F.userId===this.userId),g.push(tu(this.It,F))});s.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new me($n);const f=[];return t.forEach(g=>{const D=qf(this.userId,g.path),u=IDBKeyRange.lowerBound(D),s=vc(e).Z({range:u},(i,d,m)=>{const[w,F,z]=i,ne=Ta(F);w===this.userId&&g.path.isEqual(ne)?l=l.add(z):m.done()});f.push(s)}),ct.waitFor(f).next(()=>this.En(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,f=l.length+1,g=qf(this.userId,l),D=IDBKeyRange.lowerBound(g);let u=new me($n);return vc(e).Z({range:D},(s,i,d)=>{const[m,w,F]=s,z=Ta(w);m===this.userId&&l.isPrefixOf(z)?z.length===f&&(u=u.add(F)):d.done()}).next(()=>this.En(e,u))}En(e,t){const l=[],f=[];return t.forEach(g=>{f.push(da(e).get(g).next(D=>{if(null===D)throw hn();_n(D.userId===this.userId),l.push(tu(this.It,D))}))}),ct.waitFor(f).next(()=>l)}removeMutationBatch(e,t){return ru(e.ie,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ct.forEach(l,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const l=IDBKeyRange.lowerBound([this.userId]),f=[];return vc(e).Z({range:l},(g,D,u)=>{if(g[0]===this.userId){const s=Ta(g[1]);f.push(s)}else u.done()}).next(()=>{_n(0===f.length)})})}containsKey(e,t){return __(e,this.userId,t)}Rn(e){return Bs(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function __(o,e,t){const l=qf(e,t.path),f=l[1],g=IDBKeyRange.lowerBound(l);let D=!1;return vc(o).Z({range:g,X:!0},(u,s,i)=>{const[d,m,w]=u;d===e&&m===f&&(D=!0),i.done()}).next(()=>D)}function da(o){return lr(o,"mutations")}function vc(o){return lr(o,"documentMutations")}function Bs(o){return lr(o,"mutationQueues")}class bc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new bc(0)}static vn(){return new bc(-1)}}class Uu{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const l=new bc(t.highestTargetId);return t.highestTargetId=l.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>wn.fromTimestamp(new hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=t,l&&(f.lastRemoteSnapshotVersion=l.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.Sn(e,f)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(l=>(l.targetCount+=1,this.Cn(t,l),this.Sn(e,l))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(l=>(_n(l.targetCount>0),l.targetCount-=1,this.Sn(e,l)))}removeTargets(e,t,l){let f=0;const g=[];return jl(e).Z((D,u)=>{const s=nu(u);s.sequenceNumber<=t&&null===l.get(s.targetId)&&(f++,g.push(this.removeTargetData(e,s)))}).next(()=>ct.waitFor(g)).next(()=>f)}forEachTarget(e,t){return jl(e).Z((l,f)=>{const g=nu(f);t(g)})}Vn(e){return $m(e).get("targetGlobalKey").next(t=>(_n(null!==t),t))}Sn(e,t){return $m(e).put("targetGlobalKey",t)}Dn(e,t){return jl(e).put(Yo(this.It,t))}Cn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const l=Ls(t),f=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let g=null;return jl(e).Z({range:f,index:"queryTargetsIndex"},(D,u,s)=>{const i=nu(u);Fs(t,i.target)&&(g=i,s.done())}).next(()=>g)}addMatchingKeys(e,t,l){const f=[],g=Ec(e);return t.forEach(D=>{const u=ls(D.path);f.push(g.put({targetId:l,path:u})),f.push(this.referenceDelegate.addReference(e,l,D))}),ct.waitFor(f)}removeMatchingKeys(e,t,l){const f=Ec(e);return ct.forEach(t,g=>{const D=ls(g.path);return ct.waitFor([f.delete([l,D]),this.referenceDelegate.removeReference(e,l,g)])})}removeMatchingKeysForTargetId(e,t){const l=Ec(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(f)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),f=Ec(e);let g=hi();return f.Z({range:l,X:!0},(D,u,s)=>{const i=Ta(D[1]),d=new Yt(i);g=g.add(d)}).next(()=>g)}containsKey(e,t){const l=ls(t.path),f=IDBKeyRange.bound([l],[Ha(l)],!1,!0);let g=0;return Ec(e).Z({index:"documentTargetsIndex",X:!0,range:f},([D,u],s,i)=>{0!==D&&(g++,i.done())}).next(()=>g>0)}se(e,t){return jl(e).get(t).next(l=>l?nu(l):null)}}function jl(o){return lr(o,"targets")}function $m(o){return lr(o,"targetGlobal")}function Ec(o){return lr(o,"targetDocuments")}function zm([o,e],[t,l]){const f=$n(o,t);return 0===f?$n(e,l):f}class Vy{constructor(e){this.xn=e,this.buffer=new me(zm),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();zm(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hy{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){bs(l)?Ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Zs(l)}yield t.Fn(3e5)}))}}class kd{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(T.at);const l=new Vy(t);return this.$n.forEachTarget(e,f=>l.On(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>l.On(f))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.$n.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(sp)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sp):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let l,f,g,D,u,s,i;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),f=this.params.maximumSequenceNumbersToCollect):f=m,D=Date.now(),this.nthSequenceNumber(e,f))).next(m=>(l=m,u=Date.now(),this.removeTargets(e,l,t))).next(m=>(g=m,s=Date.now(),this.removeOrphanedDocuments(e,l))).next(m=>(i=Date.now(),ys()<=Oe.in.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-d}ms\n\tDetermined least recently used ${f} in `+(u-D)+`ms\n\tRemoved ${g} targets in `+(s-u)+`ms\n\tRemoved ${m} documents in `+(i-s)+`ms\nTotal Duration: ${i-d}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:g,documentsRemoved:m})))}}class ap{constructor(e,t){this.db=e,this.garbageCollector=new kd(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(f=>l+f))}qn(e){let t=0;return this.Ln(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(l,f)=>t(f))}addReference(e,t,l){return Nd(e,l)}removeReference(e,t,l){return Nd(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return Nd(e,t)}Gn(e,t){return function(l,f){let g=!1;return Bs(l).tt(D=>__(l,D,f).next(u=>(u&&(g=!0),ct.resolve(!u)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let g=0;return this.Kn(e,(D,u)=>{if(u<=t){const s=this.Gn(e,D).next(i=>{if(!i)return g++,l.getEntry(e,D).next(()=>(l.removeEntry(D,wn.min()),Ec(e).delete([0,ls(D.path)])))});f.push(s)}}).next(()=>ct.waitFor(f)).next(()=>l.apply(e)).next(()=>g)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return Nd(e,t)}Kn(e,t){const l=Ec(e);let f,g=T.at;return l.Z({index:"documentTargetsIndex"},([D,u],{path:s,sequenceNumber:i})=>{0===D?(g!==T.at&&t(new Yt(Ta(f)),g),g=i,f=s):g=T.at}).next(()=>{g!==T.at&&t(new Yt(Ta(f)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nd(o,e){return Ec(o).put((l=o.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:l}));var l}class Fh{constructor(){this.changes=new fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?ct.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bh{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return ha(e).put(l)}removeEntry(e,t,l){return ha(e).delete(function(f,g){const D=f.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],fl(g),D[D.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Qn(e,l)))}getEntry(e,t){let l=wi.newInvalidDocument(t);return ha(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(t))},(f,g)=>{l=this.jn(t,g)}).next(()=>l)}Wn(e,t){let l={size:0,document:wi.newInvalidDocument(t)};return ha(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(t))},(f,g)=>{l={document:this.jn(t,g),size:Bu(g)}}).next(()=>l)}getEntries(e,t){let l=ea();return this.zn(e,t,(f,g)=>{const D=this.jn(f,g);l=l.insert(f,D)}).next(()=>l)}Hn(e,t){let l=ea(),f=new H(Yt.comparator);return this.zn(e,t,(g,D)=>{const u=this.jn(g,D);l=l.insert(g,u),f=f.insert(g,Bu(D))}).next(()=>({documents:l,Jn:f}))}zn(e,t,l){if(t.isEmpty())return ct.resolve();let f=new me(Gm);t.forEach(s=>f=f.add(s));const g=IDBKeyRange.bound(Cc(f.first()),Cc(f.last())),D=f.getIterator();let u=D.getNext();return ha(e).Z({index:"documentKeyIndex",range:g},(s,i,d)=>{const m=Yt.fromSegments([...i.prefixPath,i.collectionGroup,i.documentId]);for(;u&&Gm(u,m)<0;)l(u,null),u=D.getNext();u&&u.isEqual(m)&&(l(u,i),u=D.hasNext()?D.getNext():null),u?d.j(Cc(u)):d.done()}).next(()=>{for(;u;)l(u,null),u=D.hasNext()?D.getNext():null})}getAllFromCollection(e,t,l){const f=[t.popLast().toArray(),t.lastSegment(),fl(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],g=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ha(e).W(IDBKeyRange.bound(f,g,!0)).next(D=>{let u=ea();for(const s of D){const i=this.jn(Yt.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u=u.insert(i.key,i)}return u})}getAllFromCollectionGroup(e,t,l,f){let g=ea();const D=Vh(t,l),u=Vh(t,vs.max());return ha(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,u,!0)},(s,i,d)=>{const m=this.jn(Yt.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);g=g.insert(m.key,m),g.size===f&&d.done()}).next(()=>g)}newChangeBuffer(e){return new lp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Uh(e).get("remoteDocumentGlobalKey").next(t=>(_n(!!t),t))}Qn(e,t){return Uh(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const l=function g_(o,e){let t;if(e.document)t=Mh(o.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Yt.fromSegments(e.noDocument.path),f=Fl(e.noDocument.readTime);t=wi.newNoDocument(l,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const l=Yt.fromSegments(e.unknownDocument.path),f=Fl(e.unknownDocument.version);t=wi.newUnknownDocument(l,f)}}return e.readTime&&t.setReadTime(function(l){const f=new hr(l[0],l[1]);return wn.fromTimestamp(f)}(e.readTime)),t}(this.It,t);if(!l.isNoDocument()||!l.version.isEqual(wn.min()))return l}return wi.newInvalidDocument(e)}}function Ld(o){return new Bh(o)}class lp extends Fh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new fc(l=>l.toString(),(l,f)=>l.isEqual(f))}applyChanges(e){const t=[];let l=0,f=new me((g,D)=>$n(g.canonicalString(),D.canonicalString()));return this.changes.forEach((g,D)=>{const u=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,u.readTime)),D.isValidDocument()){const s=jm(this.Yn.It,D);f=f.add(g.path.popLast()),l+=Bu(s)-u.size,t.push(this.Yn.addEntry(e,g,s))}else if(l-=u.size,this.trackRemovals){const s=jm(this.Yn.It,D.convertToNoDocument(wn.min()));t.push(this.Yn.addEntry(e,g,s))}}),f.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,l)),ct.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(l=>(this.Xn.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:l,Jn:f})=>(f.forEach((g,D)=>{this.Xn.set(g,{size:D,readTime:l.get(g).readTime})}),l))}}function Uh(o){return lr(o,"remoteDocumentGlobal")}function ha(o){return lr(o,"remoteDocumentsV14")}function Cc(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vh(o,e){const t=e.documentKey.path.toArray();return[o,fl(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gm(o,e){const t=o.path.toArray(),l=e.path.toArray();let f=0;for(let g=0;g<t.length-2&&g<l.length-2;++g)if(f=$n(t[g],l[g]),f)return f;return f=$n(t.length,l.length),f||(f=$n(t[t.length-2],l[l.length-2]),f||$n(t[t.length-1],l[l.length-1]))}class jy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fd{constructor(e,t,l,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=f}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(l=f,this.getBaseDocument(e,t,l))).next(f=>(null!==l&&Ia(l.mutation,f,Tn.empty(),hr.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,hi()).next(()=>l))}getLocalViewOfDocuments(e,t,l=hi()){const f=kl();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,l).next(g=>{let D=wd();return g.forEach((u,s)=>{D=D.insert(u,s.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const l=kl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,hi()))}populateOverlays(e,t,l){const f=[];return l.forEach(g=>{t.has(g)||f.push(g)}),this.documentOverlayCache.getOverlays(e,f).next(g=>{g.forEach((D,u)=>{t.set(D,u)})})}computeViews(e,t,l,f){let g=ea();const D=qc(),u=qc();return t.forEach((s,i)=>{const d=l.get(i.key);f.has(i.key)&&(void 0===d||d.mutation instanceof as)?g=g.insert(i.key,i):void 0!==d&&(D.set(i.key,d.mutation.getFieldMask()),Ia(d.mutation,i,d.mutation.getFieldMask(),hr.now()))}),this.recalculateAndSaveOverlays(e,g).next(s=>(s.forEach((i,d)=>D.set(i,d)),t.forEach((i,d)=>{var m;return u.set(i,new jy(d,null!==(m=D.get(i))&&void 0!==m?m:null))}),u))}recalculateAndSaveOverlays(e,t){const l=qc();let f=new H((D,u)=>D-u),g=hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const u of D)u.keys().forEach(s=>{const i=t.get(s);if(null===i)return;let d=l.get(s)||Tn.empty();d=u.applyToLocalView(i,d),l.set(s,d);const m=(f.get(u.batchId)||hi()).add(s);f=f.insert(u.batchId,m)})}).next(()=>{const D=[],u=f.getReverseIterator();for(;u.hasNext();){const s=u.getNext(),i=s.key,d=s.value,m=Pu();d.forEach(w=>{if(!g.has(w)){const F=Ga(t.get(w),l.get(w));null!==F&&m.set(w,F),g=g.add(w)}}),D.push(this.documentOverlayCache.saveOverlays(e,i,m))}return ct.waitFor(D)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return Yt.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var f}getNextDocuments(e,t,l,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,f).next(g=>{const D=f-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,f-g.size):ct.resolve(kl());let u=-1,s=g;return D.next(i=>ct.forEach(i,(d,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),g.get(d)?ct.resolve():this.getBaseDocument(e,d,m).next(w=>{s=s.insert(d,w)}))).next(()=>this.populateOverlays(e,i,g)).next(()=>this.computeViews(e,s,i,hi())).next(d=>({batchId:u,changes:Cm(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(l=>{let f=wd();return l.isFoundDocument()&&(f=f.insert(l.key,l)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const f=t.collectionGroup;let g=wd();return this.indexManager.getCollectionParents(e,f).next(D=>ct.forEach(D,u=>{const s=(i=t,d=u.child(f),new ul(d,null,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt));var i,d;return this.getDocumentsMatchingCollectionQuery(e,s,l).next(i=>{i.forEach((d,m)=>{g=g.insert(d,m)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,l){let f;return this.remoteDocumentCache.getAllFromCollection(e,t.path,l).next(g=>(f=g,this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId))).next(g=>{g.forEach((u,s)=>{const i=s.getKey();null===f.get(i)&&(f=f.insert(i,wi.newInvalidDocument(i)))});let D=wd();return f.forEach((u,s)=>{const i=g.get(u);void 0!==i&&Ia(i.mutation,s,Tn.empty(),hr.now()),$c(t,s)&&(D=D.insert(u,s))}),D})}getBaseDocument(e,t,l){return null===l||1===l.mutation.type?this.remoteDocumentCache.getEntry(e,t):ct.resolve(wi.newInvalidDocument(t))}}class y_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ct.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var l;return this.Zn.set(t.id,{id:(l=t).id,version:l.version,createTime:Lo(l.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(l=t).name,query:gc(l.bundledQuery),readTime:Lo(l.readTime)}),ct.resolve();var l}}class Zm{constructor(){this.overlays=new H(Yt.comparator),this.es=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const l=kl();return ct.forEach(t,f=>this.getOverlay(e,f).next(g=>{null!==g&&l.set(f,g)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((f,g)=>{this.ue(e,t,g)}),ct.resolve()}removeOverlaysForBatchId(e,t,l){const f=this.es.get(l);return void 0!==f&&(f.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(l)),ct.resolve()}getOverlaysForCollection(e,t,l){const f=kl(),g=t.length+1,D=new Yt(t.child("")),u=this.overlays.getIteratorFrom(D);for(;u.hasNext();){const s=u.getNext().value,i=s.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===g&&s.largestBatchId>l&&f.set(s.getKey(),s)}return ct.resolve(f)}getOverlaysForCollectionGroup(e,t,l,f){let g=new H((i,d)=>i-d);const D=this.overlays.getIterator();for(;D.hasNext();){const i=D.getNext().value;if(i.getKey().getCollectionGroup()===t&&i.largestBatchId>l){let d=g.get(i.largestBatchId);null===d&&(d=kl(),g=g.insert(i.largestBatchId,d)),d.set(i.getKey(),i)}}const u=kl(),s=g.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((i,d)=>u.set(i,d)),!(u.size()>=f)););return ct.resolve(u)}ue(e,t,l){const f=this.overlays.get(l.key);if(null!==f){const D=this.es.get(f.largestBatchId).delete(l.key);this.es.set(f.largestBatchId,D)}this.overlays=this.overlays.insert(l.key,new Oh(t,l));let g=this.es.get(t);void 0===g&&(g=hi(),this.es.set(t,g)),this.es.set(t,g.add(l.key))}}class Hh{constructor(){this.ns=new me(kr.ss),this.rs=new me(kr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const l=new kr(e,t);this.ns=this.ns.add(l),this.rs=this.rs.add(l)}us(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.cs(new kr(e,t))}hs(e,t){e.forEach(l=>this.removeReference(l,t))}ls(e){const t=new Yt(new ri([])),l=new kr(t,e),f=new kr(t,e+1),g=[];return this.rs.forEachInRange([l,f],D=>{this.cs(D),g.push(D.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Yt(new ri([])),l=new kr(t,e),f=new kr(t,e+1);let g=hi();return this.rs.forEachInRange([l,f],D=>{g=g.add(D.key)}),g}containsKey(e){const t=new kr(e,0),l=this.ns.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class kr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Yt.comparator(e.key,t.key)||$n(e._s,t._s)}static os(e,t){return $n(e._s,t._s)||Yt.comparator(e.key,t.key)}}class Bd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new me(kr.ss)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,f){const g=this.ws;this.ws++;const D=new xh(g,t,l,f);this.mutationQueue.push(D);for(const u of f)this.gs=this.gs.add(new kr(u.key,g)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ct.resolve(D)}lookupMutationBatch(e,t){return ct.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.ps(t+1),g=f<0?0:f;return ct.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new kr(t,0),f=new kr(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([l,f],D=>{const u=this.ys(D._s);g.push(u)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new me($n);return t.forEach(f=>{const g=new kr(f,0),D=new kr(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,D],u=>{l=l.add(u._s)})}),ct.resolve(this.Is(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,f=l.length+1;let g=l;Yt.isDocumentKey(g)||(g=g.child(""));const D=new kr(new Yt(g),0);let u=new me($n);return this.gs.forEachWhile(s=>{const i=s.key.path;return!!l.isPrefixOf(i)&&(i.length===f&&(u=u.add(s._s)),!0)},D),ct.resolve(this.Is(u))}Is(e){const t=[];return e.forEach(l=>{const f=this.ys(l);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){_n(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let l=this.gs;return ct.forEach(t.mutations,f=>{const g=new kr(f.key,t.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=l})}An(e){}containsKey(e,t){const l=new kr(t,0),f=this.gs.firstAfterOrEqual(l);return ct.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return ct.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jh{constructor(e){this.Es=e,this.docs=new H(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,f=this.docs.get(l),g=f?f.size:0,D=this.Es(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:D}),this.size+=D-g,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return ct.resolve(l?l.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let l=ea();return t.forEach(f=>{const g=this.docs.get(f);l=l.insert(f,g?g.document.mutableCopy():wi.newInvalidDocument(f))}),ct.resolve(l)}getAllFromCollection(e,t,l){let f=ea();const g=new Yt(t.child("")),D=this.docs.getIteratorFrom(g);for(;D.hasNext();){const{key:u,value:{document:s}}=D.getNext();if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rc(ic(s),l)<=0||(f=f.insert(s.key,s.mutableCopy()))}return ct.resolve(f)}getAllFromCollectionGroup(e,t,l,f){hn()}As(e,t){return ct.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new su(this)}getSize(e){return ct.resolve(this.size)}}class su extends Fh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((l,f)=>{f.isValidDocument()?t.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(l)}),ct.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Wh{constructor(e){this.persistence=e,this.Rs=new fc(t=>Ls(t),Fs),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hh,this.targetCount=0,this.vs=bc.Pn()}forEachTarget(e,t){return this.Rs.forEach((l,f)=>t(f)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.bs&&(this.bs=t),ct.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Dn(t),ct.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,l){let f=0;const g=[];return this.Rs.forEach((D,u)=>{u.sequenceNumber<=t&&null===l.get(u.targetId)&&(this.Rs.delete(D),g.push(this.removeMatchingKeysForTargetId(e,u.targetId)),f++)}),ct.waitFor(g).next(()=>f)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const l=this.Rs.get(t)||null;return ct.resolve(l)}addMatchingKeys(e,t,l){return this.Ps.us(t,l),ct.resolve()}removeMatchingKeys(e,t,l){this.Ps.hs(t,l);const f=this.persistence.referenceDelegate,g=[];return f&&t.forEach(D=>{g.push(f.markPotentiallyOrphaned(e,D))}),ct.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const l=this.Ps.ds(t);return ct.resolve(l)}containsKey(e,t){return ct.resolve(this.Ps.containsKey(t))}}class cp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new T(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Wh(this),this.indexManager=new op,this.remoteDocumentCache=new jh(l=>this.referenceDelegate.xs(l)),this.It=new Ph(t),this.Ns=new y_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.Vs[e.toKey()];return l||(l=new Bd(t,this.referenceDelegate),this.Vs[e.toKey()]=l),l}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,l){Ut("MemoryPersistence","Starting transaction:",e);const f=new up(this.Ss.next());return this.referenceDelegate.ks(),l(f).next(g=>this.referenceDelegate.Os(f).next(()=>g)).toPromise().then(g=>(f.raiseOnCommittedEvent(),g))}Ms(e,t){return ct.or(Object.values(this.Vs).map(l=>()=>l.containsKey(e,t)))}}class up extends jc{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Fs=new Hh,this.$s=null}static Bs(e){return new Ud(e)}get Ls(){if(this.$s)return this.$s;throw hn()}addReference(e,t,l){return this.Fs.addReference(l,t),this.Ls.delete(l.toString()),ct.resolve()}removeReference(e,t,l){return this.Fs.removeReference(l,t),this.Ls.add(l.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(f=>this.Ls.add(f.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(g=>this.Ls.add(g.toString()))}).next(()=>l.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,l=>{const f=Yt.fromPath(l);return this.Us(e,f).next(g=>{g||t.removeEntry(f,wn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(l=>{l?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ct.or([()=>ct.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class dp{constructor(e){this.It=e}$(e,t,l,f){const g=new Al("createOrUpgrade",t);var u;l<1&&f>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f_,{unique:!0}),u.createObjectStore("documentMutations"),Dc(e),function(u){u.createObjectStore("remoteDocuments")}(e));let D=ct.resolve();return l<3&&f>=3&&(0!==l&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),Dc(e)),D=D.next(()=>function(u){const s=u.store("targetGlobal"),i={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wn.min().toTimestamp(),targetCount:0};return s.put("targetGlobalKey",i)}(g))),l<4&&f>=4&&(0!==l&&(D=D.next(()=>function(u,s){return s.store("mutations").W().next(i=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f_,{unique:!0});const d=s.store("mutations"),m=i.map(w=>d.put(w));return ct.waitFor(m)})}(e,g))),D=D.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&f>=5&&(D=D.next(()=>this.qs(g))),l<6&&f>=6&&(D=D.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),l<7&&f>=7&&(D=D.next(()=>this.Gs(g))),l<8&&f>=8&&(D=D.next(()=>this.Qs(e,g))),l<9&&f>=9&&(D=D.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&f>=10&&(D=D.next(()=>this.js(g))),l<11&&f>=11&&(D=D.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&f>=12&&(D=D.next(()=>{!function(u){const s=u.createObjectStore("documentOverlays",{keyPath:m_});s.createIndex("collectionPathOverlayIndex",Qf,{unique:!1}),s.createIndex("collectionGroupOverlayIndex",xd,{unique:!1})}(e)})),l<13&&f>=13&&(D=D.next(()=>function(u){const s=u.createObjectStore("remoteDocumentsV14",{keyPath:Ny});s.createIndex("documentKeyIndex",Ly),s.createIndex("collectionGroupIndex",Fy)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&f>=14&&(D=D.next(()=>this.zs(e,g))),l<15&&f>=15&&(D=D.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Bm}).createIndex("sequenceNumberIndex",Um,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Vm}).createIndex("documentKeyIndex",Hm,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((l,f)=>{t+=Bu(f)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}qs(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.W().next(f=>ct.forEach(f,g=>{const D=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return l.W("userMutationsIndex",D).next(u=>ct.forEach(u,s=>{_n(s.userId===g.userId);const i=tu(this.It,s);return ru(e,g.userId,i).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const g=[];return l.Z((D,u)=>{const s=new ri(D),i=[0,ls(s)];g.push(t.get(i).next(d=>d?ct.resolve():t.put({targetId:0,path:ls(s),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>ct.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Yf});const l=t.store("collectionParents"),f=new Vl,g=D=>{if(f.add(D)){const u=D.lastSegment(),s=D.popLast();return l.put({collectionId:u,parent:ls(s)})}};return t.store("remoteDocuments").Z({X:!0},(D,u)=>{const s=new ri(D);return g(s.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,u,s],i)=>{const d=Ta(u);return g(d.popLast())}))}js(e){const t=e.store("targets");return t.Z((l,f)=>{const g=nu(f),D=Yo(this.It,g);return t.put(D)})}Ws(e,t){const l=t.store("remoteDocuments"),f=[];return l.Z((g,D)=>{const u=t.store("remoteDocumentsV14"),s=(i=D,i.document?new Yt(ri.fromString(i.document.name).popFirst(5)):i.noDocument?Yt.fromSegments(i.noDocument.path):i.unknownDocument?Yt.fromSegments(i.unknownDocument.path):hn()).path.toArray();var i;const d={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};f.push(u.put(d))}).next(()=>ct.waitFor(f))}zs(e,t){const l=t.store("mutations"),f=Ld(this.It),g=new cp(Ud.Bs,this.It.re);return l.W().next(D=>{const u=new Map;return D.forEach(s=>{var i;let d=null!==(i=u.get(s.userId))&&void 0!==i?i:hi();tu(this.It,s).keys().forEach(m=>d=d.add(m)),u.set(s.userId,d)}),ct.forEach(u,(s,i)=>{const d=new Or(i),m=Fu.oe(this.It,d),w=g.getIndexManager(d),F=ou.oe(d,this.It,w,g.referenceDelegate);return new Fd(f,F,m,w).recalculateAndSaveOverlaysForDocumentKeys(new Pd(t,T.at),s).next()})})}}function Dc(o){o.createObjectStore("targetDocuments",{keyPath:p_}).createIndex("documentTargetsIndex",Fm,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",By,{unique:!0}),o.createObjectStore("targetGlobal")}const hp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class au{constructor(e,t,l,f,g,D,u,s,i,d,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.Hs=g,this.window=D,this.document=u,this.Js=i,this.Ys=d,this.Xs=m,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=w=>Promise.resolve(),!au.C())throw new kt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ap(this,f),this.ii=t+"main",this.It=new Ph(s),this.ri=new ji(this.ii,this.Xs,new dp(this.It)),this.Cs=new Uu(this.referenceDelegate,this.It),this.remoteDocumentCache=Ld(this.It),this.Ns=new Wm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===d&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(pt.FAILED_PRECONDITION,hp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new T(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var l=(0,Ae.Z)(function*(f){if(t.started)return e(f)});return function(f){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ae.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(bs(e))return Ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lu(e).get("owner").next(t=>ct.resolve(this.mi(t)))}gi(e){return cu(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const f=lr(l,"clientMetadata");return f.W().next(g=>{const D=e.Ii(g,18e5),u=g.filter(s=>-1===D.indexOf(s));return ct.forEach(u,s=>f.delete(s.clientId)).next(()=>u)})}).catch(()=>[]);if(e.oi)for(const l of t)e.oi.removeItem(e.Ti(l.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ct.resolve(!0):lu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new kt(pt.FAILED_PRECONDITION,hp);return!1}}return!(!this.networkEnabled||!this.inForeground)||cu(e).W().next(l=>void 0===this.Ii(l,5e3).find(f=>{if(this.clientId!==f.clientId){const D=!this.inForeground&&f.inForeground,u=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||D&&u)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new Pd(t,T.at);return e._i(l).next(()=>e.gi(l))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(l=>this.pi(l.updateTimeMs,t)&&!this.Ei(l.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>cu(e).W().next(t=>this.Ii(t,18e5).map(l=>l.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ou.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lh(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Fu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,l){Ut("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",g=15===(D=this.Xs)?Jf:14===D?Od:13===D?Xf:12===D?mc:11===D?Sh:void hn();var D;let u;return this.ri.runTransaction(e,f,g,s=>(u=new Pd(s,this.Ss?this.Ss.next():T.at),"readwrite-primary"===t?this.fi(u).next(i=>!!i||this.di(u)).next(i=>{if(!i)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kt(pt.FAILED_PRECONDITION,Tu);return l(u)}).next(i=>this.wi(u).next(()=>i)):this.Vi(u).next(()=>l(u)))).then(s=>(u.raiseOnCommittedEvent(),s))}Vi(e){return lu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kt(pt.FAILED_PRECONDITION,hp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lu(e).put("owner",t)}static C(){return ji.C()}_i(e){const t=lu(e);return t.get("owner").next(l=>this.mi(l)?(Ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}pi(e,t){const l=Date.now();return!(e<l-t||e>l&&(ar(`Detected an update time that is in the future: ${e} > ${l}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,We.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const l=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ut("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return ar("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lu(o){return lr(o,"owner")}function cu(o){return lr(o,"clientMetadata")}function Kh(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class Vu{constructor(e,t,l,f){this.targetId=e,this.fromCache=t,this.Si=l,this.Di=f}static Ci(e,t){let l=hi(),f=hi();for(const g of t.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:f=f.add(g.doc.key)}return new Vu(e,t.fromCache,l,f)}}class fp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,l,f){return this.ki(e,t).next(g=>g||this.Oi(e,t,f,l)).next(g=>g||this.Mi(e,t))}ki(e,t){if(Su(t))return ct.resolve(null);let l=Ur(t);return this.indexManager.getIndexType(e,l).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=Pl(t,null,"F"),l=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(g=>{const D=hi(...g);return this.Ni.getDocuments(e,D).next(u=>this.indexManager.getMinOffset(e,l).next(s=>{const i=this.Fi(t,u);return this.$i(t,i,D,s.readTime)?this.ki(e,Pl(t,null,"F")):this.Bi(e,i,t,s)}))})))}Oi(e,t,l,f){return Su(t)||f.isEqual(wn.min())?this.Mi(e,t):this.Ni.getDocuments(e,l).next(g=>{const D=this.Fi(t,g);return this.$i(t,D,l,f)?this.Mi(e,t):(ys()<=Oe.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),vd(t)),this.Bi(e,D,t,Mu(f,-1)))})}Fi(e,t){let l=new me(hl(e));return t.forEach((f,g)=>{$c(e,g)&&(l=l.add(g))}),l}$i(e,t,l,f){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(f)>0)}Mi(e,t){return ys()<=Oe.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",vd(t)),this.Ni.getDocumentsMatchingQuery(e,t,vs.min())}Bi(e,t,l,f){return this.Ni.getDocumentsMatchingQuery(e,l,f).next(g=>(t.forEach(D=>{g=g.insert(D.key,D)}),g))}}class Hv{constructor(e,t,l,f){this.persistence=e,this.Li=t,this.It=f,this.Ui=new H($n),this.qi=new fc(g=>Ls(g),Fs),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(l)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Vd(o,e,t,l){return new Hv(o,e,t,l)}function v_(o,e){return $h.apply(this,arguments)}function $h(){return $h=(0,Ae.Z)(function*(o,e){const t=qt(o);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let f;return t.mutationQueue.getAllMutationBatches(l).next(g=>(f=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(l))).next(g=>{const D=[],u=[];let s=hi();for(const i of f){D.push(i.batchId);for(const d of i.mutations)s=s.add(d.key)}for(const i of g){u.push(i.batchId);for(const d of i.mutations)s=s.add(d.key)}return t.localDocuments.getDocuments(l,s).next(i=>({ji:i,removedBatchIds:D,addedBatchIds:u}))})})}),$h.apply(this,arguments)}function b_(o,e){const t=qt(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const f=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,u,s,i){const d=s.batch,m=d.keys();let w=ct.resolve();return m.forEach(F=>{w=w.next(()=>i.getEntry(u,F)).next(z=>{const ne=s.docVersions.get(F);_n(null!==ne),z.version.compareTo(ne)<0&&(d.applyToRemoteDocument(z,s),z.isValidDocument()&&(z.setReadTime(s.commitVersion),i.addEntry(z)))})}),w.next(()=>D.mutationQueue.removeMutationBatch(u,d))}(t,l,e,g).next(()=>g.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(D){let u=hi();for(let s=0;s<D.mutationResults.length;++s)D.mutationResults[s].transformResults.length>0&&(u=u.add(D.batch.mutations[s].key));return u}(e))).next(()=>t.localDocuments.getDocuments(l,f))})}function pp(o){const e=qt(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function fa(o,e){const t=qt(o),l=e.snapshotVersion;let f=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});f=t.Ui;const u=[];e.targetChanges.forEach((d,m)=>{const w=f.get(m);if(!w)return;u.push(t.Cs.removeMatchingKeys(g,d.removedDocuments,m).next(()=>t.Cs.addMatchingKeys(g,d.addedDocuments,m)));let F=w.withSequenceNumber(g.currentSequenceNumber);var z,ne,le;e.targetMismatches.has(m)?F=F.withResumeToken(Bn.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):d.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(d.resumeToken,l)),f=f.insert(m,F),ne=F,le=d,(0===(z=w).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&u.push(t.Cs.updateTargetData(g,F))});let s=ea(),i=hi();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(g,d))}),u.push(mp(g,D,e.documentUpdates).next(d=>{s=d.Wi,i=d.zi})),!l.isEqual(wn.min())){const d=t.Cs.getLastRemoteSnapshotVersion(g).next(m=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,l));u.push(d)}return ct.waitFor(u).next(()=>D.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,s,i)).next(()=>s)}).then(g=>(t.Ui=f,g))}function mp(o,e,t){let l=hi(),f=hi();return t.forEach(g=>l=l.add(g)),e.getEntries(o,l).next(g=>{let D=ea();return t.forEach((u,s)=>{const i=g.get(u);s.isFoundDocument()!==i.isFoundDocument()&&(f=f.add(u)),s.isNoDocument()&&s.version.isEqual(wn.min())?(e.removeEntry(u,s.readTime),D=D.insert(u,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(e.addEntry(s),D=D.insert(u,s)):Ut("LocalStore","Ignoring outdated watch update for ",u,". Current version:",i.version," Watch version:",s.version)}),{Wi:D,zi:f}})}function E_(o,e){const t=qt(o);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Hu(o,e){const t=qt(o);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let f;return t.Cs.getTargetData(l,e).next(g=>g?(f=g,ct.resolve(f)):t.Cs.allocateTargetId(l).next(D=>(f=new Ll(e,D,0,l.currentSequenceNumber),t.Cs.addTargetData(l,f).next(()=>f))))}).then(l=>{const f=t.Ui.get(l.targetId);return(null===f||l.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(l.targetId,l),t.qi.set(e,l.targetId)),l})}function ju(o,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,Ae.Z)(function*(o,e,t){const l=qt(o),f=l.Ui.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",g,D=>l.persistence.referenceDelegate.removeTarget(D,f)))}catch(D){if(!bs(D))throw D;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}l.Ui=l.Ui.remove(e),l.qi.delete(f.target)}),gp.apply(this,arguments)}function zh(o,e,t){const l=qt(o);let f=wn.min(),g=hi();return l.persistence.runTransaction("Execute query","readonly",D=>function(u,s,i){const d=qt(u),m=d.qi.get(i);return void 0!==m?ct.resolve(d.Ui.get(m)):d.Cs.getTargetData(s,i)}(l,D,Ur(e)).next(u=>{if(u)return f=u.lastLimboFreeSnapshotVersion,l.Cs.getMatchingKeysForTargetId(D,u.targetId).next(s=>{g=s})}).next(()=>l.Li.getDocumentsMatchingQuery(D,e,t?f:wn.min(),t?g:hi())).next(u=>(yp(l,wa(e),u),{documents:u,Hi:g})))}function _p(o,e){const t=qt(o),l=qt(t.Cs),f=t.Ui.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",g=>l.se(g,e).next(D=>D?D.target:null))}function qm(o,e){const t=qt(o),l=t.Ki.get(e)||wn.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Gi.getAllFromCollectionGroup(f,e,Mu(l,-1),Number.MAX_SAFE_INTEGER)).then(f=>(yp(t,e,f),f))}function yp(o,e,t){let l=o.Ki.get(e)||wn.min();t.forEach((f,g)=>{g.readTime.compareTo(l)>0&&(l=g.readTime)}),o.Ki.set(e,l)}function si(){return si=(0,Ae.Z)(function*(o,e,t,l){const f=qt(o);let g=hi(),D=ea();for(const i of t){const d=e.Ji(i.metadata.name);i.document&&(g=g.add(d));const m=e.Yi(i);m.setReadTime(e.Xi(i.metadata.readTime)),D=D.insert(d,m)}const u=f.Gi.newChangeBuffer({trackRemovals:!0}),s=yield Hu(f,(i=l,Ur(Kc(ri.fromString(`__bundle__/docs/${i}`)))));var i;return f.persistence.runTransaction("Apply bundle documents","readwrite",i=>mp(i,u,D).next(d=>(u.apply(i),d)).next(d=>f.Cs.removeMatchingKeysForTargetId(i,s.targetId).next(()=>f.Cs.addMatchingKeys(i,g,s.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(i,d.Wi,d.zi)).next(()=>d.Wi)))}),si.apply(this,arguments)}function vp(o,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,Ae.Z)(function*(o,e,t=hi()){const l=yield Hu(o,Ur(gc(e.bundledQuery))),f=qt(o);return f.persistence.runTransaction("Save named query","readwrite",g=>{const D=Lo(e.readTime);if(l.snapshotVersion.compareTo(D)>=0)return f.Ns.saveNamedQuery(g,e);const u=l.withResumeToken(Bn.EMPTY_BYTE_STRING,D);return f.Ui=f.Ui.insert(u.targetId,u),f.Cs.updateTargetData(g,u).next(()=>f.Cs.removeMatchingKeysForTargetId(g,l.targetId)).next(()=>f.Cs.addMatchingKeys(g,t,l.targetId)).next(()=>f.Ns.saveNamedQuery(g,e))})}),Gh.apply(this,arguments)}function Hd(o,e){return`firestore_clients_${o}_${e}`}function Ym(o,e,t){let l=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function bp(o,e){return`firestore_targets_${o}_${e}`}class jd{constructor(e,t,l,f){this.user=e,this.batchId=t,this.state=l,this.error=f}static Zi(e,t,l){const f=JSON.parse(l);let g,D="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return D&&f.error&&(D="string"==typeof f.error.message&&"string"==typeof f.error.code,D&&(g=new kt(f.error.code,f.error.message))),D?new jd(e,t,f.state,g):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wd{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static Zi(e,t){const l=JSON.parse(t);let f,g="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(f=new kt(l.error.code,l.error.message))),g?new Wd(e,l.state,f):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const l=JSON.parse(t);let f="object"==typeof l&&l.activeTargetIds instanceof Array,g=Id();for(let D=0;f&&D<l.activeTargetIds.length;++D)f=sc(l.activeTargetIds[D]),g=g.add(l.activeTargetIds[D]);return f?new Wu(e,g):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ep{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ep(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class na{constructor(){this.activeTargetIds=Id()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zh{constructor(e,t,l,f,g){this.window=e,this.Hs=t,this.persistenceKey=l,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new H($n),this.started=!1,this.cr=[];const D=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.ar=Hd(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new na),this.lr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const f of t){if(f===e.sr)continue;const g=e.getItem(Hd(e.persistenceKey,f));if(g){const D=Wu.Zi(f,g);D&&(e.ur=e.ur.insert(D.clientId,D))}}e.gr();const l=e.storage.getItem(e.wr);if(l){const f=e.yr(l);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((l,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,l){this.Tr(e,t,l),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(bp(this.persistenceKey,e));if(l){const f=Wd.Zi(e,l);f&&(t=f.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bp(this.persistenceKey,e))}updateQueryState(e,t,l){this.Rr(e,t,l)}handleUserChange(e,t,l){t.forEach(f=>{this.Er(f)}),this.currentUser=e,l.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ut("SharedClientState","READ",e,t),t}setItem(e,t){Ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(Ut("SharedClientState","EVENT",l.key,l.newValue),l.key===this.ar)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==l.key)if(t.lr.test(l.key)){if(null==l.newValue){const f=t.vr(l.key);return t.Vr(f,null)}{const f=t.Sr(l.key,l.newValue);if(f)return t.Vr(f.clientId,f)}}else if(t.dr.test(l.key)){if(null!==l.newValue){const f=t.Dr(l.key,l.newValue);if(f)return t.Cr(f)}}else if(t._r.test(l.key)){if(null!==l.newValue){const f=t.Nr(l.key,l.newValue);if(f)return t.kr(f)}}else if(l.key===t.wr){if(null!==l.newValue){const f=t.yr(l.newValue);if(f)return t.pr(f)}}else if(l.key===t.hr){const f=function(g){let D=T.at;if(null!=g)try{const u=JSON.parse(g);_n("number"==typeof u),D=u}catch(u){ar("SharedClientState","Failed to read sequence number from WebStorage",u)}return D}(l.newValue);f!==T.at&&t.sequenceNumberHandler(f)}else if(l.key===t.mr){const f=t.Or(l.newValue);yield Promise.all(f.map(g=>t.syncEngine.Mr(g)))}}else t.cr.push(l)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,l){const f=new jd(this.currentUser,e,t,l),g=Ym(this.persistenceKey,this.currentUser,e);this.setItem(g,f.tr())}Er(e){const t=Ym(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,l){const f=bp(this.persistenceKey,e),g=new Wd(e,t,l);this.setItem(f,g.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const l=this.vr(e);return Wu.Zi(l,t)}Dr(e,t){const l=this.dr.exec(e),f=Number(l[1]);return jd.Zi(new Or(void 0!==l[2]?l[2]:null),f,t)}Nr(e,t){const l=this._r.exec(e),f=Number(l[1]);return Wd.Zi(f,t)}yr(e){return Ep.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const l=t?this.ur.insert(e,t):this.ur.remove(e),f=this.Ir(this.ur),g=this.Ir(l),D=[],u=[];return g.forEach(s=>{f.has(s)||D.push(s)}),f.forEach(s=>{g.has(s)||u.push(s)}),this.syncEngine.Br(D,u).then(()=>{this.ur=l})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Id();return e.forEach((l,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class uu{constructor(){this.Lr=new na,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,l){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new na,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{qr(e){}shutdown(){}}class wc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kd{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Cp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,l,f,g){const D=this.ho(e,t);Ut("RestConnection","Sending: ",D,l);const u={};return this.lo(u,f,g),this.fo(e,D,u,l).then(s=>(Ut("RestConnection","Received: ",s),s),s=>{throw is("RestConnection",`${e} failed with error: `,s,"url: ",D,"request:",l),s})}_o(e,t,l,f,g,D){return this.ao(e,t,l,f,g)}lo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ji,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,g)=>e[g]=f),l&&l.headers.forEach((f,g)=>e[g]=f)}ho(e,t){return`${this.oo}/v1/${t}:${D_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,l,f){return new Promise((g,D)=>{const u=new Dl;u.setWithCredentials(!0),u.listenOnce(ec.COMPLETE,()=>{var i;try{switch(u.getLastErrorCode()){case Ba.NO_ERROR:const d=u.getResponseJson();Ut("Connection","XHR received:",JSON.stringify(d)),g(d);break;case Ba.TIMEOUT:Ut("Connection",'RPC "'+e+'" timed out'),D(new kt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Ba.HTTP_ERROR:const m=u.getStatus();if(Ut("Connection",'RPC "'+e+'" failed with status:',m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const F=null===(i=w)||void 0===i?void 0:i.error;if(F&&F.status&&F.message){const z=function(ne){const le=ne.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(le)>=0?le:pt.UNKNOWN}(F.status);D(new kt(z,F.message))}else D(new kt(pt.UNKNOWN,"Server responded with status "+u.getStatus()))}else D(new kt(pt.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Ut("Connection",'RPC "'+e+'" completed.')}});const s=JSON.stringify(f);u.send(t,"POST",s,l,15)})}wo(e,t,l){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=_s(),D=Cl(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new ol({})),this.lo(u.initMessageHeaders,t,l),u.encodeInitMessageHeaders=!0;const s=f.join("");Ut("Connection","Creating WebChannel: "+s,u);const i=g.createWebChannel(s,u);let d=!1,m=!1;const w=new Kd({Hr:z=>{m?Ut("Connection","Not sending because WebChannel is closed:",z):(d||(Ut("Connection","Opening WebChannel transport."),i.open(),d=!0),Ut("Connection","WebChannel sending:",z),i.send(z))},Jr:()=>i.close()}),F=(z,ne,le)=>{z.listen(ne,ke=>{try{le(ke)}catch(_t){setTimeout(()=>{throw _t},0)}})};return F(i,ga.EventType.OPEN,()=>{m||Ut("Connection","WebChannel transport opened.")}),F(i,ga.EventType.CLOSE,()=>{m||(m=!0,Ut("Connection","WebChannel transport closed"),w.io())}),F(i,ga.EventType.ERROR,z=>{m||(m=!0,is("Connection","WebChannel transport errored:",z),w.io(new kt(pt.UNAVAILABLE,"The operation could not be completed")))}),F(i,ga.EventType.MESSAGE,z=>{var ne;if(!m){const le=z.data[0];_n(!!le);const ke=le,_t=ke.error||(null===(ne=ke[0])||void 0===ne?void 0:ne.error);if(_t){Ut("Connection","WebChannel received error:",_t);const Jt=_t.status;let rn=function(Gt){const Fn=Yr[Gt];if(void 0!==Fn)return Ch(Fn)}(Jt),jt=_t.message;void 0===rn&&(rn=pt.INTERNAL,jt="Unknown error status: "+Jt+" with message "+_t.message),m=!0,w.io(new kt(rn,jt)),i.close()}else Ut("Connection","WebChannel received:",le),w.ro(le)}}),F(D,Vc.STAT_EVENT,z=>{z.stat===la.PROXY?Ut("Connection","Detected buffering proxy"):z.stat===la.NOPROXY&&Ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function Qm(){return typeof window<"u"?window:null}function Ku(){return typeof document<"u"?document:null}function Yh(o){return new Tm(o,!0)}class Dp{constructor(e,t,l=1e3,f=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=l,this.yo=f,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),l=Math.max(0,Date.now()-this.Eo),f=Math.max(0,t-l);f>0&&Ut("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class wp{constructor(e,t,l,f,g,D,u,s){this.Hs=e,this.vo=l,this.Vo=f,this.connection=g,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Dp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var l=this;return(0,Ae.Z)(function*(){l.Lo(),l.Uo(),l.xo.cancel(),l.So++,4!==e?l.xo.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),l.xo.Ao()):t&&t.code===pt.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.qo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,f])=>{this.So===t&&this.Go(l,f)},l=>{e(()=>{const f=new kt(pt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.Qo(f)})})}Go(e,t){const l=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{l(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{l(()=>this.Qo(f))}),this.stream.onMessage(f=>{l(()=>this.onMessage(f))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ip extends wp{constructor(e,t,l,f,g,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,f,D),this.It=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function l_(o,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(s=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===s?1:"REMOVE"===s?2:"CURRENT"===s?3:"RESET"===s?4:hn(),f=e.targetChange.targetIds||[],g=function(s,i){return s.gt?(_n(void 0===i||"string"==typeof i),Bn.fromBase64String(i||"")):(_n(void 0===i||i instanceof Uint8Array),Bn.fromUint8Array(i||new Uint8Array))}(o,e.targetChange.resumeToken),D=e.targetChange.cause,u=D&&function(s){const i=void 0===s.code?pt.UNKNOWN:Ch(s.code);return new kt(i,s.message||"")}(D);t=new Dh(l,f,g,u||null)}else if("documentChange"in e){const l=e.documentChange,f=qa(o,l.document.name),g=Lo(l.document.updateTime),D=new Mr({mapValue:{fields:l.document.fields}}),u=wi.newFoundDocument(f,g,D);t=new $f(l.targetIds||[],l.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const l=e.documentDelete,f=qa(o,l.document),g=l.readTime?Lo(l.readTime):wn.min(),D=wi.newNoDocument(f,g);t=new $f([],l.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const l=e.documentRemove,f=qa(o,l.document);t=new $f([],l.removedTargetIds||[],f,null)}else{if(!("filter"in e))return hn();{const l=e.filter,g=new pr(l.count||0);t=new wm(l.targetId,g)}}var s;return t}(this.It,e),l=function(f){if(!("targetChange"in f))return wn.min();const g=f.targetChange;return g.targetIds&&g.targetIds.length?wn.min():g.readTime?Lo(g.readTime):wn.min()}(e);return this.listener.Wo(t,l)}zo(e){const t={};t.database=Ih(this.It),t.addTarget=function(f,g){let D;const u=g.target;return D=za(u)?{documents:Rm(f,u)}:{query:Xc(f,u)},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?D.resumeToken=Md(f,g.resumeToken):g.snapshotVersion.compareTo(wn.min())>0&&(D.readTime=Qc(f,g.snapshotVersion.toTimestamp())),D}(this.It,e);const l=function Nu(o,e){const t=function(l,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Bo(t)}Ho(e){const t={};t.database=Ih(this.It),t.removeTarget=e,this.Bo(t)}}class Xa extends wp{constructor(e,t,l,f,g,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,f,D),this.It=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Py(o,e){return o&&o.length>0?(_n(void 0!==e),o.map(t=>function(l,f){let g=Lo(l.updateTime?l.updateTime:f);return g.isEqual(wn.min())&&(g=Lo(f)),new Ln(g,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=Lo(e.commitTime);return this.listener.Zo(l,t)}return _n(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ih(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>ku(this.It,l))};this.Bo(t)}}class $u extends class{}{constructor(e,t,l,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.It=f,this.nu=!1}su(){if(this.nu)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.ao(e,t,l,f,g)).catch(f=>{throw"FirebaseError"===f.name?(f.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new kt(pt.UNKNOWN,f.toString())})}_o(e,t,l,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection._o(e,t,l,g,D,f)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new kt(pt.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class Tp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):Ut("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Qh{constructor(e,t,l,f,g){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.qr(u=>{l.enqueueAndForget((0,Ae.Z)(function*(){var s;ml(D)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(s=(0,Ae.Z)(function*(i){const d=qt(i);d._u.add(4),yield Zu(d),d.gu.set("Unknown"),d._u.delete(4),yield Gu(d)}),function(i){return s.apply(this,arguments)})(D))}))}),this.gu=new Tp(l,f)}}function Gu(o){return du.apply(this,arguments)}function du(){return du=(0,Ae.Z)(function*(o){if(ml(o))for(const e of o.wu)yield e(!0)}),du.apply(this,arguments)}function Zu(o){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Ae.Z)(function*(o){for(const e of o.wu)yield e(!1)}),Ap.apply(this,arguments)}function qu(o,e){const t=qt(o);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Jh(t)?xp(t):Yd(t).ko()&&Xh(t,e))}function $d(o,e){const t=qt(o),l=Yd(t);t.du.delete(e),l.ko()&&Sp(t,e),0===t.du.size&&(l.ko()?l.Fo():ml(t)&&t.gu.set("Unknown"))}function Xh(o,e){o.yu.Mt(e.targetId),Yd(o).zo(e)}function Sp(o,e){o.yu.Mt(e),Yd(o).Ho(e)}function xp(o){o.yu=new Im({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),se:e=>o.du.get(e)||null}),Yd(o).start(),o.gu.uu()}function Jh(o){return ml(o)&&!Yd(o).No()&&o.du.size>0}function ml(o){return 0===qt(o)._u.size}function zd(o){o.yu=void 0}function Op(o){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,Ae.Z)(function*(o){o.du.forEach((e,t)=>{Xh(o,e)})}),Yu.apply(this,arguments)}function w_(o,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Ae.Z)(function*(o,e){zd(o),Jh(o)?(o.gu.hu(e),xp(o)):o.gu.set("Unknown")}),Pp.apply(this,arguments)}function Qu(o,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,Ae.Z)(function*(o,e,t){if(o.gu.set("Online"),e instanceof Dh&&2===e.state&&e.cause)try{yield(l=(0,Ae.Z)(function*(f,g){const D=g.cause;for(const u of g.targetIds)f.du.has(u)&&(yield f.remoteSyncer.rejectListen(u,D),f.du.delete(u),f.yu.removeTarget(u))}),function(f,g){return l.apply(this,arguments)})(o,e)}catch(l){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Gd(o,l)}else if(e instanceof $f?o.yu.Gt(e):e instanceof wm?o.yu.Yt(e):o.yu.Wt(e),!t.isEqual(wn.min()))try{const l=yield pp(o.localStore);t.compareTo(l)>=0&&(yield function(f,g){const D=f.yu.te(g);return D.targetChanges.forEach((u,s)=>{if(u.resumeToken.approximateByteSize()>0){const i=f.du.get(s);i&&f.du.set(s,i.withResumeToken(u.resumeToken,g))}}),D.targetMismatches.forEach(u=>{const s=f.du.get(u);if(!s)return;f.du.set(u,s.withResumeToken(Bn.EMPTY_BYTE_STRING,s.snapshotVersion)),Sp(f,u);const i=new Ll(s.target,u,1,s.sequenceNumber);Xh(f,i)}),f.remoteSyncer.applyRemoteEvent(D)}(o,t))}catch(l){Ut("RemoteStore","Failed to raise snapshot:",l),yield Gd(o,l)}var l}),ef.apply(this,arguments)}function Gd(o,e,t){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,Ae.Z)(function*(o,e,t){if(!bs(e))throw e;o._u.add(1),yield Zu(o),o.gu.set("Offline"),t||(t=()=>pp(o.localStore)),o.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield t(),o._u.delete(1),yield Gu(o)}))}),Xu.apply(this,arguments)}function Aa(o,e){return e().catch(t=>Gd(o,t,e))}function hu(o){return tf.apply(this,arguments)}function tf(){return tf=(0,Ae.Z)(function*(o){const e=qt(o),t=fu(e);let l=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Zd(e);)try{const f=yield E_(e.localStore,l);if(null===f){0===e.fu.length&&t.Fo();break}l=f.batchId,gl(e,f)}catch(f){yield Gd(e,f)}nf(e)&&Xm(e)}),tf.apply(this,arguments)}function Zd(o){return ml(o)&&o.fu.length<10}function gl(o,e){o.fu.push(e);const t=fu(o);t.ko()&&t.Yo&&t.Xo(e.mutations)}function nf(o){return ml(o)&&!fu(o).No()&&o.fu.length>0}function Xm(o){fu(o).start()}function Jm(o){return I_.apply(this,arguments)}function I_(){return I_=(0,Ae.Z)(function*(o){fu(o).eu()}),I_.apply(this,arguments)}function eg(o){return M_.apply(this,arguments)}function M_(){return M_=(0,Ae.Z)(function*(o){const e=fu(o);for(const t of o.fu)e.Xo(t.mutations)}),M_.apply(this,arguments)}function Rp(o,e,t){return qd.apply(this,arguments)}function qd(){return qd=(0,Ae.Z)(function*(o,e,t){const l=o.fu.shift(),f=eu.from(l,e,t);yield Aa(o,()=>o.remoteSyncer.applySuccessfulWrite(f)),yield hu(o)}),qd.apply(this,arguments)}function tg(o,e){return rf.apply(this,arguments)}function rf(){return rf=(0,Ae.Z)(function*(o,e){var t;e&&fu(o).Yo&&(yield(t=(0,Ae.Z)(function*(l,f){if(Zc(g=f.code)&&g!==pt.ABORTED){const D=l.fu.shift();fu(l).Mo(),yield Aa(l,()=>l.remoteSyncer.rejectFailedWrite(D.batchId,f)),yield hu(l)}var g}),function(l,f){return t.apply(this,arguments)})(o,e)),nf(o)&&Xm(o)}),rf.apply(this,arguments)}function sf(o,e){return T_.apply(this,arguments)}function T_(){return T_=(0,Ae.Z)(function*(o,e){const t=qt(o);t.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const l=ml(t);t._u.add(3),yield Zu(t),l&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Gu(t)}),T_.apply(this,arguments)}function ng(o,e){return ig.apply(this,arguments)}function ig(){return ig=(0,Ae.Z)(function*(o,e){const t=qt(o);e?(t._u.delete(2),yield Gu(t)):e||(t._u.add(2),yield Zu(t),t.gu.set("Unknown"))}),ig.apply(this,arguments)}function Yd(o){return o.pu||(o.pu=function(e,t,l){const f=qt(e);return f.su(),new Ip(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,l)}(o.datastore,o.asyncQueue,{Yr:Op.bind(null,o),Zr:w_.bind(null,o),Wo:Qu.bind(null,o)}),o.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(o.pu.Mo(),Jh(o)?xp(o):o.gu.set("Unknown")):(yield o.pu.stop(),zd(o))});return function(t){return e.apply(this,arguments)}}())),o.pu}function fu(o){return o.Iu||(o.Iu=function(e,t,l){const f=qt(e);return f.su(),new Xa(t,f.connection,f.authCredentials,f.appCheckCredentials,f.It,l)}(o.datastore,o.asyncQueue,{Yr:Jm.bind(null,o),Zr:tg.bind(null,o),tu:eg.bind(null,o),Zo:Rp.bind(null,o)}),o.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(o.Iu.Mo(),yield hu(o)):(yield o.Iu.stop(),o.fu.length>0&&(Ut("RemoteStore",`Stopping write stream with ${o.fu.length} pending writes`),o.fu=[]))});return function(t){return e.apply(this,arguments)}}())),o.Iu}class kp{constructor(e,t,l,f,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=f,this.removalCallback=g,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,l,f,g){const D=Date.now()+l,u=new kp(e,t,D,f,g);return u.start(l),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(o,e){if(ar("AsyncQueue",`${e}: ${o}`),bs(o))return new kt(pt.UNAVAILABLE,`${e}: ${o}`);throw o}class Ju{constructor(e){this.comparator=e?(t,l)=>e(t,l)||Yt.comparator(t.key,l.key):(t,l)=>Yt.comparator(t.key,l.key),this.keyedMap=wd(),this.sortedSet=new H(this.comparator)}static emptySet(e){return new Ju(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,g=l.getNext().key;if(!f.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new Ju;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class A_{constructor(){this.Tu=new H(Yt.comparator)}track(e){const t=e.doc.key,l=this.Tu.get(t);l?0!==e.type&&3===l.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==l.type?this.Tu=this.Tu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Tu=this.Tu.remove(t):1===e.type&&2===l.type?this.Tu=this.Tu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):hn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,l)=>{e.push(l)}),e}}class mu{constructor(e,t,l,f,g,D,u,s,i){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=f,this.mutatedKeys=g,this.fromCache=D,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=i}static fromInitialDocuments(e,t,l,f,g){const D=[];return t.forEach(u=>{D.push({type:0,doc:u})}),new mu(e,t,Ju.emptySet(t),D,l,f,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==l[f].type||!t[f].doc.isEqual(l[f].doc))return!1;return!0}}class rg{constructor(){this.Au=void 0,this.listeners=[]}}class Wy{constructor(){this.queries=new fc(e=>Ou(e),Lt),this.onlineState="Unknown",this.Ru=new Set}}function Qd(o,e){return S_.apply(this,arguments)}function S_(){return S_=(0,Ae.Z)(function*(o,e){const t=qt(o),l=e.query;let f=!1,g=t.queries.get(l);if(g||(f=!0,g=new rg),f)try{g.Au=yield t.onListen(l)}catch(D){const u=pu(D,`Initialization of query '${vd(e.query)}' failed`);return void e.onError(u)}t.queries.set(l,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&Xd(t)}),S_.apply(this,arguments)}function x_(o,e){return O_.apply(this,arguments)}function O_(){return O_=(0,Ae.Z)(function*(o,e){const t=qt(o),l=e.query;let f=!1;const g=t.queries.get(l);if(g){const D=g.listeners.indexOf(e);D>=0&&(g.listeners.splice(D,1),f=0===g.listeners.length)}if(f)return t.queries.delete(l),t.onUnlisten(l)}),O_.apply(this,arguments)}function jv(o,e){const t=qt(o);let l=!1;for(const f of e){const D=t.queries.get(f.query);if(D){for(const u of D.listeners)u.Pu(f)&&(l=!0);D.Au=f}}l&&Xd(t)}function Wv(o,e,t){const l=qt(o),f=l.queries.get(e);if(f)for(const g of f.listeners)g.onError(t);l.queries.delete(e)}function Xd(o){o.Ru.forEach(e=>{e.next()})}class P_{constructor(e,t,l){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=l||{}}Pu(e){if(!this.options.includeMetadataChanges){const l=[];for(const f of e.docChanges)3!==f.type&&l.push(f);e=new mu(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Kv{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Ky{constructor(e){this.It=e}Ji(e){return qa(this.It,e)}Yi(e){return e.metadata.exists?Mh(this.It,e.document,!1):wi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Lo(e)}}class $v{constructor(e,t,l){this.Mu=e,this.localStore=t,this.It=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ic(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const l=ri.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,l=new Ky(this.It);for(const f of e)if(f.metadata.queries){const g=l.Ji(f.metadata.name);for(const D of f.metadata.queries){const u=(t.get(D)||hi()).add(g);t.set(D,u)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function C_(o,e,t,l){return si.apply(this,arguments)}(e.localStore,new Ky(e.It),e.documents,e.Mu.id),l=e.$u(e.documents);for(const f of e.queries)yield vp(e.localStore,f,l.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ic(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Np{constructor(e){this.key=e}}class R_{constructor(e){this.key=e}}class og{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=hi(),this.mutatedKeys=hi(),this.Gu=hl(e),this.Qu=new Ju(this.Gu)}get ju(){return this.Uu}Wu(e,t){const l=t?t.zu:new A_,f=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,D=f,u=!1;const s="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,i="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((d,m)=>{const w=f.get(d),F=$c(this.query,m)?m:null,z=!!w&&this.mutatedKeys.has(w.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let le=!1;w&&F?w.data.isEqual(F.data)?z!==ne&&(l.track({type:3,doc:F}),le=!0):this.Hu(w,F)||(l.track({type:2,doc:F}),le=!0,(s&&this.Gu(F,s)>0||i&&this.Gu(F,i)<0)&&(u=!0)):!w&&F?(l.track({type:0,doc:F}),le=!0):w&&!F&&(l.track({type:1,doc:w}),le=!0,(s||i)&&(u=!0)),le&&(F?(D=D.add(F),g=ne?g.add(d):g.delete(d)):(D=D.delete(d),g=g.delete(d)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const d="F"===this.query.limitType?D.last():D.first();D=D.delete(d.key),g=g.delete(d.key),l.track({type:1,doc:d})}return{Qu:D,zu:l,$i:u,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const f=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((i,d)=>function(m,w){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return F(m)-F(w)}(i.type,d.type)||this.Gu(i.doc,d.doc)),this.Ju(l);const D=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==g.length||s?{snapshot:new mu(this.query,e.Qu,f,g,e.mutatedKeys,0===u,s,!1,!!l&&l.resumeToken.approximateByteSize()>0),Xu:D}:{Xu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new A_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=hi(),this.Qu.forEach(l=>{this.Zu(l.key)&&(this.Ku=this.Ku.add(l.key))});const t=[];return e.forEach(l=>{this.Ku.has(l)||t.push(new R_(l))}),this.Ku.forEach(l=>{e.has(l)||t.push(new Np(l))}),t}tc(e){this.Uu=e.Hi,this.Ku=hi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return mu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class sg{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class Lp{constructor(e){this.key=e,this.nc=!1}}class ag{constructor(e,t,l,f,g,D){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=f,this.currentUser=g,this.maxConcurrentLimboResolutions=D,this.sc={},this.ic=new fc(u=>Ou(u),Lt),this.rc=new Map,this.oc=new Set,this.uc=new H(Yt.comparator),this.cc=new Map,this.ac=new Hh,this.hc={},this.lc=new Map,this.fc=bc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function $y(o,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,Ae.Z)(function*(o,e){const t=hf(o);let l,f;const g=t.ic.get(e);if(g)l=g.targetId,t.sharedClientState.addLocalQueryTarget(l),f=g.view.ec();else{const D=yield Hu(t.localStore,Ur(e));t.isPrimaryClient&&qu(t.remoteStore,D);const u=t.sharedClientState.addLocalQueryTarget(D.targetId);l=D.targetId,f=yield Fp(t,e,l,"current"===u,D.resumeToken)}return f}),Wl.apply(this,arguments)}function Fp(o,e,t,l,f){return lg.apply(this,arguments)}function lg(){return lg=(0,Ae.Z)(function*(o,e,t,l,f){o._c=(m,w,F)=>{return(z=(0,Ae.Z)(function*(ne,le,ke,_t){let Jt=le.view.Wu(ke);Jt.$i&&(Jt=yield zh(ne.localStore,le.query,!1).then(({documents:Gt})=>le.view.Wu(Gt,Jt)));const rn=_t&&_t.targetChanges.get(le.targetId),jt=le.view.applyChanges(Jt,ne.isPrimaryClient,rn);return Wp(ne,le.targetId,jt.Xu),jt.snapshot}),function(ne,le,ke,_t){return z.apply(this,arguments)})(o,m,w,F);var z};const g=yield zh(o.localStore,e,!0),D=new og(e,g.Hi),u=D.Wu(g.documents),s=Ru.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==o.onlineState,f),i=D.applyChanges(u,o.isPrimaryClient,s);Wp(o,t,i.Xu);const d=new sg(e,t,D);return o.ic.set(e,d),o.rc.has(t)?o.rc.get(t).push(e):o.rc.set(t,[e]),i.snapshot}),lg.apply(this,arguments)}function zy(o,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,Ae.Z)(function*(o,e){const t=qt(o),l=t.ic.get(e),f=t.rc.get(l.targetId);if(f.length>1)return t.rc.set(l.targetId,f.filter(g=>!Lt(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield ju(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),$d(t.remoteStore,l.targetId),uf(t,l.targetId)}).catch(Zs))):(uf(t,l.targetId),yield ju(t.localStore,l.targetId,!0))}),Bp.apply(this,arguments)}function cg(){return cg=(0,Ae.Z)(function*(o,e,t){const l=mg(o);try{const f=yield function(g,D){const u=qt(g),s=hr.now(),i=D.reduce((w,F)=>w.add(F.key),hi());let d,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let F=ea(),z=hi();return u.Gi.getEntries(w,i).next(ne=>{F=ne,F.forEach((le,ke)=>{ke.isValidDocument()||(z=z.add(le))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,F)).next(ne=>{d=ne;const le=[];for(const ke of D){const _t=Dd(ke,d.get(ke.key).overlayedDocument);null!=_t&&le.push(new as(ke.key,_t,Ka(_t.value.mapValue),Dn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,s,le,D)}).next(ne=>{m=ne;const le=ne.applyToLocalDocumentSet(d,z);return u.documentOverlayCache.saveOverlays(w,ne.batchId,le)})}).then(()=>({batchId:m.batchId,changes:Cm(d)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(f.batchId),function(g,D,u){let s=g.hc[g.currentUser.toKey()];s||(s=new H($n)),s=s.insert(D,u),g.hc[g.currentUser.toKey()]=s}(l,f.batchId,t),yield Kl(l,f.changes),yield hu(l.remoteStore)}catch(f){const g=pu(f,"Failed to persist write");t.reject(g)}}),cg.apply(this,arguments)}function af(o,e){return gu.apply(this,arguments)}function gu(){return gu=(0,Ae.Z)(function*(o,e){const t=qt(o);try{const l=yield fa(t.localStore,e);e.targetChanges.forEach((f,g)=>{const D=t.cc.get(g);D&&(_n(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?D.nc=!0:f.modifiedDocuments.size>0?_n(D.nc):f.removedDocuments.size>0&&(_n(D.nc),D.nc=!1))}),yield Kl(t,l,e)}catch(l){yield Zs(l)}}),gu.apply(this,arguments)}function Up(o,e,t){const l=qt(o);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const f=[];l.ic.forEach((g,D)=>{const u=D.view.bu(e);u.snapshot&&f.push(u.snapshot)}),function(g,D){const u=qt(g);u.onlineState=D;let s=!1;u.queries.forEach((i,d)=>{for(const m of d.listeners)m.bu(D)&&(s=!0)}),s&&Xd(u)}(l.eventManager,e),f.length&&l.sc.Wo(f),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Jd(o,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,Ae.Z)(function*(o,e,t){const l=qt(o);l.sharedClientState.updateQueryState(e,"rejected",t);const f=l.cc.get(e),g=f&&f.key;if(g){let D=new H(Yt.comparator);D=D.insert(g,wi.newNoDocument(g,wn.min()));const u=hi().add(g),s=new Yc(wn.min(),new Map,new me($n),D,u);yield af(l,s),l.uc=l.uc.remove(g),l.cc.delete(e),df(l)}else yield ju(l.localStore,e,!1).then(()=>uf(l,e,t)).catch(Zs)}),eh.apply(this,arguments)}function Vp(o,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,Ae.Z)(function*(o,e){const t=qt(o),l=e.batch.batchId;try{const f=yield b_(t.localStore,e);jp(t,l,null),th(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield Kl(t,f)}catch(f){yield Zs(f)}}),Hp.apply(this,arguments)}function k_(o,e,t){return lf.apply(this,arguments)}function lf(){return lf=(0,Ae.Z)(function*(o,e,t){const l=qt(o);try{const f=yield function(g,D){const u=qt(g);return u.persistence.runTransaction("Reject batch","readwrite-primary",s=>{let i;return u.mutationQueue.lookupMutationBatch(s,D).next(d=>(_n(null!==d),i=d.keys(),u.mutationQueue.removeMutationBatch(s,d))).next(()=>u.mutationQueue.performConsistencyCheck(s)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(s,i,D)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,i)).next(()=>u.localDocuments.getDocuments(s,i))})}(l.localStore,e);jp(l,e,t),th(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield Kl(l,f)}catch(f){yield Zs(f)}}),lf.apply(this,arguments)}function cf(){return cf=(0,Ae.Z)(function*(o,e){const t=qt(o);ml(t.remoteStore)||Ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(g){const D=qt(g);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>D.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===l)return void e.resolve();const f=t.lc.get(l)||[];f.push(e),t.lc.set(l,f)}catch(l){const f=pu(l,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),cf.apply(this,arguments)}function th(o,e){(o.lc.get(e)||[]).forEach(t=>{t.resolve()}),o.lc.delete(e)}function jp(o,e,t){const l=qt(o);let f=l.hc[l.currentUser.toKey()];if(f){const g=f.get(e);g&&(t?g.reject(t):g.resolve(),f=f.remove(e)),l.hc[l.currentUser.toKey()]=f}}function uf(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const l of o.rc.get(e))o.ic.delete(l),t&&o.sc.wc(l,t);o.rc.delete(e),o.isPrimaryClient&&o.ac.ls(e).forEach(l=>{o.ac.containsKey(l)||N_(o,l)})}function N_(o,e){o.oc.delete(e.path.canonicalString());const t=o.uc.get(e);null!==t&&($d(o.remoteStore,t),o.uc=o.uc.remove(e),o.cc.delete(t),df(o))}function Wp(o,e,t){for(const l of t)l instanceof Np?(o.ac.addReference(l.key,e),Zy(o,l)):l instanceof R_?(Ut("SyncEngine","Document no longer in limbo: "+l.key),o.ac.removeReference(l.key,e),o.ac.containsKey(l.key)||N_(o,l.key)):hn()}function Zy(o,e){const t=e.key,l=t.path.canonicalString();o.uc.get(t)||o.oc.has(l)||(Ut("SyncEngine","New document in limbo: "+t),o.oc.add(l),df(o))}function df(o){for(;o.oc.size>0&&o.uc.size<o.maxConcurrentLimboResolutions;){const e=o.oc.values().next().value;o.oc.delete(e);const t=new Yt(ri.fromString(e)),l=o.fc.next();o.cc.set(l,new Lp(t)),o.uc=o.uc.insert(t,l),qu(o.remoteStore,new Ll(Ur(Kc(t.path)),l,2,T.at))}}function Kl(o,e,t){return dg.apply(this,arguments)}function dg(){return dg=(0,Ae.Z)(function*(o,e,t){const l=qt(o),f=[],g=[],D=[];var u;l.ic.isEmpty()||(l.ic.forEach((u,s)=>{D.push(l._c(s,e,t).then(i=>{if((i||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(s.targetId,i?.fromCache?"not-current":"current"),i){f.push(i);const d=Vu.Ci(s.targetId,i);g.push(d)}}))}),yield Promise.all(D),l.sc.Wo(f),yield(u=(0,Ae.Z)(function*(s,i){const d=qt(s);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ct.forEach(i,w=>ct.forEach(w.Si,F=>d.persistence.referenceDelegate.addReference(m,w.targetId,F)).next(()=>ct.forEach(w.Di,F=>d.persistence.referenceDelegate.removeReference(m,w.targetId,F)))))}catch(m){if(!bs(m))throw m;Ut("LocalStore","Failed to update sequence numbers: "+m)}for(const m of i){const w=m.targetId;if(!m.fromCache){const F=d.Ui.get(w),ne=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);d.Ui=d.Ui.insert(w,ne)}}}),function(s,i){return u.apply(this,arguments)})(l.localStore,g))}),dg.apply(this,arguments)}function Sa(o,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Ae.Z)(function*(o,e){const t=qt(o);if(!t.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const l=yield v_(t.localStore,e);t.currentUser=e,(f=t).lc.forEach(D=>{D.forEach(u=>{u.reject(new kt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.lc.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield Kl(t,l.ji)}var f}),Kp.apply(this,arguments)}function qy(o,e){const t=qt(o),l=t.cc.get(e);if(l&&l.nc)return hi().add(l.key);{let f=hi();const g=t.rc.get(e);if(!g)return f;for(const D of g){const u=t.ic.get(D);f=f.unionWith(u.view.ju)}return f}}function zv(o,e){return hg.apply(this,arguments)}function hg(){return hg=(0,Ae.Z)(function*(o,e){const t=qt(o),l=yield zh(t.localStore,e.query,!0),f=e.view.tc(l);return t.isPrimaryClient&&Wp(t,e.targetId,f.Xu),f}),hg.apply(this,arguments)}function fg(o,e){return $p.apply(this,arguments)}function $p(){return $p=(0,Ae.Z)(function*(o,e){const t=qt(o);return qm(t.localStore,e).then(l=>Kl(t,l))}),$p.apply(this,arguments)}function Yy(o,e,t,l){return pg.apply(this,arguments)}function pg(){return pg=(0,Ae.Z)(function*(o,e,t,l){const f=qt(o),g=yield function(D,u){const s=qt(D),i=qt(s.mutationQueue);return s.persistence.runTransaction("Lookup mutation documents","readonly",d=>i.Tn(d,u).next(m=>m?s.localDocuments.getDocuments(d,m):ct.resolve(null)))}(f.localStore,e);var u;null!==g?("pending"===t?yield hu(f.remoteStore):"acknowledged"===t||"rejected"===t?(jp(f,e,l||null),th(f,e),u=e,qt(qt(f.localStore).mutationQueue).An(u)):hn(),yield Kl(f,g)):Ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),pg.apply(this,arguments)}function zp(){return zp=(0,Ae.Z)(function*(o,e){const t=qt(o);if(hf(t),mg(t),!0===e&&!0!==t.dc){const l=t.sharedClientState.getAllActiveQueryTargets(),f=yield L_(t,l.toArray());t.dc=!0,yield ng(t.remoteStore,!0);for(const g of f)qu(t.remoteStore,g)}else if(!1===e&&!1!==t.dc){const l=[];let f=Promise.resolve();t.rc.forEach((g,D)=>{t.sharedClientState.isLocalQueryTarget(D)?l.push(D):f=f.then(()=>(uf(t,D),ju(t.localStore,D,!0))),$d(t.remoteStore,D)}),yield f,yield L_(t,l),function(g){const D=qt(g);D.cc.forEach((u,s)=>{$d(D.remoteStore,s)}),D.ac.fs(),D.cc=new Map,D.uc=new H(Yt.comparator)}(t),t.dc=!1,yield ng(t.remoteStore,!1)}}),zp.apply(this,arguments)}function L_(o,e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ae.Z)(function*(o,e,t){const l=qt(o),f=[],g=[];for(const D of e){let u;const s=l.rc.get(D);if(s&&0!==s.length){u=yield Hu(l.localStore,Ur(s[0]));for(const i of s){const d=l.ic.get(i),m=yield zv(l,d);m.snapshot&&g.push(m.snapshot)}}else{const i=yield _p(l.localStore,D);u=yield Hu(l.localStore,i),yield Fp(l,F_(i),D,!1,u.resumeToken)}f.push(u)}return l.sc.Wo(g),f}),Gp.apply(this,arguments)}function F_(o){return Uf(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Xy(o){const e=qt(o);return qt(qt(e.localStore).persistence).vi()}function B_(o,e,t,l){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ae.Z)(function*(o,e,t,l){const f=qt(o);if(f.dc)return void Ut("SyncEngine","Ignoring unexpected query state notification.");const g=f.rc.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const D=yield qm(f.localStore,wa(g[0])),u=Yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Bn.EMPTY_BYTE_STRING);yield Kl(f,D,u);break}case"rejected":yield ju(f.localStore,e,!0),uf(f,e,l);break;default:hn()}}),Zp.apply(this,arguments)}function Jy(o,e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,Ae.Z)(function*(o,e,t){const l=hf(o);if(l.dc){for(const f of e){if(l.rc.has(f)){Ut("SyncEngine","Adding an already active target "+f);continue}const g=yield _p(l.localStore,f),D=yield Hu(l.localStore,g);yield Fp(l,F_(g),D.targetId,!1,D.resumeToken),qu(l.remoteStore,D)}for(const f of t)l.rc.has(f)&&(yield ju(l.localStore,f,!1).then(()=>{$d(l.remoteStore,f),uf(l,f)}).catch(Zs))}}),Ja.apply(this,arguments)}function hf(o){const e=qt(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=af.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jd.bind(null,e),e.sc.Wo=jv.bind(null,e.eventManager),e.sc.wc=Wv.bind(null,e.eventManager),e}function mg(o){const e=qt(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k_.bind(null,e),e}class tv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.It=Yh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Vd(this.persistence,new fp,e.initialUser,this.It)}yc(e){return new cp(Ud.Bs,this.It)}gc(e){return new uu}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gg extends tv{constructor(e,t,l){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,Ae.Z)(function*(){yield t().call(l,e),yield l.Ac.initialize(l,e),yield mg(l.Ac.syncEngine),yield hu(l.Ac.remoteStore),yield l.persistence.li(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Vd(this.persistence,new fp,e.initialUser,this.It)}Tc(e,t){return new Hy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const l=new Ca(t,this.persistence);return new qs(e.asyncQueue,l)}yc(e){const t=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new au(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,Qm(),Ku(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new uu}}class nv extends gg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,Ae.Z)(function*(){yield t().call(l,e);const f=l.Ac.syncEngine;l.sharedClientState instanceof Zh&&(l.sharedClientState.syncEngine={Fr:Yy.bind(null,f),$r:B_.bind(null,f),Br:Jy.bind(null,f),vi:Xy.bind(null,f),Mr:fg.bind(null,f)},yield l.sharedClientState.start()),yield l.persistence.li(function(){var g=(0,Ae.Z)(function*(D){yield function Qy(o,e){return zp.apply(this,arguments)}(l.Ac.syncEngine,D),l.gcScheduler&&(D&&!l.gcScheduler.started?l.gcScheduler.start():D||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(D&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():D||l.indexBackfillerScheduler.stop())});return function(D){return g.apply(this,arguments)}}())})()}gc(e){const t=Qm();if(!Zh.C(t))throw new kt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zh(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class ff{initialize(e,t){var l=this;return(0,Ae.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=f=>Up(l.syncEngine,f,1),l.remoteStore.remoteSyncer.handleCredentialChange=Sa.bind(null,l.syncEngine),yield ng(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wy}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),l=new Cp(e.databaseInfo);return new $u(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,f=e.asyncQueue,g=u=>Up(this.syncEngine,u,0),D=wc.C()?new wc:new qh,new Qh(t,l,f,g,D);var t,l,f,g,D}createSyncEngine(e,t){return function(l,f,g,D,u,s,i){const d=new ag(l,f,g,D,u,s);return i&&(d.dc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const l=qt(t);Ut("RemoteStore","RemoteStore shutting down."),l._u.add(5),yield Zu(l),l.mu.shutdown(),l.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _g(o,e,t){if(!t)throw new kt(pt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function qp(o,e,t,l){if(!0===e&&!0===l)throw new kt(pt.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function U_(o){if(!Yt.isDocumentKey(o))throw new kt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function V_(o){if(Yt.isDocumentKey(o))throw new kt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function ed(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(t=o).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof o?"a function":hn()}function Ai(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new kt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ed(o);throw new kt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function pf(o,e){if(e<=0)throw new kt(pt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}const iv=new Map;class Yp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,t,l,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Il;switch(t.type){case"gapi":return new nc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iv.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),iv.delete(e),t.terminate())}(this),Promise.resolve()}}class Nr{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class cs{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class el extends cs{constructor(e,t,l){super(e,t,Kc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Yt(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function mf(o,e,...t){if(o=(0,We.m9)(o),_g("collection","path",e),o instanceof Qp){const l=ri.fromString(e,...t);return V_(l),new el(o,null,l)}{if(!(o instanceof Nr||o instanceof el))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(ri.fromString(e,...t));return V_(l),new el(o.firestore,null,l)}}function td(o,e,...t){if(o=(0,We.m9)(o),1===arguments.length&&(e=Ro.R()),_g("doc","path",e),o instanceof Qp){const l=ri.fromString(e,...t);return U_(l),new Nr(o,null,new Yt(l))}{if(!(o instanceof Nr||o instanceof el))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(ri.fromString(e,...t));return U_(l),new Nr(o.firestore,o instanceof el?o.converter:null,new Yt(l))}}function gf(o,e){return o=(0,We.m9)(o),e=(0,We.m9)(e),(o instanceof Nr||o instanceof el)&&(e instanceof Nr||e instanceof el)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function nd(o,e){return o=(0,We.m9)(o),e=(0,We.m9)(e),o instanceof cs&&e instanceof cs&&o.firestore===e.firestore&&Lt(o._query,e._query)&&o.converter===e.converter}function vg(o,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<o.byteLength){const l={value:o.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class H_{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ir,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(l=>{l&&l.Ou()?this.metadata.resolve(l.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.ku)}`))},l=>this.metadata.reject(l))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const l=e.vc.decode(t),f=Number(l);isNaN(f)&&e.Dc(`length string (${l}) is not valid number`);const g=yield e.Cc(f);return new Kv(JSON.parse(g),t.length+f)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}Cc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const l=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class ov{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(f=(0,Ae.Z)(function*(g,D){const u=qt(g),s=Ih(u.It)+"/documents",i={documents:D.map(F=>Ad(u.It,F))},d=yield u._o("BatchGetDocuments",s,i,D.length),m=new Map;d.forEach(F=>{const z=function Pm(o,e){return"found"in e?function(t,l){_n(!!l.found);const f=qa(t,l.found.name),g=Lo(l.found.updateTime),D=new Mr({mapValue:{fields:l.found.fields}});return wi.newFoundDocument(f,g,D)}(o,e):"missing"in e?function(t,l){_n(!!l.missing),_n(!!l.readTime);const f=qa(t,l.missing),g=Lo(l.readTime);return wi.newNoDocument(f,g)}(o,e):hn()}(u.It,F);m.set(z.key.toString(),z)});const w=[];return D.forEach(F=>{const z=m.get(F.toString());_n(!!z),w.push(z)}),w}),function(g,D){return f.apply(this,arguments)})(t.datastore,e);var f;return l.forEach(f=>t.recordVersion(f)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ma(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,f)=>{const g=Yt.fromPath(f);e.mutations.push(new Za(g,e.precondition(g)))}),yield(l=(0,Ae.Z)(function*(f,g){const D=qt(f),u=Ih(D.It)+"/documents",s={writes:g.map(i=>ku(D.It,i))};yield D.ao("Commit",u,s)}),function(f,g){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hn();t=wn.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new kt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wn.min())?Dn.exists(!1):Dn.updateTime(t):Dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wn.min()))throw new kt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(t)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zv{constructor(e,t,l,f,g){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=f,this.deferred=g,this.kc=l.maxAttempts,this.xo=new Dp(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ae.Z)(function*(){const t=new ov(e.datastore),l=e.Mc(t);l&&l.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(g=>{e.Fc(g)}))}).catch(f=>{e.Fc(f)})}))}Mc(e){try{const t=this.updateFunction(e);return!Io(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Zc(t)}return!1}}class sv{constructor(e,t,l,f){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=f,this.user=Or.UNAUTHENTICATED,this.clientId=Ro.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var D=(0,Ae.Z)(function*(u){Ut("FirestoreClient","Received user=",u.uid),yield g.authCredentialListener(u),g.user=u});return function(u){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(l,D=>(Ut("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const f=pu(l,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function av(o,e){return bg.apply(this,arguments)}function bg(){return bg=(0,Ae.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield o.getConfiguration();yield e.initialize(t);let l=t.initialUser;o.setCredentialChangeListener(function(){var f=(0,Ae.Z)(function*(g){l.isEqual(g)||(yield v_(e.localStore,g),l=g)});return function(g){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o.offlineComponents=e}),bg.apply(this,arguments)}function j_(o,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,Ae.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield Xp(o);Ut("FirestoreClient","Initializing OnlineComponentProvider");const l=yield o.getConfiguration();yield e.initialize(t,l),o.setCredentialChangeListener(f=>sf(e.remoteStore,f)),o.setAppCheckTokenChangeListener((f,g)=>sf(e.remoteStore,g)),o.onlineComponents=e}),Eg.apply(this,arguments)}function Xp(o){return yf.apply(this,arguments)}function yf(){return yf=(0,Ae.Z)(function*(o){return o.offlineComponents||(Ut("FirestoreClient","Using default OfflineComponentProvider"),yield av(o,new tv)),o.offlineComponents}),yf.apply(this,arguments)}function Jp(o){return vf.apply(this,arguments)}function vf(){return vf=(0,Ae.Z)(function*(o){return o.onlineComponents||(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield j_(o,new ff)),o.onlineComponents}),vf.apply(this,arguments)}function W_(o){return Xp(o).then(e=>e.persistence)}function em(o){return Xp(o).then(e=>e.localStore)}function Cg(o){return Jp(o).then(e=>e.remoteStore)}function Dg(o){return Jp(o).then(e=>e.syncEngine)}function ih(o){return rh.apply(this,arguments)}function rh(){return rh=(0,Ae.Z)(function*(o){const e=yield Jp(o),t=e.eventManager;return t.onListen=$y.bind(null,e.syncEngine),t.onUnlisten=zy.bind(null,e.syncEngine),t}),rh.apply(this,arguments)}function $_(o,e,t={}){const l=new ir;return o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(f,g,D,u,s){const i=new nh({next:m=>{g.enqueueAndForget(()=>x_(f,d));const w=m.docs.has(D);!w&&m.fromCache?s.reject(new kt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&u&&"server"===u.source?s.reject(new kt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(m)},error:m=>s.reject(m)}),d=new P_(Kc(D.path),i,{includeMetadataChanges:!0,Nu:!0});return Qd(f,d)}(yield ih(o),o.asyncQueue,e,t,l)})),l.promise}function tm(o,e,t={}){const l=new ir;return o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(f,g,D,u,s){const i=new nh({next:m=>{g.enqueueAndForget(()=>x_(f,d)),m.fromCache&&"server"===u.source?s.reject(new kt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(m)},error:m=>s.reject(m)}),d=new P_(D,i,{includeMetadataChanges:!0,Nu:!0});return Qd(f,d)}(yield ih(o),o.asyncQueue,e,t,l)})),l.promise}class Us{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Dp(this,"async_queue_retry"),this.Wc=()=>{const t=Ku();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Ku();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ir;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!bs(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(l=>{throw this.Kc=l,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(l)),l}).then(l=>(this.Gc=!1,l))));return this.Bc=t,t}enqueueAfterDelay(e,t,l){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const f=kp.createAndSchedule(this,e,t,l,g=>this.Yc(g));return this.qc.push(f),f}zc(){this.Kc&&hn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Tc(o){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(o)}class nm{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mr extends Qp{constructor(e,t,l,f){super(e,t,l,f),this.type="firestore",this._queue=new Us,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ac(this),this._firestoreClient.terminate()}}function Tr(o){return o._firestoreClient||Ac(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Ac(o){var e;const t=o._freezeSettings(),l=(g=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new ll(o._databaseId,g,o._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var g,u;o._firestoreClient=new sv(o._authCredentials,o._appCheckCredentials,o._queue,l)}function yu(o,e,t){const l=new ir;return o.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield av(o,t),yield j_(o,e),l.resolve()}catch(f){const g=f;if(!("FirebaseError"===(D=g).name?D.code===pt.FAILED_PRECONDITION||D.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw g;is("Error enabling offline persistence. Falling back to persistence disabled: "+g),l.reject(g)}var D})).then(()=>l.promise)}function Df(o){if(o._initialized||o._terminated)throw new kt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Bn.fromBase64String(e))}catch(t){throw new kt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._methodName=e}}class sh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $n(this._lat,e._lat)||$n(this._long,e._long)}}const Ig=/^__.*__$/;class Q_{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rl(e,this.data,t,this.fieldTransforms)}}class zl{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new as(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ah(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class bu{constructor(e,t,l,f,g,D){this.settings=e,this.databaseId=t,this.It=l,this.ignoreUndefinedProperties=f,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=D||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new bu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:l,oa:!1});return f.ua(e),f}ca(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.ia({path:l,oa:!1});return f.na(),f}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Mf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ah(this.sa)&&Ig.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class uv{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=l||Yh(e)}da(e,t,l,f=!1){return new bu({sa:e,methodName:t,fa:l,path:oi.emptyPath(),oa:!1,la:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Gl(o){const e=o._freezeSettings(),t=Yh(o._databaseId);return new uv(o._databaseId,!!e.ignoreUndefinedProperties,t)}function xc(o,e,t,l,f,g={}){const D=o.da(g.merge||g.mergeFields?2:0,e,t,f);om("Data must be an object, but it was:",D,l);const u=If(l,D);let s,i;if(g.merge)s=new Tn(D.fieldMask),i=D.fieldTransforms;else if(g.mergeFields){const d=[];for(const m of g.mergeFields){const w=sm(e,m,t);if(!D.contains(w))throw new kt(pt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ag(d,w)||d.push(w)}s=new Tn(d),i=D.fieldTransforms.filter(m=>s.covers(m.field))}else s=null,i=D.fieldTransforms;return new Q_(new Mr(u),s,i)}class Eu extends vu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eu}}function Mg(o,e,t){return new bu({sa:3,fa:e.settings.fa,methodName:o._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class sd extends vu{_toFieldTransform(e){return new Mt(e.path,new zc)}isEqual(e){return e instanceof sd}}class ad extends vu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Mg(this,e,!0),l=this._a.map(g=>Zl(g,t)),f=new S(l);return new Mt(e.path,f)}isEqual(e){return this===e}}class X_ extends vu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Mg(this,e,!0),l=this._a.map(g=>Zl(g,t)),f=new C(l);return new Mt(e.path,f)}isEqual(e){return this===e}}class Tg extends vu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Y(e.It,jf(e.It,this.wa));return new Mt(e.path,t)}isEqual(e){return this===e}}function wf(o,e,t,l){const f=o.da(1,e,t);om("Data must be an object, but it was:",f,l);const g=[],D=Mr.empty();M(l,(s,i)=>{const d=lh(e,s,t);i=(0,We.m9)(i);const m=f.ca(d);if(i instanceof Eu)g.push(d);else{const w=Zl(i,m);null!=w&&(g.push(d),D.set(d,w))}});const u=new Tn(g);return new zl(D,u,f.fieldTransforms)}function im(o,e,t,l,f,g){const D=o.da(1,e,t),u=[sm(e,l,t)],s=[f];if(g.length%2!=0)throw new kt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<g.length;w+=2)u.push(sm(e,g[w])),s.push(g[w+1]);const i=[],d=Mr.empty();for(let w=u.length-1;w>=0;--w)if(!Ag(i,u[w])){const F=u[w];let z=s[w];z=(0,We.m9)(z);const ne=D.ca(F);if(z instanceof Eu)i.push(F);else{const le=Zl(z,ne);null!=le&&(i.push(F),d.set(F,le))}}const m=new Tn(i);return new zl(d,m,D.fieldTransforms)}function rm(o,e,t,l=!1){return Zl(t,o.da(l?4:3,e))}function Zl(o,e){if(J_(o=(0,We.m9)(o)))return om("Unsupported field value:",e,o),If(o,e);if(o instanceof vu)return function(t,l){if(!ah(l.sa))throw l.ha(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l.ha(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,l){const f=[];let g=0;for(const D of t){let u=Zl(D,l.aa(g));null==u&&(u={nullValue:"NULL_VALUE"}),f.push(u),g++}return{arrayValue:{values:f}}}(o,e)}return function(t,l){if(null===(t=(0,We.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jf(l.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=hr.fromDate(t);return{timestampValue:Qc(l.It,f)}}if(t instanceof hr){const f=new hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qc(l.It,f)}}if(t instanceof sh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:Md(l.It,t._byteString)};if(t instanceof Nr){const f=l.databaseId,g=t.firestore._databaseId;if(!g.isEqual(f))throw l.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Td(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l.ha(`Unsupported field value: ${ed(t)}`)}(o,e)}function If(o,e){const t={};return L(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):M(o,(l,f)=>{const g=Zl(f,e.ra(l));null!=g&&(t[l]=g)}),{mapValue:{fields:t}}}function J_(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof hr||o instanceof sh||o instanceof tl||o instanceof Nr||o instanceof vu)}function om(o,e,t){if(!J_(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=ed(t);throw e.ha("an object"===l?o+" a custom object":o+" "+l)}var l}function sm(o,e,t){if((e=(0,We.m9)(e))instanceof _l)return e._internalPath;if("string"==typeof e)return lh(o,e);throw Mf("Field path arguments must be of type string or ",o,!1,void 0,t)}const ey=new RegExp("[~\\*/\\[\\]]");function lh(o,e,t){if(e.search(ey)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new _l(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function Mf(o,e,t,l,f){const g=l&&!l.isEmpty(),D=void 0!==f;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let s="";return(g||D)&&(s+=" (found",g&&(s+=` in field ${l}`),D&&(s+=` in document ${f}`),s+=")"),new kt(pt.INVALID_ARGUMENT,u+o+s)}function Ag(o,e){return o.some(t=>t.isEqual(e))}class ch{constructor(e,t,l,f,g){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=f,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sg extends ch{data(){return super.data()}}function uh(o,e){return"string"==typeof e?lh(o,e):e instanceof _l?e._internalPath:e._delegate._internalPath}function xg(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new kt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dh{}function Oc(o,...e){for(const t of e)o=t._apply(o);return o}class ty extends dh{constructor(e,t,l){super(),this.ma=e,this.ga=t,this.ya=l,this.type="where"}_apply(e){const t=Gl(e.firestore),l=function(f,g,D,u,s,i,d){let m;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new kt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){ay(d,i);const F=[];for(const z of d)F.push(kg(u,f,z));m={arrayValue:{values:F}}}else m=kg(u,f,d)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||ay(d,i),m=rm(D,"where",d,"in"===i||"not-in"===i);const w=qo.create(s,i,m);return function(F,z){if(z.dt()){const le=yd(F);if(null!==le&&!le.isEqual(z.field))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${le.toString()}' and '${z.field.toString()}'`);const ke=xu(F);null!==ke&&Ng(0,z.field,ke)}const ne=function(le,ke){for(const _t of le.filters)if(ke.indexOf(_t.op)>=0)return _t.op;return null}(F,function(le){switch(le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==ne)throw new kt(pt.INVALID_ARGUMENT,ne===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${ne.toString()}' filters.`)}(f,w),w}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new cs(e.firestore,e.converter,function(f,g){const D=f.filters.concat([g]);return new ul(f.path,f.collectionGroup,f.explicitOrderBy.slice(),D,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,l))}}class iy extends dh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(l,f,g){if(null!==l.startAt)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Js(f,g);return function(u,s){if(null===xu(u)){const i=yd(u);null!==i&&Ng(0,i,s.field)}}(l,D),D}(e._query,this.ma,this.pa);return new cs(e.firestore,e.converter,function(l,f){const g=l.explicitOrderBy.concat([f]);return new ul(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}class Og extends dh{constructor(e,t,l){super(),this.type=e,this.Ia=t,this.Ta=l}_apply(e){return new cs(e.firestore,e.converter,Pl(e._query,this.Ia,this.Ta))}}class ry extends dh{constructor(e,t,l){super(),this.type=e,this.Ea=t,this.Aa=l}_apply(e){const t=sy(e,this.type,this.Ea,this.Aa);return new cs(e.firestore,e.converter,(f=t,new ul((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}class Fo extends dh{constructor(e,t,l){super(),this.type=e,this.Ea=t,this.Aa=l}_apply(e){const t=sy(e,this.type,this.Ea,this.Aa);return new cs(e.firestore,e.converter,(f=t,new ul((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,f)));var l,f}}function sy(o,e,t,l){if(t[0]=(0,We.m9)(t[0]),t[0]instanceof ch)return function(f,g,D,u,s){if(!u)throw new kt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const i=[];for(const d of Da(f))if(d.field.isKeyField())i.push(Q(g,u.key));else{const m=u.data.field(d.field);if(Ys(m))throw new kt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const w=d.field.canonicalString();throw new kt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}i.push(m)}return new cl(i,s)}(o._query,o.firestore._databaseId,e,t[0]._document,l);{const f=Gl(o.firestore);return function(g,D,u,s,i,d){const m=g.explicitOrderBy;if(i.length>m.length)throw new kt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${s}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let F=0;F<i.length;F++){const z=i[F];if(m[F].field.isKeyField()){if("string"!=typeof z)throw new kt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${s}(), but got a ${typeof z}`);if(!dl(g)&&-1!==z.indexOf("/"))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${s}() must be a plain document ID, but '${z}' contains a slash.`);const ne=g.path.child(ri.fromString(z));if(!Yt.isDocumentKey(ne))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${s}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const le=new Yt(ne);w.push(Q(D,le))}else{const ne=rm(u,s,z);w.push(ne)}}return new cl(w,d)}(o._query,o.firestore._databaseId,f,e,t,l)}}function kg(o,e,t){if("string"==typeof(t=(0,We.m9)(t))){if(""===t)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dl(e)&&-1!==t.indexOf("/"))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(ri.fromString(t));if(!Yt.isDocumentKey(l))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Q(o,new Yt(l))}if(t instanceof Nr)return Q(o,t._key);throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(t)}.`)}function ay(o,e){if(!Array.isArray(o)||0===o.length)throw new kt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(o.length>10)throw new kt(pt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ng(o,e,t){if(!t.isEqual(e))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lm{convertValue(e,t="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){const l={};return M(e.fields,(f,g)=>{l[f]=this.convertValue(g,t)}),l}convertGeoPoint(e){return new sh($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Ns(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(ko(e));default:return null}}convertTimestamp(e){const t=io(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=ri.fromString(e);_n(Zf(l));const f=new Qs(l.get(1),l.get(3)),g=new Yt(l.popFirst(5));return f.isEqual(t)||ar(`Document ${g} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function ql(o,e,t){let l;return l=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,l}class fv extends lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}class ld{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends ch{constructor(e,t,l,f,g,D){super(e,t,l,f,D),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(uh("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class Tf extends Yl{data(e={}){return super.data(e)}}class Pc{constructor(e,t,l,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new ld(f.hasPendingWrites,f.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new Tf(this._firestore,this._userDataWriter,l.key,l,new ld(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new Tf(l._firestore,l._userDataWriter,D.doc.key,D.doc,new ld(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>f||3!==D.type).map(D=>{const u=new Tf(l._firestore,l._userDataWriter,D.doc.key,D.doc,new ld(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let s=-1,i=-1;return 0!==D.type&&(s=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),i=g.indexOf(D.doc.key)),{type:Qv(D.type),doc:u,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qv(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function cm(o,e){return o instanceof Yl&&e instanceof Yl?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Pc&&e instanceof Pc&&o._firestore===e._firestore&&nd(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class Ds extends lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function Fg(o,e,t){o=Ai(o,Nr);const l=Ai(o.firestore,mr),f=ql(o.converter,e,t);return Rc(l,[xc(Gl(l),"setDoc",o._key,f,null!==o.converter,t).toMutation(o._key,Dn.none())])}function Bg(o,e,t,...l){o=Ai(o,Nr);const f=Ai(o.firestore,mr),g=Gl(f);let D;return D="string"==typeof(e=(0,We.m9)(e))||e instanceof _l?im(g,"updateDoc",o._key,e,t,l):wf(g,"updateDoc",o._key,e),Rc(f,[D.toMutation(o._key,Dn.exists(!0))])}function cy(o,...e){var t,l,f;o=(0,We.m9)(o);let g={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||Tc(e[D])||(g=e[D],D++);const u={includeMetadataChanges:g.includeMetadataChanges};if(Tc(e[D])){const m=e[D];e[D]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[D+1]=null===(l=m.error)||void 0===l?void 0:l.bind(m),e[D+2]=null===(f=m.complete)||void 0===f?void 0:f.bind(m)}let s,i,d;if(o instanceof Nr)i=Ai(o.firestore,mr),d=Kc(o._key.path),s={next:m=>{e[D]&&e[D](cd(i,o,m))},error:e[D+1],complete:e[D+2]};else{const m=Ai(o,cs);i=Ai(m.firestore,mr),d=m._query;const w=new Ds(i);s={next:F=>{e[D]&&e[D](new Pc(i,w,m,F))},error:e[D+1],complete:e[D+2]},xg(o._query)}return function(m,w,F,z){const ne=new nh(z),le=new P_(w,ne,F);return m.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Qd(yield ih(m),le)})),()=>{ne.bc(),m.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return x_(yield ih(m),le)}))}}(Tr(i),d,u,s)}function Rc(o,e){return function(t,l){const f=new ir;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Gy(o,e,t){return cg.apply(this,arguments)}(yield Dg(t),l,f)})),f.promise}(Tr(o),e)}function cd(o,e,t){const l=t.docs.get(e._key),f=new Ds(o);return new Yl(o,f,e._key,l,new ld(t.hasPendingWrites,t.fromCache),e.converter)}const vv={maxAttempts:5};class Ug{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gl(e)}set(e,t,l){this._verifyNotCommitted();const f=kc(e,this._firestore),g=ql(f.converter,t,l),D=xc(this._dataReader,"WriteBatch.set",f._key,g,null!==f.converter,l);return this._mutations.push(D.toMutation(f._key,Dn.none())),this}update(e,t,l,...f){this._verifyNotCommitted();const g=kc(e,this._firestore);let D;return D="string"==typeof(t=(0,We.m9)(t))||t instanceof _l?im(this._dataReader,"WriteBatch.update",g._key,t,l,f):wf(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(D.toMutation(g._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kc(e,this._firestore);return this._mutations=this._mutations.concat(new Ma(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kc(o,e){if((o=(0,We.m9)(o)).firestore!==e)throw new kt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class um extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gl(e)}get(e){const t=kc(e,this._firestore),l=new fv(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return hn();const g=f[0];if(g.isFoundDocument())return new ch(this._firestore,l,g.key,g,t.converter);if(g.isNoDocument())return new ch(this._firestore,l,t._key,null,t.converter);throw hn()})}set(e,t,l){const f=kc(e,this._firestore),g=ql(f.converter,t,l),D=xc(this._dataReader,"Transaction.set",f._key,g,null!==f.converter,l);return this._transaction.set(f._key,D),this}update(e,t,l,...f){const g=kc(e,this._firestore);let D;return D="string"==typeof(t=(0,We.m9)(t))||t instanceof _l?im(this._dataReader,"Transaction.update",g._key,t,l,f):wf(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,D),this}delete(e){const t=kc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kc(e,this._firestore),l=new Ds(this._firestore);return super.get(e).then(f=>new Yl(this._firestore,l,t._key,f._document,new ld(!1,!1),t.converter))}}function fm(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function Kg(){if(typeof Uint8Array>"u")throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function fy(){if(!function pn(){return typeof atob<"u"}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(o,e=!0){Ji=xt.SDK_VERSION,(0,xt._registerComponent)(new je.wA("firestore",(t,{instanceIdentifier:l,options:f})=>{const g=t.getProvider("app").getImmediate(),D=new mr(new Ua(t.getProvider("auth-internal")),new Va(t.getProvider("app-check-internal")),function(u,s){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new kt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(u.options.projectId,s)}(g,l),g);return f=Object.assign({useFetchStreams:e},f),D._setSettings(f),D},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(tc,"3.7.3",o),(0,xt.registerVersion)(tc,"3.7.3","esm2017")}();class Af{constructor(e){this._delegate=e}static fromBase64String(e){return fy(),new Af(tl.fromBase64String(e))}static fromUint8Array(e){return Kg(),new Af(tl.fromUint8Array(e))}toBase64(){return fy(),this._delegate.toBase64()}toUint8Array(){return Kg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $g(o){return function py(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const l of e)if(l in t&&"function"==typeof t[l])return!0;return!1}(o,["next","error","complete"])}class Cv{enableIndexedDbPersistence(e,t){return function Sc(o,e){Df(o=Ai(o,mr));const t=Tr(o),l=o._freezeSettings(),f=new ff;return yu(t,f,new gg(f,l.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _u(o){Df(o=Ai(o,mr));const e=Tr(o),t=o._freezeSettings(),l=new ff;return yu(e,l,new nv(l,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rd(o){if(o._initialized&&!o._terminated)throw new kt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ir;return o._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(l){if(!ji.C())return Promise.resolve();const f=l+"main";yield ji.delete(f)}),function(l){return t.apply(this,arguments)})(Kh(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class my{constructor(e,t,l){this._delegate=t,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&is("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,l={}){!function yg(o,e,t,l={}){var f;const g=(o=Ai(o,Qp))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&is("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let D,u;if("string"==typeof l.mockUserToken)D=l.mockUserToken,u=Or.MOCK_USER;else{D=(0,We.Sg)(l.mockUserToken,null===(f=o._app)||void 0===f?void 0:f.options.projectId);const s=l.mockUserToken.sub||l.mockUserToken.user_id;if(!s)throw new kt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Or(s)}o._authCredentials=new sl(new _a(D,u))}}(this._delegate,e,t,l)}enableNetwork(){return function z_(o){return function id(o){return o.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield W_(o),t=yield Cg(o);return e.setNetworkEnabled(!0),function(l){const f=qt(l);return f._u.delete(0),Gu(f)}(t)}))}(Tr(o=Ai(o,mr)))}(this._delegate)}disableNetwork(){return function G_(o){return function qv(o){return o.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield W_(o),t=yield Cg(o);return e.setNetworkEnabled(!1),(l=(0,Ae.Z)(function*(f){const g=qt(f);g._u.add(0),yield Zu(g),g.gu.set("Offline")}),function(f){return l.apply(this,arguments)})(t);var l}))}(Tr(o=Ai(o,mr)))}(this._delegate)}enablePersistence(e){let t=!1,l=!1;return e&&(t=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,qp("synchronizeTabs",t,"experimentalForceOwningTab",l)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function od(o){return function(e){const t=new ir;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function ug(o,e){return cf.apply(this,arguments)}(yield Dg(e),t)})),t.promise}(Tr(o=Ai(o,mr)))}(this._delegate)}onSnapshotsInSync(e){return function _v(o,e){return function cv(o,e){const t=new nh(e);return o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return l=yield ih(o),f=t,qt(l).Ru.add(f),void f.next();var l,f})),()=>{t.bc(),o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return l=yield ih(o),f=t,void qt(l).Ru.delete(f);var l,f}))}}(Tr(o=Ai(o,mr)),Tc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ud(this,mf(this._delegate,e))}catch(t){throw ia(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,td(this._delegate,e))}catch(t){throw ia(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new us(this,function Mc(o,e){if(o=Ai(o,Qp),_g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(o,null,(t=e,new ul(ri.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ia(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bv(o,e,t){o=Ai(o,mr);const l=Object.assign(Object.assign({},vv),t);return function(f){if(f.maxAttempts<1)throw new kt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(f,g,D){const u=new ir;return f.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const s=yield function K_(o){return Jp(o).then(e=>e.datastore)}(f);new Zv(f.asyncQueue,s,D,g,u).run()})),u.promise}(Tr(o),f=>e(new um(o,f)),l)}(this._delegate,t=>e(new Gg(this,t)))}batch(){return Tr(this._delegate),new pm(new Ug(this._delegate,e=>Rc(this._delegate,e)))}loadBundle(e){return function q_(o,e){const t=Tr(o=Ai(o,mr)),l=new nm;return function $l(o,e,t,l){const f=function(g,D){let u;return u="string"==typeof g?(new TextEncoder).encode(g):g,s=function(s,i){if(s instanceof Uint8Array)return vg(s,i);if(s instanceof ArrayBuffer)return vg(new Uint8Array(s),i);if(s instanceof ReadableStream)return s.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new H_(s,D);var s}(t,Yh(e));o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function ev(o,e,t){const l=qt(o);var f;(f=(0,Ae.Z)(function*(g,D,u){try{const s=yield D.getMetadata();if(yield function(w,F){const z=qt(w),ne=Lo(F.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",le=>z.Ns.getBundleMetadata(le,F.id)).then(le=>!!le&&le.createTime.compareTo(ne)>=0)}(g.localStore,s))return yield D.close(),u._completeWith({taskState:"Success",documentsLoaded:(w=s).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);u._updateProgress(Ic(s));const i=new $v(s,g.localStore,D.It);let d=yield D.mc();for(;d;){const w=yield i.Fu(d);w&&u._updateProgress(w),d=yield D.mc()}const m=yield i.complete();return yield Kl(g,m.Lu,void 0),yield function(w,F){const z=qt(w);return z.persistence.runTransaction("Save bundle","readwrite",ne=>z.Ns.saveBundleMetadata(ne,F))}(g.localStore,s),u._completeWith(m.progress),Promise.resolve(m.Bu)}catch(s){return is("SyncEngine",`Loading bundle failed with ${s}`),u._failWith(s),Promise.resolve(new Set)}var w}),function(g,D,u){return f.apply(this,arguments)})(l,e,t).then(f=>{l.sharedClientState.notifyBundleLoaded(f)})}(yield Dg(o),f,l)}))}(t,o._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function Y_(o,e){return function Ef(o,e){return o.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,l){const f=qt(t);return f.persistence.runTransaction("Get named query","readonly",g=>f.Ns.getNamedQuery(g,l))}(yield em(o),e)}))}(Tr(o=Ai(o,mr)),e).then(t=>t?new cs(o,null,t.query):null)}(this._delegate,e).then(t=>t?new us(this,t):null)}}class Sf extends lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Af(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class Gg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sf(e)}get(e){const t=Cu(e);return this._delegate.get(t).then(l=>new xf(this._firestore,new Yl(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,t.converter)))}set(e,t,l){const f=Cu(e);return l?(fm("Transaction.set",l),this._delegate.set(f,t,l)):this._delegate.set(f,t),this}update(e,t,l,...f){const g=Cu(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,l,...f),this}delete(e){const t=Cu(e);return this._delegate.delete(t),this}}class pm{constructor(e){this._delegate=e}set(e,t,l){const f=Cu(e);return l?(fm("WriteBatch.set",l),this._delegate.set(f,t,l)):this._delegate.set(f,t),this}update(e,t,l,...f){const g=Cu(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,l,...f),this}delete(e){const t=Cu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nc{constructor(e,t,l){this._firestore=e,this._userDataWriter=t,this._delegate=l}fromFirestore(e,t){const l=new Tf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Of(this._firestore,l),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const l=Nc.INSTANCES;let f=l.get(e);f||(f=new WeakMap,l.set(e,f));let g=f.get(t);return g||(g=new Nc(e,new Sf(e),t),f.set(t,g)),g}}Nc.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sf(e)}static forPath(e,t,l){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new Nr(t._delegate,l,new Yt(e)))}static forKey(e,t,l){return new Oa(t,new Nr(t._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new ud(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ud(this.firestore,mf(this._delegate,e))}catch(t){throw ia(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,We.m9)(e))instanceof Nr&&gf(this._delegate,e)}set(e,t){t=fm("DocumentReference.set",t);try{return t?Fg(this._delegate,e,t):Fg(this._delegate,e)}catch(l){throw ia(l,"setDoc()","DocumentReference.set()")}}update(e,t,...l){try{return 1===arguments.length?Bg(this._delegate,e):Bg(this._delegate,e,t,...l)}catch(f){throw ia(f,"updateDoc()","DocumentReference.update()")}}delete(){return function mv(o){return Rc(Ai(o.firestore,mr),[new Ma(o._key,Dn.none())])}(this._delegate)}onSnapshot(...e){const t=Zg(e),l=gy(e,f=>new xf(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return cy(this._delegate,t,l)}get(e){let t;return t="cache"===e?.source?function pv(o){o=Ai(o,Nr);const e=Ai(o.firestore,mr),t=Tr(e),l=new Ds(e);return function bf(o,e){const t=new ir;return o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(l=(0,Ae.Z)(function*(f,g,D){try{const u=yield function(s,i){const d=qt(s);return d.persistence.runTransaction("read document","readonly",m=>d.localDocuments.getDocument(m,i))}(f,g);u.isFoundDocument()?D.resolve(u):u.isNoDocument()?D.resolve(null):D.reject(new kt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const s=pu(u,`Failed to get document '${g} from cache`);D.reject(s)}}),function(f,g,D){return l.apply(this,arguments)})(yield em(o),e,t);var l})),t.promise}(t,o._key).then(f=>new Yl(e,l,o._key,f,new ld(null!==f&&f.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function ly(o){o=Ai(o,Nr);const e=Ai(o.firestore,mr);return $_(Tr(e),o._key,{source:"server"}).then(t=>cd(e,o,t))}(this._delegate):function Lg(o){o=Ai(o,Nr);const e=Ai(o.firestore,mr);return $_(Tr(e),o._key).then(t=>cd(e,o,t))}(this._delegate),t.then(l=>new xf(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}function ia(o,e,t){return o.message=o.message.replace(e,t),o}function Zg(o){for(const e of o)if("object"==typeof e&&!$g(e))return e;return{}}function gy(o,e){var t,l;let f;return f=$g(o[0])?o[0]:$g(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:g=>{f.next&&f.next(e(g))},error:null===(t=f.error)||void 0===t?void 0:t.bind(f),complete:null===(l=f.complete)||void 0===l?void 0:l.bind(f)}}class xf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cm(this._delegate,e._delegate)}}class Of extends xf{data(e){const t=this._delegate.data(e);return function wl(o,e){o||hn()}(void 0!==t),t}}class us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sf(e)}where(e,t,l){try{return new us(this.firestore,Oc(this._delegate,function ny(o,e,t){const l=e,f=uh("where",o);return new ty(f,l,t)}(e,t,l)))}catch(f){throw ia(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new us(this.firestore,Oc(this._delegate,function am(o,e="asc"){const t=e,l=uh("orderBy",o);return new iy(l,t)}(e,t)))}catch(l){throw ia(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new us(this.firestore,Oc(this._delegate,function Yv(o){return pf("limit",o),new Og("limit",o,"F")}(e)))}catch(t){throw ia(t,"limit()","Query.limit()")}}limitToLast(e){try{return new us(this.firestore,Oc(this._delegate,function dv(o){return pf("limitToLast",o),new Og("limitToLast",o,"L")}(e)))}catch(t){throw ia(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new us(this.firestore,Oc(this._delegate,function Pg(...o){return new ry("startAt",o,!0)}(...e)))}catch(t){throw ia(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new us(this.firestore,Oc(this._delegate,function oy(...o){return new ry("startAfter",o,!1)}(...e)))}catch(t){throw ia(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new us(this.firestore,Oc(this._delegate,function Rg(...o){return new Fo("endBefore",o,!1)}(...e)))}catch(t){throw ia(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new us(this.firestore,Oc(this._delegate,function hv(...o){return new Fo("endAt",o,!0)}(...e)))}catch(t){throw ia(t,"endAt()","Query.endAt()")}}isEqual(e){return nd(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function yl(o){o=Ai(o,cs);const e=Ai(o.firestore,mr),t=Tr(e),l=new Ds(e);return function lv(o,e){const t=new ir;return o.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(l=(0,Ae.Z)(function*(f,g,D){try{const u=yield zh(f,g,!0),s=new og(g,u.Hi),i=s.Wu(u.documents),d=s.applyChanges(i,!1);D.resolve(d.snapshot)}catch(u){const s=pu(u,`Failed to execute query '${g} against cache`);D.reject(s)}}),function(f,g,D){return l.apply(this,arguments)})(yield em(o),e,t);var l})),t.promise}(t,o._query).then(f=>new Pc(e,l,o,f))}(this._delegate):"server"===e?.source?function vl(o){o=Ai(o,cs);const e=Ai(o.firestore,mr),t=Tr(e),l=new Ds(e);return tm(t,o._query,{source:"server"}).then(f=>new Pc(e,l,o,f))}(this._delegate):function Ql(o){o=Ai(o,cs);const e=Ai(o.firestore,mr),t=Tr(e),l=new Ds(e);return xg(o._query),tm(t,o._query).then(f=>new Pc(e,l,o,f))}(this._delegate),t.then(l=>new Pf(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const t=Zg(e),l=gy(e,f=>new Pf(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return cy(this._delegate,t,l)}withConverter(e){return new us(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}class qg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Of(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Of(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qg(this._firestore,t))}forEach(e,t){this._delegate.forEach(l=>{e.call(t,new Of(this._firestore,l))})}isEqual(e){return cm(this._delegate,e._delegate)}}class ud extends us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?td(this._delegate):td(this._delegate,e))}catch(t){throw ia(t,"doc()","CollectionReference.doc()")}}add(e){return function gv(o,e){const t=Ai(o.firestore,mr),l=td(o),f=ql(o.converter,e);return Rc(t,[xc(Gl(o.firestore),"addDoc",l._key,f,null!==o.converter,{}).toMutation(l._key,Dn.exists(!1))]).then(()=>l)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return gf(this._delegate,e._delegate)}withConverter(e){return new ud(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}function Cu(o){return Ai(o,Nr)}class Rf{constructor(...e){this._delegate=new _l(...e)}static documentId(){return new Rf(oi.keyField().canonicalString())}isEqual(e){return(e=(0,We.m9)(e))instanceof _l&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dy(){return new sd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lc(e)}static delete(){const e=function uy(){return new Eu("deleteField")}();return e._methodName="FieldValue.delete",new Lc(e)}static arrayUnion(...e){const t=function Vg(...o){return new ad("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new Lc(t)}static arrayRemove(...e){const t=function dm(...o){return new X_("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new Lc(t)}static increment(e){const t=function Hg(o){return new Tg("increment",o)}(e);return t._methodName="FieldValue.increment",new Lc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _y={Firestore:my,GeoPoint:sh,Timestamp:hr,Blob:Af,Transaction:Gg,WriteBatch:pm,DocumentReference:Oa,DocumentSnapshot:xf,Query:us,QueryDocumentSnapshot:Of,QuerySnapshot:Pf,CollectionReference:ud,FieldPath:Rf,FieldValue:Lc,setLogLevel:function zg(o){!function Hc(o){bi.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function vy(o){(function yy(o,e){o.INTERNAL.registerComponent(new je.wA("firestore-compat",t=>{const l=t.getProvider("app-compat").getImmediate(),f=t.getProvider("firestore").getImmediate();return e(l,f)},"PUBLIC").setServiceProps(Object.assign({},_y)))})(o,(e,t)=>new my(e,t,new Cv)),o.registerVersion("@firebase/firestore-compat","0.2.3")}(Ke.Z);var Xl=R(1205),Yg=R(440);function Qg(o,e){return function Dv(o,e=_.z){return new K.y(t=>{let l;return null!=e?e.schedule(()=>{l=o.onSnapshot({includeMetadataChanges:!0},t)}):l=o.onSnapshot({includeMetadataChanges:!0},t),()=>{l?.()}})}(o,e)}function by(o,e){return Qg(o,e).pipe((0,_e.U)(t=>({payload:t,type:"query"})))}function ph(o,e){return by(o,e).pipe((0,Ne.O)(void 0),de(),(0,_e.U)(([t,l])=>{const f=l.payload.docChanges(),g=f.map(D=>({type:D.type,payload:D}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,u)=>{const s=f.find(d=>d.doc.ref.isEqual(D.ref)),i=t?.payload.docs.find(d=>d.ref.isEqual(D.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(D.metadata)||!s&&i&&JSON.stringify(i.metadata)===JSON.stringify(D.metadata)||g.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:D}})}),g}))}function wv(o,e,t){return ph(o,t).pipe((0,Se.R)((l,f)=>function Ey(o,e,t){return e.forEach(l=>{t.indexOf(l.type)>-1&&(o=function Jv(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return mm(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mm(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mm(o,e.oldIndex,1)}return o}(o,l))}),o}(l,f.map(g=>g.payload),e),[]),(0,gt.x)(),(0,_e.U)(l=>l.map(f=>({type:f.type,payload:f}))))}function mm(o,e,t,...l){const f=o.slice();return f.splice(e,t,...l),f}function Gn(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}R(127);class Cy{constructor(e,t,l){this.ref=e,this.query=t,this.afs=l}stateChanges(e){let t=ph(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_e.U)(l=>l.filter(f=>e.indexOf(f.type)>-1)))),t.pipe((0,Ne.O)(void 0),de(),(0,ut.h)(([l,f])=>f.length>0||!l),(0,_e.U)(([l,f])=>f),Re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Gn(e);return wv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Re.iC)}valueChanges(e={}){return by(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),Re.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(Re.iC)}add(e){return this.ref.add(e)}doc(e){return new Xg(this.ref.doc(e),this.afs)}}class Xg{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const l=this.ref.collection(e),{ref:f,query:g}=Qr(l,t);return new Cy(f,g,this.afs)}snapshotChanges(){return function fh(o,e){return Qg(o,e).pipe((0,Ne.O)(void 0),de(),(0,_e.U)(([t,l])=>l.exists?t?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fe.D)(this.ref.get(e)).pipe(Re.iC)}}class Dy{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.filter(l=>e.indexOf(l.type)>-1)),(0,ut.h)(t=>t.length>0),Re.iC):ph(this.query,this.afs.schedulers.outsideAngular).pipe(Re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Se.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Gn(e);return wv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Re.iC)}valueChanges(e={}){return by(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(l=>l.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),Re.iC)}get(e){return(0,fe.D)(this.query.get(e)).pipe(Re.iC)}}const dd=new y.OlP("angularfire2.enableFirestorePersistence"),wy=new y.OlP("angularfire2.firestore.persistenceSettings"),kf=new y.OlP("angularfire2.firestore.settings"),mh=new y.OlP("angularfire2.firestore.use-emulator");function Qr(o,e=(t=>t)){return{query:e(o),ref:o}}let Iy=(()=>{class o{constructor(t,l,f,g,D,u,s,i,d,m,w,F,z,ne,le,ke,_t){this.schedulers=s;const Jt=(0,Je.on)(t,u,l),rn=d;m&&(0,Xl.nw)(Jt,u,w,z,ne,le,F,ke),[this.firestore,this.persistenceEnabled$]=(0,Je.cc)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const jt=u.runOutsideAngular(()=>Jt.firestore());if(g&&jt.settings(g),rn&&jt.useEmulator(...rn),f&&!(0,At.PM)(D)){const Gt=()=>{try{return(0,fe.D)(jt.enablePersistence(i||void 0).then(()=>!0,()=>!1))}catch(Fn){return typeof console<"u"&&console.warn(Fn),(0,Ie.of)(!1)}};return[jt,u.runOutsideAngular(Gt)]}return[jt,(0,Ie.of)(!1)]},[g,rn,f])}collection(t,l){let f;f="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:D}=Qr(f,l),u=this.schedulers.ngZone.run(()=>g);return new Cy(u,D,this)}collectionGroup(t,l){const f=l||(D=>D),g=this.firestore.collectionGroup(t);return new Dy(f(g),this)}doc(t){let l;l="string"==typeof t?this.firestore.doc(t):t;const f=this.schedulers.ngZone.run(()=>l);return new Xg(f,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(t){return new(t||o)(y.LFG(Je.Dh),y.LFG(Je.xv,8),y.LFG(dd,8),y.LFG(kf,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Re.HU),y.LFG(wy,8),y.LFG(mh,8),y.LFG(Xl.zQ,8),y.LFG(Xl.Qv,8),y.LFG(Xl.L6,8),y.LFG(Xl._Q,8),y.LFG(Xl.rT,8),y.LFG(Xl.lh,8),y.LFG(Xl.f7,8),y.LFG(Yg.nm,8))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();var e_=R(7185),My=R(874);let t_=(()=>{class o{constructor(t,l,f,g){this.firestore=t,this.auth=l,this.toast=f,this.loader=g,this.UserUpdateEvent=new y.vpe,this.users=this.firestore.collection("users"),this.toast.toastrConfig.progressBar=!0,this.toast.toastrConfig.positionClass="toast-bottom-right",this.toast.toastrConfig.timeOut=1e4,this.onAuthStateChanged()}onAuthStateChanged(){this.auth.authState.subscribe(t=>{if(this.loader.show(),null==t)return this.loader.hide(),void this.UserUpdateEvent.emit(void 0);console.log("FirestoreService: Auth State Changed ",t),this.users?.doc(t.email).get().subscribe(l=>{this.user=l.data(),console.log("FirestoreService: User Updated ",this.user),this.loader.hide(),this.UserUpdateEvent.emit(this.user)})})}register(t){!t.password||(this.loader.show(),this.auth.createUserWithEmailAndPassword(t.email,t.password).then(l=>{t.password="",this.firestore.collection("users").doc(t.email).set(t).then(f=>{this.loader.hide(),this.toast.success(t.email,"User Registration Success"),this.user=t},f=>{this.loader.hide(),console.error("FirestoreService",f),this.toast.error("Unable to register User","Registration Error")})},l=>{this.loader.hide(),console.error("FirestoreService",l),this.handleRegisterError(l.code,t)}))}handleRegisterError(t,l){this.toast.error("auth/email-already-in-use"===t?l.id+" is already registered in our system.":"Unable to register "+l.id+" "+t,"Registration Error")}}return o.\u0275fac=function(t){return new(t||o)(y.LFG(Iy),y.LFG(Xl.zQ),y.LFG(e_._W),y.LFG(My.D))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},2596:(Et,Ve,R)=>{R.d(Ve,{n:()=>y});const y=[{ctrl:"companyname",chcks:[{chck:"this.companyname==null || this.companyname==''",msg:"Company Name is required"},{chck:"this.companyname.length<3",msg:"Company Name should have min 3 characters"}]},{ctrl:"firstname",chcks:[{chck:"this.firstname==null || this.firstname==''",msg:"First Name is required"},{chck:"this.firstname.length<3",msg:"First Name should have min 3 characters"}]},{ctrl:"lastname",chcks:[{chck:"this.lastname==null || this.lastname==''",msg:"Last Name is required"}]},{ctrl:"industry",chcks:[{chck:"this.industry==null || this.industry==''",msg:"Industry is required"}]},{ctrl:"address",chcks:[{chck:"this.address==null || this.address==''",msg:"Address is required"}]},{ctrl:"country",chcks:[{chck:"this.country==null || this.country==''",msg:"Country is required"}]},{ctrl:"state",chcks:[{chck:"this.state==null || this.state==''",msg:"State is required"}]},{ctrl:"city",chcks:[{chck:"this.city==null || this.city==''",msg:"City is required"}]},{ctrl:"pincode",chcks:[{chck:"this.pincode==null || this.pincode==''",msg:"Pincode is required"}]},{ctrl:"userid",chcks:[{chck:"this.userid==null || this.userid==''",msg:"User ID is required"},{chck:"!validateEmail(this.userid)",msg:"Enter valid email address"}]},{ctrl:"contact",chcks:[{chck:"this.contact==null || this.contact==''",msg:"Contact Number is required"},{chck:"this.contact.length<10",msg:"Enter 10 digits contact number"}]},{ctrl:"password",chcks:[{chck:"this.password==null || this.password==''",msg:"Password is required"},{chck:"this.password.length<8",msg:"Password should be min 8 characters"}]},{ctrl:"cpassword",chcks:[{chck:"this.cpassword==null || this.cpassword==''",msg:"Confirm password is required"},{chck:"this.cpassword!=this.password",msg:"Confirm password does not match with password"}]},{ctrl:"comment",chcks:[{chck:"this.comment==null || this.comment==''",msg:"Please enter your message in comment"}]},{ctrl:"email",chcks:[{chck:"this.email==null || this.email==''",msg:"Please enter your Email ID"},{chck:"!validateEmail(this.email)",msg:"Enter valid email address"}]}]},2859:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>RegisterComponent});var _shared_validations__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2596),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1779),_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9668),_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3261),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6895),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4006);function RegisterComponent_div_0_option_29_Template(Et,Ve){if(1&Et&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Et){const R=Ve.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",R),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R)}}function RegisterComponent_div_0_option_60_Template(Et,Ve){if(1&Et&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Et){const R=Ve.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",R),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R)}}function RegisterComponent_div_0_option_72_Template(Et,Ve){if(1&Et&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Et){const R=Ve.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",R),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R)}}function RegisterComponent_div_0_Template(Et,Ve){if(1&Et){const R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Company Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you consultant? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"Company Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.companyname=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"select",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.industry=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28,"Choose Industry"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(29,RegisterComponent_div_0_option_29_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(30,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(32,"div",3)(33,"div",13)(34,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(35,"Company Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.address=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(39,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(40),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(41,"div",3)(42,"div",4)(43,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(44,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.country=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(48,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(49,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(50,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"div",4)(53,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(54,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(57,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.state=_)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.cities=_.state_city_map[_.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(60,RegisterComponent_div_0_option_60_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(61,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(62),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(63,"div",3)(64,"div",4)(65,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(66,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(69,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.city=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(72,RegisterComponent_div_0_option_72_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(73,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"div",4)(76,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(77,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.pincode=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(81,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(82),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(83,"div",3)(84,"div",4)(85,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(86,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.userid=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(90,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"div",4)(93,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(94,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.contact=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(98,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(99),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(100,"div",3)(101,"div",4)(102,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(103,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.password=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(107,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"div",4)(110,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(111,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.cpassword=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(115,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(116),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(117,"div",24)(118,"div",25)(119,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(120,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&Et){const R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.companyname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.industries),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.industry),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",R.touched&&!R.validated)}}function RegisterComponent_div_1_option_57_Template(Et,Ve){if(1&Et&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Et){const R=Ve.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",R),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R)}}function RegisterComponent_div_1_option_69_Template(Et,Ve){if(1&Et&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"option",27),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Et){const R=Ve.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",R),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R)}}function RegisterComponent_div_1_Template(Et,Ve){if(1&Et){const R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("keyup",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.validate())})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.validate())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"div",3)(3,"div",4)(4,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(5,"Consultant Registration "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"div",4)(7,"span",28),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Are you company? Register here"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Already Registered? Login now"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"div",3)(13,"div",4)(14,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(15,"First Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(17,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(18,"input",29),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.firstname=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(19,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(20),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(21,"div",4)(22,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(23,"Last Name"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(24,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(25,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(26,"input",30),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.lastname=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(27,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(29,"div",3)(30,"div",13)(31,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(32,"Address"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(33,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(35,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.address=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(37),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(38,"div",3)(39,"div",4)(40,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(41,"Country"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(42,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(43,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(44,"select",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.country=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(45,"option",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(46,"INDIA"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(47,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(48),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(49,"div",4)(50,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(51,"State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(52,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(53,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(54,"select",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.state=_)})("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.cities=_.state_city_map[_.state])}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(55,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(56,"Choose State"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(57,RegisterComponent_div_1_option_57_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(58,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(59),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(60,"div",3)(61,"div",4)(62,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(63,"City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(64,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(65,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(66,"select",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.city=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(67,"option",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(68,"Choose City"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(69,RegisterComponent_div_1_option_69_Template,2,2,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(70,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(71),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(72,"div",4)(73,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(74,"Pincode"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(75,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(76,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(77,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.pincode=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(78,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(79),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(80,"div",3)(81,"div",4)(82,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(83,"User ID"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(84,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(85,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(86,"input",31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.userid=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(87,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(88),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(89,"div",4)(90,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(91,"Contact Number"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(92,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(93,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(94,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.contact=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(95,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(96),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(97,"div",3)(98,"div",4)(99,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(100,"Login Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(101,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(102,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(103,"input",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.password=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(104,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(105),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(106,"div",4)(107,"label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(108,"Confirm Password"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(109,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(110,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(111,"input",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("ngModelChange",function(_){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const K=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(K.cpassword=_)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(112,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(113),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(114,"div",24)(115,"div",25)(116,"button",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(R);const _=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(_.register())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(117,"Register"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()}if(2&Et){const R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.firstname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.lastname),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.address),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.country),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.states),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.state),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.cities),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.city),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.pincode),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.userid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.contact),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.password),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngModel",R.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.errors.cpassword),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",R.touched&&!R.validated)}}let RegisterComponent=(()=>{class RegisterComponent{constructor(Et,Ve,R,y){this.route=Et,this.router=Ve,this.baseData=R,this.firestore=y,this.types=["company","consultant"],this.type="",this.states=[],this.cities=[],this.industries=[],this.companyname="",this.firstname="",this.lastname="",this.industry="",this.address="",this.country="INDIA",this.state="",this.city="",this.pincode="",this.userid="",this.contact="",this.password="",this.cpassword="",this.validations=[],this.touched=!1,this.validated=!1,this.errors={}}ngOnInit(){this.route.paramMap.subscribe(Et=>{this.type=Et.get("type"),null!=this.type&&!this.types.includes(this.type)&&this.router.navigate(["home"]),this.loadValidation()}),this.load()}load(){this.baseData.getStateCityMap().then(Et=>{this.state_city_map=Et,this.states=Object.keys(this.state_city_map)}),this.baseData.getIndustries().then(Et=>{this.industries=Et})}loadValidation(){this.validated=!1,this.touched=!1,this.errors={},this.validations=_shared_validations__WEBPACK_IMPORTED_MODULE_0__.n.filter(this.type==this.types[0]?Et=>["address","country","state","city","pincode","contact","userid","password","cpassword","companyname","industry"].includes(Et.ctrl):Et=>["address","country","state","city","pincode","contact","userid","password","cpassword","firstname","lastname"].includes(Et.ctrl))}validate(){let errs={},validated=!0;if(this.touched)return this.validations.forEach(v=>{for(var c in v.chcks)if(eval(v.chcks[c].chck)){validated=!1,errs[v.ctrl]=v.chcks[c].msg;break}}),this.validated=validated,this.errors=errs,validated}register(){if(this.touched=!0,!this.validate())return;let Et=this.getUser();this.firestore.register(Et)}getUser(){return this.type==this.types[0]?this.getCompany():this.getConsultant()}getCompany(){return{id:this.userid,email:this.userid,role:this.types[1],name:this.companyname,industry:this.industry,contact:this.contact,address:this.getAddress(),password:this.password}}getConsultant(){return{id:this.userid,email:this.userid,role:this.types[1],firstName:this.firstname,lastName:this.lastname,contact:this.contact,address:this.getAddress(),password:this.password}}getAddress(){return{address:this.address,country:this.country,state:this.state,city:this.city,pincode:this.pincode}}}return RegisterComponent.\u0275fac=function Et(Ve){return new(Ve||RegisterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_base_data_service__WEBPACK_IMPORTED_MODULE_3__.B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_services_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},RegisterComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:RegisterComponent,selectors:[["app-register"]],decls:2,vars:2,consts:[["class","container mt-3",3,"keyup","change",4,"ngIf"],[1,"container","mt-3",3,"keyup","change"],[1,"image-background"],[1,"row"],[1,"col-md-6","col-sm-12","col-xs-12"],["routerLink","/register/consultant",1,"navigation-link"],["routerLink","/login",1,"navigation-link"],[1,"text-danger"],["type","text","id","companyname","placeholder","Company Name","name","companyname",1,"form-control",3,"ngModel","ngModelChange"],[1,"error"],["id","industry","name","industry",1,"form-select",3,"ngModel","ngModelChange"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","col-sm-12","col-xs-12"],["type","text","id","address","placeholder","Address","name","address",1,"form-control",3,"ngModel","ngModelChange"],["id","country","name","country","disabled","",1,"form-select",3,"ngModel","ngModelChange"],["default","","value","INDIA"],["id","state","name","state",1,"form-select",3,"ngModel","ngModelChange","change"],["id","city","name","city",1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","pincode","placeholder","Pincode","name","pincode",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","Company Email","name","username",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","contact","placeholder","XXXXXXXXX","name","contact",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","cpassword","name","cpassword",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","place-center","mb-3"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"btn","btn-primary","w-100",3,"disabled","click"],[3,"value"],["routerLink","/register/company",1,"navigation-link"],["type","text","id","firstName","placeholder","First Name","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","lastName","placeholder","Last Name","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","username","placeholder","User Email ID","name","username",1,"form-control",3,"ngModel","ngModelChange"]],template:function Et(Ve,R){1&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,RegisterComponent_div_0_Template,121,26,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,RegisterComponent_div_1_Template,118,25,"div",0)),2&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","company"==R.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","consultant"==R.type))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Kr,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.On,_angular_router__WEBPACK_IMPORTED_MODULE_2__.rH],styles:[".container[_ngcontent-%COMP%]{max-width:740px}label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}h2[_ngcontent-%COMP%]{font-size:25px;text-decoration:underline;text-decoration-color:#000;color:teal}.image-background[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available;position:absolute;top:0;left:0;background:url(/assets/icons/tp-icon.png);opacity:.2;background-repeat:no-repeat;background-position:center;z-index:-1}.navigation-link[_ngcontent-%COMP%]{float:right;text-decoration:underline;font-size:12px;cursor:pointer;color:#4169e1;font-weight:400}.navigation-link[_ngcontent-%COMP%]:hover{color:#8b0000}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}.btn-primary[_ngcontent-%COMP%]{min-width:130px}"]}),RegisterComponent})()},9916:(Et,Ve,R)=>{var y=R(1481),_=R(4650),K=R(4006),fe=R(1779);let Ie=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"container"],[1,"main","text-center"],[1,"top"],[1,"head1"],[1,"head2"],[1,"d-inline-block",2,"width","5px"],[1,"bottom"]],template:function(i,d){1&i&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_._uU(4,"Calculate and Track your Networth"),_.qZA(),_.TgZ(5,"div",4),_._uU(6," Create your profile by adding your income, assets and liabilities. Track your networth and Plan your wealth & investement management for bright future"),_._UZ(7,"br"),_.TgZ(8,"u"),_._uU(9,"Note:"),_.qZA(),_._UZ(10,"span",5),_._uU(11,"We do not provide financial advisors here, you are master of your wealth "),_.qZA()(),_._UZ(12,"div",6),_.qZA()())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#071f4d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:30px}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.main[_ngcontent-%COMP%]{padding:20px;margin-top:2%}.main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:inline-block;max-width:700px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{margin-top:20px}.proceed-login[_ngcontent-%COMP%]{font-size:20px}.head1[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica,Arial,Lucida,sans-serif;font-weight:700;font-size:35px;line-height:1.5em}.head2[_ngcontent-%COMP%]{font-size:18px;line-height:35px}.link1[_ngcontent-%COMP%]{color:red;text-decoration:underline;cursor:pointer;font-weight:700}@media only screen and (max-width: 500px){.head1[_ngcontent-%COMP%]{font-size:30px}}"]}),u})();const Ne=[{name:"Transfer Princing",code:"TP"},{name:"International Taxation",code:"IT"}];var pe=R(6895);let Ze;try{Ze=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ze=!1}let Je,Ke,Ae,Oe,de=(()=>{class u{constructor(i){this._platformId=i,this.isBrowser=this._platformId?(0,pe.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ze)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(_.Lbi))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function tt(u){return function At(){if(null==Je&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Je=!0}))}finally{Je=Je||!1}return Je}()?u:!!u.capture}function xt(){if(null==Ae){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ae=!1,Ae;if("scrollBehavior"in document.documentElement.style)Ae=!0;else{const u=Element.prototype.scrollTo;Ae=!!u&&!/\{\s*\[native code\]\s*\}/.test(u.toString())}}return Ae}function je(){if("object"!=typeof document||!document)return 0;if(null==Ke){const u=document.createElement("div"),s=u.style;u.dir="rtl",s.width="1px",s.overflow="auto",s.visibility="hidden",s.pointerEvents="none",s.position="absolute";const i=document.createElement("div"),d=i.style;d.width="2px",d.height="1px",u.appendChild(i),document.body.appendChild(u),Ke=0,0===u.scrollLeft&&(u.scrollLeft=1,Ke=0===u.scrollLeft?1:2),u.remove()}return Ke}function Dt(u){if(function We(){if(null==Oe){const u=typeof document<"u"?document.head:null;Oe=!(!u||!u.createShadowRoot&&!u.attachShadow)}return Oe}()){const s=u.getRootNode?u.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&s instanceof ShadowRoot)return s}return null}function Ce(u){return u.composedPath?u.composedPath()[0]:u.target}function qe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ye=R(1135),De=R(7579),Qe=R(9646),$r=R(5698),Ni=R(9300);function co(u){return(0,Ni.h)((s,i)=>u<=i)}var uo=R(1884),To=R(4482),no=R(5403),ho=R(8421),es=R(5032);function Oi(u){return(0,To.e)((s,i)=>{(0,ho.Xf)(u).subscribe((0,no.x)(i,()=>i.complete(),es.Z)),!i.closed&&s.subscribe(i)})}function Dr(u){return null!=u&&"false"!=`${u}`}function vr(u,s=0){return function Ao(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}(u)?Number(u):s}function sr(u){return Array.isArray(u)?u:[u]}function Ci(u){return null==u?"":"string"==typeof u?u:`${u}px`}function Qi(u){return u instanceof _.SBq?u.nativeElement:u}let wr=(()=>{class u{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),ts=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[wr]}),u})();var Pi=R(9841),zr=R(7272),Wi=R(9751),fo=R(4986);function ns(u,s=fo.z){return(0,To.e)((i,d)=>{let m=null,w=null,F=null;const z=()=>{if(m){m.unsubscribe(),m=null;const le=w;w=null,d.next(le)}};function ne(){const le=F+u,ke=s.now();if(ke<le)return m=this.schedule(void 0,le-ke),void d.add(m);z()}i.subscribe((0,no.x)(d,le=>{w=le,F=s.now(),m||(m=s.schedule(ne,u),d.add(m))},()=>{z(),d.complete()},void 0,()=>{w=m=null}))})}var tr=R(4004),ci=R(8675);const vo=new Set;let bo,Di=(()=>{class u{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Mi}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function Gr(u){if(!vo.has(u))try{bo||(bo=document.createElement("style"),bo.setAttribute("type","text/css"),document.head.appendChild(bo)),bo.sheet&&(bo.sheet.insertRule(`@media ${u} {body{ }}`,0),vo.add(u))}catch(s){console.error(s)}}(i),this._matchMedia(i)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(de))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Mi(u){return{matches:"all"===u||""===u,media:u,addListener:()=>{},removeListener:()=>{}}}let Kn=(()=>{class u{constructor(i,d){this._mediaMatcher=i,this._zone=d,this._queries=new Map,this._destroySubject=new De.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return fs(sr(i)).some(m=>this._registerQuery(m).mql.matches)}observe(i){const m=fs(sr(i)).map(F=>this._registerQuery(F).observable);let w=(0,Pi.a)(m);return w=(0,zr.z)(w.pipe((0,$r.q)(1)),w.pipe(co(1),ns(0))),w.pipe((0,tr.U)(F=>{const z={matches:!1,breakpoints:{}};return F.forEach(({matches:ne,query:le})=>{z.matches=z.matches||ne,z.breakpoints[le]=ne}),z}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const d=this._mediaMatcher.matchMedia(i),w={observable:new Wi.y(F=>{const z=ne=>this._zone.run(()=>F.next(ne));return d.addListener(z),()=>{d.removeListener(z)}}).pipe((0,ci.O)(d),(0,tr.U)(({matches:F})=>({query:i,matches:F})),Oi(this._destroySubject)),mql:d};return this._queries.set(i,w),w}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Di),_.LFG(_.R0b))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function fs(u){return u.map(s=>s.split(",")).reduce((s,i)=>s.concat(i)).map(s=>s.trim())}let ft=(()=>{class u{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function Vi(u){return!!(u.offsetWidth||u.offsetHeight||"function"==typeof u.getClientRects&&u.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const d=function vn(u){try{return u.frameElement}catch{return null}}(function Na(u){return u.ownerDocument&&u.ownerDocument.defaultView||window}(i));if(d&&(-1===$o(d)||!this.isVisible(d)))return!1;let m=i.nodeName.toLowerCase(),w=$o(i);return i.hasAttribute("contenteditable")?-1!==w:!("iframe"===m||"object"===m||this._platform.WEBKIT&&this._platform.IOS&&!function il(u){let s=u.nodeName.toLowerCase(),i="input"===s&&u.type;return"text"===i||"password"===i||"select"===s||"textarea"===s}(i))&&("audio"===m?!!i.hasAttribute("controls")&&-1!==w:"video"===m?-1!==w&&(null!==w||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,d){return function ka(u){return!function dr(u){return function Ko(u){return"input"==u.nodeName.toLowerCase()}(u)&&"hidden"==u.type}(u)&&(function Eo(u){let s=u.nodeName.toLowerCase();return"input"===s||"select"===s||"button"===s||"textarea"===s}(u)||function Fi(u){return function Hi(u){return"a"==u.nodeName.toLowerCase()}(u)&&u.hasAttribute("href")}(u)||u.hasAttribute("contenteditable")||xs(u))}(i)&&!this.isDisabled(i)&&(d?.ignoreVisibility||this.isVisible(i))}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(de))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function xs(u){if(!u.hasAttribute("tabindex")||void 0===u.tabIndex)return!1;let s=u.getAttribute("tabindex");return!(!s||isNaN(parseInt(s,10)))}function $o(u){if(!xs(u))return null;const s=parseInt(u.getAttribute("tabindex")||"",10);return isNaN(s)?-1:s}class rl{constructor(s,i,d,m,w=!1){this._element=s,this._checker=i,this._ngZone=d,this._document=m,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,w||this.attachAnchors()}get enabled(){return this._enabled}set enabled(s){this._enabled=s,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(s,this._startAnchor),this._toggleAnchorTabIndex(s,this._endAnchor))}destroy(){const s=this._startAnchor,i=this._endAnchor;s&&(s.removeEventListener("focus",this.startAnchorListener),s.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(s){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(s)))})}focusFirstTabbableElementWhenReady(s){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(s)))})}focusLastTabbableElementWhenReady(s){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(s)))})}_getRegionBoundary(s){const i=this._element.querySelectorAll(`[cdk-focus-region-${s}], [cdkFocusRegion${s}], [cdk-focus-${s}]`);return"start"==s?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(s){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const d=this._getFirstTabbableElement(i);return d?.focus(s),!!d}return i.focus(s),!0}return this.focusFirstTabbableElement(s)}focusFirstTabbableElement(s){const i=this._getRegionBoundary("start");return i&&i.focus(s),!!i}focusLastTabbableElement(s){const i=this._getRegionBoundary("end");return i&&i.focus(s),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(s){if(this._checker.isFocusable(s)&&this._checker.isTabbable(s))return s;const i=s.children;for(let d=0;d<i.length;d++){const m=i[d].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[d]):null;if(m)return m}return null}_getLastTabbableElement(s){if(this._checker.isFocusable(s)&&this._checker.isTabbable(s))return s;const i=s.children;for(let d=i.length-1;d>=0;d--){const m=i[d].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[d]):null;if(m)return m}return null}_createAnchor(){const s=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,s),s.classList.add("cdk-visually-hidden"),s.classList.add("cdk-focus-trap-anchor"),s.setAttribute("aria-hidden","true"),s}_toggleAnchorTabIndex(s,i){s?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(s){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(s,this._startAnchor),this._toggleAnchorTabIndex(s,this._endAnchor))}_executeOnStable(s){this._ngZone.isStable?s():this._ngZone.onStable.pipe((0,$r.q)(1)).subscribe(s)}}let ms=(()=>{class u{constructor(i,d,m){this._checker=i,this._ngZone=d,this._document=m}create(i,d=!1){return new rl(i,this._checker,this._ngZone,this._document,d)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(ft),_.LFG(_.R0b),_.LFG(pe.K0))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function $s(u){return 0===u.buttons||0===u.offsetX&&0===u.offsetY}function ks(u){const s=u.touches&&u.touches[0]||u.changedTouches&&u.changedTouches[0];return!(!s||-1!==s.identifier||null!=s.radiusX&&1!==s.radiusX||null!=s.radiusY&&1!==s.radiusY)}const La=new _.OlP("cdk-input-modality-detector-options"),k={ignoreKeys:[18,17,224,91,16]},U=tt({passive:!0,capture:!0});let ee=(()=>{class u{constructor(i,d,m,w){this._platform=i,this._mostRecentTarget=null,this._modality=new ye.X(null),this._lastTouchMs=0,this._onKeydown=F=>{this._options?.ignoreKeys?.some(z=>z===F.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ce(F))},this._onMousedown=F=>{Date.now()-this._lastTouchMs<650||(this._modality.next($s(F)?"keyboard":"mouse"),this._mostRecentTarget=Ce(F))},this._onTouchstart=F=>{ks(F)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ce(F))},this._options={...k,...w},this.modalityDetected=this._modality.pipe(co(1)),this.modalityChanged=this.modalityDetected.pipe((0,uo.x)()),i.isBrowser&&d.runOutsideAngular(()=>{m.addEventListener("keydown",this._onKeydown,U),m.addEventListener("mousedown",this._onMousedown,U),m.addEventListener("touchstart",this._onTouchstart,U)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,U),document.removeEventListener("mousedown",this._onMousedown,U),document.removeEventListener("touchstart",this._onTouchstart,U))}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(de),_.LFG(_.R0b),_.LFG(pe.K0),_.LFG(La,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const vi=new _.OlP("cdk-focus-monitor-default-options"),di=tt({passive:!0,capture:!0});let ei=(()=>{class u{constructor(i,d,m,w,F){this._ngZone=i,this._platform=d,this._inputModalityDetector=m,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new De.x,this._rootNodeFocusAndBlurListener=z=>{for(let le=Ce(z);le;le=le.parentElement)"focus"===z.type?this._onFocus(z,le):this._onBlur(z,le)},this._document=w,this._detectionMode=F?.detectionMode||0}monitor(i,d=!1){const m=Qi(i);if(!this._platform.isBrowser||1!==m.nodeType)return(0,Qe.of)(null);const w=Dt(m)||this._getDocument(),F=this._elementInfo.get(m);if(F)return d&&(F.checkChildren=!0),F.subject;const z={checkChildren:d,subject:new De.x,rootNode:w};return this._elementInfo.set(m,z),this._registerGlobalListeners(z),z.subject}stopMonitoring(i){const d=Qi(i),m=this._elementInfo.get(d);m&&(m.subject.complete(),this._setClasses(d),this._elementInfo.delete(d),this._removeGlobalListeners(m))}focusVia(i,d,m){const w=Qi(i);w===this._getDocument().activeElement?this._getClosestElementsInfo(w).forEach(([z,ne])=>this._originChanged(z,d,ne)):(this._setOrigin(d),"function"==typeof w.focus&&w.focus(m))}ngOnDestroy(){this._elementInfo.forEach((i,d)=>this.stopMonitoring(d))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,d){i.classList.toggle("cdk-focused",!!d),i.classList.toggle("cdk-touch-focused","touch"===d),i.classList.toggle("cdk-keyboard-focused","keyboard"===d),i.classList.toggle("cdk-mouse-focused","mouse"===d),i.classList.toggle("cdk-program-focused","program"===d)}_setOrigin(i,d=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&d,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,d){const m=this._elementInfo.get(d),w=Ce(i);!m||!m.checkChildren&&d!==w||this._originChanged(d,this._getFocusOrigin(w),m)}_onBlur(i,d){const m=this._elementInfo.get(d);!m||m.checkChildren&&i.relatedTarget instanceof Node&&d.contains(i.relatedTarget)||(this._setClasses(d),this._emitOrigin(m,null))}_emitOrigin(i,d){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(d))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const d=i.rootNode,m=this._rootNodeFocusListenerCount.get(d)||0;m||this._ngZone.runOutsideAngular(()=>{d.addEventListener("focus",this._rootNodeFocusAndBlurListener,di),d.addEventListener("blur",this._rootNodeFocusAndBlurListener,di)}),this._rootNodeFocusListenerCount.set(d,m+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oi(this._stopInputModalityDetector)).subscribe(w=>{this._setOrigin(w,!0)}))}_removeGlobalListeners(i){const d=i.rootNode;if(this._rootNodeFocusListenerCount.has(d)){const m=this._rootNodeFocusListenerCount.get(d);m>1?this._rootNodeFocusListenerCount.set(d,m-1):(d.removeEventListener("focus",this._rootNodeFocusAndBlurListener,di),d.removeEventListener("blur",this._rootNodeFocusAndBlurListener,di),this._rootNodeFocusListenerCount.delete(d))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,d,m){this._setClasses(i,d),this._emitOrigin(m,d),this._lastFocusOrigin=d}_getClosestElementsInfo(i){const d=[];return this._elementInfo.forEach((m,w)=>{(w===i||m.checkChildren&&w.contains(i))&&d.push([w,m])}),d}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:d,mostRecentModality:m}=this._inputModalityDetector;if("mouse"!==m||!d||d===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const w=i.labels;if(w)for(let F=0;F<w.length;F++)if(w[F].contains(d))return!0;return!1}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(_.R0b),_.LFG(de),_.LFG(ee),_.LFG(pe.K0,8),_.LFG(vi,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const gi="cdk-high-contrast-black-on-white",Ri="cdk-high-contrast-white-on-black",Oo="cdk-high-contrast-active";let Co=(()=>{class u{constructor(i,d){this._platform=i,this._document=d,this._breakpointSubscription=(0,_.f3M)(Kn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const d=this._document.defaultView||window,m=d&&d.getComputedStyle?d.getComputedStyle(i):null,w=(m&&m.backgroundColor||"").replace(/ /g,"");switch(i.remove(),w){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Oo,gi,Ri),this._hasCheckedHighContrastMode=!0;const d=this.getHighContrastMode();1===d?i.add(Oo,gi):2===d&&i.add(Oo,Ri)}}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(de),_.LFG(pe.K0))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Po=(()=>{class u{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Co))},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[ts]}),u})();const gs=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function Br(){return(0,_.f3M)(pe.K0)}}),Ki=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fa=(()=>{class u{constructor(i){if(this.value="ltr",this.change=new _.vpe,i){const m=i.documentElement?i.documentElement.dir:null;this.value=function zs(u){const s=u?.toLowerCase()||"";return"auto"===s&&typeof navigator<"u"&&navigator?.language?Ki.test(navigator.language)?"rtl":"ltr":"rtl"===s?"rtl":"ltr"}((i.body?i.body.dir:null)||m||"ltr")}}ngOnDestroy(){this.change.complete()}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(gs,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),_s=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})();const Ji=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function Or(){return!0}});let bi=(()=>{class u{constructor(i,d,m){this._sanityChecks=d,this._document=m,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!qe()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Co),_.LFG(Ji,8),_.LFG(pe.K0))},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[_s,_s]}),u})();function ar(u){return class extends u{constructor(...s){super(...s),this._disabled=!1}get disabled(){return this._disabled}set disabled(s){this._disabled=Dr(s)}}}function is(u,s){return class extends u{constructor(...i){super(...i),this.defaultColor=s,this.color=s}get color(){return this._color}set color(i){const d=i||this.defaultColor;d!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),d&&this._elementRef.nativeElement.classList.add(`mat-${d}`),this._color=d)}}}function nr(u){return class extends u{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=Dr(s)}}}let Va=(()=>{class u{isErrorState(i,d){return!!(i&&i.invalid&&(i.touched||d&&d.submitted))}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class zo{constructor(s,i,d,m=!1){this._renderer=s,this.element=i,this.config=d,this._animationForciblyDisabledThroughCss=m,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ha={enterDuration:225,exitDuration:150},wn=tt({passive:!0}),va=["mousedown","touchstart"],ri=["mouseup","mouseleave","touchend","touchcancel"];class al{constructor(s,i,d,m){this._target=s,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,m.isBrowser&&(this._containerElement=Qi(d))}fadeInRipple(s,i,d={}){const m=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),w={...Ha,...d.animation};d.centered&&(s=m.left+m.width/2,i=m.top+m.height/2);const F=d.radius||function oi(u,s,i){const d=Math.max(Math.abs(u-i.left),Math.abs(u-i.right)),m=Math.max(Math.abs(s-i.top),Math.abs(s-i.bottom));return Math.sqrt(d*d+m*m)}(s,i,m),z=s-m.left,ne=i-m.top,le=w.enterDuration,ke=document.createElement("div");ke.classList.add("mat-ripple-element"),ke.style.left=z-F+"px",ke.style.top=ne-F+"px",ke.style.height=2*F+"px",ke.style.width=2*F+"px",null!=d.color&&(ke.style.backgroundColor=d.color),ke.style.transitionDuration=`${le}ms`,this._containerElement.appendChild(ke);const _t=window.getComputedStyle(ke),rn=_t.transitionDuration,jt="none"===_t.transitionProperty||"0s"===rn||"0s, 0s"===rn,Gt=new zo(this,ke,d,jt);ke.style.transform="scale3d(1, 1, 1)",Gt.state=0,d.persistent||(this._mostRecentTransientRipple=Gt);let Fn=null;return!jt&&(le||w.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ki=()=>this._finishRippleTransition(Gt),Bo=()=>this._destroyRipple(Gt);ke.addEventListener("transitionend",ki),ke.addEventListener("transitioncancel",Bo),Fn={onTransitionEnd:ki,onTransitionCancel:Bo}}),this._activeRipples.set(Gt,Fn),(jt||!le)&&this._finishRippleTransition(Gt),Gt}fadeOutRipple(s){if(2===s.state||3===s.state)return;const i=s.element,d={...Ha,...s.config.animation};i.style.transitionDuration=`${d.exitDuration}ms`,i.style.opacity="0",s.state=2,(s._animationForciblyDisabledThroughCss||!d.exitDuration)&&this._finishRippleTransition(s)}fadeOutAll(){this._getActiveRipples().forEach(s=>s.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(s=>{s.config.persistent||s.fadeOut()})}setupTriggerEvents(s){const i=Qi(s);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(va))}handleEvent(s){"mousedown"===s.type?this._onMousedown(s):"touchstart"===s.type?this._onTouchStart(s):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ri),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(s){0===s.state?this._startFadeOutTransition(s):2===s.state&&this._destroyRipple(s)}_startFadeOutTransition(s){const i=s===this._mostRecentTransientRipple,{persistent:d}=s.config;s.state=1,!d&&(!i||!this._isPointerDown)&&s.fadeOut()}_destroyRipple(s){const i=this._activeRipples.get(s)??null;this._activeRipples.delete(s),this._activeRipples.size||(this._containerRect=null),s===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),s.state=3,null!==i&&(s.element.removeEventListener("transitionend",i.onTransitionEnd),s.element.removeEventListener("transitioncancel",i.onTransitionCancel)),s.element.remove()}_onMousedown(s){const i=$s(s),d=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!d&&(this._isPointerDown=!0,this.fadeInRipple(s.clientX,s.clientY,this._target.rippleConfig))}_onTouchStart(s){if(!this._target.rippleDisabled&&!ks(s)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=s.changedTouches;for(let d=0;d<i.length;d++)this.fadeInRipple(i[d].clientX,i[d].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(s=>{!s.config.persistent&&(1===s.state||s.config.terminateOnPointerUp&&0===s.state)&&s.fadeOut()}))}_registerEvents(s){this._ngZone.runOutsideAngular(()=>{s.forEach(i=>{this._triggerElement.addEventListener(i,this,wn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(va.forEach(s=>{this._triggerElement.removeEventListener(s,this,wn)}),this._pointerUpEventsRegistered&&ri.forEach(s=>{this._triggerElement.removeEventListener(s,this,wn)}))}}const Yt=new _.OlP("mat-ripple-global-options");let Do=(()=>{class u{constructor(i,d,m,w,F){this._elementRef=i,this._animationMode=F,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=w||{},this._rippleRenderer=new al(this,d,i,m)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,d=0,m){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,d,{...this.rippleConfig,...m}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(de),_.Y36(Yt,8),_.Y36(_.QbO,8))},u.\u0275dir=_.lG2({type:u,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,d){2&i&&_.ekj("mat-ripple-unbounded",d.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),u})(),qr=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi,bi]}),u})(),ba=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi]}),u})(),Al=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[qr,pe.ez,bi,ba]}),u})();const ji=["mat-button",""],Wa=["*"],oc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],br=is(ar(nr(class{constructor(u){this._elementRef=u}})));let Go=(()=>{class u extends br{constructor(i,d,m){super(i),this._focusMonitor=d,this._animationMode=m,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const w of oc)this._hasHostAttributes(w)&&this._getHostElement().classList.add(w);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,d){i?this._focusMonitor.focusVia(this._getHostElement(),i,d):this._getHostElement().focus(d)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(d=>this._getHostElement().hasAttribute(d))}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(ei),_.Y36(_.QbO,8))},u.\u0275cmp=_.Xpm({type:u,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,d){if(1&i&&_.Gf(Do,5),2&i){let m;_.iGM(m=_.CRH())&&(d.ripple=m.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,d){2&i&&(_.uIk("disabled",d.disabled||null),_.ekj("_mat-animation-noopable","NoopAnimations"===d._animationMode)("mat-button-disabled",d.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_.qOj],attrs:ji,ngContentSelectors:Wa,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,d){1&i&&(_.F$t(),_.TgZ(0,"span",0),_.Hsn(1),_.qZA(),_._UZ(2,"span",1)(3,"span",2)),2&i&&(_.xp6(2),_.ekj("mat-button-ripple-round",d.isRoundButton||d.isIconButton),_.Q6J("matRippleDisabled",d._isRippleDisabled())("matRippleCentered",d.isIconButton)("matRippleTrigger",d._getHostElement()))},dependencies:[Do],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),u})(),qs=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[qr,bi,bi]}),u})();function Ca(u,s){if(1&u&&(_.TgZ(0,"option",12),_._uU(1),_.qZA()),2&u){const i=s.$implicit;_.Q6J("value",i.code),_.xp6(1),_.Oqu(i.name)}}function T(u,s){if(1&u&&(_.TgZ(0,"option",12),_._uU(1),_.qZA()),2&u){const i=s.$implicit;_.Q6J("value",i),_.xp6(1),_.Oqu(i)}}let x=(()=>{class u{constructor(i){this.router=i,this.years=[],this.types=Ne,this.year="",this.type=""}ngOnInit(){let i=(new Date).getFullYear();for(var d=0;d<3;d++)this.years.push(i-d+"-"+(""+(i-d+1)).substring(2));this.year=this.years[0],this.type=this.types[0].code}createRequest(){this.router.navigateByUrl("/work/request?type="+this.type+"&year="+this.year)}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(fe.F0))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-quick-start"]],decls:18,vars:4,consts:[[1,"card","mat-card","p-0"],[1,"card-header","primary"],[1,"card-body"],[1,"create-form"],[1,"form-floating","mt-2"],["id","workorder","name","workorder",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","workorder",1,"form-label"],["id","fy","name","fy",1,"form-select",3,"ngModel","ngModelChange"],["for","fy",1,"form-label"],[1,"text-end","mt-3"],["mat-button","",1,"primary",3,"click"],[3,"value"]],template:function(i,d){1&i&&(_.TgZ(0,"div",0)(1,"div",1),_._uU(2,"Quick Start Documentation"),_.qZA(),_.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),_.NdJ("ngModelChange",function(w){return d.type=w}),_.YNc(7,Ca,2,2,"option",6),_.qZA(),_.TgZ(8,"label",7),_._uU(9,"Documentation:"),_.qZA()(),_.TgZ(10,"div",4)(11,"select",8),_.NdJ("ngModelChange",function(w){return d.year=w}),_.YNc(12,T,2,2,"option",6),_.qZA(),_.TgZ(13,"label",9),_._uU(14,"Financial Year:"),_.qZA()(),_.TgZ(15,"div",10)(16,"button",11),_.NdJ("click",function(){return d.createRequest()}),_._uU(17,"Create"),_.qZA()()()()()),2&i&&(_.xp6(6),_.Q6J("ngModel",d.type),_.xp6(1),_.Q6J("ngForOf",d.types),_.xp6(4),_.Q6J("ngModel",d.year),_.xp6(1),_.Q6J("ngForOf",d.years))},dependencies:[pe.sg,K.YN,K.Kr,K.EJ,K.JJ,K.On,Go],styles:[".card-header[_ngcontent-%COMP%]{font-size:24px;padding:15px}.form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-top:23px;padding-bottom:5px;height:50px}"]}),u})();function M(u,s){if(1&u&&(_.TgZ(0,"tr")(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_._uU(4),_.qZA(),_.TgZ(5,"td")(6,"span",7),_._uU(7,"View"),_.qZA()()()),2&u){const i=s.$implicit;_.xp6(2),_.Oqu(i.name),_.xp6(2),_.Oqu(i.created)}}function L(u,s){if(1&u&&(_.TgZ(0,"table",5)(1,"thead")(2,"tr")(3,"th"),_._uU(4,"Documentation"),_.qZA(),_.TgZ(5,"th"),_._uU(6,"Created"),_.qZA(),_.TgZ(7,"th"),_._uU(8,"Action"),_.qZA()()(),_.TgZ(9,"tbody"),_.YNc(10,M,8,2,"tr",6),_.qZA()()),2&u){const i=_.oxw();_.xp6(10),_.Q6J("ngForOf",i.data)}}function H(u,s){1&u&&(_.TgZ(0,"div",8)(1,"span"),_._uU(2,"You dont have any active working documents, create one now using Quick Start"),_.qZA()())}let J=(()=>{class u{constructor(){this.data=[]}ngOnInit(){let i=[];i.push({name:"Transfer_Pricing_2019_20",type:"TRANSFERPRICING",created:(new Date).toDateString()}),i.push({name:"Transfer_Pricing_2020_21",type:"TRANSFERPRICING",created:(new Date).toDateString()}),i.push({name:"Transfer_Pricing_2021_22",type:"TRANSFERPRICING",created:(new Date).toDateString()})}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-active-work"]],decls:6,vars:2,consts:[[1,"card","mat-card","p-0"],[1,"card-header","primary"],[1,"card-body"],["class","table table-striped",4,"ngIf"],["class","text-center","style","min-height:80px",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"navigation-link"],[1,"text-center",2,"min-height","80px"]],template:function(i,d){1&i&&(_.TgZ(0,"div",0)(1,"div",1),_._uU(2,"Active Documents"),_.qZA(),_.TgZ(3,"div",2),_.YNc(4,L,11,1,"table",3),_.YNc(5,H,3,0,"div",4),_.qZA()()),2&i&&(_.xp6(4),_.Q6J("ngIf",d.data.length>0),_.xp6(1),_.Q6J("ngIf",0==d.data.length))},dependencies:[pe.sg,pe.O5],styles:[".card-header[_ngcontent-%COMP%]{font-size:24px;padding:15px}.primary[_ngcontent-%COMP%]{background:teal;color:#fff}.navigation-link[_ngcontent-%COMP%]{text-decoration:underline;font-size:15px;cursor:pointer;color:#4169e1;font-weight:400}.navigation-link[_ngcontent-%COMP%]:hover{color:#8b0000}"]}),u})(),ae=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"container","mt-3"],[1,"row","m-2"],[1,"col-xs-12","col-sm-12","col-md-6","mt-2"]],template:function(i,d){1&i&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_._UZ(3,"app-quick-start"),_.qZA(),_.TgZ(4,"div",2),_._UZ(5,"app-active-work"),_.qZA()()())},dependencies:[x,J]}),u})();var me=R(3261),ht=R(7185);let Zt=(()=>{class u{constructor(i,d){this.firestore=i,this.toaster=d,this.editing=!1}ngOnInit(){}update(){}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(me.C),_.Y36(ht._W))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-profile"]],decls:0,vars:0,template:function(i,d){},styles:[".header[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:23px}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.actions[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px!important}"]}),u})();var Tn=R(8247),$i=(R(2090),R(9681),R(1877),R(4859),R(1205));let Pr=(()=>{class u{constructor(i,d,m){this.auth=i,this.firestore=d,this.route=m}ngOnInit(){this.login()}login(){var i=new Tn.Q;i.addScope("email"),this.firestore.loader.show(),this.auth.signInWithPopup(i).then(d=>{this.firestore.loader.hide(),console.log("User Login Success ",d),this.firestore.toast.success(d.user?.email?d.user.email:"","User Login Success"),this.route.navigate(["dashboard"])}).catch(d=>{this.firestore.loader.hide(),console.error(d),this.handleError(d.code)})}handleError(i){switch(i){case"auth/user-not-found":this.firestore.toast.error("User not Found","Login Error");break;case"auth/wrong-password":this.firestore.toast.error("Invalid Password, Please use forgot password","Login Error");break;case"auth/configuration-not-found":this.firestore.toast.error("Configuration not found for authentication","Login Error");break;default:this.firestore.toast.error("Unable to login","Login Error")}}}return u.\u0275fac=function(i){return new(i||u)(_.Y36($i.zQ),_.Y36(me.C),_.Y36(fe.F0))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container","h-100"],[1,"row","justify-content-sm-center","h-100"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"text-center","my-5"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"fs-4","card-title","fw-bold","mb-4"],["method","POST","novalidate","","autocomplete","off",1,"needs-validation"],[1,"text-center"],[1,"mt-1"],["src","assets/icons/google.svg",2,"height","40px"],[1,"mt-3"],["mat-button","",1,"primary",3,"click"]],template:function(i,d){1&i&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_._UZ(3,"div",3),_.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),_._uU(7,"Login"),_.qZA(),_.TgZ(8,"form",7)(9,"div",8)(10,"div",9),_._UZ(11,"img",10),_.qZA(),_.TgZ(12,"div",11)(13,"button",12),_.NdJ("click",function(){return d.login()}),_._uU(14," Sign In using Google"),_.qZA()()()()()()()()())},dependencies:[K._Y,K.JL,K.F,Go],styles:["label[_ngcontent-%COMP%]{margin-bottom:.2rem;margin-left:5px;font-size:16px;font-weight:500}.error[_ngcontent-%COMP%]{color:#f61e37;font-size:12px;margin-bottom:0;padding-left:3px}"]}),u})();const Ns=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Ie},{path:"register/:type",component:R(2859).y},{path:"login",component:Pr},{path:"profile",component:Zt},{path:"dashboard",component:ae},{path:"login",component:Pr}];let ko=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[fe.Bz.forRoot(Ns),fe.Bz]}),u})();var ll=R(5577),Qs=R(1144),Io=R(576),os=R(3268);const sc=["addListener","removeListener"],Zo=["addEventListener","removeEventListener"],Sl=["on","off"];function No(u,s,i,d){if((0,Io.m)(i)&&(d=i,i=void 0),d)return No(u,s,i).pipe((0,os.Z)(d));const[m,w]=function ac(u){return(0,Io.m)(u.addEventListener)&&(0,Io.m)(u.removeEventListener)}(u)?Zo.map(F=>z=>u[F](s,z,i)):function xl(u){return(0,Io.m)(u.addListener)&&(0,Io.m)(u.removeListener)}(u)?sc.map(ro(u,s)):function rr(u){return(0,Io.m)(u.on)&&(0,Io.m)(u.off)}(u)?Sl.map(ro(u,s)):[];if(!m&&(0,Qs.z)(u))return(0,ll.z)(F=>No(F,s,i))((0,ho.Xf)(u));if(!m)throw new TypeError("Invalid event target");return new Wi.y(F=>{const z=(...ne)=>F.next(1<ne.length?ne:ne[0]);return m(z),()=>w(z)})}function ro(u,s){return i=>d=>u[i](s,d)}var B=R(4408),W=R(727);const Q={schedule(u){let s=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:d}=Q;d&&(s=d.requestAnimationFrame,i=d.cancelAnimationFrame);const m=s(w=>{i=void 0,u(w)});return new W.w0(()=>i?.(m))},requestAnimationFrame(...u){const{delegate:s}=Q;return(s?.requestAnimationFrame||requestAnimationFrame)(...u)},cancelAnimationFrame(...u){const{delegate:s}=Q;return(s?.cancelAnimationFrame||cancelAnimationFrame)(...u)},delegate:void 0};var $e=R(7565);new class lt extends $e.v{flush(s){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:d}=this;let m;s=s||d.shift();do{if(m=s.execute(s.state,s.delay))break}while((s=d[0])&&s.id===i&&d.shift());if(this._active=!1,m){for(;(s=d[0])&&s.id===i&&d.shift();)s.unsubscribe();throw m}}}(class ve extends B.o{constructor(s,i){super(s,i),this.scheduler=s,this.work=i}requestAsyncId(s,i,d=0){return null!==d&&d>0?super.requestAsyncId(s,i,d):(s.actions.push(this),s._scheduled||(s._scheduled=Q.requestAnimationFrame(()=>s.flush(void 0))))}recycleAsyncId(s,i,d=0){var m;if(null!=d?d>0:this.delay>0)return super.recycleAsyncId(s,i,d);const{actions:w}=s;null!=i&&(null===(m=w[w.length-1])||void 0===m?void 0:m.id)!==i&&(Q.cancelAnimationFrame(i),s._scheduled=void 0)}});let zn,In=1;const ti={};function Rn(u){return u in ti&&(delete ti[u],!0)}const Rr={setImmediate(u){const s=In++;return ti[s]=!0,zn||(zn=Promise.resolve()),zn.then(()=>Rn(s)&&u()),s},clearImmediate(u){Rn(u)}},{setImmediate:Mr,clearImmediate:Ka}=Rr,wi={setImmediate(...u){const{delegate:s}=wi;return(s?.setImmediate||Mr)(...u)},clearImmediate(u){const{delegate:s}=wi;return(s?.clearImmediate||Ka)(u)},delegate:void 0};new class Xs extends $e.v{flush(s){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:d}=this;let m;s=s||d.shift();do{if(m=s.execute(s.state,s.delay))break}while((s=d[0])&&s.id===i&&d.shift());if(this._active=!1,m){for(;(s=d[0])&&s.id===i&&d.shift();)s.unsubscribe();throw m}}}(class $a extends B.o{constructor(s,i){super(s,i),this.scheduler=s,this.work=i}requestAsyncId(s,i,d=0){return null!==d&&d>0?super.requestAsyncId(s,i,d):(s.actions.push(this),s._scheduled||(s._scheduled=wi.setImmediate(s.flush.bind(s,void 0))))}recycleAsyncId(s,i,d=0){var m;if(null!=d?d>0:this.delay>0)return super.recycleAsyncId(s,i,d);const{actions:w}=s;null!=i&&(null===(m=w[w.length-1])||void 0===m?void 0:m.id)!==i&&(wi.clearImmediate(i),s._scheduled=void 0)}});var za=R(3532);function Au(u,s=fo.z){return function Fs(u){return(0,To.e)((s,i)=>{let d=!1,m=null,w=null,F=!1;const z=()=>{if(w?.unsubscribe(),w=null,d){d=!1;const le=m;m=null,i.next(le)}F&&i.complete()},ne=()=>{w=null,F&&i.complete()};s.subscribe((0,no.x)(i,le=>{d=!0,m=le,w||(0,ho.Xf)(u(le)).subscribe(w=(0,no.x)(i,z,ne))},()=>{F=!0,(!d||!w||w.closed)&&i.complete()}))})}(()=>function _h(u=0,s,i=fo.P){let d=-1;return null!=s&&((0,za.K)(s)?i=s:d=s),new Wi.y(m=>{let w=function md(u){return u instanceof Date&&!isNaN(u)}(u)?+u-i.now():u;w<0&&(w=0);let F=0;return i.schedule(function(){m.closed||(m.next(F++),0<=d?this.schedule(void 0,d):m.complete())},w)})}(u,s))}let bh=(()=>{class u{constructor(i,d,m){this._ngZone=i,this._platform=d,this._scrolled=new De.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=m}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const d=this.scrollContainers.get(i);d&&(d.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new Wi.y(d=>{this._globalSubscription||this._addGlobalListener();const m=i>0?this._scrolled.pipe(Au(i)).subscribe(d):this._scrolled.subscribe(d);return this._scrolledCount++,()=>{m.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Qe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,d)=>this.deregister(d)),this._scrolled.complete()}ancestorScrolled(i,d){const m=this.getAncestorScrollContainers(i);return this.scrolled(d).pipe((0,Ni.h)(w=>!w||m.indexOf(w)>-1))}getAncestorScrollContainers(i){const d=[];return this.scrollContainers.forEach((m,w)=>{this._scrollableContainsElement(w,i)&&d.push(w)}),d}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,d){let m=Qi(d),w=i.getElementRef().nativeElement;do{if(m==w)return!0}while(m=m.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>No(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(_.R0b),_.LFG(de),_.LFG(pe.K0,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Wc=(()=>{class u{constructor(i,d,m,w){this.elementRef=i,this.scrollDispatcher=d,this.ngZone=m,this.dir=w,this._destroyed=new De.x,this._elementScrolled=new Wi.y(F=>this.ngZone.runOutsideAngular(()=>No(this.elementRef.nativeElement,"scroll").pipe(Oi(this._destroyed)).subscribe(F)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const d=this.elementRef.nativeElement,m=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=m?i.end:i.start),null==i.right&&(i.right=m?i.start:i.end),null!=i.bottom&&(i.top=d.scrollHeight-d.clientHeight-i.bottom),m&&0!=je()?(null!=i.left&&(i.right=d.scrollWidth-d.clientWidth-i.left),2==je()?i.left=i.right:1==je()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=d.scrollWidth-d.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const d=this.elementRef.nativeElement;xt()?d.scrollTo(i):(null!=i.top&&(d.scrollTop=i.top),null!=i.left&&(d.scrollLeft=i.left))}measureScrollOffset(i){const d="left",m="right",w=this.elementRef.nativeElement;if("top"==i)return w.scrollTop;if("bottom"==i)return w.scrollHeight-w.clientHeight-w.scrollTop;const F=this.dir&&"rtl"==this.dir.value;return"start"==i?i=F?m:d:"end"==i&&(i=F?d:m),F&&2==je()?i==d?w.scrollWidth-w.clientWidth-w.scrollLeft:w.scrollLeft:F&&1==je()?i==d?w.scrollLeft+w.scrollWidth-w.clientWidth:-w.scrollLeft:i==d?w.scrollLeft:w.scrollWidth-w.clientWidth-w.scrollLeft}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(bh),_.Y36(_.R0b),_.Y36(Fa,8))},u.\u0275dir=_.lG2({type:u,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),u})(),Js=(()=>{class u{constructor(i,d,m){this._platform=i,this._change=new De.x,this._changeListener=w=>{this._change.next(w)},this._document=m,d.runOutsideAngular(()=>{if(i.isBrowser){const w=this._getWindow();w.addEventListener("resize",this._changeListener),w.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:d,height:m}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+m,right:i.left+d,height:m,width:d}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,d=this._getWindow(),m=i.documentElement,w=m.getBoundingClientRect();return{top:-w.top||i.body.scrollTop||d.scrollY||m.scrollTop||0,left:-w.left||i.body.scrollLeft||d.scrollX||m.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(Au(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(de),_.LFG(_.R0b),_.LFG(pe.K0,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),dl=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})(),Da=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[_s,dl,_s,dl]}),u})();var Ur=R(6451),Pl=R(9718),Lt=R(7340);const Ou=["*"],vd=["content"];function $c(u,s){if(1&u){const i=_.EpF();_.TgZ(0,"div",2),_.NdJ("click",function(){_.CHM(i);const m=_.oxw();return _.KtG(m._onBackdropClicked())}),_.qZA()}if(2&u){const i=_.oxw();_.ekj("mat-drawer-shown",i._isShowingBackdrop())}}function wa(u,s){1&u&&(_.TgZ(0,"mat-drawer-content"),_.Hsn(1,2),_.qZA())}const hl=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Eh=["mat-drawer","mat-drawer-content","*"],Ed={transformDrawer:(0,Lt.X$)("transform",[(0,Lt.SB)("open, open-instant",(0,Lt.oB)({transform:"none",visibility:"visible"})),(0,Lt.SB)("void",(0,Lt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Lt.eR)("void => open-instant",(0,Lt.jt)("0ms")),(0,Lt.eR)("void <=> open, open-instant => void",(0,Lt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},zc=new _.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function E(){return!1}}),S=new _.OlP("MAT_DRAWER_CONTAINER");let C=(()=>{class u extends Wc{constructor(i,d,m,w,F){super(m,w,F),this._changeDetectorRef=i,this._container=d}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.sBO),_.Y36((0,_.Gpc)(()=>Y)),_.Y36(_.SBq),_.Y36(bh),_.Y36(_.R0b))},u.\u0275cmp=_.Xpm({type:u,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,d){2&i&&_.Udp("margin-left",d._container._contentMargins.left,"px")("margin-right",d._container._contentMargins.right,"px")},features:[_._Bn([{provide:Wc,useExisting:u}]),_.qOj],ngContentSelectors:Ou,decls:1,vars:0,template:function(i,d){1&i&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),u})(),P=(()=>{class u{constructor(i,d,m,w,F,z,ne,le){this._elementRef=i,this._focusTrapFactory=d,this._focusMonitor=m,this._platform=w,this._ngZone=F,this._interactivityChecker=z,this._doc=ne,this._container=le,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new De.x,this._animationEnd=new De.x,this._animationState="void",this.openedChange=new _.vpe(!0),this._openedStream=this.openedChange.pipe((0,Ni.h)(ke=>ke),(0,tr.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Ni.h)(ke=>ke.fromState!==ke.toState&&0===ke.toState.indexOf("open")),(0,Pl.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Ni.h)(ke=>!ke),(0,tr.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Ni.h)(ke=>ke.fromState!==ke.toState&&"void"===ke.toState),(0,Pl.h)(void 0)),this._destroyed=new De.x,this.onPositionChanged=new _.vpe,this._modeChanged=new De.x,this.openedChange.subscribe(ke=>{ke?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{No(this._elementRef.nativeElement,"keydown").pipe((0,Ni.h)(ke=>27===ke.keyCode&&!this.disableClose&&!function Hs(u,...s){return s.length?s.some(i=>u[i]):u.altKey||u.shiftKey||u.ctrlKey||u.metaKey}(ke)),Oi(this._destroyed)).subscribe(ke=>this._ngZone.run(()=>{this.close(),ke.stopPropagation(),ke.preventDefault()}))}),this._animationEnd.pipe((0,uo.x)((ke,_t)=>ke.fromState===_t.fromState&&ke.toState===_t.toState)).subscribe(ke=>{const{fromState:_t,toState:Jt}=ke;(0===Jt.indexOf("open")&&"void"===_t||"void"===Jt&&0===_t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=Dr(i)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(i){("true"===i||"false"===i||null==i)&&(i=Dr(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(Dr(i))}_forceFocus(i,d){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const m=()=>{i.removeEventListener("blur",m),i.removeEventListener("mousedown",m),i.removeAttribute("tabindex")};i.addEventListener("blur",m),i.addEventListener("mousedown",m)})),i.focus(d)}_focusByCssSelector(i,d){let m=this._elementRef.nativeElement.querySelector(i);m&&this._forceFocus(m,d)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(d=>{!d&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,d){i&&d&&(this._openedVia=d);const m=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),m}_setOpen(i,d,m){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",d&&this._restoreFocus(m)),this._updateFocusTrapState(),new Promise(w=>{this.openedChange.pipe((0,$r.q)(1)).subscribe(F=>w(F?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(i){const d=this._elementRef.nativeElement,m=d.parentNode;"end"===i?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),m.insertBefore(this._anchor,d)),m.appendChild(d)):this._anchor&&this._anchor.parentNode.insertBefore(d,this._anchor)}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(ms),_.Y36(ei),_.Y36(de),_.Y36(_.R0b),_.Y36(ft),_.Y36(pe.K0,8),_.Y36(S,8))},u.\u0275cmp=_.Xpm({type:u,selectors:[["mat-drawer"]],viewQuery:function(i,d){if(1&i&&_.Gf(vd,5),2&i){let m;_.iGM(m=_.CRH())&&(d._content=m.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,d){1&i&&_.WFA("@transform.start",function(w){return d._animationStarted.next(w)})("@transform.done",function(w){return d._animationEnd.next(w)}),2&i&&(_.uIk("align",null),_.d8E("@transform",d._animationState),_.ekj("mat-drawer-end","end"===d.position)("mat-drawer-over","over"===d.mode)("mat-drawer-push","push"===d.mode)("mat-drawer-side","side"===d.mode)("mat-drawer-opened",d.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ou,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,d){1&i&&(_.F$t(),_.TgZ(0,"div",0,1),_.Hsn(2),_.qZA())},dependencies:[Wc],encapsulation:2,data:{animation:[Ed.transformDrawer]},changeDetection:0}),u})(),Y=(()=>{class u{constructor(i,d,m,w,F,z=!1,ne){this._dir=i,this._element=d,this._ngZone=m,this._changeDetectorRef=w,this._animationMode=ne,this._drawers=new _.n_E,this.backdropClick=new _.vpe,this._destroyed=new De.x,this._doCheckSubject=new De.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new De.x,i&&i.change.pipe(Oi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),F.change().pipe(Oi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=z}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=Dr(i)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(i){this._backdropOverride=null==i?null:Dr(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ci.O)(this._allDrawers),Oi(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(d=>!d._container||d._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ci.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ns(10),Oi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,d=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const m=this._left._getWidth();i+=m,d-=m}if(this._right&&this._right.opened)if("side"==this._right.mode)d+=this._right._getWidth();else if("push"==this._right.mode){const m=this._right._getWidth();d+=m,i-=m}i=i||null,d=d||null,(i!==this._contentMargins.left||d!==this._contentMargins.right)&&(this._contentMargins={left:i,right:d},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe((0,Ni.h)(d=>d.fromState!==d.toState),Oi(this._drawers.changes)).subscribe(d=>{"open-instant"!==d.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(Oi(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(Oi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,$r.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(Oi((0,Ur.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const d=this._element.nativeElement.classList,m="mat-drawer-container-has-open";i?d.add(m):d.remove(m)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(Fa,8),_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(_.sBO),_.Y36(Js),_.Y36(zc),_.Y36(_.QbO,8))},u.\u0275cmp=_.Xpm({type:u,selectors:[["mat-drawer-container"]],contentQueries:function(i,d,m){if(1&i&&(_.Suo(m,C,5),_.Suo(m,P,5)),2&i){let w;_.iGM(w=_.CRH())&&(d._content=w.first),_.iGM(w=_.CRH())&&(d._allDrawers=w)}},viewQuery:function(i,d){if(1&i&&_.Gf(C,5),2&i){let m;_.iGM(m=_.CRH())&&(d._userContent=m.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,d){2&i&&_.ekj("mat-drawer-container-explicit-backdrop",d._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[_._Bn([{provide:S,useExisting:u}])],ngContentSelectors:Eh,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,d){1&i&&(_.F$t(hl),_.YNc(0,$c,1,2,"div",0),_.Hsn(1),_.Hsn(2,1),_.YNc(3,wa,2,0,"mat-drawer-content",1)),2&i&&(_.Q6J("ngIf",d.hasBackdrop),_.xp6(3),_.Q6J("ngIf",!d._content))},dependencies:[pe.O5,C],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),u})(),mn=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[pe.ez,bi,dl,dl,bi]}),u})();var Ln=R(2843),Dn=R(4128),zi=R(8505),ss=R(262),Ga=R(8746),Cd=R(3099),Ia=R(529);const Dd=["*"];let uc;function as(u){return function Rl(){if(void 0===uc&&(uc=null,typeof window<"u")){const u=window;void 0!==u.trustedTypes&&(uc=u.trustedTypes.createPolicy("angular#components",{createHTML:s=>s}))}return uc}()?.createHTML(u)||u}function Gc(u){return Error(`Unable to find icon with the name "${u}"`)}function hc(u){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${u}".`)}function Ma(u){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${u}".`)}class Za{constructor(s,i,d){this.url=s,this.svgText=i,this.options=d}}let pr=(()=>{class u{constructor(i,d,m,w){this._httpClient=i,this._sanitizer=d,this._errorHandler=w,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=m}addSvgIcon(i,d,m){return this.addSvgIconInNamespace("",i,d,m)}addSvgIconLiteral(i,d,m){return this.addSvgIconLiteralInNamespace("",i,d,m)}addSvgIconInNamespace(i,d,m,w){return this._addSvgIconConfig(i,d,new Za(m,null,w))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,d,m,w){const F=this._sanitizer.sanitize(_.q3G.HTML,m);if(!F)throw Ma(m);const z=as(F);return this._addSvgIconConfig(i,d,new Za("",z,w))}addSvgIconSet(i,d){return this.addSvgIconSetInNamespace("",i,d)}addSvgIconSetLiteral(i,d){return this.addSvgIconSetLiteralInNamespace("",i,d)}addSvgIconSetInNamespace(i,d,m){return this._addSvgIconSetConfig(i,new Za(d,null,m))}addSvgIconSetLiteralInNamespace(i,d,m){const w=this._sanitizer.sanitize(_.q3G.HTML,d);if(!w)throw Ma(d);const F=as(w);return this._addSvgIconSetConfig(i,new Za("",F,m))}registerFontClassAlias(i,d=i){return this._fontCssClassesByAlias.set(i,d),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const d=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,i);if(!d)throw hc(i);const m=this._cachedIconsByUrl.get(d);return m?(0,Qe.of)(Zc(m)):this._loadSvgIconFromConfig(new Za(i,null)).pipe((0,zi.b)(w=>this._cachedIconsByUrl.set(d,w)),(0,tr.U)(w=>Zc(w)))}getNamedSvgIcon(i,d=""){const m=Ch(d,i);let w=this._svgIconConfigs.get(m);if(w)return this._getSvgFromConfig(w);if(w=this._getIconConfigFromResolvers(d,i),w)return this._svgIconConfigs.set(m,w),this._getSvgFromConfig(w);const F=this._iconSetConfigs.get(d);return F?this._getSvgFromIconSetConfigs(i,F):(0,Ln._)(Gc(m))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?(0,Qe.of)(Zc(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe((0,tr.U)(d=>Zc(d)))}_getSvgFromIconSetConfigs(i,d){const m=this._extractIconWithNameFromAnySet(i,d);if(m)return(0,Qe.of)(m);const w=d.filter(F=>!F.svgText).map(F=>this._loadSvgIconSetFromConfig(F).pipe((0,ss.K)(z=>{const le=`Loading icon set URL: ${this._sanitizer.sanitize(_.q3G.RESOURCE_URL,F.url)} failed: ${z.message}`;return this._errorHandler.handleError(new Error(le)),(0,Qe.of)(null)})));return(0,Dn.D)(w).pipe((0,tr.U)(()=>{const F=this._extractIconWithNameFromAnySet(i,d);if(!F)throw Gc(i);return F}))}_extractIconWithNameFromAnySet(i,d){for(let m=d.length-1;m>=0;m--){const w=d[m];if(w.svgText&&w.svgText.toString().indexOf(i)>-1){const F=this._svgElementFromConfig(w),z=this._extractSvgIconFromSet(F,i,w.options);if(z)return z}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe((0,zi.b)(d=>i.svgText=d),(0,tr.U)(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?(0,Qe.of)(null):this._fetchIcon(i).pipe((0,zi.b)(d=>i.svgText=d))}_extractSvgIconFromSet(i,d,m){const w=i.querySelector(`[id="${d}"]`);if(!w)return null;const F=w.cloneNode(!0);if(F.removeAttribute("id"),"svg"===F.nodeName.toLowerCase())return this._setSvgAttributes(F,m);if("symbol"===F.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(F),m);const z=this._svgElementFromString(as("<svg></svg>"));return z.appendChild(F),this._setSvgAttributes(z,m)}_svgElementFromString(i){const d=this._document.createElement("DIV");d.innerHTML=i;const m=d.querySelector("svg");if(!m)throw Error("<svg> tag not found");return m}_toSvgElement(i){const d=this._svgElementFromString(as("<svg></svg>")),m=i.attributes;for(let w=0;w<m.length;w++){const{name:F,value:z}=m[w];"id"!==F&&d.setAttribute(F,z)}for(let w=0;w<i.childNodes.length;w++)i.childNodes[w].nodeType===this._document.ELEMENT_NODE&&d.appendChild(i.childNodes[w].cloneNode(!0));return d}_setSvgAttributes(i,d){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),d&&d.viewBox&&i.setAttribute("viewBox",d.viewBox),i}_fetchIcon(i){const{url:d,options:m}=i,w=m?.withCredentials??!1;if(!this._httpClient)throw function dc(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==d)throw Error(`Cannot fetch icon from URL "${d}".`);const F=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,d);if(!F)throw hc(d);const z=this._inProgressUrlFetches.get(F);if(z)return z;const ne=this._httpClient.get(F,{responseType:"text",withCredentials:w}).pipe((0,tr.U)(le=>as(le)),(0,Ga.x)(()=>this._inProgressUrlFetches.delete(F)),(0,Cd.B)());return this._inProgressUrlFetches.set(F,ne),ne}_addSvgIconConfig(i,d,m){return this._svgIconConfigs.set(Ch(i,d),m),this}_addSvgIconSetConfig(i,d){const m=this._iconSetConfigs.get(i);return m?m.push(d):this._iconSetConfigs.set(i,[d]),this}_svgElementFromConfig(i){if(!i.svgElement){const d=this._svgElementFromString(i.svgText);this._setSvgAttributes(d,i.options),i.svgElement=d}return i.svgElement}_getIconConfigFromResolvers(i,d){for(let m=0;m<this._resolvers.length;m++){const w=this._resolvers[m](d,i);if(w)return fc(w)?new Za(w.url,null,w.options):new Za(w,null)}}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Ia.eN,8),_.LFG(y.H7),_.LFG(pe.K0,8),_.LFG(_.qLn))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Zc(u){return u.cloneNode(!0)}function Ch(u,s){return u+":"+s}function fc(u){return!(!u.url||!u.options)}const s_=is(class{constructor(u){this._elementRef=u}}),ea=new _.OlP("MAT_ICON_DEFAULT_OPTIONS"),Em=new _.OlP("mat-icon-location",{providedIn:"root",factory:function wd(){const u=(0,_.f3M)(pe.K0),s=u?u.location:null;return{getPathname:()=>s?s.pathname+s.search:""}}}),Cm=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kl=Cm.map(u=>`[${u}]`).join(", "),Pu=/^url\(['"]?#(.*?)['"]?\)$/;let qc=(()=>{class u extends s_{constructor(i,d,m,w,F,z){super(i),this._iconRegistry=d,this._location=w,this._errorHandler=F,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=W.w0.EMPTY,z&&(z.color&&(this.color=this.defaultColor=z.color),z.fontSet&&(this.fontSet=z.fontSet)),m||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=Dr(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const d=this._cleanupFontValue(i);d!==this._fontSet&&(this._fontSet=d,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const d=this._cleanupFontValue(i);d!==this._fontIcon&&(this._fontIcon=d,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const d=i.split(":");switch(d.length){case 1:return["",d[0]];case 2:return d;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const d=this._location.getPathname();d!==this._previousPath&&(this._previousPath=d,this._prependPathToReferences(d))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const d=this._location.getPathname();this._previousPath=d,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(d),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let d=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();d--;){const m=i.childNodes[d];(1!==m.nodeType||"svg"===m.nodeName.toLowerCase())&&m.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,d=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(m=>m.length>0);this._previousFontSetClass.forEach(m=>i.classList.remove(m)),d.forEach(m=>i.classList.add(m)),this._previousFontSetClass=d,this.fontIcon!==this._previousFontIconClass&&!d.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const d=this._elementsWithExternalReferences;d&&d.forEach((m,w)=>{m.forEach(F=>{w.setAttribute(F.name,`url('${i}#${F.value}')`)})})}_cacheChildrenWithExternalReferences(i){const d=i.querySelectorAll(kl),m=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let w=0;w<d.length;w++)Cm.forEach(F=>{const z=d[w],ne=z.getAttribute(F),le=ne?ne.match(Pu):null;if(le){let ke=m.get(z);ke||(ke=[],m.set(z,ke)),ke.push({name:F,value:le[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[d,m]=this._splitIconName(i);d&&(this._svgNamespace=d),m&&(this._svgName=m),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(m,d).pipe((0,$r.q)(1)).subscribe(w=>this._setSvgElement(w),w=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${d}:${m}! ${w.message}`))})}}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(pr),_.$8M("aria-hidden"),_.Y36(Em),_.Y36(_.qLn),_.Y36(ea,8))},u.\u0275cmp=_.Xpm({type:u,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,d){2&i&&(_.uIk("data-mat-icon-type",d._usingFontIcon()?"font":"svg")("data-mat-icon-name",d._svgName||d.fontIcon)("data-mat-icon-namespace",d._svgNamespace||d.fontSet)("fontIcon",d._usingFontIcon()?d.fontIcon:null),_.ekj("mat-icon-inline",d.inline)("mat-icon-no-color","primary"!==d.color&&"accent"!==d.color&&"warn"!==d.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_.qOj],ngContentSelectors:Dd,decls:1,vars:0,template:function(i,d){1&i&&(_.F$t(),_.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),u})(),Kf=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi,bi]}),u})();const Dm=["*",[["mat-toolbar-row"]]],hi=["*","mat-toolbar-row"],a_=is(class{constructor(u){this._elementRef=u}});let Id=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275dir=_.lG2({type:u,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),u})(),Yc=(()=>{class u extends a_{constructor(i,d,m){super(i),this._platform=d,this._document=m}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(_.SBq),_.Y36(de),_.Y36(pe.K0))},u.\u0275cmp=_.Xpm({type:u,selectors:[["mat-toolbar"]],contentQueries:function(i,d,m){if(1&i&&_.Suo(m,Id,5),2&i){let w;_.iGM(w=_.CRH())&&(d._toolbarRows=w)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,d){2&i&&_.ekj("mat-toolbar-multiple-rows",d._toolbarRows.length>0)("mat-toolbar-single-row",0===d._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[_.qOj],ngContentSelectors:hi,decls:2,vars:0,template:function(i,d){1&i&&(_.F$t(Dm),_.Hsn(0),_.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),u})(),$f=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi,bi]}),u})();function wm(u,s){if(1&u&&(_.TgZ(0,"button",17),_._uU(1),_.qZA()),2&u){const i=_.oxw().$implicit;_.s9C("routerLinkActive",i.class),_.Q6J("routerLink",i.link),_.xp6(1),_.Oqu(i.name)}}function Dh(u,s){if(1&u&&(_.ynx(0),_.YNc(1,wm,2,3,"button",16),_.BQk()),2&u){const i=s.$implicit;_.xp6(1),_.Q6J("ngIf","top"==i.align)}}function zf(u,s){if(1&u&&(_.TgZ(0,"button",17),_._uU(1),_.qZA()),2&u){const i=_.oxw().$implicit;_.s9C("routerLinkActive",i.class),_.Q6J("routerLink",i.link),_.xp6(1),_.Oqu(i.name)}}function Im(u,s){if(1&u&&(_.ynx(0),_.YNc(1,zf,2,3,"button",16),_.BQk()),2&u){const i=s.$implicit;_.xp6(1),_.Q6J("ngIf","bottom"==i.align)}}function pc(u,s){if(1&u&&(_.TgZ(0,"button",19),_._uU(1),_.qZA()),2&u){const i=_.oxw().$implicit;_.s9C("routerLinkActive",i.class),_.Q6J("routerLink",i.link),_.xp6(1),_.Oqu(i.name)}}function Mm(u,s){if(1&u&&(_.TgZ(0,"div"),_.YNc(1,pc,2,3,"button",18),_.qZA()),2&u){const i=s.$implicit;_.xp6(1),_.Q6J("ngIf","bottom"==i.align)}}let Gf=(()=>{class u{constructor(i,d){this.firestore=i,this.router=d,this.menu=[],this.contentScreenHeight=800,this.contentScreenHeight=window.innerHeight-110}ngOnInit(){this.loadMenu(),this.firestore.UserUpdateEvent.subscribe(i=>{this.user=i,this.loadMenu()})}onResize(i){this.contentScreenHeight=window.innerHeight-110}loadMenu(){let i=[];null==this.user?(i.push({name:"Home",link:"/home",class:"active-link",align:"bottom"}),i.push({name:"Login",link:"/login",class:"active-link",align:"bottom"})):(i.push({name:this.user.email,link:"/dashboard",class:"active",align:"top"}),i.push({name:"Dashboard",link:"/dashboard",class:"active-link",align:"bottom"}),i.push({name:"My Profile",link:"/profile",class:"active-link",align:"bottom"}),i.push({name:"My Orders",link:"/orders",class:"active-link",align:"bottom"})),this.menu=i}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(me.C),_.Y36(fe.F0))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-header"]],hostBindings:function(i,d){1&i&&_.NdJ("resize",function(w){return d.onResize(w)},!1,_.Jf7)},decls:31,vars:6,consts:[[1,"d-block","d-md-none"],["mat-icon-button","",3,"click"],["src","assets/icons/rupee.jpg","alt","logo",1,"logo"],[1,"title-lg"],[1,"title-sm"],[1,"d-inline-block",2,"width","5px"],[1,"example-spacer"],[1,"d-none","d-md-block"],[1,"row"],[1,"col","text-end","d-inline"],[4,"ngFor","ngForOf"],[1,"col"],[1,"example-container",3,"hasBackdrop"],["mode","over"],["drawer",""],[2,"margin","0 10px"],["mat-button","",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",3,"routerLink","routerLinkActive"],["mat-button","","class","menu-left",3,"routerLink","routerLinkActive",4,"ngIf"],["mat-button","",1,"menu-left",3,"routerLink","routerLinkActive"]],template:function(i,d){if(1&i){const m=_.EpF();_.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),_.NdJ("click",function(){_.CHM(m);const F=_.MAs(27);return _.KtG(F.toggle())}),_.TgZ(3,"mat-icon"),_._uU(4,"menu"),_.qZA()()(),_.TgZ(5,"span"),_._UZ(6,"img",2),_.qZA(),_.TgZ(7,"span")(8,"span",3),_._uU(9,"M"),_.qZA(),_.TgZ(10,"span",4),_._uU(11,"Y"),_.qZA(),_._UZ(12,"span",5),_.TgZ(13,"span",3),_._uU(14,"N"),_.qZA(),_.TgZ(15,"span",4),_._uU(16,"ETWORTH"),_.qZA()(),_._UZ(17,"span",6),_.TgZ(18,"div",7)(19,"div",8)(20,"div",9),_.YNc(21,Dh,2,1,"ng-container",10),_.qZA()(),_.TgZ(22,"div",8)(23,"div",11),_.YNc(24,Im,2,1,"ng-container",10),_.qZA()()()(),_.TgZ(25,"mat-drawer-container",12)(26,"mat-drawer",13,14)(28,"div",15),_.YNc(29,Mm,2,1,"div",10),_.qZA()(),_._UZ(30,"router-outlet"),_.qZA()}2&i&&(_.xp6(21),_.Q6J("ngForOf",d.menu),_.xp6(3),_.Q6J("ngForOf",d.menu),_.xp6(1),_.Udp("height",d.contentScreenHeight,"px"),_.Q6J("hasBackdrop",!0),_.xp6(4),_.Q6J("ngForOf",d.menu))},dependencies:[pe.sg,pe.O5,fe.lC,fe.rH,fe.Od,P,Y,qc,Yc,Go],styles:[".mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:80px;background-color:#fff;color:#000}.logo[_ngcontent-%COMP%]{height:50px;margin-right:15px}.title-lg[_ngcontent-%COMP%]{font-size:30px;color:teal}.title-sm[_ngcontent-%COMP%]{font-size:25px;color:teal}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer[_ngcontent-%COMP%]{min-width:30%}.mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}button[_ngcontent-%COMP%]{border-bottom:2px solid transparent;border-radius:0;font-weight:600}button.active-link[_ngcontent-%COMP%]{border-bottom:2px solid gold}router-outlet[_ngcontent-%COMP%]{margin-top:10px}.menu-left[_ngcontent-%COMP%]{font-size:18px;font-weight:500;width:100%;text-align:center}.mat-button[_ngcontent-%COMP%]{line-height:30px}@media only screen and (max-width: 500px){.title-cap[_ngcontent-%COMP%]{font-size:30px}.title-sm[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:10px}.mat-button[_ngcontent-%COMP%]{line-height:36px}}"]}),u})(),wh=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"example-spacer"]],template:function(i,d){1&i&&(_.TgZ(0,"mat-toolbar"),_._UZ(1,"span",0),_.TgZ(2,"span"),_._uU(3,"\xa9 Design and Developed by V.V.S.K Chaitanya"),_.qZA(),_._UZ(4,"span",0),_.qZA())},dependencies:[Yc],styles:["mat-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:15px;height:30px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),u})();var Tm=R(874);function Qc(u,s){if(1&u&&(_.O4$(),_._UZ(0,"circle",4)),2&u){const i=_.oxw(),d=_.MAs(1);_.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+i._spinnerAnimationLabel)("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%")("transform-origin",i._getCircleTransformOrigin(d)),_.uIk("r",i._getCircleRadius())}}function Md(u,s){if(1&u&&(_.O4$(),_._UZ(0,"circle",4)),2&u){const i=_.oxw(),d=_.MAs(1);_.Udp("stroke-dashoffset",i._getStrokeDashOffset(),"px")("stroke-dasharray",i._getStrokeCircumference(),"px")("stroke-width",i._getCircleStrokeWidth(),"%")("transform-origin",i._getCircleTransformOrigin(d)),_.uIk("r",i._getCircleRadius())}}const Td=is(class{constructor(u){this._elementRef=u}},"primary"),Am=new _.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ad(){return{diameter:100}}});class Es extends Td{constructor(s,i,d,m,w,F,z,ne){super(s),this._document=d,this._diameter=100,this._value=0,this._resizeSubscription=W.w0.EMPTY,this.mode="determinate";const le=Es._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),le.has(d.head)||le.set(d.head,new Set([100])),this._noopAnimations="NoopAnimations"===m&&!!w&&!w._forceAnimations,"mat-spinner"===s.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),w&&(w.color&&(this.color=this.defaultColor=w.color),w.diameter&&(this.diameter=w.diameter),w.strokeWidth&&(this.strokeWidth=w.strokeWidth)),i.isBrowser&&i.SAFARI&&z&&F&&ne&&(this._resizeSubscription=z.change(150).subscribe(()=>{"indeterminate"===this.mode&&ne.run(()=>F.markForCheck())}))}get diameter(){return this._diameter}set diameter(s){this._diameter=vr(s),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(s){this._strokeWidth=vr(s)}get value(){return"determinate"===this.mode?this._value:0}set value(s){this._value=Math.max(0,Math.min(100,vr(s)))}ngOnInit(){const s=this._elementRef.nativeElement;this._styleRoot=Dt(s)||this._document.head,this._attachStyleNode(),s.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const s=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${s} ${s}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(s){const i=50*(s.currentScale??1);return`${i}% ${i}%`}_attachStyleNode(){const s=this._styleRoot,i=this._diameter,d=Es._diameters;let m=d.get(s);if(!m||!m.has(i)){const w=this._document.createElement("style");w.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),w.textContent=this._getAnimationText(),s.appendChild(w),m||(m=new Set,d.set(s,m)),m.add(i)}}_getAnimationText(){const s=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*s).replace(/END_VALUE/g,""+.2*s).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Es._diameters=new WeakMap,Es.\u0275fac=function(s){return new(s||Es)(_.Y36(_.SBq),_.Y36(de),_.Y36(pe.K0,8),_.Y36(_.QbO,8),_.Y36(Am),_.Y36(_.sBO),_.Y36(Js),_.Y36(_.R0b))},Es.\u0275cmp=_.Xpm({type:Es,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(s,i){2&s&&(_.uIk("aria-valuemin","determinate"===i.mode?0:null)("aria-valuemax","determinate"===i.mode?100:null)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),_.Udp("width",i.diameter,"px")("height",i.diameter,"px"),_.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[_.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(s,i){1&s&&(_.O4$(),_.TgZ(0,"svg",0,1),_.YNc(2,Qc,1,11,"circle",2),_.YNc(3,Md,1,9,"circle",3),_.qZA()),2&s&&(_.Udp("width",i.diameter,"px")("height",i.diameter,"px"),_.Q6J("ngSwitch","indeterminate"===i.mode),_.uIk("viewBox",i._getViewBox()),_.xp6(2),_.Q6J("ngSwitchCase",!0),_.xp6(1),_.Q6J("ngSwitchCase",!1))},dependencies:[pe.RF,pe.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Sm=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi,pe.ez,bi]}),u})();function xm(u,s){if(1&u&&(_.TgZ(0,"div",1),_._UZ(1,"mat-progress-spinner",2),_.qZA()),2&u){const i=_.oxw();_.xp6(1),_.Q6J("color",i.color)}}let Om=(()=>{class u{constructor(i){this.loaderService=i,this.color="primary",this.value=50,this.isLoading=this.loaderService.isLoading}}return u.\u0275fac=function(i){return new(i||u)(_.Y36(Tm.D))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner",3,"color"]],template:function(i,d){1&i&&(_.YNc(0,xm,2,1,"div",0),_.ALo(1,"async")),2&i&&_.Q6J("ngIf",_.lcZ(1,1,d.isLoading))},dependencies:[pe.O5,Es,pe.Ov],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),u})(),Mh=(()=>{class u{constructor(){this.title="webedu"}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-root"]],decls:4,vars:0,template:function(i,d){1&i&&_._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-loader")},dependencies:[fe.lC,Gf,wh,Om]}),u})();const Pm_firebase={apiKey:"AIzaSyD0jp-Q3QfD9G1zEwAAKeZEvOwUkE4cEFE",authDomain:"vvsk-networth.firebaseapp.com",projectId:"vvsk-networth",storageBucket:"vvsk-networth.appspot.com",messagingSenderId:"662970629985",appId:"1:662970629985:web:829ce9af1bcbbef2928f20"};function ku(u){return new _.vHH(3e3,!1)}function xd(){return typeof window<"u"&&typeof window.document<"u"}function Sh(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function mc(u){switch(u.length){case 0:return new Lt.ZN;case 1:return u[0];default:return new Lt.ZE(u)}}function Xf(u,s,i,d,m=new Map,w=new Map){const F=[],z=[];let ne=-1,le=null;if(d.forEach(ke=>{const _t=ke.get("offset"),Jt=_t==ne,rn=Jt&&le||new Map;ke.forEach((jt,Gt)=>{let Fn=Gt,ki=jt;if("offset"!==Gt)switch(Fn=s.normalizePropertyName(Fn,F),ki){case Lt.k1:ki=m.get(Gt);break;case Lt.l3:ki=w.get(Gt);break;default:ki=s.normalizeStyleValue(Gt,Fn,ki,F)}rn.set(Fn,ki)}),Jt||z.push(rn),le=rn,ne=_t}),F.length)throw function Ny(u){return new _.vHH(3502,!1)}();return z}function Od(u,s,i,d){switch(s){case"start":u.onStart(()=>d(i&&Jf(i,"start",u)));break;case"done":u.onDone(()=>d(i&&Jf(i,"done",u)));break;case"destroy":u.onDestroy(()=>d(i&&Jf(i,"destroy",u)))}}function Jf(u,s,i){const w=Pd(u.element,u.triggerName,u.fromState,u.toState,s||u.phaseName,i.totalTime??u.totalTime,!!i.disabled),F=u._data;return null!=F&&(w._data=F),w}function Pd(u,s,i,d,m="",w=0,F){return{element:u,triggerName:s,fromState:i,toState:d,phaseName:m,totalTime:w,disabled:!!F}}function lr(u,s,i){let d=u.get(s);return d||u.set(s,d=i),d}function xh(u){const s=u.indexOf(":");return[u.substring(1,s),u.slice(s+1)]}let eu=(u,s)=>!1,Oh=(u,s,i)=>[],Ll=null;function Ph(u){const s=u.parentNode||u.host;return s===Ll?null:s}(Sh()||typeof Element<"u")&&(xd()?(Ll=(()=>document.documentElement)(),eu=(u,s)=>{for(;s;){if(s===u)return!0;s=Ph(s)}return!1}):eu=(u,s)=>u.contains(s),Oh=(u,s,i)=>{if(i)return Array.from(u.querySelectorAll(s));const d=u.querySelector(s);return d?[d]:[]});let fl=null,oo=!1;const Yo=eu,gc=Oh;let tp=(()=>{class u{validateStyleProperty(i){return function Fl(u){fl||(fl=function nu(){return typeof document<"u"?document.body:null}()||{},oo=!!fl.style&&"WebkitAppearance"in fl.style);let s=!0;return fl.style&&!function jm(u){return"ebkit"==u.substring(1,6)}(u)&&(s=u in fl.style,!s&&oo&&(s="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in fl.style)),s}(i)}matchesElement(i,d){return!1}containsElement(i,d){return Yo(i,d)}getParentElement(i){return Ph(i)}query(i,d,m){return gc(i,d,m)}computeStyle(i,d,m){return m||""}animate(i,d,m,w,F,z=[],ne){return new Lt.ZN(m,w)}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})(),Rh=(()=>{class u{}return u.NOOP=new tp,u})();const Fu="ng-enter",Bl="ng-leave",pl="ng-trigger",kh=".ng-trigger",Nh="ng-animating",rp=".ng-animating";function Ul(u){if("number"==typeof u)return u;const s=u.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:_c(parseFloat(s[1]),s[2])}function _c(u,s){return"s"===s?1e3*u:u}function Cs(u,s,i){return u.hasOwnProperty("duration")?u:function iu(u,s,i){let m,w=0,F="";if("string"==typeof u){const z=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===z)return s.push(ku()),{duration:0,delay:0,easing:""};m=_c(parseFloat(z[1]),z[2]);const ne=z[3];null!=ne&&(w=_c(parseFloat(ne),z[4]));const le=z[5];le&&(F=le)}else m=u;if(!i){let z=!1,ne=s.length;m<0&&(s.push(function Th(){return new _.vHH(3100,!1)}()),z=!0),w<0&&(s.push(function Py(){return new _.vHH(3101,!1)}()),z=!0),z&&s.splice(ne,0,ku())}return{duration:m,delay:w,easing:F}}(u,s,i)}function Ya(u,s={}){return Object.keys(u).forEach(i=>{s[i]=u[i]}),s}function Km(u){const s=new Map;return Object.keys(u).forEach(i=>{s.set(i,u[i])}),s}function Vl(u,s=new Map,i){if(i)for(let[d,m]of i)s.set(d,m);for(let[d,m]of u)s.set(d,m);return s}function ta(u,s,i){return i?s+":"+i+";":""}function Lh(u){let s="";for(let i=0;i<u.style.length;i++){const d=u.style.item(i);s+=ta(0,d,u.style.getPropertyValue(d))}for(const i in u.style)u.style.hasOwnProperty(i)&&!i.startsWith("_")&&(s+=ta(0,__(i),u.style[i]));u.setAttribute("style",s)}function ua(u,s,i){u.style&&(s.forEach((d,m)=>{const w=ou(m);i&&!i.has(m)&&i.set(m,u.style[w]),u.style[w]=d}),Sh()&&Lh(u))}function Qa(u,s){u.style&&(s.forEach((i,d)=>{const m=ou(d);u.style[m]=""}),Sh()&&Lh(u))}function Hl(u){return Array.isArray(u)?1==u.length?u[0]:(0,Lt.vP)(u):u}const yc=new RegExp("{{\\s*(.+?)\\s*}}","g");function sp(u){let s=[];if("string"==typeof u){let i;for(;i=yc.exec(u);)s.push(i[1]);yc.lastIndex=0}return s}function Qo(u,s,i){const d=u.toString(),m=d.replace(yc,(w,F)=>{let z=s[F];return null==z&&(i.push(function Xc(u){return new _.vHH(3003,!1)}()),z=""),z.toString()});return m==d?u:m}function ru(u){const s=[];let i=u.next();for(;!i.done;)s.push(i.value),i=u.next();return s}const Bu=/-+([a-z0-9])/g;function ou(u){return u.replace(Bu,(...s)=>s[1].toUpperCase())}function __(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bs(u,s,i){switch(s.type){case 7:return u.visitTrigger(s,i);case 0:return u.visitState(s,i);case 1:return u.visitTransition(s,i);case 2:return u.visitSequence(s,i);case 3:return u.visitGroup(s,i);case 4:return u.visitAnimate(s,i);case 5:return u.visitKeyframes(s,i);case 6:return u.visitStyle(s,i);case 8:return u.visitReference(s,i);case 9:return u.visitAnimateChild(s,i);case 10:return u.visitAnimateRef(s,i);case 11:return u.visitQuery(s,i);case 12:return u.visitStagger(s,i);default:throw function km(u){return new _.vHH(3004,!1)}()}}function bc(u,s){return window.getComputedStyle(u)[s]}function ap(u,s){const i=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function Nd(u,s,i){if(":"==u[0]){const ne=function Fh(u,s){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,d)=>parseFloat(d)>parseFloat(i);case":decrement":return(i,d)=>parseFloat(d)<parseFloat(i);default:return s.push(function f_(u){return new _.vHH(3016,!1)}()),"* => *"}}(u,i);if("function"==typeof ne)return void s.push(ne);u=ne}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return i.push(function Ta(u){return new _.vHH(3015,!1)}()),s;const m=d[1],w=d[2],F=d[3];s.push(lp(m,F));"<"==w[0]&&!("*"==m&&"*"==F)&&s.push(lp(F,m))}(d,i,s)):i.push(u),i}const Bh=new Set(["true","1"]),Ld=new Set(["false","0"]);function lp(u,s){const i=Bh.has(u)||Ld.has(u),d=Bh.has(s)||Ld.has(s);return(m,w)=>{let F="*"==u||u==m,z="*"==s||s==w;return!F&&i&&"boolean"==typeof m&&(F=m?Bh.has(u):Ld.has(u)),!z&&d&&"boolean"==typeof w&&(z=w?Bh.has(s):Ld.has(s)),F&&z}}const ha=new RegExp("s*:selfs*,?","g");function Cc(u,s,i,d){return new Gm(u).build(s,i,d)}class Gm{constructor(s){this._driver=s}build(s,i,d){const m=new y_(i);return this._resetContextStyleTimingState(m),Bs(this,Hl(s),m)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,i){let d=i.queryCount=0,m=i.depCount=0;const w=[],F=[];return"@"==s.name.charAt(0)&&i.errors.push(function Lu(){return new _.vHH(3006,!1)}()),s.definitions.forEach(z=>{if(this._resetContextStyleTimingState(i),0==z.type){const ne=z,le=ne.name;le.toString().split(/\s*,\s*/).forEach(ke=>{ne.name=ke,w.push(this.visitState(ne,i))}),ne.name=le}else if(1==z.type){const ne=this.visitTransition(z,i);d+=ne.queryCount,m+=ne.depCount,F.push(ne)}else i.errors.push(function c_(){return new _.vHH(3007,!1)}())}),{type:7,name:s.name,states:w,transitions:F,queryCount:d,depCount:m,options:null}}visitState(s,i){const d=this.visitStyle(s.styles,i),m=s.options&&s.options.params||null;if(d.containsDynamicStyles){const w=new Set,F=m||{};d.styles.forEach(z=>{z instanceof Map&&z.forEach(ne=>{sp(ne).forEach(le=>{F.hasOwnProperty(le)||w.add(le)})})}),w.size&&(ru(w.values()),i.errors.push(function Ry(u,s){return new _.vHH(3008,!1)}()))}return{type:0,name:s.name,style:d,options:m?{params:m}:null}}visitTransition(s,i){i.queryCount=0,i.depCount=0;const d=Bs(this,Hl(s.animation),i);return{type:1,matchers:ap(s.expr,i.errors),animation:d,queryCount:i.queryCount,depCount:i.depCount,options:kr(s.options)}}visitSequence(s,i){return{type:2,steps:s.steps.map(d=>Bs(this,d,i)),options:kr(s.options)}}visitGroup(s,i){const d=i.currentTime;let m=0;const w=s.steps.map(F=>{i.currentTime=d;const z=Bs(this,F,i);return m=Math.max(m,i.currentTime),z});return i.currentTime=m,{type:3,steps:w,options:kr(s.options)}}visitAnimate(s,i){const d=function Hh(u,s){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return Bd(Cs(u,s).duration,0,"");const i=u;if(i.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=Bd(0,0,"");return w.dynamic=!0,w.strValue=i,w}const m=Cs(i,s);return Bd(m.duration,m.delay,m.easing)}(s.timings,i.errors);i.currentAnimateTimings=d;let m,w=s.styles?s.styles:(0,Lt.oB)({});if(5==w.type)m=this.visitKeyframes(w,i);else{let F=s.styles,z=!1;if(!F){z=!0;const le={};d.easing&&(le.easing=d.easing),F=(0,Lt.oB)(le)}i.currentTime+=d.duration+d.delay;const ne=this.visitStyle(F,i);ne.isEmptyStep=z,m=ne}return i.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(s,i){const d=this._makeStyleAst(s,i);return this._validateStyleAst(d,i),d}_makeStyleAst(s,i){const d=[],m=Array.isArray(s.styles)?s.styles:[s.styles];for(let z of m)"string"==typeof z?z===Lt.l3?d.push(z):i.errors.push(new _.vHH(3002,!1)):d.push(Km(z));let w=!1,F=null;return d.forEach(z=>{if(z instanceof Map&&(z.has("easing")&&(F=z.get("easing"),z.delete("easing")),!w))for(let ne of z.values())if(ne.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:d,easing:F,offset:s.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(s,i){const d=i.currentAnimateTimings;let m=i.currentTime,w=i.currentTime;d&&w>0&&(w-=d.duration+d.delay),s.styles.forEach(F=>{"string"!=typeof F&&F.forEach((z,ne)=>{const le=i.collectedStyles.get(i.currentQuerySelector),ke=le.get(ne);let _t=!0;ke&&(w!=m&&w>=ke.startTime&&m<=ke.endTime&&(i.errors.push(function u_(u,s,i,d,m){return new _.vHH(3010,!1)}()),_t=!1),w=ke.startTime),_t&&le.set(ne,{startTime:w,endTime:m}),i.options&&function Rd(u,s,i){const d=s.params||{},m=sp(u);m.length&&m.forEach(w=>{d.hasOwnProperty(w)||i.push(function Rm(u){return new _.vHH(3001,!1)}())})}(z,i.options,i.errors)})})}visitKeyframes(s,i){const d={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function d_(){return new _.vHH(3011,!1)}()),d;let w=0;const F=[];let z=!1,ne=!1,le=0;const ke=s.steps.map(ki=>{const Bo=this._makeStyleAst(ki,i);let pa=null!=Bo.offset?Bo.offset:function Zm(u){if("string"==typeof u)return null;let s=null;if(Array.isArray(u))u.forEach(i=>{if(i instanceof Map&&i.has("offset")){const d=i;s=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const i=u;s=parseFloat(i.get("offset")),i.delete("offset")}return s}(Bo.styles),ra=0;return null!=pa&&(w++,ra=Bo.offset=pa),ne=ne||ra<0||ra>1,z=z||ra<le,le=ra,F.push(ra),Bo});ne&&i.errors.push(function Nm(){return new _.vHH(3012,!1)}()),z&&i.errors.push(function Zf(){return new _.vHH(3200,!1)}());const _t=s.steps.length;let Jt=0;w>0&&w<_t?i.errors.push(function ls(){return new _.vHH(3202,!1)}()):0==w&&(Jt=1/(_t-1));const rn=_t-1,jt=i.currentTime,Gt=i.currentAnimateTimings,Fn=Gt.duration;return ke.forEach((ki,Bo)=>{const pa=Jt>0?Bo==rn?1:Jt*Bo:F[Bo],ra=pa*Fn;i.currentTime=jt+Gt.delay+ra,Gt.duration=ra,this._validateStyleAst(ki,i),ki.offset=pa,d.styles.push(ki)}),d}visitReference(s,i){return{type:8,animation:Bs(this,Hl(s.animation),i),options:kr(s.options)}}visitAnimateChild(s,i){return i.depCount++,{type:9,options:kr(s.options)}}visitAnimateRef(s,i){return{type:10,animation:this.visitReference(s.animation,i),options:kr(s.options)}}visitQuery(s,i){const d=i.currentQuerySelector,m=s.options||{};i.queryCount++,i.currentQuery=s;const[w,F]=function jy(u){const s=!!u.split(/\s*,\s*/).find(i=>":self"==i);return s&&(u=u.replace(ha,"")),u=u.replace(/@\*/g,kh).replace(/@\w+/g,i=>kh+"-"+i.slice(1)).replace(/:animating/g,rp),[u,s]}(s.selector);i.currentQuerySelector=d.length?d+" "+w:w,lr(i.collectedStyles,i.currentQuerySelector,new Map);const z=Bs(this,Hl(s.animation),i);return i.currentQuery=null,i.currentQuerySelector=d,{type:11,selector:w,limit:m.limit||0,optional:!!m.optional,includeSelf:F,animation:z,originalSelector:s.selector,options:kr(s.options)}}visitStagger(s,i){i.currentQuery||i.errors.push(function h_(){return new _.vHH(3013,!1)}());const d="full"===s.timings?{duration:0,delay:0,easing:"full"}:Cs(s.timings,i.errors,!0);return{type:12,animation:Bs(this,Hl(s.animation),i),timings:d,options:null}}}class y_{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kr(u){return u?(u=Ya(u)).params&&(u.params=function Fd(u){return u?Ya(u):null}(u.params)):u={},u}function Bd(u,s,i){return{duration:u,delay:s,easing:i}}function jh(u,s,i,d,m,w,F=null,z=!1){return{type:1,element:u,keyframes:s,preStyleProps:i,postStyleProps:d,duration:m,delay:w,totalTime:m+w,easing:F,subTimeline:z}}class su{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,i){let d=this._map.get(s);d||this._map.set(s,d=[]),d.push(...i)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const up=new RegExp(":enter","g"),dp=new RegExp(":leave","g");function Dc(u,s,i,d,m,w=new Map,F=new Map,z,ne,le=[]){return(new hp).buildKeyframes(u,s,i,d,m,w,F,z,ne,le)}class hp{buildKeyframes(s,i,d,m,w,F,z,ne,le,ke=[]){le=le||new su;const _t=new lu(s,i,le,m,w,ke,[]);_t.options=ne;const Jt=ne.delay?Ul(ne.delay):0;_t.currentTimeline.delayNextStep(Jt),_t.currentTimeline.setStyles([F],null,_t.errors,ne),Bs(this,d,_t);const rn=_t.timelines.filter(jt=>jt.containsAnimation());if(rn.length&&z.size){let jt;for(let Gt=rn.length-1;Gt>=0;Gt--){const Fn=rn[Gt];if(Fn.element===i){jt=Fn;break}}jt&&!jt.allowOnlyTimelineStyles()&&jt.setStyles([z],null,_t.errors,ne)}return rn.length?rn.map(jt=>jt.buildKeyframes()):[jh(i,[],[],[],0,Jt,"",!1)]}visitTrigger(s,i){}visitState(s,i){}visitTransition(s,i){}visitAnimateChild(s,i){const d=i.subInstructions.get(i.element);if(d){const m=i.createSubContext(s.options),w=i.currentTimeline.currentTime,F=this._visitSubInstructions(d,m,m.options);w!=F&&i.transformIntoNewTimeline(F)}i.previousNode=s}visitAnimateRef(s,i){const d=i.createSubContext(s.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],i,d),this.visitReference(s.animation,d),i.transformIntoNewTimeline(d.currentTimeline.currentTime),i.previousNode=s}_applyAnimationRefDelays(s,i,d){for(const m of s){const w=m?.delay;if(w){const F="number"==typeof w?w:Ul(Qo(w,m?.params??{},i.errors));d.delayNextStep(F)}}}_visitSubInstructions(s,i,d){let w=i.currentTimeline.currentTime;const F=null!=d.duration?Ul(d.duration):null,z=null!=d.delay?Ul(d.delay):null;return 0!==F&&s.forEach(ne=>{const le=i.appendInstructionToTimeline(ne,F,z);w=Math.max(w,le.duration+le.delay)}),w}visitReference(s,i){i.updateOptions(s.options,!0),Bs(this,s.animation,i),i.previousNode=s}visitSequence(s,i){const d=i.subContextCount;let m=i;const w=s.options;if(w&&(w.params||w.delay)&&(m=i.createSubContext(w),m.transformIntoNewTimeline(),null!=w.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=au);const F=Ul(w.delay);m.delayNextStep(F)}s.steps.length&&(s.steps.forEach(F=>Bs(this,F,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),i.previousNode=s}visitGroup(s,i){const d=[];let m=i.currentTimeline.currentTime;const w=s.options&&s.options.delay?Ul(s.options.delay):0;s.steps.forEach(F=>{const z=i.createSubContext(s.options);w&&z.delayNextStep(w),Bs(this,F,z),m=Math.max(m,z.currentTimeline.currentTime),d.push(z.currentTimeline)}),d.forEach(F=>i.currentTimeline.mergeTimelineCollectedStyles(F)),i.transformIntoNewTimeline(m),i.previousNode=s}_visitTiming(s,i){if(s.dynamic){const d=s.strValue;return Cs(i.params?Qo(d,i.params,i.errors):d,i.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,i){const d=i.currentAnimateTimings=this._visitTiming(s.timings,i),m=i.currentTimeline;d.delay&&(i.incrementTime(d.delay),m.snapshotCurrentStyles());const w=s.style;5==w.type?this.visitKeyframes(w,i):(i.incrementTime(d.duration),this.visitStyle(w,i),m.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=s}visitStyle(s,i){const d=i.currentTimeline,m=i.currentAnimateTimings;!m&&d.hasCurrentStyleProperties()&&d.forwardFrame();const w=m&&m.easing||s.easing;s.isEmptyStep?d.applyEmptyStep(w):d.setStyles(s.styles,w,i.errors,i.options),i.previousNode=s}visitKeyframes(s,i){const d=i.currentAnimateTimings,m=i.currentTimeline.duration,w=d.duration,z=i.createSubContext().currentTimeline;z.easing=d.easing,s.styles.forEach(ne=>{z.forwardTime((ne.offset||0)*w),z.setStyles(ne.styles,ne.easing,i.errors,i.options),z.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(z),i.transformIntoNewTimeline(m+w),i.previousNode=s}visitQuery(s,i){const d=i.currentTimeline.currentTime,m=s.options||{},w=m.delay?Ul(m.delay):0;w&&(6===i.previousNode.type||0==d&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=au);let F=d;const z=i.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!m.optional,i.errors);i.currentQueryTotal=z.length;let ne=null;z.forEach((le,ke)=>{i.currentQueryIndex=ke;const _t=i.createSubContext(s.options,le);w&&_t.delayNextStep(w),le===i.element&&(ne=_t.currentTimeline),Bs(this,s.animation,_t),_t.currentTimeline.applyStylesToKeyframe(),F=Math.max(F,_t.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(F),ne&&(i.currentTimeline.mergeTimelineCollectedStyles(ne),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=s}visitStagger(s,i){const d=i.parentContext,m=i.currentTimeline,w=s.timings,F=Math.abs(w.duration),z=F*(i.currentQueryTotal-1);let ne=F*i.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":ne=z-ne;break;case"full":ne=d.currentStaggerTime}const ke=i.currentTimeline;ne&&ke.delayNextStep(ne);const _t=ke.currentTime;Bs(this,s.animation,i),i.previousNode=s,d.currentStaggerTime=m.currentTime-_t+(m.startTime-d.currentTimeline.startTime)}}const au={};class lu{constructor(s,i,d,m,w,F,z,ne){this._driver=s,this.element=i,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=w,this.errors=F,this.timelines=z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=au,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ne||new cu(this._driver,i,0),z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,i){if(!s)return;const d=s;let m=this.options;null!=d.duration&&(m.duration=Ul(d.duration)),null!=d.delay&&(m.delay=Ul(d.delay));const w=d.params;if(w){let F=m.params;F||(F=this.options.params={}),Object.keys(w).forEach(z=>{(!i||!F.hasOwnProperty(z))&&(F[z]=Qo(w[z],F,this.errors))})}}_copyOptions(){const s={};if(this.options){const i=this.options.params;if(i){const d=s.params={};Object.keys(i).forEach(m=>{d[m]=i[m]})}}return s}createSubContext(s=null,i,d){const m=i||this.element,w=new lu(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(s),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(s){return this.previousNode=au,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,i,d){const m={duration:i??s.duration,delay:this.currentTimeline.currentTime+(d??0)+s.delay,easing:""},w=new Kh(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,m,s.stretchStartingKeyframe);return this.timelines.push(w),m}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,i,d,m,w,F){let z=[];if(m&&z.push(this.element),s.length>0){s=(s=s.replace(up,"."+this._enterClassName)).replace(dp,"."+this._leaveClassName);let le=this._driver.query(this.element,s,1!=d);0!==d&&(le=d<0?le.slice(le.length+d,le.length):le.slice(0,d)),z.push(...le)}return!w&&0==z.length&&F.push(function Lm(u){return new _.vHH(3014,!1)}()),z}}class cu{constructor(s,i,d,m){this._driver=s,this.element=i,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+s),i&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,i){return this.applyStylesToKeyframe(),new cu(this._driver,s,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,i){this._localTimelineStyles.set(s,i),this._globalTimelineStyles.set(s,i),this._styleSummary.set(s,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[i,d]of this._globalTimelineStyles)this._backFill.set(i,d||Lt.l3),this._currentKeyframe.set(i,Lt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,i,d,m){i&&this._previousKeyframe.set("easing",i);const w=m&&m.params||{},F=function fp(u,s){const i=new Map;let d;return u.forEach(m=>{if("*"===m){d=d||s.keys();for(let w of d)i.set(w,Lt.l3)}else Vl(m,i)}),i}(s,this._globalTimelineStyles);for(let[z,ne]of F){const le=Qo(ne,w,d);this._pendingStyles.set(z,le),this._localTimelineStyles.has(z)||this._backFill.set(z,this._globalTimelineStyles.get(z)??Lt.l3),this._updateStyle(z,le)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,i)=>{this._currentKeyframe.set(i,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,s)}))}snapshotCurrentStyles(){for(let[s,i]of this._localTimelineStyles)this._pendingStyles.set(s,i),this._updateStyle(s,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let i in this._currentKeyframe)s.push(i);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((i,d)=>{const m=this._styleSummary.get(d);(!m||i.time>m.time)&&this._updateStyle(d,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,i=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((z,ne)=>{const le=Vl(z,new Map,this._backFill);le.forEach((ke,_t)=>{ke===Lt.k1?s.add(_t):ke===Lt.l3&&i.add(_t)}),d||le.set("offset",ne/this.duration),m.push(le)});const w=s.size?ru(s.values()):[],F=i.size?ru(i.values()):[];if(d){const z=m[0],ne=new Map(z);z.set("offset",0),ne.set("offset",1),m=[z,ne]}return jh(this.element,m,w,F,this.duration,this.startTime,this.easing,!1)}}class Kh extends cu{constructor(s,i,d,m,w,F,z=!1){super(s,i,F.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=w,this._stretchStartingKeyframe=z,this.timings={duration:F.duration,delay:F.delay,easing:F.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:i,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&i){const w=[],F=d+i,z=i/F,ne=Vl(s[0]);ne.set("offset",0),w.push(ne);const le=Vl(s[0]);le.set("offset",Vu(z)),w.push(le);const ke=s.length-1;for(let _t=1;_t<=ke;_t++){let Jt=Vl(s[_t]);const rn=Jt.get("offset");Jt.set("offset",Vu((i+rn*d)/F)),w.push(Jt)}d=F,i=0,m="",s=w}return jh(this.element,s,this.preStyleProps,this.postStyleProps,d,i,m,!0)}}function Vu(u,s=3){const i=Math.pow(10,s-1);return Math.round(u*i)/i}class Vd{}const $h=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class b_ extends Vd{normalizePropertyName(s,i){return ou(s)}normalizeStyleValue(s,i,d,m){let w="";const F=d.toString().trim();if($h.has(i)&&0!==d&&"0"!==d)if("number"==typeof d)w="px";else{const z=d.match(/^[+-]?[\d\.]+([a-z]*)$/);z&&0==z[1].length&&m.push(function Nu(u,s){return new _.vHH(3005,!1)}())}return F+w}}function pp(u,s,i,d,m,w,F,z,ne,le,ke,_t,Jt){return{type:0,element:u,triggerName:s,isRemovalTransition:m,fromState:i,fromStyles:w,toState:d,toStyles:F,timelines:z,queriedElements:ne,preStyleProps:le,postStyleProps:ke,totalTime:_t,errors:Jt}}const fa={};class mp{constructor(s,i,d){this._triggerName=s,this.ast=i,this._stateStyles=d}match(s,i,d,m){return function Hu(u,s,i,d,m){return u.some(w=>w(s,i,d,m))}(this.ast.matchers,s,i,d,m)}buildStyles(s,i,d){let m=this._stateStyles.get("*");return void 0!==s&&(m=this._stateStyles.get(s?.toString())||m),m?m.buildStyles(i,d):new Map}build(s,i,d,m,w,F,z,ne,le,ke){const _t=[],Jt=this.ast.options&&this.ast.options.params||fa,jt=this.buildStyles(d,z&&z.params||fa,_t),Gt=ne&&ne.params||fa,Fn=this.buildStyles(m,Gt,_t),ki=new Set,Bo=new Map,pa=new Map,ra="void"===m,gm={params:ju(Gt,Jt),delay:this.ast.options?.delay},Du=ke?[]:Dc(s,i,this.ast.animation,w,F,jt,Fn,gm,le,_t);let Pa=0;if(Du.forEach(bl=>{Pa=Math.max(bl.duration+bl.delay,Pa)}),_t.length)return pp(i,this._triggerName,d,m,ra,jt,Fn,[],[],Bo,pa,Pa,_t);Du.forEach(bl=>{const wu=bl.element,Iv=lr(Bo,wu,new Set);bl.preStyleProps.forEach(Jl=>Iv.add(Jl));const Nf=lr(pa,wu,new Set);bl.postStyleProps.forEach(Jl=>Nf.add(Jl)),wu!==i&&ki.add(wu)});const Fc=ru(ki.values());return pp(i,this._triggerName,d,m,ra,jt,Fn,Du,Fc,Bo,pa,Pa)}}function ju(u,s){const i=Ya(s);for(const d in u)u.hasOwnProperty(d)&&null!=u[d]&&(i[d]=u[d]);return i}class gp{constructor(s,i,d){this.styles=s,this.defaultParams=i,this.normalizer=d}buildStyles(s,i){const d=new Map,m=Ya(this.defaultParams);return Object.keys(s).forEach(w=>{const F=s[w];null!==F&&(m[w]=F)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((F,z)=>{F&&(F=Qo(F,m,i));const ne=this.normalizer.normalizePropertyName(z,i);F=this.normalizer.normalizeStyleValue(z,ne,F,i),d.set(ne,F)})}),d}}class _p{constructor(s,i,d){this.name=s,this.ast=i,this._normalizer=d,this.transitionFactories=[],this.states=new Map,i.states.forEach(m=>{this.states.set(m.name,new gp(m.style,m.options&&m.options.params||{},d))}),yp(this.states,"true","1"),yp(this.states,"false","0"),i.transitions.forEach(m=>{this.transitionFactories.push(new mp(s,m,this.states))}),this.fallbackTransition=function qm(u,s,i){return new mp(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(F,z)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,i,d,m){return this.transitionFactories.find(F=>F.match(s,i,d,m))||null}matchStyles(s,i,d){return this.fallbackTransition.buildStyles(s,i,d)}}function yp(u,s,i){u.has(s)?u.has(i)||u.set(i,u.get(s)):u.has(i)&&u.set(s,u.get(i))}const C_=new su;class si{constructor(s,i,d){this.bodyNode=s,this._driver=i,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,i){const d=[],w=Cc(this._driver,i,d,[]);if(d.length)throw function Ly(u){return new _.vHH(3503,!1)}();this._animations.set(s,w)}_buildPlayer(s,i,d){const m=s.element,w=Xf(0,this._normalizer,0,s.keyframes,i,d);return this._driver.animate(m,w,s.duration,s.delay,s.easing,[],!0)}create(s,i,d={}){const m=[],w=this._animations.get(s);let F;const z=new Map;if(w?(F=Dc(this._driver,i,w,Fu,Bl,new Map,new Map,d,C_,m),F.forEach(ke=>{const _t=lr(z,ke.element,new Map);ke.postStyleProps.forEach(Jt=>_t.set(Jt,null))})):(m.push(function Fy(){return new _.vHH(3300,!1)}()),F=[]),m.length)throw function By(u){return new _.vHH(3504,!1)}();z.forEach((ke,_t)=>{ke.forEach((Jt,rn)=>{ke.set(rn,this._driver.computeStyle(_t,rn,Lt.l3))})});const le=mc(F.map(ke=>{const _t=z.get(ke.element);return this._buildPlayer(ke,new Map,_t)}));return this._playersById.set(s,le),le.onDestroy(()=>this.destroy(s)),this.players.push(le),le}destroy(s){const i=this._getPlayer(s);i.destroy(),this._playersById.delete(s);const d=this.players.indexOf(i);d>=0&&this.players.splice(d,1)}_getPlayer(s){const i=this._playersById.get(s);if(!i)throw function p_(u){return new _.vHH(3301,!1)}();return i}listen(s,i,d,m){const w=Pd(i,"","","");return Od(this._getPlayer(s),d,w,m),()=>{}}command(s,i,d,m){if("register"==d)return void this.register(s,m[0]);if("create"==d)return void this.create(s,i,m[0]||{});const w=this._getPlayer(s);switch(d){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(s)}}}const vp="ng-animate-queued",Hd="ng-animate-disabled",Wd=[],Wu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ep={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},na="__ng_removed";class Zh{constructor(s,i=""){this.namespaceId=i;const d=s&&s.hasOwnProperty("value");if(this.value=function Qm(u){return u??null}(d?s.value:s),d){const w=Ya(s);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const i=s.params;if(i){const d=this.options.params;Object.keys(i).forEach(m=>{null==d[m]&&(d[m]=i[m])})}}}const uu="void",qh=new Zh(uu);class wc{constructor(s,i,d){this.id=s,this.hostElement=i,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Xa(i,this._hostClassName)}listen(s,i,d,m){if(!this._triggers.has(i))throw function Fm(u,s){return new _.vHH(3302,!1)}();if(null==d||0==d.length)throw function Yf(u){return new _.vHH(3303,!1)}();if(!function Yh(u){return"start"==u||"done"==u}(d))throw function Bm(u,s){return new _.vHH(3400,!1)}();const w=lr(this._elementListeners,s,[]),F={name:i,phase:d,callback:m};w.push(F);const z=lr(this._engine.statesByElement,s,new Map);return z.has(i)||(Xa(s,pl),Xa(s,pl+"-"+i),z.set(i,qh)),()=>{this._engine.afterFlush(()=>{const ne=w.indexOf(F);ne>=0&&w.splice(ne,1),this._triggers.has(i)||z.delete(i)})}}register(s,i){return!this._triggers.has(s)&&(this._triggers.set(s,i),!0)}_getTrigger(s){const i=this._triggers.get(s);if(!i)throw function Um(u){return new _.vHH(3401,!1)}();return i}trigger(s,i,d,m=!0){const w=this._getTrigger(i),F=new Kd(this.id,i,s);let z=this._engine.statesByElement.get(s);z||(Xa(s,pl),Xa(s,pl+"-"+i),this._engine.statesByElement.set(s,z=new Map));let ne=z.get(i);const le=new Zh(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ne&&le.absorbOptions(ne.options),z.set(i,le),ne||(ne=qh),le.value!==uu&&ne.value===le.value){if(!function Qh(u,s){const i=Object.keys(u),d=Object.keys(s);if(i.length!=d.length)return!1;for(let m=0;m<i.length;m++){const w=i[m];if(!s.hasOwnProperty(w)||u[w]!==s[w])return!1}return!0}(ne.params,le.params)){const Gt=[],Fn=w.matchStyles(ne.value,ne.params,Gt),ki=w.matchStyles(le.value,le.params,Gt);Gt.length?this._engine.reportError(Gt):this._engine.afterFlush(()=>{Qa(s,Fn),ua(s,ki)})}return}const Jt=lr(this._engine.playersByElement,s,[]);Jt.forEach(Gt=>{Gt.namespaceId==this.id&&Gt.triggerName==i&&Gt.queued&&Gt.destroy()});let rn=w.matchTransition(ne.value,le.value,s,le.params),jt=!1;if(!rn){if(!m)return;rn=w.fallbackTransition,jt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:i,transition:rn,fromState:ne,toState:le,player:F,isFallbackTransition:jt}),jt||(Xa(s,vp),F.onStart(()=>{$u(s,vp)})),F.onDone(()=>{let Gt=this.players.indexOf(F);Gt>=0&&this.players.splice(Gt,1);const Fn=this._engine.playersByElement.get(s);if(Fn){let ki=Fn.indexOf(F);ki>=0&&Fn.splice(ki,1)}}),this.players.push(F),Jt.push(F),F}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(i=>i.delete(s)),this._elementListeners.forEach((i,d)=>{this._elementListeners.set(d,i.filter(m=>m.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const i=this._engine.playersByElement.get(s);i&&(i.forEach(d=>d.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,i){const d=this._engine.driver.query(s,kh,!0);d.forEach(m=>{if(m[na])return;const w=this._engine.fetchNamespacesByElement(m);w.size?w.forEach(F=>F.triggerLeaveAnimation(m,i,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(s,i,d,m){const w=this._engine.statesByElement.get(s),F=new Map;if(w){const z=[];if(w.forEach((ne,le)=>{if(F.set(le,ne.value),this._triggers.has(le)){const ke=this.trigger(s,le,uu,m);ke&&z.push(ke)}}),z.length)return this._engine.markElementAsRemoved(this.id,s,!0,i,F),d&&mc(z).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const i=this._elementListeners.get(s),d=this._engine.statesByElement.get(s);if(i&&d){const m=new Set;i.forEach(w=>{const F=w.name;if(m.has(F))return;m.add(F);const ne=this._triggers.get(F).fallbackTransition,le=d.get(F)||qh,ke=new Zh(uu),_t=new Kd(this.id,F,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:F,transition:ne,fromState:le,toState:ke,player:_t,isFallbackTransition:!0})})}}removeNode(s,i){const d=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,i),this.triggerLeaveAnimation(s,i,!0))return;let m=!1;if(d.totalAnimations){const w=d.players.length?d.playersByQueriedElement.get(s):[];if(w&&w.length)m=!0;else{let F=s;for(;F=F.parentNode;)if(d.statesByElement.get(F)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(s),m)d.markElementAsRemoved(this.id,s,!1,i);else{const w=s[na];(!w||w===Wu)&&(d.afterFlush(()=>this.clearElementCache(s)),d.destroyInnerAnimations(s),d._onRemovalComplete(s,i))}}insertNode(s,i){Xa(s,this._hostClassName)}drainQueuedTransitions(s){const i=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const w=d.element,F=this._elementListeners.get(w);F&&F.forEach(z=>{if(z.name==d.triggerName){const ne=Pd(w,d.triggerName,d.fromState.value,d.toState.value);ne._data=s,Od(d.player,z.phase,ne,z.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):i.push(d)}),this._queue=[],i.sort((d,m)=>{const w=d.transition.ast.depCount,F=m.transition.ast.depCount;return 0==w||0==F?w-F:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(s){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let i=!1;return this._elementListeners.has(s)&&(i=!0),i=!!this._queue.find(d=>d.element===s)||i,i}}class D_{constructor(s,i,d){this.bodyNode=s,this.driver=i,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,w)=>{}}_onRemovalComplete(s,i){this.onRemovalComplete(s,i)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(i=>{i.players.forEach(d=>{d.queued&&s.push(d)})}),s}createNamespace(s,i){const d=new wc(s,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(d,i):(this.newHostElements.set(i,d),this.collectEnterElement(i)),this._namespaceLookup[s]=d}_balanceNamespaceList(s,i){const d=this._namespaceList,m=this.namespacesByHostElement;if(d.length-1>=0){let F=!1,z=this.driver.getParentElement(i);for(;z;){const ne=m.get(z);if(ne){const le=d.indexOf(ne);d.splice(le+1,0,s),F=!0;break}z=this.driver.getParentElement(z)}F||d.unshift(s)}else d.push(s);return m.set(i,s),s}register(s,i){let d=this._namespaceLookup[s];return d||(d=this.createNamespace(s,i)),d}registerTrigger(s,i,d){let m=this._namespaceLookup[s];m&&m.register(i,d)&&this.totalAnimations++}destroy(s,i){if(!s)return;const d=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[s];const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1)}),this.afterFlushAnimationsDone(()=>d.destroy(i))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const i=new Set,d=this.statesByElement.get(s);if(d)for(let m of d.values())if(m.namespaceId){const w=this._fetchNamespace(m.namespaceId);w&&i.add(w)}return i}trigger(s,i,d,m){if(Ku(i)){const w=this._fetchNamespace(s);if(w)return w.trigger(i,d,m),!0}return!1}insertNode(s,i,d,m){if(!Ku(i))return;const w=i[na];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const F=this.collectedLeaveElements.indexOf(i);F>=0&&this.collectedLeaveElements.splice(F,1)}if(s){const F=this._fetchNamespace(s);F&&F.insertNode(i,d)}m&&this.collectEnterElement(i)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,i){i?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Xa(s,Hd)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),$u(s,Hd))}removeNode(s,i,d,m){if(Ku(i)){const w=s?this._fetchNamespace(s):null;if(w?w.removeNode(i,m):this.markElementAsRemoved(s,i,!1,m),d){const F=this.namespacesByHostElement.get(i);F&&F.id!==s&&F.removeNode(i,m)}}else this._onRemovalComplete(i,m)}markElementAsRemoved(s,i,d,m,w){this.collectedLeaveElements.push(i),i[na]={namespaceId:s,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:w}}listen(s,i,d,m,w){return Ku(i)?this._fetchNamespace(s).listen(i,d,m,w):()=>{}}_buildInstruction(s,i,d,m,w){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,d,m,s.fromState.options,s.toState.options,i,w)}destroyInnerAnimations(s){let i=this.driver.query(s,kh,!0);i.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(s,rp,!0),i.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(s){const i=this.playersByElement.get(s);i&&i.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(s){const i=this.playersByQueriedElement.get(s);i&&i.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return mc(this.players).onDone(()=>s());s()})}processLeaveNode(s){const i=s[na];if(i&&i.setForRemoval){if(s[na]=Wu,i.namespaceId){this.destroyInnerAnimations(s);const d=this._fetchNamespace(i.namespaceId);d&&d.clearElementCache(s)}this._onRemovalComplete(s,i.setForRemoval)}s.classList?.contains(Hd)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(s=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Xa(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{i=this._flushAnimations(d,s)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],i.length?mc(i).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(s){throw function Vm(u){return new _.vHH(3402,!1)}()}_flushAnimations(s,i){const d=new su,m=[],w=new Map,F=[],z=new Map,ne=new Map,le=new Map,ke=new Set;this.disabledNodes.forEach(Sn=>{ke.add(Sn);const Qn=this.driver.query(Sn,".ng-animate-queued",!0);for(let ni=0;ni<Qn.length;ni++)ke.add(Qn[ni])});const _t=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),rn=Ip(Jt,this.collectedEnterElements),jt=new Map;let Gt=0;rn.forEach((Sn,Qn)=>{const ni=Fu+Gt++;jt.set(Qn,ni),Sn.forEach(er=>Xa(er,ni))});const Fn=[],ki=new Set,Bo=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const Qn=this.collectedLeaveElements[Sn],ni=Qn[na];ni&&ni.setForRemoval&&(Fn.push(Qn),ki.add(Qn),ni.hasAnimation?this.driver.query(Qn,".ng-star-inserted",!0).forEach(er=>ki.add(er)):Bo.add(Qn))}const pa=new Map,ra=Ip(Jt,Array.from(ki));ra.forEach((Sn,Qn)=>{const ni=Bl+Gt++;pa.set(Qn,ni),Sn.forEach(er=>Xa(er,ni))}),s.push(()=>{rn.forEach((Sn,Qn)=>{const ni=jt.get(Qn);Sn.forEach(er=>$u(er,ni))}),ra.forEach((Sn,Qn)=>{const ni=pa.get(Qn);Sn.forEach(er=>$u(er,ni))}),Fn.forEach(Sn=>{this.processLeaveNode(Sn)})});const gm=[],Du=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(i).forEach(ni=>{const er=ni.player,ws=ni.element;if(gm.push(er),this.collectedEnterElements.length){const oa=ws[na];if(oa&&oa.setForMove){if(oa.previousTriggersValues&&oa.previousTriggersValues.has(ni.triggerName)){const fd=oa.previousTriggersValues.get(ni.triggerName),El=this.statesByElement.get(ni.element);if(El&&El.has(ni.triggerName)){const Lf=El.get(ni.triggerName);Lf.value=fd,El.set(ni.triggerName,Lf)}}return void er.destroy()}}const Bc=!_t||!this.driver.containsElement(_t,ws),Vs=pa.get(ws),hd=jt.get(ws),so=this._buildInstruction(ni,d,hd,Vs,Bc);if(so.errors&&so.errors.length)return void Du.push(so);if(Bc)return er.onStart(()=>Qa(ws,so.fromStyles)),er.onDestroy(()=>ua(ws,so.toStyles)),void m.push(er);if(ni.isFallbackTransition)return er.onStart(()=>Qa(ws,so.fromStyles)),er.onDestroy(()=>ua(ws,so.toStyles)),void m.push(er);const Av=[];so.timelines.forEach(oa=>{oa.stretchStartingKeyframe=!0,this.disabledNodes.has(oa.element)||Av.push(oa)}),so.timelines=Av,d.append(ws,so.timelines),F.push({instruction:so,player:er,element:ws}),so.queriedElements.forEach(oa=>lr(z,oa,[]).push(er)),so.preStyleProps.forEach((oa,fd)=>{if(oa.size){let El=ne.get(fd);El||ne.set(fd,El=new Set),oa.forEach((Lf,Ty)=>El.add(Ty))}}),so.postStyleProps.forEach((oa,fd)=>{let El=le.get(fd);El||le.set(fd,El=new Set),oa.forEach((Lf,Ty)=>El.add(Ty))})});if(Du.length){const Sn=[];Du.forEach(Qn=>{Sn.push(function m_(u,s){return new _.vHH(3505,!1)}())}),gm.forEach(Qn=>Qn.destroy()),this.reportError(Sn)}const Pa=new Map,Fc=new Map;F.forEach(Sn=>{const Qn=Sn.element;d.has(Qn)&&(Fc.set(Qn,Qn),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,Pa))}),m.forEach(Sn=>{const Qn=Sn.element;this._getPreviousPlayers(Qn,!1,Sn.namespaceId,Sn.triggerName,null).forEach(er=>{lr(Pa,Qn,[]).push(er),er.destroy()})});const bl=Fn.filter(Sn=>Gu(Sn,ne,le)),wu=new Map;wp(wu,this.driver,Bo,le,Lt.l3).forEach(Sn=>{Gu(Sn,ne,le)&&bl.push(Sn)});const Nf=new Map;rn.forEach((Sn,Qn)=>{wp(Nf,this.driver,new Set(Sn),ne,Lt.k1)}),bl.forEach(Sn=>{const Qn=wu.get(Sn),ni=Nf.get(Sn);wu.set(Sn,new Map([...Array.from(Qn?.entries()??[]),...Array.from(ni?.entries()??[])]))});const Jl=[],Mv=[],Tv={};F.forEach(Sn=>{const{element:Qn,player:ni,instruction:er}=Sn;if(d.has(Qn)){if(ke.has(Qn))return ni.onDestroy(()=>ua(Qn,er.toStyles)),ni.disabled=!0,ni.overrideTotalTime(er.totalTime),void m.push(ni);let ws=Tv;if(Fc.size>1){let Vs=Qn;const hd=[];for(;Vs=Vs.parentNode;){const so=Fc.get(Vs);if(so){ws=so;break}hd.push(Vs)}hd.forEach(so=>Fc.set(so,ws))}const Bc=this._buildAnimation(ni.namespaceId,er,Pa,w,Nf,wu);if(ni.setRealPlayer(Bc),ws===Tv)Jl.push(ni);else{const Vs=this.playersByElement.get(ws);Vs&&Vs.length&&(ni.parentPlayer=mc(Vs)),m.push(ni)}}else Qa(Qn,er.fromStyles),ni.onDestroy(()=>ua(Qn,er.toStyles)),Mv.push(ni),ke.has(Qn)&&m.push(ni)}),Mv.forEach(Sn=>{const Qn=w.get(Sn.element);if(Qn&&Qn.length){const ni=mc(Qn);Sn.setRealPlayer(ni)}}),m.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<Fn.length;Sn++){const Qn=Fn[Sn],ni=Qn[na];if($u(Qn,Bl),ni&&ni.hasAnimation)continue;let er=[];if(z.size){let Bc=z.get(Qn);Bc&&Bc.length&&er.push(...Bc);let Vs=this.driver.query(Qn,rp,!0);for(let hd=0;hd<Vs.length;hd++){let so=z.get(Vs[hd]);so&&so.length&&er.push(...so)}}const ws=er.filter(Bc=>!Bc.destroyed);ws.length?zu(this,Qn,ws):this.processLeaveNode(Qn)}return Fn.length=0,Jl.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const Qn=this.players.indexOf(Sn);this.players.splice(Qn,1)}),Sn.play()}),Jl}elementContainsData(s,i){let d=!1;const m=i[na];return m&&m.setForRemoval&&(d=!0),this.playersByElement.has(i)&&(d=!0),this.playersByQueriedElement.has(i)&&(d=!0),this.statesByElement.has(i)&&(d=!0),this._fetchNamespace(s).elementContainsData(i)||d}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,i,d,m,w){let F=[];if(i){const z=this.playersByQueriedElement.get(s);z&&(F=z)}else{const z=this.playersByElement.get(s);if(z){const ne=!w||w==uu;z.forEach(le=>{le.queued||!ne&&le.triggerName!=m||F.push(le)})}}return(d||m)&&(F=F.filter(z=>!(d&&d!=z.namespaceId||m&&m!=z.triggerName))),F}_beforeAnimationBuild(s,i,d){const w=i.element,F=i.isRemovalTransition?void 0:s,z=i.isRemovalTransition?void 0:i.triggerName;for(const ne of i.timelines){const le=ne.element,ke=le!==w,_t=lr(d,le,[]);this._getPreviousPlayers(le,ke,F,z,i.toState).forEach(rn=>{const jt=rn.getRealPlayer();jt.beforeDestroy&&jt.beforeDestroy(),rn.destroy(),_t.push(rn)})}Qa(w,i.fromStyles)}_buildAnimation(s,i,d,m,w,F){const z=i.triggerName,ne=i.element,le=[],ke=new Set,_t=new Set,Jt=i.timelines.map(jt=>{const Gt=jt.element;ke.add(Gt);const Fn=Gt[na];if(Fn&&Fn.removedBeforeQueried)return new Lt.ZN(jt.duration,jt.delay);const ki=Gt!==ne,Bo=function Mp(u){const s=[];return Tp(u,s),s}((d.get(Gt)||Wd).map(Pa=>Pa.getRealPlayer())).filter(Pa=>!!Pa.element&&Pa.element===Gt),pa=w.get(Gt),ra=F.get(Gt),gm=Xf(0,this._normalizer,0,jt.keyframes,pa,ra),Du=this._buildPlayer(jt,gm,Bo);if(jt.subTimeline&&m&&_t.add(Gt),ki){const Pa=new Kd(s,z,Gt);Pa.setRealPlayer(Du),le.push(Pa)}return Du});le.forEach(jt=>{lr(this.playersByQueriedElement,jt.element,[]).push(jt),jt.onDone(()=>function Cp(u,s,i){let d=u.get(s);if(d){if(d.length){const m=d.indexOf(i);d.splice(m,1)}0==d.length&&u.delete(s)}return d}(this.playersByQueriedElement,jt.element,jt))}),ke.forEach(jt=>Xa(jt,Nh));const rn=mc(Jt);return rn.onDestroy(()=>{ke.forEach(jt=>$u(jt,Nh)),ua(ne,i.toStyles)}),_t.forEach(jt=>{lr(m,jt,[]).push(rn)}),rn}_buildPlayer(s,i,d){return i.length>0?this.driver.animate(s.element,i,s.duration,s.delay,s.easing,d):new Lt.ZN(s.duration,s.delay)}}class Kd{constructor(s,i,d){this.namespaceId=s,this.triggerName=i,this.element=d,this._player=new Lt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((i,d)=>{i.forEach(m=>Od(s,d,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const i=this._player;i.triggerCallback&&s.onStart(()=>i.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,i){lr(this._queuedCallbacks,s,[]).push(i)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const i=this._player;i.triggerCallback&&i.triggerCallback(s)}}function Ku(u){return u&&1===u.nodeType}function Dp(u,s){const i=u.style.display;return u.style.display=s??"none",i}function wp(u,s,i,d,m){const w=[];i.forEach(ne=>w.push(Dp(ne)));const F=[];d.forEach((ne,le)=>{const ke=new Map;ne.forEach(_t=>{const Jt=s.computeStyle(le,_t,m);ke.set(_t,Jt),(!Jt||0==Jt.length)&&(le[na]=Ep,F.push(le))}),u.set(le,ke)});let z=0;return i.forEach(ne=>Dp(ne,w[z++])),F}function Ip(u,s){const i=new Map;if(u.forEach(z=>i.set(z,[])),0==s.length)return i;const m=new Set(s),w=new Map;function F(z){if(!z)return 1;let ne=w.get(z);if(ne)return ne;const le=z.parentNode;return ne=i.has(le)?le:m.has(le)?1:F(le),w.set(z,ne),ne}return s.forEach(z=>{const ne=F(z);1!==ne&&i.get(ne).push(z)}),i}function Xa(u,s){u.classList?.add(s)}function $u(u,s){u.classList?.remove(s)}function zu(u,s,i){mc(i).onDone(()=>u.processLeaveNode(s))}function Tp(u,s){for(let i=0;i<u.length;i++){const d=u[i];d instanceof Lt.ZE?Tp(d.players,s):s.push(d)}}function Gu(u,s,i){const d=i.get(u);if(!d)return!1;let m=s.get(u);return m?d.forEach(w=>m.add(w)):s.set(u,d),i.delete(u),!0}class du{constructor(s,i,d){this.bodyNode=s,this._driver=i,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,w)=>{},this._transitionEngine=new D_(s,i,d),this._timelineEngine=new si(s,i,d),this._transitionEngine.onRemovalComplete=(m,w)=>this.onRemovalComplete(m,w)}registerTrigger(s,i,d,m,w){const F=s+"-"+m;let z=this._triggerCache[F];if(!z){const ne=[],ke=Cc(this._driver,w,ne,[]);if(ne.length)throw function ky(u,s){return new _.vHH(3404,!1)}();z=function zh(u,s,i){return new _p(u,s,i)}(m,ke,this._normalizer),this._triggerCache[F]=z}this._transitionEngine.registerTrigger(i,m,z)}register(s,i){this._transitionEngine.register(s,i)}destroy(s,i){this._transitionEngine.destroy(s,i)}onInsert(s,i,d,m){this._transitionEngine.insertNode(s,i,d,m)}onRemove(s,i,d,m){this._transitionEngine.removeNode(s,i,m||!1,d)}disableAnimations(s,i){this._transitionEngine.markElementAsDisabled(s,i)}process(s,i,d,m){if("@"==d.charAt(0)){const[w,F]=xh(d);this._timelineEngine.command(w,i,F,m)}else this._transitionEngine.trigger(s,i,d,m)}listen(s,i,d,m,w){if("@"==d.charAt(0)){const[F,z]=xh(d);return this._timelineEngine.listen(F,i,z,w)}return this._transitionEngine.listen(s,i,d,m,w)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ap=(()=>{class u{constructor(i,d,m){this._element=i,this._startStyles=d,this._endStyles=m,this._state=0;let w=u.initialStylesByElement.get(i);w||u.initialStylesByElement.set(i,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Qa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qa(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function qu(u){let s=null;return u.forEach((i,d)=>{(function $d(u){return"display"===u||"position"===u})(d)&&(s=s||new Map,s.set(d,i))}),s}class Xh{constructor(s,i,d,m){this.element=s,this.keyframes=i,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const i=[];return s.forEach(d=>{i.push(Object.fromEntries(d))}),i}_triggerWebAnimation(s,i,d){return s.animate(this._convertKeyframesToObject(i),d)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,m)=>{"offset"!==m&&s.set(m,this._finished?d:bc(this.element,m))}),this.currentSnapshot=s}triggerCallback(s){const i="start"===s?this._onStartFns:this._onDoneFns;i.forEach(d=>d()),i.length=0}}class Sp{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,i){return!1}containsElement(s,i){return Yo(s,i)}getParentElement(s){return Ph(s)}query(s,i,d){return gc(s,i,d)}computeStyle(s,i,d){return window.getComputedStyle(s)[i]}animate(s,i,d,m,w,F=[]){const ne={duration:d,delay:m,fill:0==m?"both":"forwards"};w&&(ne.easing=w);const le=new Map,ke=F.filter(rn=>rn instanceof Xh);(function da(u,s){return 0===u||0===s})(d,m)&&ke.forEach(rn=>{rn.currentSnapshot.forEach((jt,Gt)=>le.set(Gt,jt))});let _t=function Uy(u){return u.length?u[0]instanceof Map?u:u.map(s=>Km(s)):[]}(i).map(rn=>Vl(rn));_t=function vc(u,s,i){if(i.size&&s.length){let d=s[0],m=[];if(i.forEach((w,F)=>{d.has(F)||m.push(F),d.set(F,w)}),m.length)for(let w=1;w<s.length;w++){let F=s[w];m.forEach(z=>F.set(z,bc(u,z)))}}return s}(s,_t,le);const Jt=function Zu(u,s){let i=null,d=null;return Array.isArray(s)&&s.length?(i=qu(s[0]),s.length>1&&(d=qu(s[s.length-1]))):s instanceof Map&&(i=qu(s)),i||d?new Ap(u,i,d):null}(s,_t);return new Xh(s,_t,ne,Jt)}}let xp=(()=>{class u extends Lt._j{constructor(i,d){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(d.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(i){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(i)?(0,Lt.vP)(i):i;return zd(this._renderer,null,d,"register",[m]),new Jh(d,this._renderer)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(_.FYo),_.LFG(pe.K0))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})();class Jh extends Lt.LC{constructor(s,i){super(),this._id=s,this._renderer=i}create(s,i){return new ml(this._id,s,i||{},this._renderer)}}class ml{constructor(s,i,d,m){this.id=s,this.element=i,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(s,i){return this._renderer.listen(this.element,`@@${this.id}:${s}`,i)}_command(s,...i){return zd(this._renderer,this.element,this.id,s,i)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zd(u,s,i,d,m){return u.setProperty(s,`@@${i}:${d}`,m)}const Yu="@.disabled";let w_=(()=>{class u{constructor(i,d,m){this.delegate=i,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(w,F)=>{const z=F?.parentNode(w);z&&F.removeChild(z,w)}}createRenderer(i,d){const w=this.delegate.createRenderer(i,d);if(!(i&&d&&d.data&&d.data.animation)){let ke=this._rendererCache.get(w);return ke||(ke=new Pp("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,ke)),ke}const F=d.id,z=d.id+"-"+this._currentId;this._currentId++,this.engine.register(z,i);const ne=ke=>{Array.isArray(ke)?ke.forEach(ne):this.engine.registerTrigger(F,z,i,ke.name,ke)};return d.data.animation.forEach(ne),new Qu(this,z,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,d,m){i>=0&&i<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[F,z]=w;F(z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(_.FYo),_.LFG(du),_.LFG(_.R0b))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})();class Pp{constructor(s,i,d,m){this.namespaceId=s,this.delegate=i,this.engine=d,this._onDestroy=m,this.destroyNode=this.delegate.destroyNode?w=>i.destroyNode(w):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(s,i){return this.delegate.createElement(s,i)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,i){this.delegate.appendChild(s,i),this.engine.onInsert(this.namespaceId,i,s,!1)}insertBefore(s,i,d,m=!0){this.delegate.insertBefore(s,i,d),this.engine.onInsert(this.namespaceId,i,s,m)}removeChild(s,i,d){this.engine.onRemove(this.namespaceId,i,this.delegate,d)}selectRootElement(s,i){return this.delegate.selectRootElement(s,i)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,i,d,m){this.delegate.setAttribute(s,i,d,m)}removeAttribute(s,i,d){this.delegate.removeAttribute(s,i,d)}addClass(s,i){this.delegate.addClass(s,i)}removeClass(s,i){this.delegate.removeClass(s,i)}setStyle(s,i,d,m){this.delegate.setStyle(s,i,d,m)}removeStyle(s,i,d){this.delegate.removeStyle(s,i,d)}setProperty(s,i,d){"@"==i.charAt(0)&&i==Yu?this.disableAnimations(s,!!d):this.delegate.setProperty(s,i,d)}setValue(s,i){this.delegate.setValue(s,i)}listen(s,i,d){return this.delegate.listen(s,i,d)}disableAnimations(s,i){this.engine.disableAnimations(s,i)}}class Qu extends Pp{constructor(s,i,d,m,w){super(i,d,m,w),this.factory=s,this.namespaceId=i}setProperty(s,i,d){"@"==i.charAt(0)?"."==i.charAt(1)&&i==Yu?this.disableAnimations(s,d=void 0===d||!!d):this.engine.process(this.namespaceId,s,i.slice(1),d):this.delegate.setProperty(s,i,d)}listen(s,i,d){if("@"==i.charAt(0)){const m=function ef(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(s);let w=i.slice(1),F="";return"@"!=w.charAt(0)&&([w,F]=function Gd(u){const s=u.indexOf(".");return[u.substring(0,s),u.slice(s+1)]}(w)),this.engine.listen(this.namespaceId,m,w,F,z=>{this.factory.scheduleListenerCallback(z._data||-1,d,z)})}return this.delegate.listen(s,i,d)}}const tf=[{provide:Lt._j,useClass:xp},{provide:Vd,useFactory:function Aa(){return new b_}},{provide:du,useClass:(()=>{class u extends du{constructor(i,d,m,w){super(i.body,d,m)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(pe.K0),_.LFG(Rh),_.LFG(Vd),_.LFG(_.z2F))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:_.FYo,useFactory:function hu(u,s,i){return new w_(u,s,i)},deps:[y.se,du,_.R0b]}],Zd=[{provide:Rh,useFactory:()=>new Sp},{provide:_.QbO,useValue:"BrowserAnimations"},...tf],gl=[{provide:Rh,useClass:tp},{provide:_.QbO,useValue:"NoopAnimations"},...tf];let nf=(()=>{class u{static withConfig(i){return{ngModule:u,providers:i.disableAnimations?gl:Zd}}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:Zd,imports:[y.b2]}),u})();var eg=R(2011);let sf=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})();class pu{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class Ju extends pu{constructor(s,i,d,m){super(),this.component=s,this.viewContainerRef=i,this.injector=d,this.componentFactoryResolver=m}}class A_ extends pu{constructor(s,i,d,m){super(),this.templateRef=s,this.viewContainerRef=i,this.context=d,this.injector=m}get origin(){return this.templateRef.elementRef}attach(s,i=this.context){return this.context=i,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class mu extends pu{constructor(s){super(),this.element=s instanceof _.SBq?s.nativeElement:s}}class Qd extends class rg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof Ju?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof A_?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof mu?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(s,i,d,m,w){super(),this.outletElement=s,this._componentFactoryResolver=i,this._appRef=d,this._defaultInjector=m,this.attachDomPortal=F=>{const z=F.element,ne=this._document.createComment("dom-portal");z.parentNode.insertBefore(ne,z),this.outletElement.appendChild(z),this._attachedPortal=F,super.setDisposeFn(()=>{ne.parentNode&&ne.parentNode.replaceChild(z,ne)})},this._document=w}attachComponentPortal(s){const d=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let m;return s.viewContainerRef?(m=s.viewContainerRef.createComponent(d,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector),this.setDisposeFn(()=>m.destroy())):(m=d.create(s.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(m.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(m.hostView),m.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(m)),this._attachedPortal=s,m}attachTemplatePortal(s){let i=s.viewContainerRef,d=i.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return d.rootNodes.forEach(m=>this.outletElement.appendChild(m)),d.detectChanges(),this.setDisposeFn(()=>{let m=i.indexOf(d);-1!==m&&i.remove(m)}),this._attachedPortal=s,d}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}let Xd=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({}),u})(),eh=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[pe.ez,bi,sf,Xd]}),u})(),ff=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[pe.ez,bi,ts,bi]}),u})(),xa=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[pe.ez,bi,Xd,qr,ts,Po,bi]}),u})();const mr=xt();class oh{constructor(s,i){this._viewportRuler=s,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const s=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=s.style.left||"",this._previousHTMLStyles.top=s.style.top||"",s.style.left=Ci(-this._previousScrollPosition.left),s.style.top=Ci(-this._previousScrollPosition.top),s.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const s=this._document.documentElement,d=s.style,m=this._document.body.style,w=d.scrollBehavior||"",F=m.scrollBehavior||"";this._isEnabled=!1,d.left=this._previousHTMLStyles.left,d.top=this._previousHTMLStyles.top,s.classList.remove("cdk-global-scrollblock"),mr&&(d.scrollBehavior=m.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mr&&(d.scrollBehavior=w,m.scrollBehavior=F)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,d=this._viewportRuler.getViewportSize();return i.scrollHeight>d.height||i.scrollWidth>d.width}}class Tr{constructor(s,i,d,m){this._scrollDispatcher=s,this._ngZone=i,this._viewportRuler=d,this._config=m,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(s){this._overlayRef=s}enable(){if(this._scrollSubscription)return;const s=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=s.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=s.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ac{enable(){}disable(){}attach(){}}function Sc(u,s){return s.some(i=>u.bottom<i.top||u.top>i.bottom||u.right<i.left||u.left>i.right)}function _u(u,s){return s.some(i=>u.top<i.top||u.bottom>i.bottom||u.left<i.left||u.right>i.right)}class yu{constructor(s,i,d,m){this._scrollDispatcher=s,this._viewportRuler=i,this._ngZone=d,this._config=m,this._scrollSubscription=null}attach(s){this._overlayRef=s}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:d,height:m}=this._viewportRuler.getViewportSize();Sc(i,[{width:d,height:m,bottom:m,right:d,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rd=(()=>{class u{constructor(i,d,m,w){this._scrollDispatcher=i,this._viewportRuler=d,this._ngZone=m,this.noop=()=>new Ac,this.close=F=>new Tr(this._scrollDispatcher,this._ngZone,this._viewportRuler,F),this.block=()=>new oh(this._viewportRuler,this._document),this.reposition=F=>new yu(this._scrollDispatcher,this._viewportRuler,this._ngZone,F),this._document=w}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(bh),_.LFG(Js),_.LFG(_.R0b),_.LFG(pe.K0))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class od{constructor(s){if(this.scrollStrategy=new Ac,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,s){const i=Object.keys(s);for(const d of i)void 0!==s[d]&&(this[d]=s[d])}}}class Z_{constructor(s,i){this.connectionPair=s,this.scrollableViewProperties=i}}let Df=(()=>{class u{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const d=this._attachedOverlays.indexOf(i);d>-1&&this._attachedOverlays.splice(d,1),0===this._attachedOverlays.length&&this.detach()}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(pe.K0))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),tl=(()=>{class u extends Df{constructor(i,d){super(i),this._ngZone=d,this._keydownListener=m=>{const w=this._attachedOverlays;for(let F=w.length-1;F>-1;F--)if(w[F]._keydownEvents.observers.length>0){const z=w[F]._keydownEvents;this._ngZone?this._ngZone.run(()=>z.next(m)):z.next(m);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(pe.K0),_.LFG(_.R0b,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),_l=(()=>{class u extends Df{constructor(i,d,m){super(i),this._platform=d,this._ngZone=m,this._cursorStyleIsSet=!1,this._pointerDownListener=w=>{this._pointerDownEventTarget=Ce(w)},this._clickListener=w=>{const F=Ce(w),z="click"===w.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:F;this._pointerDownEventTarget=null;const ne=this._attachedOverlays.slice();for(let le=ne.length-1;le>-1;le--){const ke=ne[le];if(ke._outsidePointerEvents.observers.length<1||!ke.hasAttached())continue;if(ke.overlayElement.contains(F)||ke.overlayElement.contains(z))break;const _t=ke._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_t.next(w)):_t.next(w)}}}add(i){if(super.add(i),!this._isAttached){const d=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(d)):this._addEventListeners(d),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=d.style.cursor,d.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(pe.K0),_.LFG(de),_.LFG(_.R0b,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),wg=(()=>{class u{constructor(i,d){this._platform=d,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||qe()){const m=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let w=0;w<m.length;w++)m[w].remove()}const d=this._document.createElement("div");d.classList.add(i),qe()?d.setAttribute("platform","test"):this._platform.isBrowser||d.setAttribute("platform","server"),this._document.body.appendChild(d),this._containerElement=d}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(pe.K0),_.LFG(de))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class vu{constructor(s,i,d,m,w,F,z,ne,le,ke=!1){this._portalOutlet=s,this._host=i,this._pane=d,this._config=m,this._ngZone=w,this._keyboardDispatcher=F,this._document=z,this._location=ne,this._outsideClickDispatcher=le,this._animationsDisabled=ke,this._backdropElement=null,this._backdropClick=new De.x,this._attachments=new De.x,this._detachments=new De.x,this._locationChanges=W.w0.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new De.x,this._outsidePointerEvents=new De.x,m.scrollStrategy&&(this._scrollStrategy=m.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=m.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(s){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(s);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$r.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof i?.onDestroy&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const s=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),s}dispose(){const s=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,s&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(s){s!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=s,this.hasAttached()&&(s.attach(this),this.updatePosition()))}updateSize(s){this._config={...this._config,...s},this._updateElementSize()}setDirection(s){this._config={...this._config,direction:s},this._updateElementDirection()}addPanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!0)}removePanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!1)}getDirection(){const s=this._config.direction;return s?"string"==typeof s?s:s.value:"ltr"}updateScrollStrategy(s){s!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=s,this.hasAttached()&&(s.attach(this),s.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const s=this._pane.style;s.width=Ci(this._config.width),s.height=Ci(this._config.height),s.minWidth=Ci(this._config.minWidth),s.minHeight=Ci(this._config.minHeight),s.maxWidth=Ci(this._config.maxWidth),s.maxHeight=Ci(this._config.maxHeight)}_togglePointerEvents(s){this._pane.style.pointerEvents=s?"":"none"}_attachBackdrop(){const s="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(s)})}):this._backdropElement.classList.add(s)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const s=this._backdropElement;if(s){if(this._animationsDisabled)return void this._disposeBackdrop(s);s.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{s.addEventListener("transitionend",this._backdropTransitionendHandler)}),s.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(s)},500))}}_toggleClasses(s,i,d){const m=sr(i||[]).filter(w=>!!w);m.length&&(d?s.classList.add(...m):s.classList.remove(...m))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const s=this._ngZone.onStable.pipe(Oi((0,Ur.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),s.unsubscribe())})})}_disposeScrollStrategy(){const s=this._scrollStrategy;s&&(s.disable(),s.detach&&s.detach())}_disposeBackdrop(s){s&&(s.removeEventListener("click",this._backdropClickHandler),s.removeEventListener("transitionend",this._backdropTransitionendHandler),s.remove(),this._backdropElement===s&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sh="cdk-overlay-connected-position-bounding-box",Ig=/([A-Za-z%]+)$/;class Q_{constructor(s,i,d,m,w){this._viewportRuler=i,this._document=d,this._platform=m,this._overlayContainer=w,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new De.x,this._resizeSubscription=W.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(s)}get positions(){return this._preferredPositions}attach(s){this._validatePositions(),s.hostElement.classList.add(sh),this._overlayRef=s,this._boundingBox=s.hostElement,this._pane=s.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._originRect,i=this._overlayRect,d=this._viewportRect,m=this._containerRect,w=[];let F;for(let z of this._preferredPositions){let ne=this._getOriginPoint(s,m,z),le=this._getOverlayPoint(ne,i,z),ke=this._getOverlayFit(le,i,d,z);if(ke.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(z,ne);this._canFitWithFlexibleDimensions(ke,le,d)?w.push({position:z,origin:ne,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(ne,z)}):(!F||F.overlayFit.visibleArea<ke.visibleArea)&&(F={overlayFit:ke,overlayPoint:le,originPoint:ne,position:z,overlayRect:i})}if(w.length){let z=null,ne=-1;for(const le of w){const ke=le.boundingBoxRect.width*le.boundingBoxRect.height*(le.position.weight||1);ke>ne&&(ne=ke,z=le)}return this._isPushed=!1,void this._applyPosition(z.position,z.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(F.position,F.originPoint);this._applyPosition(F.position,F.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const s=this._lastPosition;if(s){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,s);this._applyPosition(s,i)}else this.apply()}withScrollableContainers(s){return this._scrollables=s,this}withPositions(s){return this._preferredPositions=s,-1===s.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(s){return this._viewportMargin=s,this}withFlexibleDimensions(s=!0){return this._hasFlexibleDimensions=s,this}withGrowAfterOpen(s=!0){return this._growAfterOpen=s,this}withPush(s=!0){return this._canPush=s,this}withLockedPosition(s=!0){return this._positionLocked=s,this}setOrigin(s){return this._origin=s,this}withDefaultOffsetX(s){return this._offsetX=s,this}withDefaultOffsetY(s){return this._offsetY=s,this}withTransformOriginOn(s){return this._transformOriginSelector=s,this}_getOriginPoint(s,i,d){let m,w;if("center"==d.originX)m=s.left+s.width/2;else{const F=this._isRtl()?s.right:s.left,z=this._isRtl()?s.left:s.right;m="start"==d.originX?F:z}return i.left<0&&(m-=i.left),w="center"==d.originY?s.top+s.height/2:"top"==d.originY?s.top:s.bottom,i.top<0&&(w-=i.top),{x:m,y:w}}_getOverlayPoint(s,i,d){let m,w;return m="center"==d.overlayX?-i.width/2:"start"===d.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,w="center"==d.overlayY?-i.height/2:"top"==d.overlayY?0:-i.height,{x:s.x+m,y:s.y+w}}_getOverlayFit(s,i,d,m){const w=bu(i);let{x:F,y:z}=s,ne=this._getOffset(m,"x"),le=this._getOffset(m,"y");ne&&(F+=ne),le&&(z+=le);let Jt=0-z,rn=z+w.height-d.height,jt=this._subtractOverflows(w.width,0-F,F+w.width-d.width),Gt=this._subtractOverflows(w.height,Jt,rn),Fn=jt*Gt;return{visibleArea:Fn,isCompletelyWithinViewport:w.width*w.height===Fn,fitsInViewportVertically:Gt===w.height,fitsInViewportHorizontally:jt==w.width}}_canFitWithFlexibleDimensions(s,i,d){if(this._hasFlexibleDimensions){const m=d.bottom-i.y,w=d.right-i.x,F=ah(this._overlayRef.getConfig().minHeight),z=ah(this._overlayRef.getConfig().minWidth),le=s.fitsInViewportHorizontally||null!=z&&z<=w;return(s.fitsInViewportVertically||null!=F&&F<=m)&&le}return!1}_pushOverlayOnScreen(s,i,d){if(this._previousPushAmount&&this._positionLocked)return{x:s.x+this._previousPushAmount.x,y:s.y+this._previousPushAmount.y};const m=bu(i),w=this._viewportRect,F=Math.max(s.x+m.width-w.width,0),z=Math.max(s.y+m.height-w.height,0),ne=Math.max(w.top-d.top-s.y,0),le=Math.max(w.left-d.left-s.x,0);let ke=0,_t=0;return ke=m.width<=w.width?le||-F:s.x<this._viewportMargin?w.left-d.left-s.x:0,_t=m.height<=w.height?ne||-z:s.y<this._viewportMargin?w.top-d.top-s.y:0,this._previousPushAmount={x:ke,y:_t},{x:s.x+ke,y:s.y+_t}}_applyPosition(s,i){if(this._setTransformOrigin(s),this._setOverlayElementStyles(i,s),this._setBoundingBoxStyles(i,s),s.panelClass&&this._addPanelClasses(s.panelClass),this._lastPosition=s,this._positionChanges.observers.length){const d=this._getScrollVisibility(),m=new Z_(s,d);this._positionChanges.next(m)}this._isInitialRender=!1}_setTransformOrigin(s){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let d,m=s.overlayY;d="center"===s.overlayX?"center":this._isRtl()?"start"===s.overlayX?"right":"left":"start"===s.overlayX?"left":"right";for(let w=0;w<i.length;w++)i[w].style.transformOrigin=`${d} ${m}`}_calculateBoundingBoxRect(s,i){const d=this._viewportRect,m=this._isRtl();let w,F,z,ke,_t,Jt;if("top"===i.overlayY)F=s.y,w=d.height-F+this._viewportMargin;else if("bottom"===i.overlayY)z=d.height-s.y+2*this._viewportMargin,w=d.height-z+this._viewportMargin;else{const rn=Math.min(d.bottom-s.y+d.top,s.y),jt=this._lastBoundingBoxSize.height;w=2*rn,F=s.y-rn,w>jt&&!this._isInitialRender&&!this._growAfterOpen&&(F=s.y-jt/2)}if("end"===i.overlayX&&!m||"start"===i.overlayX&&m)Jt=d.width-s.x+this._viewportMargin,ke=s.x-this._viewportMargin;else if("start"===i.overlayX&&!m||"end"===i.overlayX&&m)_t=s.x,ke=d.right-s.x;else{const rn=Math.min(d.right-s.x+d.left,s.x),jt=this._lastBoundingBoxSize.width;ke=2*rn,_t=s.x-rn,ke>jt&&!this._isInitialRender&&!this._growAfterOpen&&(_t=s.x-jt/2)}return{top:F,left:_t,bottom:z,right:Jt,width:ke,height:w}}_setBoundingBoxStyles(s,i){const d=this._calculateBoundingBoxRect(s,i);!this._isInitialRender&&!this._growAfterOpen&&(d.height=Math.min(d.height,this._lastBoundingBoxSize.height),d.width=Math.min(d.width,this._lastBoundingBoxSize.width));const m={};if(this._hasExactPosition())m.top=m.left="0",m.bottom=m.right=m.maxHeight=m.maxWidth="",m.width=m.height="100%";else{const w=this._overlayRef.getConfig().maxHeight,F=this._overlayRef.getConfig().maxWidth;m.height=Ci(d.height),m.top=Ci(d.top),m.bottom=Ci(d.bottom),m.width=Ci(d.width),m.left=Ci(d.left),m.right=Ci(d.right),m.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",m.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",w&&(m.maxHeight=Ci(w)),F&&(m.maxWidth=Ci(F))}this._lastBoundingBoxSize=d,zl(this._boundingBox.style,m)}_resetBoundingBoxStyles(){zl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(s,i){const d={},m=this._hasExactPosition(),w=this._hasFlexibleDimensions,F=this._overlayRef.getConfig();if(m){const ke=this._viewportRuler.getViewportScrollPosition();zl(d,this._getExactOverlayY(i,s,ke)),zl(d,this._getExactOverlayX(i,s,ke))}else d.position="static";let z="",ne=this._getOffset(i,"x"),le=this._getOffset(i,"y");ne&&(z+=`translateX(${ne}px) `),le&&(z+=`translateY(${le}px)`),d.transform=z.trim(),F.maxHeight&&(m?d.maxHeight=Ci(F.maxHeight):w&&(d.maxHeight="")),F.maxWidth&&(m?d.maxWidth=Ci(F.maxWidth):w&&(d.maxWidth="")),zl(this._pane.style,d)}_getExactOverlayY(s,i,d){let m={top:"",bottom:""},w=this._getOverlayPoint(i,this._overlayRect,s);return this._isPushed&&(w=this._pushOverlayOnScreen(w,this._overlayRect,d)),"bottom"===s.overlayY?m.bottom=this._document.documentElement.clientHeight-(w.y+this._overlayRect.height)+"px":m.top=Ci(w.y),m}_getExactOverlayX(s,i,d){let F,m={left:"",right:""},w=this._getOverlayPoint(i,this._overlayRect,s);return this._isPushed&&(w=this._pushOverlayOnScreen(w,this._overlayRect,d)),F=this._isRtl()?"end"===s.overlayX?"left":"right":"end"===s.overlayX?"right":"left","right"===F?m.right=this._document.documentElement.clientWidth-(w.x+this._overlayRect.width)+"px":m.left=Ci(w.x),m}_getScrollVisibility(){const s=this._getOriginRect(),i=this._pane.getBoundingClientRect(),d=this._scrollables.map(m=>m.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_u(s,d),isOriginOutsideView:Sc(s,d),isOverlayClipped:_u(i,d),isOverlayOutsideView:Sc(i,d)}}_subtractOverflows(s,...i){return i.reduce((d,m)=>d-Math.max(m,0),s)}_getNarrowedViewportRect(){const s=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,d=this._viewportRuler.getViewportScrollPosition();return{top:d.top+this._viewportMargin,left:d.left+this._viewportMargin,right:d.left+s-this._viewportMargin,bottom:d.top+i-this._viewportMargin,width:s-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(s,i){return"x"===i?s.offsetX??this._offsetX:s.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(s){this._pane&&sr(s).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(s=>{this._pane.classList.remove(s)}),this._appliedPanelClasses=[])}_getOriginRect(){const s=this._origin;if(s instanceof _.SBq)return s.nativeElement.getBoundingClientRect();if(s instanceof Element)return s.getBoundingClientRect();const i=s.width||0,d=s.height||0;return{top:s.y,bottom:s.y+d,left:s.x,right:s.x+i,height:d,width:i}}}function zl(u,s){for(let i in s)s.hasOwnProperty(i)&&(u[i]=s[i]);return u}function ah(u){if("number"!=typeof u&&null!=u){const[s,i]=u.split(Ig);return i&&"px"!==i?null:parseFloat(s)}return u||null}function bu(u){return{top:Math.floor(u.top),right:Math.floor(u.right),bottom:Math.floor(u.bottom),left:Math.floor(u.left),width:Math.floor(u.width),height:Math.floor(u.height)}}const xc="cdk-global-overlay-wrapper";class Eu{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(s){const i=s.getConfig();this._overlayRef=s,this._width&&!i.width&&s.updateSize({width:this._width}),this._height&&!i.height&&s.updateSize({height:this._height}),s.hostElement.classList.add(xc),this._isDisposed=!1}top(s=""){return this._bottomOffset="",this._topOffset=s,this._alignItems="flex-start",this}left(s=""){return this._xOffset=s,this._xPosition="left",this}bottom(s=""){return this._topOffset="",this._bottomOffset=s,this._alignItems="flex-end",this}right(s=""){return this._xOffset=s,this._xPosition="right",this}start(s=""){return this._xOffset=s,this._xPosition="start",this}end(s=""){return this._xOffset=s,this._xPosition="end",this}width(s=""){return this._overlayRef?this._overlayRef.updateSize({width:s}):this._width=s,this}height(s=""){return this._overlayRef?this._overlayRef.updateSize({height:s}):this._height=s,this}centerHorizontally(s=""){return this.left(s),this._xPosition="center",this}centerVertically(s=""){return this.top(s),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const s=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,d=this._overlayRef.getConfig(),{width:m,height:w,maxWidth:F,maxHeight:z}=d,ne=!("100%"!==m&&"100vw"!==m||F&&"100%"!==F&&"100vw"!==F),le=!("100%"!==w&&"100vh"!==w||z&&"100%"!==z&&"100vh"!==z),ke=this._xPosition,_t=this._xOffset,Jt="rtl"===this._overlayRef.getConfig().direction;let rn="",jt="",Gt="";ne?Gt="flex-start":"center"===ke?(Gt="center",Jt?jt=_t:rn=_t):Jt?"left"===ke||"end"===ke?(Gt="flex-end",rn=_t):("right"===ke||"start"===ke)&&(Gt="flex-start",jt=_t):"left"===ke||"start"===ke?(Gt="flex-start",rn=_t):("right"===ke||"end"===ke)&&(Gt="flex-end",jt=_t),s.position=this._cssPosition,s.marginLeft=ne?"0":rn,s.marginTop=le?"0":this._topOffset,s.marginBottom=this._bottomOffset,s.marginRight=ne?"0":jt,i.justifyContent=Gt,i.alignItems=le?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const s=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,d=i.style;i.classList.remove(xc),d.justifyContent=d.alignItems=s.marginTop=s.marginBottom=s.marginLeft=s.marginRight=s.position="",this._overlayRef=null,this._isDisposed=!0}}let Mg=(()=>{class u{constructor(i,d,m,w){this._viewportRuler=i,this._document=d,this._platform=m,this._overlayContainer=w}global(){return new Eu}flexibleConnectedTo(i){return new Q_(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Js),_.LFG(pe.K0),_.LFG(de),_.LFG(wg))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),sd=0,ad=(()=>{class u{constructor(i,d,m,w,F,z,ne,le,ke,_t,Jt,rn){this.scrollStrategies=i,this._overlayContainer=d,this._componentFactoryResolver=m,this._positionBuilder=w,this._keyboardDispatcher=F,this._injector=z,this._ngZone=ne,this._document=le,this._directionality=ke,this._location=_t,this._outsideClickDispatcher=Jt,this._animationsModuleType=rn}create(i){const d=this._createHostElement(),m=this._createPaneElement(d),w=this._createPortalOutlet(m),F=new od(i);return F.direction=F.direction||this._directionality.value,new vu(w,d,m,F,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const d=this._document.createElement("div");return d.id="cdk-overlay-"+sd++,d.classList.add("cdk-overlay-pane"),i.appendChild(d),d}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new Qd(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(rd),_.LFG(wg),_.LFG(_._Vd),_.LFG(Mg),_.LFG(tl),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(pe.K0),_.LFG(Fa),_.LFG(pe.Ye),_.LFG(_l),_.LFG(_.QbO,8))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})();const Zl={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ad],useFactory:function rm(u){return()=>u.scrollStrategies.reposition()}};let If=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[ad,Zl],imports:[_s,Xd,Da,Da]}),u})();const Rg={provide:new _.OlP("mat-select-scroll-strategy"),deps:[ad],useFactory:function oy(u){return()=>u.scrollStrategies.reposition()}};let ql=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[Rg],imports:[pe.ez,If,Al,bi,dl,ff,Al,bi]}),u})(),Rc=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[bi,bi]}),u})(),Hg=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[_s]}),u})(),us=(()=>{class u{constructor(){this.changes=new De.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Pf={provide:us,deps:[[new _.FiY,new _.tp0,us]],useFactory:function qg(u){return u||new us}};let Qg=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({providers:[Pf,Va],imports:[bi,pe.ez,Xd,qs,Hg,Kf,qr,bi]}),u})(),l=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[qr,bi,bi]}),u})(),f=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[mn,Kf,$f,xa,qs,eh,ff,Rc,ql,Sm,Qg,l]}),u})(),g=(()=>{class u{constructor(i){this.loaderService=i}intercept(i,d){return this.loaderService.show(),d.handle(i).pipe((0,Ga.x)(()=>this.loaderService.hide()))}}return u.\u0275fac=function(i){return new(i||u)(_.LFG(Tm.D))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac}),u})(),D=(()=>{class u{}return u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=_.oAB({type:u,bootstrap:[Mh]}),u.\u0275inj=_.cJS({providers:[{provide:Ia.TP,useClass:g,multi:!0}],imports:[y.b2,K.u5,ko,eg.hO.initializeApp(Pm_firebase),nf,f,ht.Rh.forRoot(),Ia.JF]}),u})();(0,_.G48)(),y.q6().bootstrapModule(D).catch(u=>console.error(u))},5867:(Et,Ve,R)=>{R.d(Ve,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=R(9681);(0,y.registerVersion)("firebase","9.14.0","app")},127:(Et,Ve,R)=>{R.d(Ve,{Z:()=>y.Z});var y=R(3942);y.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Et,Ve,R)=>{R.r(Ve);var y=R(5861),_=R(3942),K=R(8247),fe=R(2090),Ne=(R(9681),R(1877),R(4859));function pe(){return window}function _e(){return(_e=(0,y.Z)(function*(ge,X,ce){var Xe;const{BuildInfo:Ot}=pe();(0,K.ap)(X.sessionId,"AuthEvent did not contain a session ID");const tn=yield Ke(X.sessionId),nn={};return(0,K.aq)()?nn.ibi=Ot.packageName:(0,K.ar)()?nn.apn=Ot.packageName:(0,K.as)(ge,"operation-not-supported-in-this-environment"),Ot.displayName&&(nn.appDisplayName=Ot.displayName),nn.sessionId=tn,(0,K.at)(ge,ce,X.type,void 0,null!==(Xe=X.eventId)&&void 0!==Xe?Xe:void 0,nn)})).apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(ge){const{BuildInfo:X}=pe(),ce={};(0,K.aq)()?ce.iosBundleId=X.packageName:(0,K.ar)()?ce.androidPackageName=X.packageName:(0,K.as)(ge,"operation-not-supported-in-this-environment"),yield(0,K.au)(ge,ce)})).apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(ge,X,ce){const{cordova:Xe}=pe();let Ot=()=>{};try{yield new Promise((tn,nn)=>{let ue=null;function se(){var Ye;tn();const Ft=null===(Ye=Xe.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof Ft&&Ft(),"function"==typeof ce?.close&&ce.close()}function re(){ue||(ue=window.setTimeout(()=>{nn((0,K.aw)(ge,"redirect-cancelled-by-user"))},2e3))}function Ue(){"visible"===document?.visibilityState&&re()}X.addPassiveListener(se),document.addEventListener("resume",re,!1),(0,K.ar)()&&document.addEventListener("visibilitychange",Ue,!1),Ot=()=>{X.removePassiveListener(se),document.removeEventListener("resume",re,!1),document.removeEventListener("visibilitychange",Ue,!1),ue&&window.clearTimeout(ue)}})}finally{Ot()}})).apply(this,arguments)}function Ke(ge){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,y.Z)(function*(ge){const X=xt(ge),ce=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(ce)).map(Ot=>Ot.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xt(ge){if((0,K.ap)(/[0-9a-zA-Z]+/.test(ge),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ge);const X=new ArrayBuffer(ge.length),ce=new Uint8Array(X);for(let Xe=0;Xe<ge.length;Xe++)ce[Xe]=ge.charCodeAt(Xe);return ce}class Oe extends K.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(X)),super.onEvent(X)}initialized(){var X=this;return(0,y.Z)(function*(){yield X.initPromise})()}}function He(ge){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,y.Z)(function*(ge){const X=yield De()._get(Qe(ge));return X&&(yield De()._remove(Qe(ge))),X})).apply(this,arguments)}function ye(){const ge=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const Xe=Math.floor(Math.random()*X.length);ge.push(X.charAt(Xe))}return ge.join("")}function De(){return(0,K.az)(K.b)}function Qe(ge){return(0,K.aA)("authEvent",ge.config.apiKey,ge.name)}function Rt(ge){if(!ge?.includes("?"))return{};const[X,...ce]=ge.split("?");return(0,fe.zd)(ce.join("?"))}function vt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.aw)("no-auth-event")}}function xe(){var ge;return(null===(ge=self?.location)||void 0===ge?void 0:ge.protocol)||null}function gn(ge=(0,fe.z$)()){return!("file:"!==xe()&&"ionic:"!==xe()&&"capacitor:"!==xe()||!ge.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const ge=self.localStorage,X=K.aI();if(ge)return ge.setItem(X,"1"),ge.removeItem(X),!function fi(ge=(0,fe.z$)()){return function ui(){return(0,fe.w1)()&&11===document?.documentMode}()||function Jn(ge=(0,fe.z$)()){return/Edge\/\d+/.test(ge)}(ge)}()||(0,fe.hl)()}catch{return Zn()&&(0,fe.hl)()}return!1}function Zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function Ct(){return"http:"===xe()||"https:"===xe()}()||(0,fe.ru)()||gn())&&!function Mn(){return(0,fe.b$)()||(0,fe.UG)()}()&&Un()&&!Zn()}function Zi(){return gn()&&typeof document<"u"}function St(){return(St=(0,y.Z)(function*(){return!!Zi()&&new Promise(ge=>{const X=setTimeout(()=>{ge(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),ge(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},li=K.ax,Bi="persistence";function _i(ge){return dt.apply(this,arguments)}function dt(){return(dt=(0,y.Z)(function*(ge){yield ge._initializationPromise;const X=be(),ce=K.aA(Bi,ge.config.apiKey,ge.name);X&&X.setItem(ce,ge._getPersistence())})).apply(this,arguments)}function be(){var ge;try{return(null===(ge=function On(){return typeof window<"u"?window:null}())||void 0===ge?void 0:ge.sessionStorage)||null}catch{return null}}const st=K.ax;class at{constructor(){this.browserResolver=K.az(K.k),this.cordovaResolver=K.az(class an{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aB,this._overrideRedirectResult=K.aC}_initialize(X){var ce=this;return(0,y.Z)(function*(){const Xe=X._key();let Ot=ce.eventManagers.get(Xe);return Ot||(Ot=new Oe(X),ce.eventManagers.set(Xe,Ot),ce.attachCallbackListeners(X,Ot)),Ot})()}_openPopup(X){(0,K.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,ce,Xe,Ot){var tn=this;return(0,y.Z)(function*(){!function tt(ge){var X,ce,Xe,Ot,tn,nn,ue,se,re,Ue;const Ye=pe();(0,K.ax)("function"==typeof(null===(X=Ye?.universalLinks)||void 0===X?void 0:X.subscribe),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.ax)(typeof(null===(ce=Ye?.BuildInfo)||void 0===ce?void 0:ce.packageName)<"u",ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.ax)("function"==typeof(null===(tn=null===(Ot=null===(Xe=Ye?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===tn?void 0:tn.openUrl),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.ax)("function"==typeof(null===(se=null===(ue=null===(nn=Ye?.cordova)||void 0===nn?void 0:nn.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===se?void 0:se.isAvailable),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.ax)("function"==typeof(null===(Ue=null===(re=Ye?.cordova)||void 0===re?void 0:re.InAppBrowser)||void 0===Ue?void 0:Ue.open),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const nn=yield tn._initialize(X);yield nn.initialized(),nn.resetRedirect(),(0,K.aD)(),yield tn._originValidation(X);const ue=function We(ge,X,ce=null){return{type:X,eventId:ce,urlResponse:null,sessionId:ye(),postBody:null,tenantId:ge.tenantId,error:(0,K.aw)(ge,"no-auth-event")}}(X,Xe,Ot);yield function Dt(ge,X){return De()._set(Qe(ge),X)}(X,ue);const se=yield function de(ge,X,ce){return _e.apply(this,arguments)}(X,ue,ce),re=yield function ut(ge){const{cordova:X}=pe();return new Promise(ce=>{X.plugins.browsertab.isAvailable(Xe=>{let Ot=null;Xe?X.plugins.browsertab.openUrl(ge):Ot=X.InAppBrowser.open(ge,(0,K.av)()?"_blank":"_system","location=yes"),ce(Ot)})})}(se);return function Je(ge,X,ce){return At.apply(this,arguments)}(X,nn,re)})()}_isIframeWebStorageSupported(X,ce){throw new Error("Method not implemented.")}_originValidation(X){const ce=X._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function Se(ge){return gt.apply(this,arguments)}(X)),this.originValidationPromises[ce]}attachCallbackListeners(X,ce){const{universalLinks:Xe,handleOpenURL:Ot,BuildInfo:tn}=pe(),nn=setTimeout((0,y.Z)(function*(){yield He(X),ce.onEvent(vt())}),500),ue=function(){var Ue=(0,y.Z)(function*(Ye){clearTimeout(nn);const Ft=yield He(X);let Nn=null;Ft&&Ye?.url&&(Nn=function qe(ge,X){var ce,Xe;const Ot=function It(ge){const X=Rt(ge),ce=X.link?decodeURIComponent(X.link):void 0,Xe=Rt(ce).link,Ot=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Rt(Ot).link||Ot||Xe||ce||ge}(X);if(Ot.includes("/__/auth/callback")){const tn=Rt(Ot),nn=tn.firebaseError?function ze(ge){try{return JSON.parse(ge)}catch{return null}}(decodeURIComponent(tn.firebaseError)):null,ue=null===(Xe=null===(ce=nn?.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===Xe?void 0:Xe[1],se=ue?(0,K.aw)(ue):null;return se?{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,error:se,urlResponse:null,sessionId:null,postBody:null}:{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,sessionId:ge.sessionId,urlResponse:Ot,postBody:null}}return null}(Ft,Ye.url)),ce.onEvent(Nn||vt())});return function(Ft){return Ue.apply(this,arguments)}}();typeof Xe<"u"&&"function"==typeof Xe.subscribe&&Xe.subscribe(null,ue);const se=Ot,re=`${tn.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Ue=(0,y.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(re)&&ue({url:Ye}),"function"==typeof se)try{se(Ye)}catch(Ft){console.error(Ft)}});return function(Ye){return Ue.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aB,this._overrideRedirectResult=K.aC}_initialize(X){var ce=this;return(0,y.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,ce,Xe,Ot){var tn=this;return(0,y.Z)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openPopup(X,ce,Xe,Ot)})()}_openRedirect(X,ce,Xe,Ot){var tn=this;return(0,y.Z)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openRedirect(X,ce,Xe,Ot)})()}_isIframeWebStorageSupported(X,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,ce)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Zi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return st(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,y.Z)(function*(){if(X.underlyingResolver)return;const ce=yield function qn(){return St.apply(this,arguments)}();X.underlyingResolver=ce?X.cordovaResolver:X.browserResolver})()}}function on(ge){return ge.unwrap()}function Hn(ge){return jn(ge)}function jn(ge){const{_tokenResponse:X}=ge instanceof fe.ZR?ge.customData:ge;if(!X)return null;if(!(ge instanceof fe.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return K.P.credentialFromResult(ge);const ce=X.providerId;if(!ce||ce===K.o.PASSWORD)return null;let Xe;switch(ce){case K.o.GOOGLE:Xe=K.Q;break;case K.o.FACEBOOK:Xe=K.N;break;case K.o.GITHUB:Xe=K.T;break;case K.o.TWITTER:Xe=K.W;break;default:const{oauthIdToken:Ot,oauthAccessToken:tn,oauthTokenSecret:nn,pendingToken:ue,nonce:se}=X;return tn||nn||Ot||ue?ue?ce.startsWith("saml.")?K.aL._create(ce,ue):K.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:ue,idToken:Ot,accessToken:tn}):new K.U(ce).credential({idToken:Ot,accessToken:tn,rawNonce:se}):null}return ge instanceof fe.ZR?Xe.credentialFromError(ge):Xe.credentialFromResult(ge)}function bn(ge,X){return X.catch(ce=>{throw ce instanceof fe.ZR&&function zt(ge,X){var ce,Xe;const Ot=null===(ce=X.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Xe=X)||void 0===Xe?void 0:Xe.code))X.resolver=new Pn(ge,K.an(ge,X));else if(Ot){const tn=jn(X),nn=X;tn&&(nn.credential=tn,nn.tenantId=Ot.tenantId||void 0,nn.email=Ot.email||void 0,nn.phoneNumber=Ot.phoneNumber||void 0)}}(ge,ce),ce}).then(ce=>{const Ot=ce.user;return{operationType:ce.operationType,credential:Hn(ce),additionalUserInfo:K.al(ce),user:yn.getOrCreate(Ot)}})}function Ei(ge,X){return En.apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(ge,X){const ce=yield X;return{verificationId:ce.verificationId,confirm:Xe=>bn(ge,ce.confirm(Xe))}})).apply(this,arguments)}class Pn{constructor(X,ce){this.resolver=ce,this.auth=function Ht(ge){return ge.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return bn(on(this.auth),this.resolver.resolveSignIn(X))}}class yn{constructor(X){this._delegate=X,this.multiFactor=K.ao(X)}static getOrCreate(X){return yn.USER_MAP.has(X)||yn.USER_MAP.set(X,new yn(X)),yn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var ce=this;return(0,y.Z)(function*(){return bn(ce.auth,K.Z(ce._delegate,X))})()}linkWithPhoneNumber(X,ce){var Xe=this;return(0,y.Z)(function*(){return Ei(Xe.auth,K.l(Xe._delegate,X,ce))})()}linkWithPopup(X){var ce=this;return(0,y.Z)(function*(){return bn(ce.auth,K.d(ce._delegate,X,at))})()}linkWithRedirect(X){var ce=this;return(0,y.Z)(function*(){return yield _i(K.aE(ce.auth)),K.g(ce._delegate,X,at)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var ce=this;return(0,y.Z)(function*(){return bn(ce.auth,K._(ce._delegate,X))})()}reauthenticateWithPhoneNumber(X,ce){return Ei(this.auth,K.r(this._delegate,X,ce))}reauthenticateWithPopup(X){return bn(this.auth,K.e(this._delegate,X,at))}reauthenticateWithRedirect(X){var ce=this;return(0,y.Z)(function*(){return yield _i(K.aE(ce.auth)),K.h(ce._delegate,X,at)})()}sendEmailVerification(X){return K.ab(this._delegate,X)}unlink(X){var ce=this;return(0,y.Z)(function*(){return yield K.ak(ce._delegate,X),ce})()}updateEmail(X){return K.ag(this._delegate,X)}updatePassword(X){return K.ah(this._delegate,X)}updatePhoneNumber(X){return K.u(this._delegate,X)}updateProfile(X){return K.af(this._delegate,X)}verifyBeforeUpdateEmail(X,ce){return K.ac(this._delegate,X,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yn.USER_MAP=new WeakMap;const Kt=K.ax;let bt=(()=>{class ge{constructor(ce,Xe){if(this.app=ce,Xe.isInitialized())return this._delegate=Xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ot}=ce.options;Kt(Ot,"invalid-api-key",{appName:ce.name}),Kt(Ot,"invalid-api-key",{appName:ce.name});const tn=typeof window<"u"?at:void 0;this._delegate=Xe.initialize({options:{persistence:fn(Ot,ce.name),popupRedirectResolver:tn}}),this._delegate._updateErrorMap(K.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,Xe){K.G(this._delegate,ce,Xe)}applyActionCode(ce){return K.a2(this._delegate,ce)}checkActionCode(ce){return K.a3(this._delegate,ce)}confirmPasswordReset(ce,Xe){return K.a1(this._delegate,ce,Xe)}createUserWithEmailAndPassword(ce,Xe){var Ot=this;return(0,y.Z)(function*(){return bn(Ot._delegate,K.a5(Ot._delegate,ce,Xe))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return K.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return K.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,y.Z)(function*(){Kt(Vn(),ce._delegate,"operation-not-supported-in-this-environment");const Xe=yield K.j(ce._delegate,at);return Xe?bn(ce._delegate,Promise.resolve(Xe)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function Cn(ge,X){(0,K.aE)(ge)._logFramework(X)}(this._delegate,ce)}onAuthStateChanged(ce,Xe,Ot){const{next:tn,error:nn,complete:ue}=Bt(ce,Xe,Ot);return this._delegate.onAuthStateChanged(tn,nn,ue)}onIdTokenChanged(ce,Xe,Ot){const{next:tn,error:nn,complete:ue}=Bt(ce,Xe,Ot);return this._delegate.onIdTokenChanged(tn,nn,ue)}sendSignInLinkToEmail(ce,Xe){return K.a7(this._delegate,ce,Xe)}sendPasswordResetEmail(ce,Xe){return K.a0(this._delegate,ce,Xe||void 0)}setPersistence(ce){var Xe=this;return(0,y.Z)(function*(){let Ot;switch(function Vr(ge,X){li(Object.values(ii).includes(X),ge,"invalid-persistence-type"),(0,fe.b$)()?li(X!==ii.SESSION,ge,"unsupported-persistence-type"):(0,fe.UG)()?li(X===ii.NONE,ge,"unsupported-persistence-type"):Zn()?li(X===ii.NONE||X===ii.LOCAL&&(0,fe.hl)(),ge,"unsupported-persistence-type"):li(X===ii.NONE||Un(),ge,"unsupported-persistence-type")}(Xe._delegate,ce),ce){case ii.SESSION:Ot=K.a;break;case ii.LOCAL:Ot=(yield K.az(K.i)._isAvailable())?K.i:K.b;break;case ii.NONE:Ot=K.L;break;default:return K.as("argument-error",{appName:Xe._delegate.name})}return Xe._delegate.setPersistence(Ot)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return bn(this._delegate,K.X(this._delegate))}signInWithCredential(ce){return bn(this._delegate,K.Y(this._delegate,ce))}signInWithCustomToken(ce){return bn(this._delegate,K.$(this._delegate,ce))}signInWithEmailAndPassword(ce,Xe){return bn(this._delegate,K.a6(this._delegate,ce,Xe))}signInWithEmailLink(ce,Xe){return bn(this._delegate,K.a9(this._delegate,ce,Xe))}signInWithPhoneNumber(ce,Xe){return Ei(this._delegate,K.s(this._delegate,ce,Xe))}signInWithPopup(ce){var Xe=this;return(0,y.Z)(function*(){return Kt(Vn(),Xe._delegate,"operation-not-supported-in-this-environment"),bn(Xe._delegate,K.c(Xe._delegate,ce,at))})()}signInWithRedirect(ce){var Xe=this;return(0,y.Z)(function*(){return Kt(Vn(),Xe._delegate,"operation-not-supported-in-this-environment"),yield _i(Xe._delegate),K.f(Xe._delegate,ce,at)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return K.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ge.Persistence=ii,ge})();function Bt(ge,X,ce){let Xe=ge;"function"!=typeof ge&&({next:Xe,error:X,complete:ce}=ge);const Ot=Xe;return{next:nn=>Ot(nn&&yn.getOrCreate(nn)),error:X,complete:ce}}function fn(ge,X){const ce=function Te(ge,X){const ce=be();if(!ce)return[];const Xe=K.aA(Bi,ge,X);switch(ce.getItem(Xe)){case ii.NONE:return[K.L];case ii.LOCAL:return[K.i,K.a];case ii.SESSION:return[K.a];default:return[]}}(ge,X);if(typeof self<"u"&&!ce.includes(K.i)&&ce.push(K.i),typeof window<"u")for(const Xe of[K.b,K.a])ce.includes(Xe)||ce.push(Xe);return ce.includes(K.L)||ce.push(K.L),ce}class un{constructor(){this.providerId="phone",this._delegate=new K.P(on(_.Z.auth()))}static credential(X,ce){return K.P.credential(X,ce)}verifyPhoneNumber(X,ce){return this._delegate.verifyPhoneNumber(X,ce)}unwrap(){return this._delegate}}un.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,un.PROVIDER_ID=K.P.PROVIDER_ID;const kn=K.ax;class Me{constructor(X,ce,Xe=_.Z.app()){var Ot;kn(null===(Ot=Xe.options)||void 0===Ot?void 0:Ot.apiKey,"invalid-api-key",{appName:Xe.name}),this._delegate=new K.R(X,ce,Xe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fe(ge){ge.INTERNAL.registerComponent(new Ne.wA("auth-compat",X=>{const ce=X.getProvider("app-compat").getImmediate(),Xe=X.getProvider("auth");return new bt(ce,Xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.M,FacebookAuthProvider:K.N,GithubAuthProvider:K.T,GoogleAuthProvider:K.Q,OAuthProvider:K.U,SAMLAuthProvider:K.V,PhoneAuthProvider:un,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:Me,TwitterAuthProvider:K.W,Auth:bt,AuthCredential:K.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ge.registerVersion("@firebase/auth-compat","0.2.24")}(_.Z)},1135:(Et,Ve,R)=>{R.d(Ve,{X:()=>_});var y=R(7579);class _ extends y.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const Ie=super._subscribe(fe);return!Ie.closed&&fe.next(this._value),Ie}getValue(){const{hasError:fe,thrownError:Ie,_value:Re}=this;if(fe)throw Ie;return this._throwIfClosed(),Re}next(fe){super.next(this._value=fe)}}},9751:(Et,Ve,R)=>{R.d(Ve,{y:()=>pe});var y=R(930),_=R(727),K=R(8822),fe=R(9635),Ie=R(2416),Re=R(576),Ne=R(2806);let pe=(()=>{class Se{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Je=new Se;return Je.source=this,Je.operator=ut,Je}subscribe(ut,Je,At){const tt=function _e(Se){return Se&&Se instanceof y.Lv||function de(Se){return Se&&(0,Re.m)(Se.next)&&(0,Re.m)(Se.error)&&(0,Re.m)(Se.complete)}(Se)&&(0,_.Nn)(Se)}(ut)?ut:new y.Hp(ut,Je,At);return(0,Ne.x)(()=>{const{operator:Ke,source:Ae}=this;tt.add(Ke?Ke.call(tt,Ae):Ae?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Je){ut.error(Je)}}forEach(ut,Je){return new(Je=Ze(Je))((At,tt)=>{const Ke=new y.Hp({next:Ae=>{try{ut(Ae)}catch(xt){tt(xt),Ke.unsubscribe()}},error:tt,complete:At});this.subscribe(Ke)})}_subscribe(ut){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(ut)}[K.L](){return this}pipe(...ut){return(0,fe.U)(ut)(this)}toPromise(ut){return new(ut=Ze(ut))((Je,At)=>{let tt;this.subscribe(Ke=>tt=Ke,Ke=>At(Ke),()=>Je(tt))})}}return Se.create=gt=>new Se(gt),Se})();function Ze(Se){var gt;return null!==(gt=Se??Ie.v.Promise)&&void 0!==gt?gt:Promise}},7579:(Et,Ve,R)=>{R.d(Ve,{x:()=>Ne});var y=R(9751),_=R(727);const fe=(0,R(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=R(8737),Re=R(2806);let Ne=(()=>{class Ze extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const Se=new pe(this,this);return Se.operator=_e,Se}_throwIfClosed(){if(this.closed)throw new fe}next(_e){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(_e)}})}error(_e){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:Se}=this;for(;Se.length;)Se.shift().error(_e)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:Se,isStopped:gt,observers:ut}=this;return Se||gt?_.Lc:(this.currentObservers=null,ut.push(_e),new _.w0(()=>{this.currentObservers=null,(0,Ie.P)(ut,_e)}))}_checkFinalizedStatuses(_e){const{hasError:Se,thrownError:gt,isStopped:ut}=this;Se?_e.error(gt):ut&&_e.complete()}asObservable(){const _e=new y.y;return _e.source=this,_e}}return Ze.create=(de,_e)=>new pe(de,_e),Ze})();class pe extends Ne{constructor(de,_e){super(),this.destination=de,this.source=_e}next(de){var _e,Se;null===(Se=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===Se||Se.call(_e,de)}error(de){var _e,Se;null===(Se=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===Se||Se.call(_e,de)}complete(){var de,_e;null===(_e=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===_e||_e.call(de)}_subscribe(de){var _e,Se;return null!==(Se=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(de))&&void 0!==Se?Se:_.Lc}}},930:(Et,Ve,R)=>{R.d(Ve,{Hp:()=>At,Lv:()=>Se});var y=R(576),_=R(727),K=R(2416),fe=R(7849),Ie=R(5032);const Re=Ze("C",void 0,void 0);function Ze(je,Oe,We){return{kind:je,value:Oe,error:We}}var de=R(3410),_e=R(2806);class Se extends _.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,_.Nn)(Oe)&&Oe.add(this)):this.destination=xt}static create(Oe,We,Dt){return new At(Oe,We,Dt)}next(Oe){this.isStopped?Ae(function pe(je){return Ze("N",je,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Ae(function Ne(je){return Ze("E",void 0,je)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Ae(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function ut(je,Oe){return gt.call(je,Oe)}class Je{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:We}=this;if(We.next)try{We.next(Oe)}catch(Dt){tt(Dt)}}error(Oe){const{partialObserver:We}=this;if(We.error)try{We.error(Oe)}catch(Dt){tt(Dt)}else tt(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(We){tt(We)}}}class At extends Se{constructor(Oe,We,Dt){let He;if(super(),(0,y.m)(Oe)||!Oe)He={next:Oe??void 0,error:We??void 0,complete:Dt??void 0};else{let Ce;this&&K.v.useDeprecatedNextContext?(Ce=Object.create(Oe),Ce.unsubscribe=()=>this.unsubscribe(),He={next:Oe.next&&ut(Oe.next,Ce),error:Oe.error&&ut(Oe.error,Ce),complete:Oe.complete&&ut(Oe.complete,Ce)}):He=Oe}this.destination=new Je(He)}}function tt(je){K.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(je):(0,fe.h)(je)}function Ae(je,Oe){const{onStoppedNotification:We}=K.v;We&&de.z.setTimeout(()=>We(je,Oe))}const xt={closed:!0,next:Ie.Z,error:function Ke(je){throw je},complete:Ie.Z}},727:(Et,Ve,R)=>{R.d(Ve,{Lc:()=>Re,w0:()=>Ie,Nn:()=>Ne});var y=R(576);const K=(0,R(3888).d)(Ze=>function(_e){Ze(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((Se,gt)=>`${gt+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var fe=R(8737);class Ie{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const ut of _e)ut.remove(this);else _e.remove(this);const{initialTeardown:Se}=this;if((0,y.m)(Se))try{Se()}catch(ut){de=ut instanceof K?ut.errors:[ut]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const ut of gt)try{pe(ut)}catch(Je){de=de??[],Je instanceof K?de=[...de,...Je.errors]:de.push(Je)}}if(de)throw new K(de)}}add(de){var _e;if(de&&de!==this)if(this.closed)pe(de);else{if(de instanceof Ie){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(de)}}_hasParent(de){const{_parentage:_e}=this;return _e===de||Array.isArray(_e)&&_e.includes(de)}_addParent(de){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(de),_e):_e?[_e,de]:de}_removeParent(de){const{_parentage:_e}=this;_e===de?this._parentage=null:Array.isArray(_e)&&(0,fe.P)(_e,de)}remove(de){const{_finalizers:_e}=this;_e&&(0,fe.P)(_e,de),de instanceof Ie&&de._removeParent(this)}}Ie.EMPTY=(()=>{const Ze=new Ie;return Ze.closed=!0,Ze})();const Re=Ie.EMPTY;function Ne(Ze){return Ze instanceof Ie||Ze&&"closed"in Ze&&(0,y.m)(Ze.remove)&&(0,y.m)(Ze.add)&&(0,y.m)(Ze.unsubscribe)}function pe(Ze){(0,y.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(Et,Ve,R)=>{R.d(Ve,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Et,Ve,R)=>{R.d(Ve,{a:()=>de});var y=R(9751),_=R(4742),K=R(8996),fe=R(4671),Ie=R(3268),Re=R(3269),Ne=R(1810),pe=R(5403),Ze=R(9672);function de(...gt){const ut=(0,Re.yG)(gt),Je=(0,Re.jO)(gt),{args:At,keys:tt}=(0,_.D)(gt);if(0===At.length)return(0,K.D)([],ut);const Ke=new y.y(function _e(gt,ut,Je=fe.y){return At=>{Se(ut,()=>{const{length:tt}=gt,Ke=new Array(tt);let Ae=tt,xt=tt;for(let je=0;je<tt;je++)Se(ut,()=>{const Oe=(0,K.D)(gt[je],ut);let We=!1;Oe.subscribe((0,pe.x)(At,Dt=>{Ke[je]=Dt,We||(We=!0,xt--),xt||At.next(Je(Ke.slice()))},()=>{--Ae||At.complete()}))},At)},At)}}(At,ut,tt?Ae=>(0,Ne.n)(tt,Ae):fe.y));return Je?Ke.pipe((0,Ie.Z)(Je)):Ke}function Se(gt,ut,Je){gt?(0,Ze.f)(Je,gt,ut):ut()}},7272:(Et,Ve,R)=>{R.d(Ve,{z:()=>Ie});var y=R(8189),K=R(3269),fe=R(8996);function Ie(...Re){return function _(){return(0,y.J)(1)}()((0,fe.D)(Re,(0,K.yG)(Re)))}},515:(Et,Ve,R)=>{R.d(Ve,{E:()=>_});const _=new(R(9751).y)(Ie=>Ie.complete())},4128:(Et,Ve,R)=>{R.d(Ve,{D:()=>pe});var y=R(9751),_=R(4742),K=R(8421),fe=R(3269),Ie=R(5403),Re=R(3268),Ne=R(1810);function pe(...Ze){const de=(0,fe.jO)(Ze),{args:_e,keys:Se}=(0,_.D)(Ze),gt=new y.y(ut=>{const{length:Je}=_e;if(!Je)return void ut.complete();const At=new Array(Je);let tt=Je,Ke=Je;for(let Ae=0;Ae<Je;Ae++){let xt=!1;(0,K.Xf)(_e[Ae]).subscribe((0,Ie.x)(ut,je=>{xt||(xt=!0,Ke--),At[Ae]=je},()=>tt--,void 0,()=>{(!tt||!xt)&&(Ke||ut.next(Se?(0,Ne.n)(Se,At):At),ut.complete())}))}});return de?gt.pipe((0,Re.Z)(de)):gt}},8996:(Et,Ve,R)=>{R.d(Ve,{D:()=>Oe});var y=R(8421),_=R(5363),K=R(9468),Re=R(9751),pe=R(2202),Ze=R(576),de=R(9672);function Se(We,Dt){if(!We)throw new Error("Iterable cannot be null");return new Re.y(He=>{(0,de.f)(He,Dt,()=>{const Ce=We[Symbol.asyncIterator]();(0,de.f)(He,Dt,()=>{Ce.next().then(qe=>{qe.done?He.complete():He.next(qe.value)})},0,!0)})})}var gt=R(3670),ut=R(8239),Je=R(1144),At=R(6495),tt=R(2206),Ke=R(4532),Ae=R(3260);function Oe(We,Dt){return Dt?function je(We,Dt){if(null!=We){if((0,gt.c)(We))return function fe(We,Dt){return(0,y.Xf)(We).pipe((0,K.R)(Dt),(0,_.Q)(Dt))}(We,Dt);if((0,Je.z)(We))return function Ne(We,Dt){return new Re.y(He=>{let Ce=0;return Dt.schedule(function(){Ce===We.length?He.complete():(He.next(We[Ce++]),He.closed||this.schedule())})})}(We,Dt);if((0,ut.t)(We))return function Ie(We,Dt){return(0,y.Xf)(We).pipe((0,K.R)(Dt),(0,_.Q)(Dt))}(We,Dt);if((0,tt.D)(We))return Se(We,Dt);if((0,At.T)(We))return function _e(We,Dt){return new Re.y(He=>{let Ce;return(0,de.f)(He,Dt,()=>{Ce=We[pe.h](),(0,de.f)(He,Dt,()=>{let qe,ye;try{({value:qe,done:ye}=Ce.next())}catch(De){return void He.error(De)}ye?He.complete():He.next(qe)},0,!0)}),()=>(0,Ze.m)(Ce?.return)&&Ce.return()})}(We,Dt);if((0,Ae.L)(We))return function xt(We,Dt){return Se((0,Ae.Q)(We),Dt)}(We,Dt)}throw(0,Ke.z)(We)}(We,Dt):(0,y.Xf)(We)}},8421:(Et,Ve,R)=>{R.d(Ve,{Xf:()=>gt});var y=R(655),_=R(1144),K=R(8239),fe=R(9751),Ie=R(3670),Re=R(2206),Ne=R(4532),pe=R(6495),Ze=R(3260),de=R(576),_e=R(7849),Se=R(8822);function gt(je){if(je instanceof fe.y)return je;if(null!=je){if((0,Ie.c)(je))return function ut(je){return new fe.y(Oe=>{const We=je[Se.L]();if((0,de.m)(We.subscribe))return We.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,_.z)(je))return function Je(je){return new fe.y(Oe=>{for(let We=0;We<je.length&&!Oe.closed;We++)Oe.next(je[We]);Oe.complete()})}(je);if((0,K.t)(je))return function At(je){return new fe.y(Oe=>{je.then(We=>{Oe.closed||(Oe.next(We),Oe.complete())},We=>Oe.error(We)).then(null,_e.h)})}(je);if((0,Re.D)(je))return Ke(je);if((0,pe.T)(je))return function tt(je){return new fe.y(Oe=>{for(const We of je)if(Oe.next(We),Oe.closed)return;Oe.complete()})}(je);if((0,Ze.L)(je))return function Ae(je){return Ke((0,Ze.Q)(je))}(je)}throw(0,Ne.z)(je)}function Ke(je){return new fe.y(Oe=>{(function xt(je,Oe){var We,Dt,He,Ce;return(0,y.mG)(this,void 0,void 0,function*(){try{for(We=(0,y.KL)(je);!(Dt=yield We.next()).done;)if(Oe.next(Dt.value),Oe.closed)return}catch(qe){He={error:qe}}finally{try{Dt&&!Dt.done&&(Ce=We.return)&&(yield Ce.call(We))}finally{if(He)throw He.error}}Oe.complete()})})(je,Oe).catch(We=>Oe.error(We))})}},6451:(Et,Ve,R)=>{R.d(Ve,{T:()=>Re});var y=R(8189),_=R(8421),K=R(515),fe=R(3269),Ie=R(8996);function Re(...Ne){const pe=(0,fe.yG)(Ne),Ze=(0,fe._6)(Ne,1/0),de=Ne;return de.length?1===de.length?(0,_.Xf)(de[0]):(0,y.J)(Ze)((0,Ie.D)(de,pe)):K.E}},9646:(Et,Ve,R)=>{R.d(Ve,{of:()=>K});var y=R(3269),_=R(8996);function K(...fe){const Ie=(0,y.yG)(fe);return(0,_.D)(fe,Ie)}},2843:(Et,Ve,R)=>{R.d(Ve,{_:()=>K});var y=R(9751),_=R(576);function K(fe,Ie){const Re=(0,_.m)(fe)?fe:()=>fe,Ne=pe=>pe.error(Re());return new y.y(Ie?pe=>Ie.schedule(Ne,0,pe):Ne)}},5403:(Et,Ve,R)=>{R.d(Ve,{x:()=>_});var y=R(930);function _(fe,Ie,Re,Ne,pe){return new K(fe,Ie,Re,Ne,pe)}class K extends y.Lv{constructor(Ie,Re,Ne,pe,Ze,de){super(Ie),this.onFinalize=Ze,this.shouldUnsubscribe=de,this._next=Re?function(_e){try{Re(_e)}catch(Se){Ie.error(Se)}}:super._next,this._error=pe?function(_e){try{pe(_e)}catch(Se){Ie.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(_e){Ie.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},262:(Et,Ve,R)=>{R.d(Ve,{K:()=>fe});var y=R(8421),_=R(5403),K=R(4482);function fe(Ie){return(0,K.e)((Re,Ne)=>{let de,pe=null,Ze=!1;pe=Re.subscribe((0,_.x)(Ne,void 0,void 0,_e=>{de=(0,y.Xf)(Ie(_e,fe(Ie)(Re))),pe?(pe.unsubscribe(),pe=null,de.subscribe(Ne)):Ze=!0})),Ze&&(pe.unsubscribe(),pe=null,de.subscribe(Ne))})}},4351:(Et,Ve,R)=>{R.d(Ve,{b:()=>K});var y=R(5577),_=R(576);function K(fe,Ie){return(0,_.m)(Ie)?(0,y.z)(fe,Ie,1):(0,y.z)(fe,1)}},6590:(Et,Ve,R)=>{R.d(Ve,{d:()=>K});var y=R(4482),_=R(5403);function K(fe){return(0,y.e)((Ie,Re)=>{let Ne=!1;Ie.subscribe((0,_.x)(Re,pe=>{Ne=!0,Re.next(pe)},()=>{Ne||Re.next(fe),Re.complete()}))})}},1884:(Et,Ve,R)=>{R.d(Ve,{x:()=>fe});var y=R(4671),_=R(4482),K=R(5403);function fe(Re,Ne=y.y){return Re=Re??Ie,(0,_.e)((pe,Ze)=>{let de,_e=!0;pe.subscribe((0,K.x)(Ze,Se=>{const gt=Ne(Se);(_e||!Re(de,gt))&&(_e=!1,de=gt,Ze.next(Se))}))})}function Ie(Re,Ne){return Re===Ne}},9300:(Et,Ve,R)=>{R.d(Ve,{h:()=>K});var y=R(4482),_=R(5403);function K(fe,Ie){return(0,y.e)((Re,Ne)=>{let pe=0;Re.subscribe((0,_.x)(Ne,Ze=>fe.call(Ie,Ze,pe++)&&Ne.next(Ze)))})}},8746:(Et,Ve,R)=>{R.d(Ve,{x:()=>_});var y=R(4482);function _(K){return(0,y.e)((fe,Ie)=>{try{fe.subscribe(Ie)}finally{Ie.add(K)}})}},590:(Et,Ve,R)=>{R.d(Ve,{P:()=>Ne});var y=R(6805),_=R(9300),K=R(5698),fe=R(6590),Ie=R(8068),Re=R(4671);function Ne(pe,Ze){const de=arguments.length>=2;return _e=>_e.pipe(pe?(0,_.h)((Se,gt)=>pe(Se,gt,_e)):Re.y,(0,K.q)(1),de?(0,fe.d)(Ze):(0,Ie.T)(()=>new y.K))}},4004:(Et,Ve,R)=>{R.d(Ve,{U:()=>K});var y=R(4482),_=R(5403);function K(fe,Ie){return(0,y.e)((Re,Ne)=>{let pe=0;Re.subscribe((0,_.x)(Ne,Ze=>{Ne.next(fe.call(Ie,Ze,pe++))}))})}},9718:(Et,Ve,R)=>{R.d(Ve,{h:()=>_});var y=R(4004);function _(K){return(0,y.U)(()=>K)}},8189:(Et,Ve,R)=>{R.d(Ve,{J:()=>K});var y=R(5577),_=R(4671);function K(fe=1/0){return(0,y.z)(_.y,fe)}},5577:(Et,Ve,R)=>{R.d(Ve,{z:()=>pe});var y=R(4004),_=R(8421),K=R(4482),fe=R(9672),Ie=R(5403),Ne=R(576);function pe(Ze,de,_e=1/0){return(0,Ne.m)(de)?pe((Se,gt)=>(0,y.U)((ut,Je)=>de(Se,ut,gt,Je))((0,_.Xf)(Ze(Se,gt))),_e):("number"==typeof de&&(_e=de),(0,K.e)((Se,gt)=>function Re(Ze,de,_e,Se,gt,ut,Je,At){const tt=[];let Ke=0,Ae=0,xt=!1;const je=()=>{xt&&!tt.length&&!Ke&&de.complete()},Oe=Dt=>Ke<Se?We(Dt):tt.push(Dt),We=Dt=>{ut&&de.next(Dt),Ke++;let He=!1;(0,_.Xf)(_e(Dt,Ae++)).subscribe((0,Ie.x)(de,Ce=>{gt?.(Ce),ut?Oe(Ce):de.next(Ce)},()=>{He=!0},void 0,()=>{if(He)try{for(Ke--;tt.length&&Ke<Se;){const Ce=tt.shift();Je?(0,fe.f)(de,Je,()=>We(Ce)):We(Ce)}je()}catch(Ce){de.error(Ce)}}))};return Ze.subscribe((0,Ie.x)(de,Oe,()=>{xt=!0,je()})),()=>{At?.()}}(Se,gt,Ze,_e)))}},5363:(Et,Ve,R)=>{R.d(Ve,{Q:()=>fe});var y=R(9672),_=R(4482),K=R(5403);function fe(Ie,Re=0){return(0,_.e)((Ne,pe)=>{Ne.subscribe((0,K.x)(pe,Ze=>(0,y.f)(pe,Ie,()=>pe.next(Ze),Re),()=>(0,y.f)(pe,Ie,()=>pe.complete(),Re),Ze=>(0,y.f)(pe,Ie,()=>pe.error(Ze),Re)))})}},5026:(Et,Ve,R)=>{R.d(Ve,{R:()=>fe});var y=R(4482),_=R(5403);function K(Ie,Re,Ne,pe,Ze){return(de,_e)=>{let Se=Ne,gt=Re,ut=0;de.subscribe((0,_.x)(_e,Je=>{const At=ut++;gt=Se?Ie(gt,Je,At):(Se=!0,Je),pe&&_e.next(gt)},Ze&&(()=>{Se&&_e.next(gt),_e.complete()})))}}function fe(Ie,Re){return(0,y.e)(K(Ie,Re,arguments.length>=2,!0))}},3099:(Et,Ve,R)=>{R.d(Ve,{B:()=>Ie});var y=R(8421),_=R(7579),K=R(930),fe=R(4482);function Ie(Ne={}){const{connector:pe=(()=>new _.x),resetOnError:Ze=!0,resetOnComplete:de=!0,resetOnRefCountZero:_e=!0}=Ne;return Se=>{let gt,ut,Je,At=0,tt=!1,Ke=!1;const Ae=()=>{ut?.unsubscribe(),ut=void 0},xt=()=>{Ae(),gt=Je=void 0,tt=Ke=!1},je=()=>{const Oe=gt;xt(),Oe?.unsubscribe()};return(0,fe.e)((Oe,We)=>{At++,!Ke&&!tt&&Ae();const Dt=Je=Je??pe();We.add(()=>{At--,0===At&&!Ke&&!tt&&(ut=Re(je,_e))}),Dt.subscribe(We),!gt&&At>0&&(gt=new K.Hp({next:He=>Dt.next(He),error:He=>{Ke=!0,Ae(),ut=Re(xt,Ze,He),Dt.error(He)},complete:()=>{tt=!0,Ae(),ut=Re(xt,de),Dt.complete()}}),(0,y.Xf)(Oe).subscribe(gt))})(Se)}}function Re(Ne,pe,...Ze){if(!0===pe)return void Ne();if(!1===pe)return;const de=new K.Hp({next:()=>{de.unsubscribe(),Ne()}});return pe(...Ze).subscribe(de)}},8675:(Et,Ve,R)=>{R.d(Ve,{O:()=>fe});var y=R(7272),_=R(3269),K=R(4482);function fe(...Ie){const Re=(0,_.yG)(Ie);return(0,K.e)((Ne,pe)=>{(Re?(0,y.z)(Ie,Ne,Re):(0,y.z)(Ie,Ne)).subscribe(pe)})}},9468:(Et,Ve,R)=>{R.d(Ve,{R:()=>_});var y=R(4482);function _(K,fe=0){return(0,y.e)((Ie,Re)=>{Re.add(K.schedule(()=>Ie.subscribe(Re),fe))})}},3900:(Et,Ve,R)=>{R.d(Ve,{w:()=>fe});var y=R(8421),_=R(4482),K=R(5403);function fe(Ie,Re){return(0,_.e)((Ne,pe)=>{let Ze=null,de=0,_e=!1;const Se=()=>_e&&!Ze&&pe.complete();Ne.subscribe((0,K.x)(pe,gt=>{Ze?.unsubscribe();let ut=0;const Je=de++;(0,y.Xf)(Ie(gt,Je)).subscribe(Ze=(0,K.x)(pe,At=>pe.next(Re?Re(gt,At,Je,ut++):At),()=>{Ze=null,Se()}))},()=>{_e=!0,Se()}))})}},5698:(Et,Ve,R)=>{R.d(Ve,{q:()=>fe});var y=R(515),_=R(4482),K=R(5403);function fe(Ie){return Ie<=0?()=>y.E:(0,_.e)((Re,Ne)=>{let pe=0;Re.subscribe((0,K.x)(Ne,Ze=>{++pe<=Ie&&(Ne.next(Ze),Ie<=pe&&Ne.complete())}))})}},8505:(Et,Ve,R)=>{R.d(Ve,{b:()=>Ie});var y=R(576),_=R(4482),K=R(5403),fe=R(4671);function Ie(Re,Ne,pe){const Ze=(0,y.m)(Re)||Ne||pe?{next:Re,error:Ne,complete:pe}:Re;return Ze?(0,_.e)((de,_e)=>{var Se;null===(Se=Ze.subscribe)||void 0===Se||Se.call(Ze);let gt=!0;de.subscribe((0,K.x)(_e,ut=>{var Je;null===(Je=Ze.next)||void 0===Je||Je.call(Ze,ut),_e.next(ut)},()=>{var ut;gt=!1,null===(ut=Ze.complete)||void 0===ut||ut.call(Ze),_e.complete()},ut=>{var Je;gt=!1,null===(Je=Ze.error)||void 0===Je||Je.call(Ze,ut),_e.error(ut)},()=>{var ut,Je;gt&&(null===(ut=Ze.unsubscribe)||void 0===ut||ut.call(Ze)),null===(Je=Ze.finalize)||void 0===Je||Je.call(Ze)}))}):fe.y}},8068:(Et,Ve,R)=>{R.d(Ve,{T:()=>fe});var y=R(6805),_=R(4482),K=R(5403);function fe(Re=Ie){return(0,_.e)((Ne,pe)=>{let Ze=!1;Ne.subscribe((0,K.x)(pe,de=>{Ze=!0,pe.next(de)},()=>Ze?pe.complete():pe.error(Re())))})}function Ie(){return new y.K}},4408:(Et,Ve,R)=>{R.d(Ve,{o:()=>Ie});var y=R(727);class _ extends y.w0{constructor(Ne,pe){super()}schedule(Ne,pe=0){return this}}const K={setInterval(Re,Ne,...pe){const{delegate:Ze}=K;return Ze?.setInterval?Ze.setInterval(Re,Ne,...pe):setInterval(Re,Ne,...pe)},clearInterval(Re){const{delegate:Ne}=K;return(Ne?.clearInterval||clearInterval)(Re)},delegate:void 0};var fe=R(8737);class Ie extends _{constructor(Ne,pe){super(Ne,pe),this.scheduler=Ne,this.work=pe,this.pending=!1}schedule(Ne,pe=0){var Ze;if(this.closed)return this;this.state=Ne;const de=this.id,_e=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(_e,de,pe)),this.pending=!0,this.delay=pe,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(_e,this.id,pe),this}requestAsyncId(Ne,pe,Ze=0){return K.setInterval(Ne.flush.bind(Ne,this),Ze)}recycleAsyncId(Ne,pe,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return pe;null!=pe&&K.clearInterval(pe)}execute(Ne,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(Ne,pe);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,pe){let de,Ze=!1;try{this.work(Ne)}catch(_e){Ze=!0,de=_e||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:pe}=this,{actions:Ze}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Ze,this),null!=Ne&&(this.id=this.recycleAsyncId(pe,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Ve,R)=>{R.d(Ve,{v:()=>K});var y=R(6063);class _{constructor(Ie,Re=_.now){this.schedulerActionCtor=Ie,this.now=Re}schedule(Ie,Re=0,Ne){return new this.schedulerActionCtor(this,Ie).schedule(Ne,Re)}}_.now=y.l.now;class K extends _{constructor(Ie,Re=_.now){super(Ie,Re),this.actions=[],this._active=!1}flush(Ie){const{actions:Re}=this;if(this._active)return void Re.push(Ie);let Ne;this._active=!0;do{if(Ne=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Re.shift());if(this._active=!1,Ne){for(;Ie=Re.shift();)Ie.unsubscribe();throw Ne}}}},4986:(Et,Ve,R)=>{R.d(Ve,{P:()=>fe,z:()=>K});var y=R(4408);const K=new(R(7565).v)(y.o),fe=K},6063:(Et,Ve,R)=>{R.d(Ve,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(Et,Ve,R)=>{R.d(Ve,{z:()=>y});const y={setTimeout(_,K,...fe){const{delegate:Ie}=y;return Ie?.setTimeout?Ie.setTimeout(_,K,...fe):setTimeout(_,K,...fe)},clearTimeout(_){const{delegate:K}=y;return(K?.clearTimeout||clearTimeout)(_)},delegate:void 0}},2202:(Et,Ve,R)=>{R.d(Ve,{h:()=>_});const _=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Ve,R)=>{R.d(Ve,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Et,Ve,R)=>{R.d(Ve,{K:()=>_});const _=(0,R(3888).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Et,Ve,R)=>{R.d(Ve,{_6:()=>Re,jO:()=>fe,yG:()=>Ie});var y=R(576),_=R(3532);function K(Ne){return Ne[Ne.length-1]}function fe(Ne){return(0,y.m)(K(Ne))?Ne.pop():void 0}function Ie(Ne){return(0,_.K)(K(Ne))?Ne.pop():void 0}function Re(Ne,pe){return"number"==typeof K(Ne)?Ne.pop():pe}},4742:(Et,Ve,R)=>{R.d(Ve,{D:()=>Ie});const{isArray:y}=Array,{getPrototypeOf:_,prototype:K,keys:fe}=Object;function Ie(Ne){if(1===Ne.length){const pe=Ne[0];if(y(pe))return{args:pe,keys:null};if(function Re(Ne){return Ne&&"object"==typeof Ne&&_(Ne)===K}(pe)){const Ze=fe(pe);return{args:Ze.map(de=>pe[de]),keys:Ze}}}return{args:Ne,keys:null}}},8737:(Et,Ve,R)=>{function y(_,K){if(_){const fe=_.indexOf(K);0<=fe&&_.splice(fe,1)}}R.d(Ve,{P:()=>y})},3888:(Et,Ve,R)=>{function y(_){const fe=_(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}R.d(Ve,{d:()=>y})},1810:(Et,Ve,R)=>{function y(_,K){return _.reduce((fe,Ie,Re)=>(fe[Ie]=K[Re],fe),{})}R.d(Ve,{n:()=>y})},2806:(Et,Ve,R)=>{R.d(Ve,{O:()=>fe,x:()=>K});var y=R(2416);let _=null;function K(Ie){if(y.v.useDeprecatedSynchronousErrorHandling){const Re=!_;if(Re&&(_={errorThrown:!1,error:null}),Ie(),Re){const{errorThrown:Ne,error:pe}=_;if(_=null,Ne)throw pe}}else Ie()}function fe(Ie){y.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=Ie)}},9672:(Et,Ve,R)=>{function y(_,K,fe,Ie=0,Re=!1){const Ne=K.schedule(function(){fe(),Re?_.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(_.add(Ne),!Re)return Ne}R.d(Ve,{f:()=>y})},4671:(Et,Ve,R)=>{function y(_){return _}R.d(Ve,{y:()=>y})},1144:(Et,Ve,R)=>{R.d(Ve,{z:()=>y});const y=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Et,Ve,R)=>{R.d(Ve,{D:()=>_});var y=R(576);function _(K){return Symbol.asyncIterator&&(0,y.m)(K?.[Symbol.asyncIterator])}},576:(Et,Ve,R)=>{function y(_){return"function"==typeof _}R.d(Ve,{m:()=>y})},3670:(Et,Ve,R)=>{R.d(Ve,{c:()=>K});var y=R(8822),_=R(576);function K(fe){return(0,_.m)(fe[y.L])}},6495:(Et,Ve,R)=>{R.d(Ve,{T:()=>K});var y=R(2202),_=R(576);function K(fe){return(0,_.m)(fe?.[y.h])}},8239:(Et,Ve,R)=>{R.d(Ve,{t:()=>_});var y=R(576);function _(K){return(0,y.m)(K?.then)}},3260:(Et,Ve,R)=>{R.d(Ve,{L:()=>fe,Q:()=>K});var y=R(655),_=R(576);function K(Ie){return(0,y.FC)(this,arguments,function*(){const Ne=Ie.getReader();try{for(;;){const{value:pe,done:Ze}=yield(0,y.qq)(Ne.read());if(Ze)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(pe)}}finally{Ne.releaseLock()}})}function fe(Ie){return(0,_.m)(Ie?.getReader)}},3532:(Et,Ve,R)=>{R.d(Ve,{K:()=>_});var y=R(576);function _(K){return K&&(0,y.m)(K.schedule)}},4482:(Et,Ve,R)=>{R.d(Ve,{A:()=>_,e:()=>K});var y=R(576);function _(fe){return(0,y.m)(fe?.lift)}function K(fe){return Ie=>{if(_(Ie))return Ie.lift(function(Re){try{return fe(Re,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Et,Ve,R)=>{R.d(Ve,{Z:()=>fe});var y=R(4004);const{isArray:_}=Array;function fe(Ie){return(0,y.U)(Re=>function K(Ie,Re){return _(Re)?Ie(...Re):Ie(Re)}(Ie,Re))}},5032:(Et,Ve,R)=>{function y(){}R.d(Ve,{Z:()=>y})},9635:(Et,Ve,R)=>{R.d(Ve,{U:()=>K,z:()=>_});var y=R(4671);function _(...fe){return K(fe)}function K(fe){return 0===fe.length?y.y:1===fe.length?fe[0]:function(Re){return fe.reduce((Ne,pe)=>pe(Ne),Re)}}},7849:(Et,Ve,R)=>{R.d(Ve,{h:()=>K});var y=R(2416),_=R(3410);function K(fe){_.z.setTimeout(()=>{const{onUnhandledError:Ie}=y.v;if(!Ie)throw fe;Ie(fe)})}},4532:(Et,Ve,R)=>{function y(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ve,{z:()=>y})},655:(Et,Ve,R)=>{function fe(ye,De){var Qe={};for(var ze in ye)Object.prototype.hasOwnProperty.call(ye,ze)&&De.indexOf(ze)<0&&(Qe[ze]=ye[ze]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(ze=Object.getOwnPropertySymbols(ye);It<ze.length;It++)De.indexOf(ze[It])<0&&Object.prototype.propertyIsEnumerable.call(ye,ze[It])&&(Qe[ze[It]]=ye[ze[It]])}return Qe}function pe(ye,De,Qe,ze){return new(Qe||(Qe=Promise))(function(Rt,Wt){function an(Cn){try{vt(ze.next(Cn))}catch(rt){Wt(rt)}}function en(Cn){try{vt(ze.throw(Cn))}catch(rt){Wt(rt)}}function vt(Cn){Cn.done?Rt(Cn.value):function It(Rt){return Rt instanceof Qe?Rt:new Qe(function(Wt){Wt(Rt)})}(Cn.value).then(an,en)}vt((ze=ze.apply(ye,De||[])).next())})}function tt(ye){return this instanceof tt?(this.v=ye,this):new tt(ye)}function Ke(ye,De,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,ze=Qe.apply(ye,De||[]),Rt=[];return It={},Wt("next"),Wt("throw"),Wt("return"),It[Symbol.asyncIterator]=function(){return this},It;function Wt(mt){ze[mt]&&(It[mt]=function(Pe){return new Promise(function(xe,Ct){Rt.push([mt,Pe,xe,Ct])>1||an(mt,Pe)})})}function an(mt,Pe){try{!function en(mt){mt.value instanceof tt?Promise.resolve(mt.value.v).then(vt,Cn):rt(Rt[0][2],mt)}(ze[mt](Pe))}catch(xe){rt(Rt[0][3],xe)}}function vt(mt){an("next",mt)}function Cn(mt){an("throw",mt)}function rt(mt,Pe){mt(Pe),Rt.shift(),Rt.length&&an(Rt[0][0],Rt[0][1])}}function xt(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,De=ye[Symbol.asyncIterator];return De?De.call(ye):(ye=function Se(ye){var De="function"==typeof Symbol&&Symbol.iterator,Qe=De&&ye[De],ze=0;if(Qe)return Qe.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&ze>=ye.length&&(ye=void 0),{value:ye&&ye[ze++],done:!ye}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Qe={},ze("next"),ze("throw"),ze("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function ze(Rt){Qe[Rt]=ye[Rt]&&function(Wt){return new Promise(function(an,en){!function It(Rt,Wt,an,en){Promise.resolve(en).then(function(vt){Rt({value:vt,done:an})},Wt)}(an,en,(Wt=ye[Rt](Wt)).done,Wt.value)})}}}R.d(Ve,{FC:()=>Ke,KL:()=>xt,_T:()=>fe,mG:()=>pe,qq:()=>tt})},7340:(Et,Ve,R)=>{R.d(Ve,{IO:()=>Je,LC:()=>_,SB:()=>Ze,X$:()=>fe,ZE:()=>Ae,ZN:()=>Ke,_j:()=>y,eR:()=>_e,jt:()=>Ie,k1:()=>xt,l3:()=>K,oB:()=>pe,pV:()=>gt,vP:()=>Ne});class y{}class _{}const K="*";function fe(je,Oe){return{type:7,name:je,definitions:Oe,options:{}}}function Ie(je,Oe=null){return{type:4,styles:Oe,timings:je}}function Ne(je,Oe=null){return{type:2,steps:je,options:Oe}}function pe(je){return{type:6,styles:je,offset:null}}function Ze(je,Oe,We){return{type:0,name:je,styles:Oe,options:We}}function _e(je,Oe,We=null){return{type:1,expr:je,animation:Oe,options:We}}function gt(je=null){return{type:9,options:je}}function Je(je,Oe,We=null){return{type:11,selector:je,animation:Oe,options:We}}function tt(je){Promise.resolve().then(je)}class Ke{constructor(Oe=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const We="start"==Oe?this._onStartFns:this._onDoneFns;We.forEach(Dt=>Dt()),We.length=0}}class Ae{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let We=0,Dt=0,He=0;const Ce=this.players.length;0==Ce?tt(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++We==Ce&&this._onFinish()}),qe.onDestroy(()=>{++Dt==Ce&&this._onDestroy()}),qe.onStart(()=>{++He==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((qe,ye)=>Math.max(qe,ye.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const We=Oe*this.totalTime;this.players.forEach(Dt=>{const He=Dt.totalTime?Math.min(1,We/Dt.totalTime):1;Dt.setPosition(He)})}getPosition(){const Oe=this.players.reduce((We,Dt)=>null===We||Dt.totalTime>We.totalTime?Dt:We,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const We="start"==Oe?this._onStartFns:this._onDoneFns;We.forEach(Dt=>Dt()),We.length=0}}const xt="!"},6895:(Et,Ve,R)=>{R.d(Ve,{Do:()=>xt,EM:()=>ts,HT:()=>Ie,JF:()=>ns,K0:()=>Ne,Mx:()=>Vo,NF:()=>Qi,O5:()=>Ui,Ov:()=>$t,PM:()=>Fr,RF:()=>Jo,S$:()=>tt,V_:()=>de,Ye:()=>je,b0:()=>Ae,bD:()=>vr,ez:()=>Dr,n9:()=>_o,q:()=>K,sg:()=>Lr,w_:()=>Re});var y=R(4650);let _=null;function K(){return _}function Ie(k){_||(_=k)}class Re{}const Ne=new y.OlP("DocumentToken");let pe=(()=>{class k{historyGo(U){throw new Error("Not implemented")}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275prov=y.Yz7({token:k,factory:function(){return function Ze(){return(0,y.LFG)(_e)}()},providedIn:"platform"}),k})();const de=new y.OlP("Location Initialized");let _e=(()=>{class k extends pe{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(U){const ee=K().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",U,!1),()=>ee.removeEventListener("popstate",U)}onHashChange(U){const ee=K().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",U,!1),()=>ee.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ee,we){Se()?this._history.pushState(U,ee,we):this.location.hash=we}replaceState(U,ee,we){Se()?this._history.replaceState(U,ee,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return k.\u0275fac=function(U){return new(U||k)(y.LFG(Ne))},k.\u0275prov=y.Yz7({token:k,factory:function(){return function gt(){return new _e((0,y.LFG)(Ne))}()},providedIn:"platform"}),k})();function Se(){return!!window.history.pushState}function ut(k,q){if(0==k.length)return q;if(0==q.length)return k;let U=0;return k.endsWith("/")&&U++,q.startsWith("/")&&U++,2==U?k+q.substring(1):1==U?k+q:k+"/"+q}function Je(k){const q=k.match(/#|\?|$/),U=q&&q.index||k.length;return k.slice(0,U-("/"===k[U-1]?1:0))+k.slice(U)}function At(k){return k&&"?"!==k[0]?"?"+k:k}let tt=(()=>{class k{historyGo(U){throw new Error("Not implemented")}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275prov=y.Yz7({token:k,factory:function(){return(0,y.f3M)(Ae)},providedIn:"root"}),k})();const Ke=new y.OlP("appBaseHref");let Ae=(()=>{class k extends tt{constructor(U,ee){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ut(this._baseHref,U)}path(U=!1){const ee=this._platformLocation.pathname+At(this._platformLocation.search),we=this._platformLocation.hash;return we&&U?`${ee}${we}`:ee}pushState(U,ee,we,ot){const yt=this.prepareExternalUrl(we+At(ot));this._platformLocation.pushState(U,ee,yt)}replaceState(U,ee,we,ot){const yt=this.prepareExternalUrl(we+At(ot));this._platformLocation.replaceState(U,ee,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return k.\u0275fac=function(U){return new(U||k)(y.LFG(pe),y.LFG(Ke,8))},k.\u0275prov=y.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xt=(()=>{class k extends tt{constructor(U,ee){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(U){const ee=ut(this._baseHref,U);return ee.length>0?"#"+ee:ee}pushState(U,ee,we,ot){let yt=this.prepareExternalUrl(we+At(ot));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(U,ee,yt)}replaceState(U,ee,we,ot){let yt=this.prepareExternalUrl(we+At(ot));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ee,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return k.\u0275fac=function(U){return new(U||k)(y.LFG(pe),y.LFG(Ke,8))},k.\u0275prov=y.Yz7({token:k,factory:k.\u0275fac}),k})(),je=(()=>{class k{constructor(U){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ee=this._locationStrategy.getBaseHref();this._baseHref=Je(Dt(ee)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ee=""){return this.path()==this.normalize(U+At(ee))}normalize(U){return k.stripTrailingSlash(function We(k,q){return k&&q.startsWith(k)?q.substring(k.length):q}(this._baseHref,Dt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ee="",we=null){this._locationStrategy.pushState(we,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+At(ee)),we)}replaceState(U,ee="",we=null){this._locationStrategy.replaceState(we,"",U,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+At(ee)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ee){this._urlChangeListeners.forEach(we=>we(U,ee))}subscribe(U,ee,we){return this._subject.subscribe({next:U,error:ee,complete:we})}}return k.normalizeQueryParams=At,k.joinWithSlash=ut,k.stripTrailingSlash=Je,k.\u0275fac=function(U){return new(U||k)(y.LFG(tt))},k.\u0275prov=y.Yz7({token:k,factory:function(){return function Oe(){return new je((0,y.LFG)(tt))}()},providedIn:"root"}),k})();function Dt(k){return k.replace(/\/index.html$/,"")}function Vo(k,q){q=encodeURIComponent(q);for(const U of k.split(";")){const ee=U.indexOf("="),[we,ot]=-1==ee?[U,""]:[U.slice(0,ee),U.slice(ee+1)];if(we.trim()===q)return decodeURIComponent(ot)}return null}class lo{constructor(q,U,ee,we){this.$implicit=q,this.ngForOf=U,this.index=ee,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class k{constructor(U,ee,we){this._viewContainer=U,this._template=ee,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ee=this._viewContainer;U.forEachOperation((we,ot,yt)=>{if(null==we.previousIndex)ee.createEmbeddedView(this._template,new lo(we.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)ee.remove(null===ot?void 0:ot);else if(null!==ot){const ln=ee.get(ot);ee.move(ln,yt),Xr(ln,we)}});for(let we=0,ot=ee.length;we<ot;we++){const ln=ee.get(we).context;ln.index=we,ln.count=ot,ln.ngForOf=this._ngForOf}U.forEachIdentityChange(we=>{Xr(ee.get(we.currentIndex),we)})}static ngTemplateContextGuard(U,ee){return!0}}return k.\u0275fac=function(U){return new(U||k)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},k.\u0275dir=y.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Xr(k,q){k.context.$implicit=q.item}let Ui=(()=>{class k{constructor(U,ee){this._viewContainer=U,this._context=new Ho,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Ii("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Ii("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ee){return!0}}return k.\u0275fac=function(U){return new(U||k)(y.Y36(y.s_b),y.Y36(y.Rgc))},k.\u0275dir=y.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Ho{constructor(){this.$implicit=null,this.ngIf=null}}function Ii(k,q){if(q&&!q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,y.AaK)(q)}'.`)}class Jr{constructor(q,U){this._viewContainerRef=q,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Jo=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const ee=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let ee=0;ee<this._defaultViews.length;ee++)this._defaultViews[ee].enforceState(U)}}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275dir=y.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),k})(),_o=(()=>{class k{constructor(U,ee,we){this.ngSwitch=we,we._addCase(),this._view=new Jr(U,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(U){return new(U||k)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(Jo,9))},k.\u0275dir=y.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),k})();class Ge{createSubscription(q,U){return q.subscribe({next:U,error:ee=>{throw ee}})}dispose(q){q.unsubscribe()}}class Le{createSubscription(q,U){return q.then(U,ee=>{throw ee})}dispose(q){}}const nt=new Le,wt=new Ge;let $t=(()=>{class k{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ee=>this._updateLatestValue(U,ee))}_selectStrategy(U){if((0,y.QGY)(U))return nt;if((0,y.F4k)(U))return wt;throw function _r(k,q){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ee){U===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return k.\u0275fac=function(U){return new(U||k)(y.Y36(y.sBO,16))},k.\u0275pipe=y.Yjl({name:"async",type:k,pure:!1,standalone:!0}),k})(),Dr=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=y.oAB({type:k}),k.\u0275inj=y.cJS({}),k})();const vr="browser";function Qi(k){return k===vr}function Fr(k){return"server"===k}let ts=(()=>{class k{}return k.\u0275prov=(0,y.Yz7)({token:k,providedIn:"root",factory:()=>new Pi((0,y.LFG)(Ne),window)}),k})();class Pi{constructor(q,U){this.document=q,this.window=U,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const U=function Wi(k,q){const U=k.getElementById(q)||k.getElementsByName(q)[0];if(U)return U;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ee=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let we=ee.currentNode;for(;we;){const ot=we.shadowRoot;if(ot){const yt=ot.getElementById(q)||ot.querySelector(`[name="${q}"]`);if(yt)return yt}we=ee.nextNode()}}return null}(this.document,q);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=q)}}scrollToElement(q){const U=q.getBoundingClientRect(),ee=U.left+this.window.pageXOffset,we=U.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(ee-ot[0],we-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=zr(this.window.history)||zr(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zr(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class ns{}},529:(Et,Ve,R)=>{R.d(Ve,{JF:()=>Bi,TP:()=>an,eN:()=>Rt});var y=R(6895),_=R(4650),K=R(9646),fe=R(9751),Ie=R(4351),Re=R(9300),Ne=R(4004);class pe{}class Ze{}class de{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(be=>{const st=be.indexOf(":");if(st>0){const at=be.slice(0,st),on=at.toLowerCase(),Ht=be.slice(st+1).trim();this.maybeSetNormalizedName(at,on),this.headers.has(on)?this.headers.get(on).push(Ht):this.headers.set(on,[Ht])}})}:()=>{this.headers=new Map,Object.keys(Te).forEach(be=>{let st=Te[be];const at=be.toLowerCase();"string"==typeof st&&(st=[st]),st.length>0&&(this.headers.set(at,st),this.maybeSetNormalizedName(be,at))})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const be=this.headers.get(Te.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,be){return this.clone({name:Te,value:be,op:"a"})}set(Te,be){return this.clone({name:Te,value:be,op:"s"})}delete(Te,be){return this.clone({name:Te,value:be,op:"d"})}maybeSetNormalizedName(Te,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,Te)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(be=>{this.headers.set(be,Te.headers.get(be)),this.normalizedNames.set(be,Te.normalizedNames.get(be))})}clone(Te){const be=new de;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),be}applyUpdate(Te){const be=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let st=Te.value;if("string"==typeof st&&(st=[st]),0===st.length)return;this.maybeSetNormalizedName(Te.name,be);const at=("a"===Te.op?this.headers.get(be):void 0)||[];at.push(...st),this.headers.set(be,at);break;case"d":const on=Te.value;if(on){let Ht=this.headers.get(be);if(!Ht)return;Ht=Ht.filter(Hn=>-1===on.indexOf(Hn)),0===Ht.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,Ht)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>Te(this.normalizedNames.get(be),this.headers.get(be)))}}class Se{encodeKey(Te){return At(Te)}encodeValue(Te){return At(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const ut=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function At(dt){return encodeURIComponent(dt).replace(ut,(Te,be)=>Je[be]??Te)}function tt(dt){return`${dt}`}class Ke{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new Se,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(dt,Te){const be=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(at=>{const on=at.indexOf("="),[Ht,Hn]=-1==on?[Te.decodeKey(at),""]:[Te.decodeKey(at.slice(0,on)),Te.decodeValue(at.slice(on+1))],zt=be.get(Ht)||[];zt.push(Hn),be.set(Ht,zt)}),be}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(be=>{const st=Te.fromObject[be],at=Array.isArray(st)?st.map(tt):[tt(st)];this.map.set(be,at)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const be=this.map.get(Te);return be?be[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,be){return this.clone({param:Te,value:be,op:"a"})}appendAll(Te){const be=[];return Object.keys(Te).forEach(st=>{const at=Te[st];Array.isArray(at)?at.forEach(on=>{be.push({param:st,value:on,op:"a"})}):be.push({param:st,value:at,op:"a"})}),this.clone(be)}set(Te,be){return this.clone({param:Te,value:be,op:"s"})}delete(Te,be){return this.clone({param:Te,value:be,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const be=this.encoder.encodeKey(Te);return this.map.get(Te).map(st=>be+"="+this.encoder.encodeValue(st)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const be=new Ke({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(Te),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const be=("a"===Te.op?this.map.get(Te.param):void 0)||[];be.push(tt(Te.value)),this.map.set(Te.param,be);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let st=this.map.get(Te.param)||[];const at=st.indexOf(tt(Te.value));-1!==at&&st.splice(at,1),st.length>0?this.map.set(Te.param,st):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(Te,be){return this.map.set(Te,be),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Oe(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function We(dt){return typeof Blob<"u"&&dt instanceof Blob}function Dt(dt){return typeof FormData<"u"&&dt instanceof FormData}class Ce{constructor(Te,be,st,at){let on;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function je(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==st?st:null,on=at):on=st,on&&(this.reportProgress=!!on.reportProgress,this.withCredentials=!!on.withCredentials,on.responseType&&(this.responseType=on.responseType),on.headers&&(this.headers=on.headers),on.context&&(this.context=on.context),on.params&&(this.params=on.params)),this.headers||(this.headers=new de),this.context||(this.context=new xt),this.params){const Ht=this.params.toString();if(0===Ht.length)this.urlWithParams=be;else{const Hn=be.indexOf("?");this.urlWithParams=be+(-1===Hn?"?":Hn<be.length-1?"&":"")+Ht}}else this.params=new Ke,this.urlWithParams=be}serializeBody(){return null===this.body?null:Oe(this.body)||We(this.body)||Dt(this.body)||function He(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dt(this.body)?null:We(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const be=Te.method||this.method,st=Te.url||this.url,at=Te.responseType||this.responseType,on=void 0!==Te.body?Te.body:this.body,Ht=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,Hn=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let zt=Te.headers||this.headers,jn=Te.params||this.params;const bn=Te.context??this.context;return void 0!==Te.setHeaders&&(zt=Object.keys(Te.setHeaders).reduce((Ei,En)=>Ei.set(En,Te.setHeaders[En]),zt)),Te.setParams&&(jn=Object.keys(Te.setParams).reduce((Ei,En)=>Ei.set(En,Te.setParams[En]),jn)),new Ce(be,st,on,{params:jn,headers:zt,context:bn,reportProgress:Hn,responseType:at,withCredentials:Ht})}}var qe=(()=>((qe=qe||{})[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe))();class ye{constructor(Te,be=200,st="OK"){this.headers=Te.headers||new de,this.status=void 0!==Te.status?Te.status:be,this.statusText=Te.statusText||st,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class De extends ye{constructor(Te={}){super(Te),this.type=qe.ResponseHeader}clone(Te={}){return new De({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class Qe extends ye{constructor(Te={}){super(Te),this.type=qe.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new Qe({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class ze extends ye{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function It(dt,Te){return{body:Te,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let Rt=(()=>{class dt{constructor(be){this.handler=be}request(be,st,at={}){let on;if(be instanceof Ce)on=be;else{let zt,jn;zt=at.headers instanceof de?at.headers:new de(at.headers),at.params&&(jn=at.params instanceof Ke?at.params:new Ke({fromObject:at.params})),on=new Ce(be,st,void 0!==at.body?at.body:null,{headers:zt,context:at.context,params:jn,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials})}const Ht=(0,K.of)(on).pipe((0,Ie.b)(zt=>this.handler.handle(zt)));if(be instanceof Ce||"events"===at.observe)return Ht;const Hn=Ht.pipe((0,Re.h)(zt=>zt instanceof Qe));switch(at.observe||"body"){case"body":switch(on.responseType){case"arraybuffer":return Hn.pipe((0,Ne.U)(zt=>{if(null!==zt.body&&!(zt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return zt.body}));case"blob":return Hn.pipe((0,Ne.U)(zt=>{if(null!==zt.body&&!(zt.body instanceof Blob))throw new Error("Response is not a Blob.");return zt.body}));case"text":return Hn.pipe((0,Ne.U)(zt=>{if(null!==zt.body&&"string"!=typeof zt.body)throw new Error("Response is not a string.");return zt.body}));default:return Hn.pipe((0,Ne.U)(zt=>zt.body))}case"response":return Hn;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(be,st={}){return this.request("DELETE",be,st)}get(be,st={}){return this.request("GET",be,st)}head(be,st={}){return this.request("HEAD",be,st)}jsonp(be,st){return this.request("JSONP",be,{params:(new Ke).append(st,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,st={}){return this.request("OPTIONS",be,st)}patch(be,st,at={}){return this.request("PATCH",be,It(at,st))}post(be,st,at={}){return this.request("POST",be,It(at,st))}put(be,st,at={}){return this.request("PUT",be,It(at,st))}}return dt.\u0275fac=function(be){return new(be||dt)(_.LFG(pe))},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class Wt{constructor(Te,be){this.next=Te,this.interceptor=be}handle(Te){return this.interceptor.intercept(Te,this.next)}}const an=new _.OlP("HTTP_INTERCEPTORS");let en=(()=>{class dt{intercept(be,st){return st.handle(be)}}return dt.\u0275fac=function(be){return new(be||dt)},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const ui=/^\)\]\}',?\n/;let fi=(()=>{class dt{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(st=>{const at=this.xhrFactory.build();if(at.open(be.method,be.urlWithParams),be.withCredentials&&(at.withCredentials=!0),be.headers.forEach((Pn,yn)=>at.setRequestHeader(Pn,yn.join(","))),be.headers.has("Accept")||at.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const Pn=be.detectContentTypeHeader();null!==Pn&&at.setRequestHeader("Content-Type",Pn)}if(be.responseType){const Pn=be.responseType.toLowerCase();at.responseType="json"!==Pn?Pn:"text"}const on=be.serializeBody();let Ht=null;const Hn=()=>{if(null!==Ht)return Ht;const Pn=at.statusText||"OK",yn=new de(at.getAllResponseHeaders()),Kt=function Jn(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(at)||be.url;return Ht=new De({headers:yn,status:at.status,statusText:Pn,url:Kt}),Ht},zt=()=>{let{headers:Pn,status:yn,statusText:Kt,url:bt}=Hn(),Bt=null;204!==yn&&(Bt=typeof at.response>"u"?at.responseText:at.response),0===yn&&(yn=Bt?200:0);let fn=yn>=200&&yn<300;if("json"===be.responseType&&"string"==typeof Bt){const un=Bt;Bt=Bt.replace(ui,"");try{Bt=""!==Bt?JSON.parse(Bt):null}catch(kn){Bt=un,fn&&(fn=!1,Bt={error:kn,text:Bt})}}fn?(st.next(new Qe({body:Bt,headers:Pn,status:yn,statusText:Kt,url:bt||void 0})),st.complete()):st.error(new ze({error:Bt,headers:Pn,status:yn,statusText:Kt,url:bt||void 0}))},jn=Pn=>{const{url:yn}=Hn(),Kt=new ze({error:Pn,status:at.status||0,statusText:at.statusText||"Unknown Error",url:yn||void 0});st.error(Kt)};let bn=!1;const Ei=Pn=>{bn||(st.next(Hn()),bn=!0);let yn={type:qe.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(yn.total=Pn.total),"text"===be.responseType&&!!at.responseText&&(yn.partialText=at.responseText),st.next(yn)},En=Pn=>{let yn={type:qe.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(yn.total=Pn.total),st.next(yn)};return at.addEventListener("load",zt),at.addEventListener("error",jn),at.addEventListener("timeout",jn),at.addEventListener("abort",jn),be.reportProgress&&(at.addEventListener("progress",Ei),null!==on&&at.upload&&at.upload.addEventListener("progress",En)),at.send(on),st.next({type:qe.Sent}),()=>{at.removeEventListener("error",jn),at.removeEventListener("abort",jn),at.removeEventListener("load",zt),at.removeEventListener("timeout",jn),be.reportProgress&&(at.removeEventListener("progress",Ei),null!==on&&at.upload&&at.upload.removeEventListener("progress",En)),at.readyState!==at.DONE&&at.abort()}})}}return dt.\u0275fac=function(be){return new(be||dt)(_.LFG(y.JF))},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Un=new _.OlP("XSRF_COOKIE_NAME"),Zn=new _.OlP("XSRF_HEADER_NAME");class Vn{}let Zi=(()=>{class dt{constructor(be,st,at){this.doc=be,this.platform=st,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return dt.\u0275fac=function(be){return new(be||dt)(_.LFG(y.K0),_.LFG(_.Lbi),_.LFG(Un))},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),qn=(()=>{class dt{constructor(be,st){this.tokenService=be,this.headerName=st}intercept(be,st){const at=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||at.startsWith("http://")||at.startsWith("https://"))return st.handle(be);const on=this.tokenService.getToken();return null!==on&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,on)})),st.handle(be)}}return dt.\u0275fac=function(be){return new(be||dt)(_.LFG(Vn),_.LFG(Zn))},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),St=(()=>{class dt{constructor(be,st){this.backend=be,this.injector=st,this.chain=null}handle(be){if(null===this.chain){const st=this.injector.get(an,[]);this.chain=st.reduceRight((at,on)=>new Wt(at,on),this.backend)}return this.chain.handle(be)}}return dt.\u0275fac=function(be){return new(be||dt)(_.LFG(Ze),_.LFG(_.zs3))},dt.\u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),li=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:qn,useClass:en}]}}static withOptions(be={}){return{ngModule:dt,providers:[be.cookieName?{provide:Un,useValue:be.cookieName}:[],be.headerName?{provide:Zn,useValue:be.headerName}:[]]}}}return dt.\u0275fac=function(be){return new(be||dt)},dt.\u0275mod=_.oAB({type:dt}),dt.\u0275inj=_.cJS({providers:[qn,{provide:an,useExisting:qn,multi:!0},{provide:Vn,useClass:Zi},{provide:Un,useValue:"XSRF-TOKEN"},{provide:Zn,useValue:"X-XSRF-TOKEN"}]}),dt})(),Bi=(()=>{class dt{}return dt.\u0275fac=function(be){return new(be||dt)},dt.\u0275mod=_.oAB({type:dt}),dt.\u0275inj=_.cJS({providers:[Rt,{provide:pe,useClass:St},fi,{provide:Ze,useExisting:fi}],imports:[li.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),dt})()},4650:(Et,Ve,R)=>{R.d(Ve,{$8M:()=>al,$Z:()=>ef,AFp:()=>K0,ALo:()=>d0,AaK:()=>pe,BQk:()=>ad,CHM:()=>Ks,CRH:()=>E0,CZH:()=>Nv,CqO:()=>rm,D6c:()=>FD,EJc:()=>XC,EiD:()=>hc,EpF:()=>Tg,F$t:()=>Ag,F4k:()=>im,FYo:()=>Jc,FiY:()=>Xt,G48:()=>vD,Gf:()=>v0,GfV:()=>Nm,Gpc:()=>_e,Hsn:()=>ch,JOm:()=>ta,JVY:()=>Vf,Jf7:()=>Nh,KtG:()=>Ss,L6k:()=>Hf,LAX:()=>bd,LFG:()=>rr,LSH:()=>Zc,Lbi:()=>ZC,Lck:()=>jE,MAs:()=>zl,MMx:()=>sb,NdJ:()=>Zl,O4$:()=>ln,OlP:()=>Ti,Oqu:()=>Vg,PXZ:()=>fD,Q6J:()=>ah,QGY:()=>wf,QP$:()=>Ot,QbO:()=>qC,Qsj:()=>Sd,R0b:()=>Uc,RDi:()=>cl,Rgc:()=>xy,SBq:()=>Lu,Sil:()=>eD,Suo:()=>b0,TTD:()=>uo,TgZ:()=>Gl,Tol:()=>ly,Udp:()=>cm,VKq:()=>o0,WFA:()=>If,X6Q:()=>yD,XFs:()=>St,Xpm:()=>bt,Xts:()=>qc,Y36:()=>Qu,YKP:()=>qb,YNc:()=>Ig,Yjl:()=>ge,Yz7:()=>Pe,Z0I:()=>Mn,ZZ4:()=>xb,_Bn:()=>Zb,_UZ:()=>Eu,_Vd:()=>Xc,_c5:()=>ND,_uU:()=>dy,aQg:()=>Ob,c2e:()=>YC,cJS:()=>Ct,cg1:()=>ph,d8E:()=>Yg,dDg:()=>cD,dqk:()=>at,eBb:()=>jf,eFA:()=>iE,ekj:()=>Lg,eoX:()=>eE,f3M:()=>B,g9A:()=>z0,h0i:()=>n_,hGG:()=>LD,hij:()=>dm,iGM:()=>y0,ifc:()=>st,ip1:()=>W0,jDz:()=>Qb,kL8:()=>Ey,lG2:()=>Fe,lcZ:()=>h0,lqb:()=>Nl,lri:()=>X0,mCW:()=>C,n5z:()=>hr,n_E:()=>xv,oAB:()=>kn,oJD:()=>Yr,oxw:()=>lh,pB0:()=>bm,q3G:()=>pr,q4F:()=>Zf,qLn:()=>xd,qOj:()=>yf,qZA:()=>xc,qzn:()=>hl,rWj:()=>J0,s9C:()=>Sg,sBO:()=>bD,sIi:()=>bf,s_b:()=>Pv,soG:()=>Lv,tb:()=>G0,tp0:()=>zn,uIk:()=>mr,vHH:()=>Je,vpe:()=>pd,wAp:()=>Gn,xp6:()=>vp,ynx:()=>sd,z2F:()=>Fv,z3N:()=>wa,zSh:()=>Gf,zs3:()=>wc});var y=R(7579),_=R(727),K=R(9751),fe=R(6451),Ie=R(3099);function Re(n){for(let r in n)if(n[r]===Re)return r;throw Error("Could not find renamed property on target object.")}function Ne(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Ze(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const de=Re({__forward_ref__:Re});function _e(n){return n.__forward_ref__=_e,n.toString=function(){return pe(this())},n}function Se(n){return gt(n)?n():n}function gt(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===_e}class Je extends Error{constructor(r,a){super(function At(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function tt(n){return"string"==typeof n?n:null==n?"":String(n)}function Oe(n,r){throw new Je(-201,!1)}function en(n,r){null==n&&function vt(n,r,a,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${a} ${h} ${r} <=Actual]`))}(r,n,null,"!=")}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function gn(n){return ui(n,Zn)||ui(n,Zi)}function Mn(n){return null!==gn(n)}function ui(n,r){return n.hasOwnProperty(r)?n[r]:null}function Un(n){return n&&(n.hasOwnProperty(Vn)||n.hasOwnProperty(qn))?n[Vn]:null}const Zn=Re({\u0275prov:Re}),Vn=Re({\u0275inj:Re}),Zi=Re({ngInjectableDef:Re}),qn=Re({ngInjectorDef:Re});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let On;function li(n){const r=On;return On=n,r}function Bi(n,r,a){const h=gn(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&St.Optional?null:void 0!==r?r:void Oe(pe(n))}function _i(n){return{toString:n}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),st=(()=>{return(n=st||(st={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",st;var n})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hn={},zt=[],jn=Re({\u0275cmp:Re}),bn=Re({\u0275dir:Re}),Ei=Re({\u0275pipe:Re}),En=Re({\u0275mod:Re}),Pn=Re({\u0275fac:Re}),yn=Re({__NG_ELEMENT_ID__:Re});let Kt=0;function bt(n){return _i(()=>{const a=!0===n.standalone,h={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||st.Emulated,id:"c"+Kt++,styles:n.styles||zt,_:null,setInput:null,schemas:n.schemas||null,tView:null},b=n.dependencies,I=n.features;return p.inputs=Ee(n.inputs,h),p.outputs=Ee(n.outputs),I&&I.forEach(O=>O(p)),p.directiveDefs=b?()=>("function"==typeof b?b():b).map(fn).filter(un):null,p.pipeDefs=b?()=>("function"==typeof b?b():b).map(Xe).filter(un):null,p})}function fn(n){return X(n)||ce(n)}function un(n){return null!==n}function kn(n){return _i(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ee(n,r){if(null==n)return Hn;const a={};for(const h in n)if(n.hasOwnProperty(h)){let p=n[h],b=p;Array.isArray(p)&&(b=p[1],p=p[0]),a[p]=h,r&&(r[p]=b)}return a}const Fe=bt;function ge(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function X(n){return n[jn]||null}function ce(n){return n[bn]||null}function Xe(n){return n[Ei]||null}function Ot(n){const r=X(n)||ce(n)||Xe(n);return null!==r&&r.standalone}function tn(n,r){const a=n[En]||null;if(!a&&!0===r)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return a}function Ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Jr(n){return Array.isArray(n)&&!0===n[1]}function Jo(n){return 0!=(8&n.flags)}function _o(n){return 2==(2&n.flags)}function ds(n){return 1==(1&n.flags)}function gr(n){return null!==n.template}function Is(n){return 0!=(256&n[2])}function Ni(n,r){return n.hasOwnProperty(Pn)?n[Pn]:null}class co{constructor(r,a,h){this.previousValue=r,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function uo(){return To}function To(n){return n.type.prototype.ngOnChanges&&(n.setInput=ho),no}function no(){const n=Oi(this),r=n?.current;if(r){const a=n.previous;if(a===Hn)n.previous=r;else for(let h in r)a[h]=r[h];n.current=null,this.ngOnChanges(r)}}function ho(n,r,a,h){const p=Oi(n)||function Dr(n,r){return n[es]=r}(n,{previous:Hn,current:null}),b=p.current||(p.current={}),I=p.previous,O=this.declaredInputs[a],N=I[O];b[O]=new co(N&&N.currentValue,r,I===Hn),n[h]=r}uo.ngInherit=!0;const es="__ngSimpleChanges__";function Oi(n){return n[es]||null}function Li(n){for(;Array.isArray(n);)n=n[0];return n}function zr(n,r){return Li(r[n])}function Wi(n,r){return Li(r[n.index])}function ns(n,r){return n.data[r]}function tr(n,r){return n[r]}function ci(n,r){const a=r[n];return Ii(a)?a:a[0]}function vo(n){return 64==(64&n[2])}function Di(n,r){return null==r?null:n[r]}function Gr(n){n[18]=0}function Mi(n,r){n[5]+=r;let a=n,h=n[3];for(;null!==h&&(1===r&&1===a[5]||-1===r&&0===a[5]);)h[5]+=r,a=h,h=h[3]}const Kn={lFrame:ks(null),bindingsEnabled:!0};function Zr(){return Kn.bindingsEnabled}function Pt(){return Kn.lFrame.lView}function Yn(){return Kn.lFrame.tView}function Ks(n){return Kn.lFrame.contextLView=n,n[8]}function Ss(n){return Kn.lFrame.contextLView=null,n}function ur(){let n=$();for(;null!==n&&64===n.type;)n=n.parent;return n}function $(){return Kn.lFrame.currentTNode}function V(n,r){const a=Kn.lFrame;a.currentTNode=n,a.isParent=r}function ie(){return Kn.lFrame.isParent}function ft(){Kn.lFrame.isParent=!1}function Fi(){const n=Kn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function xs(){return Kn.lFrame.bindingIndex++}function $o(n){const r=Kn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function Na(n,r){const a=Kn.lFrame;a.bindingIndex=a.bindingRootIndex=n,ms(r)}function ms(n){Kn.lFrame.currentDirectiveIndex=n}function sa(n){const r=Kn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Os(){return Kn.lFrame.currentQueryIndex}function xo(n){Kn.lFrame.currentQueryIndex=n}function Ps(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function aa(n,r,a){if(a&St.SkipSelf){let p=r,b=n;for(;!(p=p.parent,null!==p||a&St.Host||(p=Ps(b),null===p||(b=b[15],10&p.type))););if(null===p)return!1;r=p,n=b}const h=Kn.lFrame=$s();return h.currentTNode=r,h.lView=n,!0}function Rs(n){const r=$s(),a=n[1];Kn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function $s(){const n=Kn.lFrame,r=null===n?null:n.child;return null===r?ks(n):r}function ks(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function La(){const n=Kn.lFrame;return Kn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=La;function q(){const n=La();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function we(){return Kn.lFrame.selectedIndex}function ot(n){Kn.lFrame.selectedIndex=n}function yt(){const n=Kn.lFrame;return ns(n.tView,n.selectedIndex)}function ln(){Kn.lFrame.currentNamespace="svg"}function gi(n,r){for(let a=r.directiveStart,h=r.directiveEnd;a<h;a++){const b=n.data[a].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:O,ngAfterViewInit:N,ngAfterViewChecked:G,ngOnDestroy:te}=b;I&&(n.contentHooks||(n.contentHooks=[])).push(-a,I),O&&((n.contentHooks||(n.contentHooks=[])).push(a,O),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,O)),N&&(n.viewHooks||(n.viewHooks=[])).push(-a,N),G&&((n.viewHooks||(n.viewHooks=[])).push(a,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,G)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(a,te)}}function Ri(n,r,a){Po(n,r,3,a)}function Oo(n,r,a,h){(3&n[2])===a&&Po(n,r,a,h)}function Co(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function Po(n,r,a,h){const b=h??-1,I=r.length-1;let O=0;for(let N=void 0!==h?65535&n[18]:0;N<I;N++)if("number"==typeof r[N+1]){if(O=r[N],null!=h&&O>=h)break}else r[N]<0&&(n[18]+=65536),(O<b||-1==b)&&(gs(n,a,r,N),n[18]=(4294901760&n[18])+N+2),N++}function gs(n,r,a,h){const p=a[h]<0,b=a[h+1],O=n[p?-a[h]:a[h]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{b.call(O)}finally{}}}else try{b.call(O)}finally{}}class Ki{constructor(r,a,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function la(n,r,a){let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const b=a[h++],I=a[h++],O=a[h++];n.setAttribute(r,I,O,b)}else{const b=p,I=a[++h];ga(b)?n.setProperty(r,b,I):n.setAttribute(r,b,I),h++}}return h}function ol(n){return 3===n||4===n||6===n}function ga(n){return 64===n.charCodeAt(0)}function Dl(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let h=0;h<r.length;h++){const p=r[h];"number"==typeof p?a=p:0===a||tc(n,a,p,null,-1===a||2===a?r[++h]:null)}}return n}function tc(n,r,a,h,p){let b=0,I=n.length;if(-1===r)I=-1;else for(;b<n.length;){const O=n[b++];if("number"==typeof O){if(O===r){I=-1;break}if(O>r){I=b-1;break}}}for(;b<n.length;){const O=n[b];if("number"==typeof O)break;if(O===a){if(null===h)return void(null!==p&&(n[b+1]=p));if(h===n[b+1])return void(n[b+2]=p)}b++,null!==h&&b++,null!==p&&b++}-1!==I&&(n.splice(I,0,r),b=I+1),n.splice(b++,0,a),null!==h&&n.splice(b++,0,h),null!==p&&n.splice(b++,0,p)}function Or(n){return-1!==n}function Ji(n){return 32767&n}function ys(n,r){let a=function bi(n){return n>>16}(n),h=r;for(;a>0;)h=h[15],a--;return h}let Hc=!0;function Ut(n){const r=Hc;return Hc=n,r}let hn=0;const _n={};function qt(n,r){const a=kt(n,r);if(-1!==a)return a;const h=r[1];h.firstCreatePass&&(n.injectorIndex=r.length,pt(h.data,n),pt(r,null),pt(h.blueprint,null));const p=ir(n,r),b=n.injectorIndex;if(Or(p)){const I=Ji(p),O=ys(p,r),N=O[1].data;for(let G=0;G<8;G++)r[b+G]=O[I+G]|N[I+G]}return r[b+8]=p,b}function pt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function kt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ir(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,h=null,p=r;for(;null!==p;){if(h=ri(p),null===h)return-1;if(a++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return-1}function _a(n,r,a){!function wl(n,r,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(yn)&&(h=a[yn]),null==h&&(h=a[yn]=hn++);const p=255&h;r.data[n+(p>>5)]|=1<<p}(n,r,a)}function sl(n,r,a){if(a&St.Optional||void 0!==n)return n;Oe()}function Ua(n,r,a,h){if(a&St.Optional&&void 0===h&&(h=null),0==(a&(St.Self|St.Host))){const p=n[9],b=li(void 0);try{return p?p.get(r,h,a&St.Optional):Bi(r,h,a&St.Optional)}finally{li(b)}}return sl(h,0,a)}function ya(n,r,a,h=St.Default,p){if(null!==n){if(1024&r[2]){const I=function va(n,r,a,h,p){let b=n,I=r;for(;null!==b&&null!==I&&1024&I[2]&&!(256&I[2]);){const O=nc(b,I,a,h|St.Self,_n);if(O!==_n)return O;let N=b.parent;if(!N){const G=I[21];if(G){const te=G.get(a,_n,h);if(te!==_n)return te}N=ri(I),I=I[15]}b=N}return p}(n,r,a,h,_n);if(I!==_n)return I}const b=nc(n,r,a,h,_n);if(b!==_n)return b}return Ua(r,a,h,p)}function nc(n,r,a,h,p){const b=function Ml(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(yn)?n[yn]:void 0;return"number"==typeof r?r>=0?255&r:Ha:r}(a);if("function"==typeof b){if(!aa(r,n,h))return h&St.Host?sl(p,0,h):Ua(r,a,h,p);try{const I=b(h);if(null!=I||h&St.Optional)return I;Oe()}finally{k()}}else if("number"==typeof b){let I=null,O=kt(n,r),N=-1,G=h&St.Host?r[16][6]:null;for((-1===O||h&St.SkipSelf)&&(N=-1===O?ir(n,r):r[O+8],-1!==N&&$n(h,!1)?(I=r[1],O=Ji(N),r=ys(N,r)):O=-1);-1!==O;){const te=r[1];if(Ro(b,O,te.data)){const he=fr(O,r,a,I,h,G);if(he!==_n)return he}N=r[O+8],-1!==N&&$n(h,r[1].data[O+8]===G)&&Ro(b,O,r)?(I=te,O=Ji(N),r=ys(N,r)):O=-1}}return p}function fr(n,r,a,h,p,b){const I=r[1],O=I.data[n+8],te=Va(O,I,a,null==h?_o(O)&&Hc:h!=I&&0!=(3&O.type),p&St.Host&&b===O);return null!==te?Gs(r,I,te,O):_n}function Va(n,r,a,h,p){const b=n.providerIndexes,I=r.data,O=1048575&b,N=n.directiveStart,te=b>>20,Be=p?O+te:n.directiveEnd;for(let it=h?O:O+te;it<Be;it++){const Tt=I[it];if(it<N&&a===Tt||it>=N&&Tt.type===a)return it}if(p){const it=I[N];if(it&&gr(it)&&it.type===a)return N}return null}function Gs(n,r,a,h){let p=n[a];const b=r.data;if(function zs(n){return n instanceof Ki}(p)){const I=p;I.resolving&&function Ae(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Je(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():tt(n)}(b[a]));const O=Ut(I.canSeeViewProviders);I.resolving=!0;const N=I.injectImpl?li(I.injectImpl):null;aa(n,h,St.Default);try{p=n[a]=I.factory(void 0,b,n,h),r.firstCreatePass&&a>=h.directiveStart&&function Ir(n,r,a){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:b}=r.type.prototype;if(h){const I=To(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,I),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,I)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,p),b&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,b),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,b))}(a,b[a],r)}finally{null!==N&&li(N),Ut(O),I.resolving=!1,k()}}return p}function Ro(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function $n(n,r){return!(n&St.Self||n&St.Host&&r)}class zo{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,h){return ya(this._tNode,this._lView,r,h,a)}}function Ha(){return new zo(ur(),Pt())}function hr(n){return _i(()=>{const r=n.prototype.constructor,a=r[Pn]||wn(r),h=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==h;){const b=p[Pn]||wn(p);if(b&&b!==a)return b;p=Object.getPrototypeOf(p)}return b=>new b})}function wn(n){return gt(n)?()=>{const r=wn(Se(n));return r&&r()}:Ni(n)}function ri(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function al(n){return function Il(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const h=a.length;let p=0;for(;p<h;){const b=a[p];if(ol(b))break;if(0===b)p+=2;else if("number"==typeof b)for(p++;p<h&&"string"==typeof a[p];)p++;else{if(b===r)return a[p+1];p+=2}}}return null}(ur(),n)}const Yt="__parameters__";function ba(n,r,a){return _i(()=>{const h=function rs(n){return function(...a){if(n){const h=n(...a);for(const p in h)this[p]=h[p]}}}(r);function p(...b){if(this instanceof p)return h.apply(this,b),this;const I=new p(...b);return O.annotation=I,O;function O(N,G,te){const he=N.hasOwnProperty(Yt)?N[Yt]:Object.defineProperty(N,Yt,{value:[]})[Yt];for(;he.length<=te;)he.push(null);return(he[te]=he[te]||[]).push(I),N}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Ti{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Pe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function br(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let h=n[a];Array.isArray(h)?(r===n&&(r=n.slice(0,a)),br(h,r)):r!==n&&r.push(h)}return r}function Go(n,r){n.forEach(a=>Array.isArray(a)?Go(a,r):r(a))}function Ea(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function qs(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ca(n,r){const a=[];for(let h=0;h<n;h++)a.push(r);return a}function ae(n,r,a){let h=ht(n,r);return h>=0?n[1|h]=a:(h=~h,function M(n,r,a,h){let p=n.length;if(p==r)n.push(a,h);else if(1===p)n.push(h,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=a,n[r+1]=h}}(n,h,r,a)),h}function me(n,r){const a=ht(n,r);if(a>=0)return n[1|a]}function ht(n,r){return function Tn(n,r,a){let h=0,p=n.length>>a;for(;p!==h;){const b=h+(p-h>>1),I=n[b<<a];if(r===I)return b<<a;I>r?p=b:h=b+1}return~(p<<a)}(n,r,1)}const ll={},Qs="__NG_DI_FLAG__",Io="ngTempTokenPath",sc=/\n/gm,Sl="__source";let No;function ro(n){const r=No;return No=n,r}function xl(n,r=St.Default){if(void 0===No)throw new Je(-203,!1);return null===No?Bi(n,void 0,r):No.get(n,r&St.Optional?null:void 0,r)}function rr(n,r=St.Default){return(function ii(){return On}()||xl)(Se(n),r)}function B(n,r=St.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),rr(n,r)}function W(n){const r=[];for(let a=0;a<n.length;a++){const h=Se(n[a]);if(Array.isArray(h)){if(0===h.length)throw new Je(900,!1);let p,b=St.Default;for(let I=0;I<h.length;I++){const O=h[I],N=ve(O);"number"==typeof N?-1===N?p=O.token:b|=N:p=O}r.push(rr(p,b))}else r.push(rr(h))}return r}function Q(n,r){return n[Qs]=r,n.prototype[Qs]=r,n}function ve(n){return n[Qs]}const Xt=Q(ba("Optional"),8),zn=Q(ba("SkipSelf"),4);let Wc,gd,Su;function cl(n){Wc=n}function cc(n){return function _d(){if(void 0===gd&&(gd=null,at.trustedTypes))try{gd=at.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gd}()?.createHTML(n)||n}function yd(n){return function xu(){if(void 0===Su&&(Su=null,at.trustedTypes))try{Su=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Su}()?.createHTML(n)||n}class Ur{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pl extends Ur{getTypeName(){return"HTML"}}class Lt extends Ur{getTypeName(){return"Style"}}class Ou extends Ur{getTypeName(){return"Script"}}class vd extends Ur{getTypeName(){return"URL"}}class $c extends Ur{getTypeName(){return"ResourceURL"}}function wa(n){return n instanceof Ur?n.changingThisBreaksApplicationSecurity:n}function hl(n,r){const a=function Eh(n){return n instanceof Ur&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function Vf(n){return new Pl(n)}function Hf(n){return new Lt(n)}function jf(n){return new Ou(n)}function bd(n){return new vd(n)}function bm(n){return new $c(n)}class Wf{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(cc(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class zc{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const h=this.inertDocument.createElement("body");a.appendChild(h)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=cc(r),a;const h=this.inertDocument.createElement("body");return h.innerHTML=cc(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const a=r.attributes;for(let p=a.length-1;0<p;p--){const I=a.item(p).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&r.removeAttribute(I)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const E=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function C(n){return(n=String(n)).match(E)?n:"unsafe:"+n}function P(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function Y(...n){const r={};for(const a of n)for(const h in a)a.hasOwnProperty(h)&&(r[h]=!0);return r}const oe=P("area,br,col,hr,img,wbr"),et=P("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mt=P("rp,rt"),zi=Y(oe,Y(et,P("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Y(Mt,P("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Y(Mt,et)),ss=P("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ia=Y(ss,P("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),P("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dd=P("script,style,template");class uc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!zi.hasOwnProperty(a))return this.sanitizedSomething=!0,!Dd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=r.attributes;for(let p=0;p<h.length;p++){const b=h.item(p),I=b.name,O=I.toLowerCase();if(!Ia.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let N=b.value;ss[O]&&(N=C(N)),this.buf.push(" ",I,'="',Gc(N),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();zi.hasOwnProperty(a)&&!oe.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Gc(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,as=/([^\#-~ |!])/g;function Gc(n){return n.replace(/&/g,"&amp;").replace(Rl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(as,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function hc(n,r){let a=null;try{dc=dc||function Ed(n){const r=new zc(n);return function S(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new Wf(r):r}(n);let h=r?String(r):"";a=dc.getInertBodyElement(h);let p=5,b=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=b,b=a.innerHTML,a=dc.getInertBodyElement(h)}while(h!==b);return cc((new uc).sanitizeChildren(Ma(a)||a))}finally{if(a){const h=Ma(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ma(n){return"content"in n&&function Za(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function Yr(n){const r=Pu();return r?yd(r.sanitize(pr.HTML,n)||""):hl(n,"HTML")?yd(wa(n)):hc(function Js(){return void 0!==Wc?Wc:typeof document<"u"?document:void 0}(),tt(n))}function Zc(n){const r=Pu();return r?r.sanitize(pr.URL,n)||"":hl(n,"URL")?wa(n):C(tt(n))}function Pu(){const n=Pt();return n&&n[12]}const qc=new Ti("ENVIRONMENT_INITIALIZER"),Kf=new Ti("INJECTOR",-1),Dm=new Ti("INJECTOR_DEF_TYPES");class hi{get(r,a=ll){if(a===ll){const h=new Error(`NullInjectorError: No provider for ${pe(r)}!`);throw h.name="NullInjectorError",h}return a}}function a_(...n){return{\u0275providers:Id(0,n)}}function Id(n,...r){const a=[],h=new Set;let p;return Go(r,b=>{const I=b;Ru(I,a,[],h)&&(p||(p=[]),p.push(I))}),void 0!==p&&Yc(p,a),a}function Yc(n,r){for(let a=0;a<n.length;a++){const{providers:p}=n[a];Go(p,b=>{r.push(b)})}}function Ru(n,r,a,h){if(!(n=Se(n)))return!1;let p=null,b=Un(n);const I=!b&&X(n);if(b||I){if(I&&!I.standalone)return!1;p=n}else{const N=n.ngModule;if(b=Un(N),!b)return!1;p=N}const O=h.has(p);if(I){if(O)return!1;if(h.add(p),I.dependencies){const N="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const G of N)Ru(G,r,a,h)}}else{if(!b)return!1;{if(null!=b.imports&&!O){let G;h.add(p);try{Go(b.imports,te=>{Ru(te,r,a,h)&&(G||(G=[]),G.push(te))})}finally{}void 0!==G&&Yc(G,r)}if(!O){const G=Ni(p)||(()=>new p);r.push({provide:p,useFactory:G,deps:zt},{provide:Dm,useValue:p,multi:!0},{provide:qc,useValue:()=>rr(p),multi:!0})}const N=b.providers;null==N||O||Go(N,te=>{r.push(te)})}}return p!==n&&void 0!==n.providers}const wm=Re({provide:String,useValue:Re});function Dh(n){return null!==n&&"object"==typeof n&&wm in n}function pc(n){return"function"==typeof n}const Gf=new Ti("Set Injector scope."),wh={},Tm={};let Qc;function Md(){return void 0===Qc&&(Qc=new hi),Qc}class Nl{}class Lo extends Nl{constructor(r,a,h,p){super(),this.parent=a,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mh(r,I=>this.processProvider(I)),this.records.set(Kf,Es(void 0,this)),p.has("environment")&&this.records.set(Nl,Es(void 0,this));const b=this.records.get(Gf);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Dm.multi,zt,St.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=ro(this),h=li(void 0);try{return r()}finally{ro(a),li(h)}}get(r,a=ll,h=St.Default){this.assertNotDestroyed();const p=ro(this),b=li(void 0);try{if(!(h&St.SkipSelf)){let O=this.records.get(r);if(void 0===O){const N=function xm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ti}(r)&&gn(r);O=N&&this.injectableDefInScope(N)?Es(Td(r),wh):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(h&St.Self?Md():this.parent).get(r,a=h&St.Optional&&a===ll?null:a)}catch(I){if("NullInjectorError"===I.name){if((I[Io]=I[Io]||[]).unshift(pe(r)),p)throw I;return function $e(n,r,a,h){const p=n[Io];throw r[Sl]&&p.unshift(r[Sl]),n.message=function lt(n,r,a,h=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=pe(r);if(Array.isArray(r))p=r.map(pe).join(" -> ");else if("object"==typeof r){let b=[];for(let I in r)if(r.hasOwnProperty(I)){let O=r[I];b.push(I+":"+("string"==typeof O?JSON.stringify(O):pe(O)))}p=`{${b.join(", ")}}`}return`${a}${h?"("+h+")":""}[${p}]: ${n.replace(sc,"\n  ")}`}("\n"+n.message,p,a,h),n.ngTokenPath=p,n[Io]=null,n}(I,r,"R3InjectorError",this.source)}throw I}finally{li(b),ro(p)}}resolveInjectorInitializers(){const r=ro(this),a=li(void 0);try{const h=this.get(qc.multi,zt,St.Self);for(const p of h)p()}finally{ro(r),li(a)}}toString(){const r=[],a=this.records;for(const h of a.keys())r.push(pe(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(r){let a=pc(r=Se(r))?r:Se(r&&r.provide);const h=function Ad(n){return Dh(n)?Es(void 0,n.useValue):Es(qa(n),wh)}(r);if(pc(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=Es(void 0,wh,!0),p.factory=()=>W(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,h)}hydrate(r,a){return a.value===wh&&(a.value=Tm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ih(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=Se(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Td(n){const r=gn(n),a=null!==r?r.factory:Ni(n);if(null!==a)return a;if(n instanceof Ti)throw new Je(204,!1);if(n instanceof Function)return function Am(n){const r=n.length;if(r>0)throw Ca(r,"?"),new Je(204,!1);const a=function Jn(n){const r=n&&(n[Zn]||n[Zi]);if(r){const a=function fi(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Je(204,!1)}function qa(n,r,a){let h;if(pc(n)){const p=Se(n);return Ni(p)||Td(p)}if(Dh(n))h=()=>Se(n.useValue);else if(function Im(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...W(n.deps||[]));else if(function zf(n){return!(!n||!n.useExisting)}(n))h=()=>rr(Se(n.useExisting));else{const p=Se(n&&(n.useClass||n.provide));if(!function Sm(n){return!!n.deps}(n))return Ni(p)||Td(p);h=()=>new p(...W(n.deps))}return h}function Es(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function Om(n){return!!n.\u0275providers}function Mh(n,r){for(const a of n)Array.isArray(a)?Mh(a,r):Om(a)?Mh(a.\u0275providers,r):r(a)}class l_{}class Rm{resolveComponentFactory(r){throw function ku(n){const r=Error(`No component factory found for ${pe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Xc=(()=>{class n{}return n.NULL=new Rm,n})();function km(){return Nu(ur(),Pt())}function Nu(n,r){return new Lu(Wi(n,r))}let Lu=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=km,n})();function c_(n){return n instanceof Lu?n.nativeElement:n}class Jc{}let Sd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function u_(){const n=Pt(),a=ci(ur().index,n);return(Ii(a)?a:n)[11]}(),n})(),d_=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null}),n})();class Nm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Zf=new Nm("14.2.11"),ls={};function Qf(n){return n.ngOriginalError}class xd{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Qf(r);for(;a&&Qf(a);)a=Qf(a);return a||null}}const eu=new Map;let Oh=0;const nu="__ngContext__";function Yo(n,r){Ii(r)?(n[nu]=r[20],function Ph(n){eu.set(n[20],n)}(r)):n[nu]=r}function Nh(n){return n.ownerDocument.defaultView}function Cs(n){return n instanceof Function?n():n}var ta=(()=>((ta=ta||{})[ta.Important=1]="Important",ta[ta.DashCase=2]="DashCase",ta))();function ua(n,r){return undefined(n,r)}function yc(n){const r=n[3];return Jr(r)?r[3]:r}function ru(n){return ou(n[13])}function Bu(n){return ou(n[4])}function ou(n){for(;null!==n&&!Jr(n);)n=n[4];return n}function da(n,r,a,h,p){if(null!=h){let b,I=!1;Jr(h)?b=h:Ii(h)&&(I=!0,h=h[0]);const O=Li(h);0===n&&null!==a?null==p?Cc(r,a,O):ha(r,a,O,p||null,!0):1===n&&null!==a?ha(r,a,O,p||null,!0):2===n?function Ud(n,r,a){const h=Fd(n,r);h&&function Gm(n,r,a,h){n.removeChild(r,a,h)}(n,h,r,a)}(r,O,I):3===n&&r.destroyNode(O),null!=b&&function lu(n,r,a,h,p){const b=a[7];b!==Li(a)&&da(r,n,h,b,p);for(let O=10;O<a.length;O++){const N=a[O];Dc(N[1],N,n,r,h,b)}}(r,n,b,a,p)}}function Uu(n,r,a){return n.createElement(r,a)}function kd(n,r){const a=n[9],h=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,Mi(p,-1)),a.splice(h,1)}function ap(n,r){if(n.length<=10)return;const a=10+r,h=n[a];if(h){const p=h[17];null!==p&&p!==n&&kd(p,h),r>0&&(n[a-1][4]=h[4]);const b=qs(n,10+r);!function jl(n,r){Dc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const I=b[19];null!==I&&I.detachView(b[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Nd(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&Dc(n,r,a,3,null,null),function zm(n){let r=n[13];if(!r)return Fh(n[1],n);for(;r;){let a=null;if(Ii(r))a=r[13];else{const h=r[10];h&&(a=h)}if(!a){for(;r&&!r[4]&&r!==n;)Ii(r)&&Fh(r[1],r),r=r[3];null===r&&(r=n),Ii(r)&&Fh(r[1],r),a=r&&r[4]}r=a}}(r)}}function Fh(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Ld(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let h=0;h<a.length;h+=2){const p=r[a[h]];if(!(p instanceof Ki)){const b=a[h+1];if(Array.isArray(b))for(let I=0;I<b.length;I+=2){const O=p[b[I]],N=b[I+1];try{N.call(O)}finally{}}else try{b.call(p)}finally{}}}}(n,r),function Bh(n,r){const a=n.cleanup,h=r[7];let p=-1;if(null!==a)for(let b=0;b<a.length-1;b+=2)if("string"==typeof a[b]){const I=a[b+1],O="function"==typeof I?I(r):Li(r[I]),N=h[p=a[b+2]],G=a[b+3];"boolean"==typeof G?O.removeEventListener(a[b],N,G):G>=0?h[p=G]():h[p=-G].unsubscribe(),b+=2}else{const I=h[p=a[b+1]];a[b].call(I)}if(null!==h){for(let b=p+1;b<h.length;b++)(0,h[b])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&Jr(r[3])){a!==r[3]&&kd(a,r);const h=r[19];null!==h&&h.detachView(n)}!function jm(n){eu.delete(n[20])}(r)}}function lp(n,r,a){return function Uh(n,r,a){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return a[0];if(2&h.flags){const p=n.data[h.directiveStart].encapsulation;if(p===st.None||p===st.Emulated)return null}return Wi(h,a)}(n,r.parent,a)}function ha(n,r,a,h,p){n.insertBefore(r,a,h,p)}function Cc(n,r,a){n.appendChild(r,a)}function Vh(n,r,a,h,p){null!==h?ha(n,r,a,h,p):Cc(n,r,a)}function Fd(n,r){return n.parentNode(r)}function Zm(n,r,a){return kr(n,r,a)}let kr=function Hh(n,r,a){return 40&n.type?Wi(n,a):null};function su(n,r,a,h){const p=lp(n,h,r),b=r[11],O=Zm(h.parent||r[6],h,r);if(null!=p)if(Array.isArray(a))for(let N=0;N<a.length;N++)Vh(b,p,a[N],O,!1);else Vh(b,p,a,O,!1)}function Wh(n,r){if(null!==r){const a=r.type;if(3&a)return Wi(r,n);if(4&a)return up(-1,n[r.index]);if(8&a){const h=r.child;if(null!==h)return Wh(n,h);{const p=n[r.index];return Jr(p)?up(-1,p):Li(p)}}if(32&a)return ua(r,n)()||Li(n[r.index]);{const h=cp(n,r);return null!==h?Array.isArray(h)?h[0]:Wh(yc(n[16]),h):Wh(n,r.next)}}return null}function cp(n,r){return null!==r?n[16][6].projection[r.projection]:null}function up(n,r){const a=10+n+1;if(a<r.length){const h=r[a],p=h[1].firstChild;if(null!==p)return Wh(h,p)}return r[7]}function dp(n,r,a,h,p,b,I){for(;null!=a;){const O=h[a.index],N=a.type;if(I&&0===r&&(O&&Yo(Li(O),h),a.flags|=4),64!=(64&a.flags))if(8&N)dp(n,r,a.child,h,p,b,!1),da(r,n,p,O,b);else if(32&N){const G=ua(a,h);let te;for(;te=G();)da(r,n,p,te,b);da(r,n,p,O,b)}else 16&N?au(n,r,h,a,p,b):da(r,n,p,O,b);a=I?a.projectionNext:a.next}}function Dc(n,r,a,h,p,b){dp(a,h,n.firstChild,r,p,b,!1)}function au(n,r,a,h,p,b){const I=a[16],N=I[6].projection[h.projection];if(Array.isArray(N))for(let G=0;G<N.length;G++)da(r,n,p,N[G],b);else dp(n,r,N,I[3],p,b,!0)}function Kh(n,r,a){n.setAttribute(r,"style",a)}function Vu(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function fp(n,r,a){let h=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const b=r.length;if(p+b===h||n.charCodeAt(p+b)<=32)return p}a=p+1}}const Vd="ng-template";function v_(n,r,a){let h=0;for(;h<n.length;){let p=n[h++];if(a&&"class"===p){if(p=n[h],-1!==fp(p.toLowerCase(),r,0))return!0}else if(1===p){for(;h<n.length&&"string"==typeof(p=n[h++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function $h(n){return 4===n.type&&n.value!==Vd}function b_(n,r,a){return r===(4!==n.type||a?n.value:Vd)}function pp(n,r,a){let h=4;const p=n.attrs||[],b=function ju(n){for(let r=0;r<n.length;r++)if(ol(n[r]))return r;return n.length}(p);let I=!1;for(let O=0;O<r.length;O++){const N=r[O];if("number"!=typeof N){if(!I)if(4&h){if(h=2|1&h,""!==N&&!b_(n,N,a)||""===N&&1===r.length){if(fa(h))return!1;I=!0}}else{const G=8&h?N:r[++O];if(8&h&&null!==n.attrs){if(!v_(n.attrs,G,a)){if(fa(h))return!1;I=!0}continue}const he=mp(8&h?"class":N,p,$h(n),a);if(-1===he){if(fa(h))return!1;I=!0;continue}if(""!==G){let Be;Be=he>b?"":p[he+1].toLowerCase();const it=8&h?Be:null;if(it&&-1!==fp(it,G,0)||2&h&&G!==Be){if(fa(h))return!1;I=!0}}}}else{if(!I&&!fa(h)&&!fa(N))return!1;if(I&&fa(N))continue;I=!1,h=N|1&h}}return fa(h)||I}function fa(n){return 0==(1&n)}function mp(n,r,a,h){if(null===r)return-1;let p=0;if(h||!a){let b=!1;for(;p<r.length;){const I=r[p];if(I===n)return p;if(3===I||6===I)b=!0;else{if(1===I||2===I){let O=r[++p];for(;"string"==typeof O;)O=r[++p];continue}if(4===I)break;if(0===I){p+=4;continue}}p+=b?1:2}return-1}return function gp(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const h=n[a];if("number"==typeof h)return-1;if(h===r)return a;a++}return-1}(r,n)}function E_(n,r,a=!1){for(let h=0;h<r.length;h++)if(pp(n,r[h],a))return!0;return!1}function zh(n,r){e:for(let a=0;a<r.length;a++){const h=r[a];if(n.length===h.length){for(let p=0;p<n.length;p++)if(n[p]!==h[p])continue e;return!0}}return!1}function _p(n,r){return n?":not("+r.trim()+")":r}function qm(n){let r=n[0],a=1,h=2,p="",b=!1;for(;a<n.length;){let I=n[a];if("string"==typeof I)if(2&h){const O=n[++a];p+="["+I+(O.length>0?'="'+O+'"':"")+"]"}else 8&h?p+="."+I:4&h&&(p+=" "+I);else""!==p&&!fa(I)&&(r+=_p(b,p),p=""),h=I,b=b||!fa(h);a++}return""!==p&&(r+=_p(b,p)),r}const si={};function vp(n){Gh(Yn(),Pt(),we()+n,!1)}function Gh(n,r,a,h){if(!h)if(3==(3&r[2])){const b=n.preOrderCheckHooks;null!==b&&Ri(r,b,a)}else{const b=n.preOrderHooks;null!==b&&Oo(r,b,0,a)}ot(a)}function uu(n,r=null,a=null,h){const p=qh(n,r,a,h);return p.resolveInjectorInitializers(),p}function qh(n,r=null,a=null,h,p=new Set){const b=[a||zt,a_(n)];return h=h||("object"==typeof n?void 0:pe(n)),new Lo(b,r||Md(),h||null,p)}let wc=(()=>{class n{static create(a,h){if(Array.isArray(a))return uu({name:""},h,a,"");{const p=a.name??"";return uu({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=ll,n.NULL=new hi,n.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>rr(Kf)}),n.__NG_ELEMENT_ID__=-1,n})();function Qu(n,r=St.Default){const a=Pt();return null===a?rr(n,r):ya(ur(),a,Se(n),r)}function ef(){throw new Error("invalid")}function Xu(n,r){return n<<17|r<<2}function Aa(n){return n>>17&32767}function Zd(n){return 2|n}function gl(n){return(131068&n)>>2}function nf(n,r){return-131069&n|r<<2}function Jm(n){return 1|n}function Bp(n,r){const a=n.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const p=a[h],b=a[h+1];if(-1!==b){const I=n.data[b];xo(p),I.contentQueries(2,r[b],b)}}}function af(n,r,a,h,p,b,I,O,N,G,te){const he=r.blueprint.slice();return he[0]=p,he[2]=76|h,(null!==te||n&&1024&n[2])&&(he[2]|=1024),Gr(he),he[3]=he[15]=n,he[8]=a,he[10]=I||n&&n[10],he[11]=O||n&&n[11],he[12]=N||n&&n[12]||null,he[9]=G||n&&n[9]||null,he[6]=b,he[20]=function Ll(){return Oh++}(),he[21]=te,he[16]=2==r.type?n[16]:he,he}function gu(n,r,a,h,p){let b=n.data[r];if(null===b)b=function Up(n,r,a,h,p){const b=$(),I=ie(),N=n.data[r]=function Zy(n,r,a,h,p,b){return{type:a,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?b:b&&b.parent,a,r,h,p);return null===n.firstChild&&(n.firstChild=N),null!==b&&(I?null==b.child&&null!==N.parent&&(b.child=N):null===b.next&&(b.next=N)),N}(n,r,a,h,p),function il(){return Kn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=a,b.value=h,b.attrs=p;const I=function j(){const n=Kn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();b.injectorIndex=null===I?-1:I.injectorIndex}return V(b,!0),b}function Jd(n,r,a,h){if(0===a)return-1;const p=r.length;for(let b=0;b<a;b++)r.push(h),n.blueprint.push(h),n.data.push(null);return p}function eh(n,r,a){Rs(r);try{const h=n.viewQuery;null!==h&&Yp(1,h,a);const p=n.template;null!==p&&Hp(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Bp(n,r),n.staticViewQueries&&Yp(2,n.viewQuery,a);const b=n.components;null!==b&&function cg(n,r){for(let a=0;a<r.length;a++)U_(n,r[a])}(r,b)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[2]&=-5,q()}}function Vp(n,r,a,h){const p=r[2];if(128!=(128&p)){Rs(r);try{Gr(r),function Hi(n){return Kn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Hp(n,r,a,2,h);const I=3==(3&p);if(I){const G=n.preOrderCheckHooks;null!==G&&Ri(r,G,null)}else{const G=n.preOrderHooks;null!==G&&Oo(r,G,0,null),Co(r,0)}if(function ff(n){for(let r=ru(n);null!==r;r=Bu(r)){if(!r[2])continue;const a=r[9];for(let h=0;h<a.length;h++){const p=a[h],b=p[3];0==(512&p[2])&&Mi(b,1),p[2]|=512}}}(r),function nv(n){for(let r=ru(n);null!==r;r=Bu(r))for(let a=10;a<r.length;a++){const h=r[a],p=h[1];vo(h)&&Vp(p,h,p.template,h[8])}}(r),null!==n.contentQueries&&Bp(n,r),I){const G=n.contentCheckHooks;null!==G&&Ri(r,G)}else{const G=n.contentHooks;null!==G&&Oo(r,G,1),Co(r,1)}!function zy(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let h=0;h<a.length;h++){const p=a[h];if(p<0)ot(~p);else{const b=p,I=a[++h],O=a[++h];Na(I,b),O(2,r[b])}}}finally{ot(-1)}}(n,r);const O=n.components;null!==O&&function Gy(n,r){for(let a=0;a<r.length;a++)_g(n,r[a])}(r,O);const N=n.viewQuery;if(null!==N&&Yp(2,N,h),I){const G=n.viewCheckHooks;null!==G&&Ri(r,G)}else{const G=n.viewHooks;null!==G&&Oo(r,G,2),Co(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Mi(r[3],-1))}finally{q()}}}function Hp(n,r,a,h,p){const b=we(),I=2&h;try{ot(-1),I&&r.length>22&&Gh(n,r,22,!1),a(h,p)}finally{ot(b)}}function k_(n,r,a){if(Jo(r)){const p=r.directiveEnd;for(let b=r.directiveStart;b<p;b++){const I=n.data[b];I.contentQueries&&I.contentQueries(1,a[b],b)}}}function lf(n,r,a){!Zr()||(function pg(n,r,a,h){const p=a.directiveStart,b=a.directiveEnd;n.firstCreatePass||qt(a,r),Yo(h,r);const I=a.initialInputs;for(let O=p;O<b;O++){const N=n.data[O],G=gr(N);G&&Jy(r,a,N);const te=Gs(r,n,O,a);Yo(te,r),null!==I&&mg(0,O-p,te,N,0,I),G&&(ci(a.index,r)[8]=te)}}(n,r,a,Wi(a,r)),128==(128&a.flags)&&function Qy(n,r,a){const h=a.directiveStart,p=a.directiveEnd,b=a.index,I=function rl(){return Kn.lFrame.currentDirectiveIndex}();try{ot(b);for(let O=h;O<p;O++){const N=n.data[O],G=r[O];ms(O),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&zp(N,G)}}finally{ot(-1),ms(I)}}(n,r,a))}function ug(n,r,a=Wi){const h=r.localNames;if(null!==h){let p=r.index+1;for(let b=0;b<h.length;b+=2){const I=h[b+1],O=-1===I?a(r,n):n[I];n[p++]=O}}}function cf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=th(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function th(n,r,a,h,p,b,I,O,N,G){const te=22+h,he=te+p,Be=function jp(n,r){const a=[];for(let h=0;h<r;h++)a.push(h<n?null:si);return a}(te,he),it="function"==typeof G?G():G;return Be[1]={type:n,blueprint:Be,template:a,queries:null,viewQuery:O,declTNode:r,data:Be.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:N,consts:it,incompleteFirstPass:!1}}function Wp(n,r,a,h){const p=yg(r);null===a?p.push(h):(p.push(a),n.firstCreatePass&&Nr(n).push(h,p.length-1))}function df(n,r,a){for(let h in n)if(n.hasOwnProperty(h)){const p=n[h];(a=null===a?{}:a).hasOwnProperty(h)?a[h].push(r,p):a[h]=[r,p]}return a}function Kl(n,r){const h=r.directiveEnd,p=n.data,b=r.attrs,I=[];let O=null,N=null;for(let G=r.directiveStart;G<h;G++){const te=p[G],he=te.inputs,Be=null===b||$h(r)?null:ev(he,b);I.push(Be),O=df(he,G,O),N=df(te.outputs,G,N)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=16),O.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=I,r.inputs=O,r.outputs=N}function Sa(n,r,a,h,p,b,I,O){const N=Wi(r,a);let te,G=r.inputs;!O&&null!=G&&(te=G[h])?(mf(n,a,te,h,p),_o(r)&&Kp(a,r.index)):3&r.type&&(h=function dg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),p=null!=I?I(p,r.value||"",h):p,b.setProperty(N,h,p))}function Kp(n,r){const a=ci(r,n);16&a[2]||(a[2]|=32)}function fg(n,r,a,h){let p=!1;if(Zr()){const b=function L_(n,r,a){const h=n.directiveRegistry;let p=null;if(h)for(let b=0;b<h.length;b++){const I=h[b];E_(a,I.selectors,!1)&&(p||(p=[]),_a(qt(a,r),n,I.type),gr(I)?(Gp(n,a),p.unshift(I)):p.push(I))}return p}(n,r,a),I=null===h?null:{"":-1};if(null!==b){p=!0,B_(a,n.data.length,b.length);for(let te=0;te<b.length;te++){const he=b[te];he.providersResolver&&he.providersResolver(he)}let O=!1,N=!1,G=Jd(n,r,b.length,null);for(let te=0;te<b.length;te++){const he=b[te];a.mergedAttrs=Dl(a.mergedAttrs,he.hostAttrs),Zp(n,a,r,G,he),Xy(G,he,I),null!==he.contentQueries&&(a.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(a.flags|=128);const Be=he.type.prototype;!O&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),O=!0),!N&&(Be.ngOnChanges||Be.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),N=!0),G++}Kl(n,a)}I&&function F_(n,r,a){if(r){const h=n.localNames=[];for(let p=0;p<r.length;p+=2){const b=a[r[p+1]];if(null==b)throw new Je(-301,!1);h.push(r[p],b)}}}(a,h,I)}return a.mergedAttrs=Dl(a.mergedAttrs,a.attrs),p}function $p(n,r,a,h,p,b){const I=b.hostBindings;if(I){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const N=~r.index;(function Yy(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(O)!=N&&O.push(N),O.push(h,p,I)}}function zp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Gp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Xy(n,r,a){if(a){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)a[r.exportAs[h]]=n;gr(r)&&(a[""]=n)}}function B_(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function Zp(n,r,a,h,p){n.data[h]=p;const b=p.factory||(p.factory=Ni(p.type)),I=new Ki(b,gr(p),Qu);n.blueprint[h]=I,a[h]=I,$p(n,r,0,h,Jd(n,a,p.hostVars,si),p)}function Jy(n,r,a){const h=Wi(r,n),p=cf(a),b=n[10],I=ed(n,af(n,p,null,a.onPush?32:16,h,r,b,b.createRenderer(h,a),null,null,null));n[r.index]=I}function Ja(n,r,a,h,p,b){const I=Wi(n,r);!function hf(n,r,a,h,p,b,I){if(null==b)n.removeAttribute(r,p,a);else{const O=null==I?tt(b):I(b,h||"",p);n.setAttribute(r,p,O,a)}}(r[11],I,b,n.value,a,h,p)}function mg(n,r,a,h,p,b){const I=b[r];if(null!==I){const O=h.setInput;for(let N=0;N<I.length;){const G=I[N++],te=I[N++],he=I[N++];null!==O?h.setInput(a,he,G,te):a[te]=he}}}function ev(n,r){let a=null,h=0;for(;h<r.length;){const p=r[h];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,n[p],r[h+1])),h+=2}else h+=2;else h+=4}return a}function gg(n,r,a,h){return new Array(n,!0,!1,r,null,0,h,a,null,null)}function _g(n,r){const a=ci(r,n);if(vo(a)){const h=a[1];48&a[2]?Vp(h,a,h.template,a[8]):a[5]>0&&qp(a)}}function qp(n){for(let h=ru(n);null!==h;h=Bu(h))for(let p=10;p<h.length;p++){const b=h[p];if(vo(b))if(512&b[2]){const I=b[1];Vp(I,b,I.template,b[8])}else b[5]>0&&qp(b)}const a=n[1].components;if(null!==a)for(let h=0;h<a.length;h++){const p=ci(a[h],n);vo(p)&&p[5]>0&&qp(p)}}function U_(n,r){const a=ci(r,n),h=a[1];(function V_(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(h,a),eh(h,a,a[8])}function ed(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ai(n){for(;n;){n[2]|=32;const r=yc(n);if(Is(n)&&!r)return n;n=r}return null}function pf(n,r,a,h=!0){const p=r[10];p.begin&&p.begin();try{Vp(n,r,n.template,a)}catch(I){throw h&&el(r,I),I}finally{p.end&&p.end()}}function Yp(n,r,a){xo(0),r(n,a)}function yg(n){return n[7]||(n[7]=[])}function Nr(n){return n.cleanup||(n.cleanup=[])}function cs(n,r,a){return(null===n||gr(n))&&(a=function ts(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(a[r.index])),a[11]}function el(n,r){const a=n[9],h=a?a.get(xd,null):null;h&&h.handleError(r)}function mf(n,r,a,h,p){for(let b=0;b<a.length;){const I=a[b++],O=a[b++],N=r[I],G=n.data[I];null!==G.setInput?G.setInput(N,p,h,O):N[O]=p}}function td(n,r,a){let h=a?n.styles:null,p=a?n.classes:null,b=0;if(null!==r)for(let I=0;I<r.length;I++){const O=r[I];"number"==typeof O?b=O:1==b?p=Ze(p,O):2==b&&(h=Ze(h,O+": "+r[++I]+";"))}a?n.styles=h:n.stylesWithoutHost=h,a?n.classes=p:n.classesWithoutHost=p}function gf(n,r,a,h,p=!1){for(;null!==a;){const b=r[a.index];if(null!==b&&h.push(Li(b)),Jr(b))for(let O=10;O<b.length;O++){const N=b[O],G=N[1].firstChild;null!==G&&gf(N[1],N,G,h)}const I=a.type;if(8&I)gf(n,r,a.child,h);else if(32&I){const O=ua(a,r);let N;for(;N=O();)h.push(N)}else if(16&I){const O=cp(r,a);if(Array.isArray(O))h.push(...O);else{const N=yc(r[16]);gf(N[1],N,O,h,!0)}}a=p?a.projectionNext:a.next}return h}class nd{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return gf(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Jr(r)){const a=r[8],h=a?a.indexOf(this):-1;h>-1&&(ap(r,h),qs(a,h))}this._attachedToViewContainer=!1}Nd(this._lView[1],this._lView)}onDestroy(r){Wp(this._lView[1],this._lView,null,r)}markForCheck(){Ai(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ec(n,r){Dc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=r}}class vg extends nd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;pf(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class nh extends Xc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=X(r);return new _f(a,this.ngModule)}}function H_(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class rv{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,h){const p=this.injector.get(r,ls,h);return p!==ls||a===ls?p:this.parentInjector.get(r,a,h)}}class _f extends l_{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function yp(n){return n.map(qm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return H_(this.componentDef.inputs)}get outputs(){return H_(this.componentDef.outputs)}create(r,a,h,p){let b=(p=p||this.ngModule)instanceof Nl?p:p?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const I=b?new rv(r,b):r,O=I.get(Jc,null);if(null===O)throw new Je(407,!1);const N=I.get(d_,null),G=O.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",he=h?function N_(n,r,a){return n.selectRootElement(r,a===st.ShadowDom)}(G,h,this.componentDef.encapsulation):Uu(G,te,function Gv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(te)),Be=this.componentDef.onPush?288:272,it=th(0,null,null,1,0,null,null,null,null,null),Tt=af(null,it,null,Be,null,null,O,G,N,I,null);let Qt,cn;Rs(Tt);try{const xn=function bg(n,r,a,h,p,b){const I=a[1];a[22]=n;const N=gu(I,22,2,"#host",null),G=N.mergedAttrs=r.hostAttrs;null!==G&&(td(N,G,!0),null!==n&&(la(p,n,G),null!==N.classes&&Vu(p,n,N.classes),null!==N.styles&&Kh(p,n,N.styles)));const te=h.createRenderer(n,r),he=af(a,cf(r),null,r.onPush?32:16,a[22],N,h,te,b||null,null,null);return I.firstCreatePass&&(_a(qt(N,a),I,r.type),Gp(I,N),B_(N,a.length,1)),ed(a,he),a[22]=he}(he,this.componentDef,Tt,O,G);if(he)if(h)la(G,he,["ng-version",Zf.full]);else{const{attrs:Xn,classes:Vt}=function C_(n){const r=[],a=[];let h=1,p=2;for(;h<n.length;){let b=n[h];if("string"==typeof b)2===p?""!==b&&r.push(b,n[++h]):8===p&&a.push(b);else{if(!fa(p))break;p=b}h++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);Xn&&la(G,he,Xn),Vt&&Vt.length>0&&Vu(G,he,Vt.join(" "))}if(cn=ns(it,22),void 0!==a){const Xn=cn.projection=[];for(let Vt=0;Vt<this.ngContentSelectors.length;Vt++){const ai=a[Vt];Xn.push(null!=ai?Array.from(ai):null)}}Qt=function j_(n,r,a,h){const p=a[1],b=function hg(n,r,a){const h=ur();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Zp(n,h,r,Jd(n,r,1,null),a),Kl(n,h));const p=Gs(r,n,h.directiveStart,h);Yo(p,r);const b=Wi(h,r);return b&&Yo(b,r),p}(p,a,r);if(n[8]=a[8]=b,null!==h)for(const O of h)O(b,r);if(r.contentQueries){const O=ur();r.contentQueries(1,b,O.directiveStart)}const I=ur();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ot(I.index),$p(a[1],I,0,I.directiveStart,I.directiveEnd,r),zp(r,b)),b}(xn,this.componentDef,Tt,[Eg]),eh(it,Tt,null)}finally{q()}return new sv(this.componentType,Qt,Nu(cn,Tt),Tt,cn)}}class sv extends class Pm{}{constructor(r,a,h,p,b){super(),this.location=h,this._rootLView=p,this._tNode=b,this.instance=a,this.hostView=this.changeDetectorRef=new vg(p),this.componentType=r}setInput(r,a){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[r])){const b=this._rootLView;mf(b[1],b,p,r,a),Kp(b,this._tNode.index)}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Eg(){const n=ur();gi(Pt()[1],n)}function yf(n){let r=function Xp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const h=[n];for(;r;){let p;if(gr(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Je(903,!1);p=r.\u0275dir}if(p){if(a){h.push(p);const I=n;I.inputs=vf(n.inputs),I.declaredInputs=vf(n.declaredInputs),I.outputs=vf(n.outputs);const O=p.hostBindings;O&&Cg(n,O);const N=p.viewQuery,G=p.contentQueries;if(N&&W_(n,N),G&&em(n,G),Ne(n.inputs,p.inputs),Ne(n.declaredInputs,p.declaredInputs),Ne(n.outputs,p.outputs),gr(p)&&p.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(p.data.animation)}}const b=p.features;if(b)for(let I=0;I<b.length;I++){const O=b[I];O&&O.ngInherit&&O(n),O===yf&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Jp(n){let r=0,a=null;for(let h=n.length-1;h>=0;h--){const p=n[h];p.hostVars=r+=p.hostVars,p.hostAttrs=Dl(p.hostAttrs,a=Dl(a,p.hostAttrs))}}(h)}function vf(n){return n===Hn?{}:n===zt?[]:n}function W_(n,r){const a=n.viewQuery;n.viewQuery=a?(h,p)=>{r(h,p),a(h,p)}:r}function em(n,r){const a=n.contentQueries;n.contentQueries=a?(h,p,b)=>{r(h,p,b),a(h,p,b)}:r}function Cg(n,r){const a=n.hostBindings;n.hostBindings=a?(h,p)=>{r(h,p),a(h,p)}:r}let rh=null;function id(){if(!rh){const n=at.Symbol;if(n&&n.iterator)rh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const h=r[a];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(rh=h)}}}return rh}function bf(n){return!!tm(n)&&(Array.isArray(n)||!(n instanceof Map)&&id()in n)}function tm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Us(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function mr(n,r,a,h){const p=Pt();return Us(p,xs(),r)&&(Yn(),Ja(yt(),p,n,r,a,h)),mr}function Cf(n,r,a,h){return Us(n,xs(),a)?r+tt(a)+h:si}function Ig(n,r,a,h,p,b,I,O){const N=Pt(),G=Yn(),te=n+22,he=G.firstCreatePass?function sh(n,r,a,h,p,b,I,O,N){const G=r.consts,te=gu(r,n,4,I||null,Di(G,O));fg(r,a,te,Di(G,N)),gi(r,te);const he=te.tViews=th(2,te,h,p,b,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,te),he.queries=r.queries.embeddedTView(te)),te}(te,G,N,r,a,h,p,b,I):G.data[te];V(he,!1);const Be=N[11].createComment("");su(G,N,Be,he),Yo(Be,N),ed(N,N[te]=gg(Be,N,Be,he)),ds(he)&&lf(G,N,he),null!=I&&ug(N,he,O)}function zl(n){return tr(function Vi(){return Kn.lFrame.contextLView}(),22+n)}function ah(n,r,a){const h=Pt();return Us(h,xs(),r)&&Sa(Yn(),yt(),h,n,r,h[11],a,!1),ah}function bu(n,r,a,h,p){const I=p?"class":"style";mf(n,a,r.inputs[I],I,h)}function Gl(n,r,a,h){const p=Pt(),b=Yn(),I=22+n,O=p[11],N=p[I]=Uu(O,r,function ei(){return Kn.lFrame.currentNamespace}()),G=b.firstCreatePass?function uv(n,r,a,h,p,b,I){const O=r.consts,G=gu(r,n,2,p,Di(O,b));return fg(r,a,G,Di(O,I)),null!==G.attrs&&td(G,G.attrs,!1),null!==G.mergedAttrs&&td(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(I,b,p,0,r,a,h):b.data[I];V(G,!0);const te=G.mergedAttrs;null!==te&&la(O,N,te);const he=G.classes;null!==he&&Vu(O,N,he);const Be=G.styles;return null!==Be&&Kh(O,N,Be),64!=(64&G.flags)&&su(b,p,N,G),0===function So(){return Kn.lFrame.elementDepthCount}()&&Yo(N,p),function Ra(){Kn.lFrame.elementDepthCount++}(),ds(G)&&(lf(b,p,G),k_(b,G,p)),null!==h&&ug(p,G),Gl}function xc(){let n=ur();ie()?ft():(n=n.parent,V(n,!1));const r=n;!function Ws(){Kn.lFrame.elementDepthCount--}();const a=Yn();return a.firstCreatePass&&(gi(a,n),Jo(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Cl(n){return 0!=(16&n.flags)}(r)&&bu(a,r,Pt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ba(n){return 0!=(32&n.flags)}(r)&&bu(a,r,Pt(),r.stylesWithoutHost,!1),xc}function Eu(n,r,a,h){return Gl(n,r,a,h),xc(),Eu}function sd(n,r,a){const h=Pt(),p=Yn(),b=n+22,I=p.firstCreatePass?function Mg(n,r,a,h,p){const b=r.consts,I=Di(b,h),O=gu(r,n,8,"ng-container",I);return null!==I&&td(O,I,!0),fg(r,a,O,Di(b,p)),null!==r.queries&&r.queries.elementStart(r,O),O}(b,p,h,r,a):p.data[b];V(I,!0);const O=h[b]=h[11].createComment("");return su(p,h,O,I),Yo(O,h),ds(I)&&(lf(p,h,I),k_(p,I,h)),null!=a&&ug(h,I),sd}function ad(){let n=ur();const r=Yn();return ie()?ft():(n=n.parent,V(n,!1)),r.firstCreatePass&&(gi(r,n),Jo(n)&&r.queries.elementEnd(n)),ad}function Tg(){return Pt()}function wf(n){return!!n&&"function"==typeof n.then}function im(n){return!!n&&"function"==typeof n.subscribe}const rm=im;function Zl(n,r,a,h){const p=Pt(),b=Yn(),I=ur();return om(b,p,p[11],I,n,r,0,h),Zl}function If(n,r){const a=ur(),h=Pt(),p=Yn();return om(p,h,cs(sa(p.data),a,h),a,n,r),If}function om(n,r,a,h,p,b,I,O){const N=ds(h),te=n.firstCreatePass&&Nr(n),he=r[8],Be=yg(r);let it=!0;if(3&h.type||O){const cn=Wi(h,r),xn=O?O(cn):cn,Xn=Be.length,Vt=O?Er=>O(Li(Er[h.index])):h.index;let ai=null;if(!O&&N&&(ai=function J_(n,r,a,h){const p=n.cleanup;if(null!=p)for(let b=0;b<p.length-1;b+=2){const I=p[b];if(I===a&&p[b+1]===h){const O=r[7],N=p[b+2];return O.length>N?O[N]:null}"string"==typeof I&&(b+=2)}return null}(n,r,p,h.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=b,ai.__ngLastListenerFn__=b,it=!1;else{b=ey(h,r,he,b,!1);const Er=a.listen(xn,p,b);Be.push(b,Er),te&&te.push(p,Vt,Xn,Xn+1)}}else b=ey(h,r,he,b,!1);const Tt=h.outputs;let Qt;if(it&&null!==Tt&&(Qt=Tt[p])){const cn=Qt.length;if(cn)for(let xn=0;xn<cn;xn+=2){const Mo=r[Qt[xn]][Qt[xn+1]].subscribe(b),ym=Be.length;Be.push(b,Mo),te&&te.push(p,h.index,ym,-(ym+1))}}}function sm(n,r,a,h){try{return!1!==a(h)}catch(p){return el(n,p),!1}}function ey(n,r,a,h,p){return function b(I){if(I===Function)return h;Ai(2&n.flags?ci(n.index,r):r);let N=sm(r,0,h,I),G=b.__ngNextListenerFn__;for(;G;)N=sm(r,0,G,I)&&N,G=G.__ngNextListenerFn__;return p&&!1===N&&(I.preventDefault(),I.returnValue=!1),N}}function lh(n=1){return function U(n){return(Kn.lFrame.contextLView=function ee(n,r){for(;n>0;)r=r[15],n--;return r}(n,Kn.lFrame.contextLView))[8]}(n)}function Mf(n,r){let a=null;const h=function Hu(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const b=r[p];if("*"!==b){if(null===h?E_(n,b,!0):zh(h,b))return p}else a=p}return a}function Ag(n){const r=Pt()[16][6];if(!r.projection){const h=r.projection=Ca(n?n.length:1,null),p=h.slice();let b=r.child;for(;null!==b;){const I=n?Mf(b,n):0;null!==I&&(p[I]?p[I].projectionNext=b:h[I]=b,p[I]=b),b=b.next}}}function ch(n,r=0,a){const h=Pt(),p=Yn(),b=gu(p,22+n,16,null,a||null);null===b.projection&&(b.projection=r),ft(),64!=(64&b.flags)&&function hp(n,r,a){au(r[11],0,r,a,lp(n,a,r),Zm(a.parent||r[6],a,r))}(p,h,b)}function Sg(n,r,a){return uh(n,"",r,"",a),Sg}function uh(n,r,a,h,p){const b=Pt(),I=Cf(b,r,a,h);return I!==si&&Sa(Yn(),yt(),b,n,I,b[11],p,!1),uh}function Pg(n,r,a,h,p){const b=n[a+1],I=null===r;let O=h?Aa(b):gl(b),N=!1;for(;0!==O&&(!1===N||I);){const te=n[O+1];oy(n[O],r)&&(N=!0,n[O+1]=h?Jm(te):Zd(te)),O=h?Aa(te):gl(te)}N&&(n[a+1]=h?Zd(b):Jm(b))}function oy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ht(n,r)>=0}const Fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rg(n){return n.substring(Fo.key,Fo.keyEnd)}function kg(n,r){const a=Fo.textEnd;return a===r?-1:(r=Fo.keyEnd=function fv(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,Fo.key=r,a),ql(n,r,a))}function ql(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function cm(n,r,a){return yl(n,r,a,!1),cm}function Lg(n,r){return yl(n,r,null,!0),Lg}function ly(n){!function vl(n,r,a,h){const p=Yn(),b=$o(2);p.firstUpdatePass&&Bg(p,null,b,h);const I=Pt();if(a!==si&&Us(I,b,a)){const O=p.data[we()];if(uy(O,h)&&!Fg(p,b)){let N=h?O.classesWithoutHost:O.stylesWithoutHost;null!==N&&(a=Ze(N,a||"")),bu(p,O,I,a,h)}else!function vv(n,r,a,h,p,b,I,O){p===si&&(p=zt);let N=0,G=0,te=0<p.length?p[0]:null,he=0<b.length?b[0]:null;for(;null!==te||null!==he;){const Be=N<p.length?p[N+1]:void 0,it=G<b.length?b[G+1]:void 0;let Qt,Tt=null;te===he?(N+=2,G+=2,Be!==it&&(Tt=he,Qt=it)):null===he||null!==te&&te<he?(N+=2,Tt=te):(G+=2,Tt=he,Qt=it),null!==Tt&&Ug(n,r,a,h,Tt,Qt,I,O),te=N<p.length?p[N]:null,he=G<b.length?b[G]:null}}(p,O,I,I[11],I[b+1],I[b+1]=function Xv(n,r,a){if(null==a||""===a)return zt;const h=[],p=wa(a);if(Array.isArray(p))for(let b=0;b<p.length;b++)n(h,p[b],!0);else if("object"==typeof p)for(const b in p)p.hasOwnProperty(b)&&n(h,b,p[b]);else"string"==typeof p&&r(h,p);return h}(n,r,a),h,b)}}(ae,Ql,n,!0)}function Ql(n,r){for(let a=function sy(n){return function lm(n){Fo.key=0,Fo.keyEnd=0,Fo.value=0,Fo.valueEnd=0,Fo.textEnd=n.length}(n),kg(n,ql(n,0,Fo.textEnd))}(r);a>=0;a=kg(r,a))ae(n,Rg(r),!0)}function yl(n,r,a,h){const p=Pt(),b=Yn(),I=$o(2);b.firstUpdatePass&&Bg(b,n,I,h),r!==si&&Us(p,I,r)&&Ug(b,b.data[we()],p,p[11],n,p[I+1]=function bv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=pe(wa(n)))),n}(r,a),h,I)}function Fg(n,r){return r>=n.expandoStartIndex}function Bg(n,r,a,h){const p=n.data;if(null===p[a+1]){const b=p[we()],I=Fg(n,a);uy(b,h)&&null===r&&!I&&(r=!1),r=function mv(n,r,a,h){const p=sa(n);let b=h?r.residualClasses:r.residualStyles;if(null===p)0===(h?r.classBindings:r.styleBindings)&&(a=cd(a=Rc(null,n,r,a,h),r.attrs,h),b=null);else{const I=r.directiveStylingLast;if(-1===I||n[I]!==p)if(a=Rc(p,n,r,a,h),null===b){let N=function gv(n,r,a){const h=a?r.classBindings:r.styleBindings;if(0!==gl(h))return n[Aa(h)]}(n,r,h);void 0!==N&&Array.isArray(N)&&(N=Rc(null,n,r,N[1],h),N=cd(N,r.attrs,h),function cy(n,r,a,h){n[Aa(a?r.classBindings:r.styleBindings)]=h}(n,r,h,N))}else b=function _v(n,r,a){let h;const p=r.directiveEnd;for(let b=1+r.directiveStylingLast;b<p;b++)h=cd(h,n[b].hostAttrs,a);return cd(h,r.attrs,a)}(n,r,h)}return void 0!==b&&(h?r.residualClasses=b:r.residualStyles=b),a}(p,b,r,h),function dv(n,r,a,h,p,b){let I=b?r.classBindings:r.styleBindings,O=Aa(I),N=gl(I);n[h]=a;let te,G=!1;if(Array.isArray(a)){const he=a;te=he[1],(null===te||ht(he,te)>0)&&(G=!0)}else te=a;if(p)if(0!==N){const Be=Aa(n[O+1]);n[h+1]=Xu(Be,O),0!==Be&&(n[Be+1]=nf(n[Be+1],h)),n[O+1]=function tf(n,r){return 131071&n|r<<17}(n[O+1],h)}else n[h+1]=Xu(O,0),0!==O&&(n[O+1]=nf(n[O+1],h)),O=h;else n[h+1]=Xu(N,0),0===O?O=h:n[N+1]=nf(n[N+1],h),N=h;G&&(n[h+1]=Zd(n[h+1])),Pg(n,te,h,!0),Pg(n,te,h,!1),function ry(n,r,a,h,p){const b=p?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof r&&ht(b,r)>=0&&(a[h+1]=Jm(a[h+1]))}(r,te,n,h,b),I=Xu(O,N),b?r.classBindings=I:r.styleBindings=I}(p,b,r,a,I,h)}}function Rc(n,r,a,h,p){let b=null;const I=a.directiveEnd;let O=a.directiveStylingLast;for(-1===O?O=a.directiveStart:O++;O<I&&(b=r[O],h=cd(h,b.hostAttrs,p),b!==n);)O++;return null!==n&&(a.directiveStylingLast=O),h}function cd(n,r,a){const h=a?1:2;let p=-1;if(null!==r)for(let b=0;b<r.length;b++){const I=r[b];"number"==typeof I?p=I:p===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ae(n,I,!!a||r[++b]))}return void 0===n?null:n}function Ug(n,r,a,h,p,b,I,O){if(!(3&r.type))return;const N=n.data,G=N[O+1];um(function Xm(n){return 1==(1&n)}(G)?kc(N,r,a,p,gl(G),I):void 0)||(um(b)||function hu(n){return 2==(2&n)}(G)&&(b=kc(N,null,a,p,O,I)),function cu(n,r,a,h,p){if(r)p?n.addClass(a,h):n.removeClass(a,h);else{let b=-1===h.indexOf("-")?void 0:ta.DashCase;null==p?n.removeStyle(a,h,b):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),b|=ta.Important),n.setStyle(a,h,p,b))}}(h,I,zr(we(),a),p,b))}function kc(n,r,a,h,p,b){const I=null===r;let O;for(;p>0;){const N=n[p],G=Array.isArray(N),te=G?N[1]:N,he=null===te;let Be=a[p+1];Be===si&&(Be=he?zt:void 0);let it=he?me(Be,h):te===h?Be:void 0;if(G&&!um(it)&&(it=me(N,h)),um(it)&&(O=it,I))return O;const Tt=n[p+1];p=I?Aa(Tt):gl(Tt)}if(null!==r){let N=b?r.residualClasses:r.residualStyles;null!=N&&(O=me(N,h))}return O}function um(n){return void 0!==n}function uy(n,r){return 0!=(n.flags&(r?16:32))}function dy(n,r=""){const a=Pt(),h=Yn(),p=n+22,b=h.firstCreatePass?gu(h,p,1,r,null):h.data[p],I=a[p]=function vc(n,r){return n.createText(r)}(a[11],r);su(h,a,I,b),V(b,!1)}function Vg(n){return dm("",n,""),Vg}function dm(n,r,a){const h=Pt(),p=Cf(h,n,r,a);return p!==si&&function Mc(n,r,a){const h=zr(r,n);!function Bs(n,r,a){n.setValue(r,a)}(n[11],h,a)}(h,we(),p),dm}function Yg(n,r,a){const h=Pt();if(Us(h,xs(),r)){const b=Yn(),I=yt();Sa(b,I,h,n,r,cs(sa(b.data),I,h),a,!0)}return Yg}const hh=void 0;var Qg=["en",[["a","p"],["AM","PM"],hh],[["AM","PM"],hh,hh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hh,"{1} 'at' {0}",hh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dv(n){const a=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let fh={};function ph(n){const r=function Cy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=mm(r);if(a)return a;const h=r.split("-")[0];if(a=mm(h),a)return a;if("en"===h)return Qg;throw new Je(701,!1)}function Ey(n){return ph(n)[Gn.PluralCase]}function mm(n){return n in fh||(fh[n]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[n]),fh[n]}var Gn=(()=>((Gn=Gn||{})[Gn.LocaleId=0]="LocaleId",Gn[Gn.DayPeriodsFormat=1]="DayPeriodsFormat",Gn[Gn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gn[Gn.DaysFormat=3]="DaysFormat",Gn[Gn.DaysStandalone=4]="DaysStandalone",Gn[Gn.MonthsFormat=5]="MonthsFormat",Gn[Gn.MonthsStandalone=6]="MonthsStandalone",Gn[Gn.Eras=7]="Eras",Gn[Gn.FirstDayOfWeek=8]="FirstDayOfWeek",Gn[Gn.WeekendRange=9]="WeekendRange",Gn[Gn.DateFormat=10]="DateFormat",Gn[Gn.TimeFormat=11]="TimeFormat",Gn[Gn.DateTimeFormat=12]="DateTimeFormat",Gn[Gn.NumberSymbols=13]="NumberSymbols",Gn[Gn.NumberFormats=14]="NumberFormats",Gn[Gn.CurrencyCode=15]="CurrencyCode",Gn[Gn.CurrencySymbol=16]="CurrencySymbol",Gn[Gn.CurrencyName=17]="CurrencyName",Gn[Gn.Currencies=18]="Currencies",Gn[Gn.Directionality=19]="Directionality",Gn[Gn.PluralCase=20]="PluralCase",Gn[Gn.ExtraData=21]="ExtraData",Gn))();const dd="en-US";let Jg=dd;function tb(n,r,a,h,p){if(n=Se(n),Array.isArray(n))for(let b=0;b<n.length;b++)tb(n[b],r,a,h,p);else{const b=Yn(),I=Pt();let O=pc(n)?n:Se(n.provide),N=qa(n);const G=ur(),te=1048575&G.providerIndexes,he=G.directiveStart,Be=G.providerIndexes>>20;if(pc(n)||!n.multi){const it=new Ki(N,p,Qu),Tt=ib(O,r,p?te:te+Be,he);-1===Tt?(_a(qt(G,I),b,O),nb(b,n,r.length),r.push(O),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(it),I.push(it)):(a[Tt]=it,I[Tt]=it)}else{const it=ib(O,r,te+Be,he),Tt=ib(O,r,te,te+Be),Qt=it>=0&&a[it],cn=Tt>=0&&a[Tt];if(p&&!cn||!p&&!Qt){_a(qt(G,I),b,O);const xn=function HE(n,r,a,h,p){const b=new Ki(n,a,Qu);return b.multi=[],b.index=r,b.componentProviders=0,Gb(b,p,h&&!a),b}(p?VE:UE,a.length,p,h,N);!p&&cn&&(a[Tt].providerFactory=xn),nb(b,n,r.length,0),r.push(O),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(xn),I.push(xn)}else nb(b,n,it>-1?it:Tt,Gb(a[p?Tt:it],N,!p&&h));!p&&h&&cn&&a[Tt].componentProviders++}}}function nb(n,r,a,h){const p=pc(r),b=function Mm(n){return!!n.useClass}(r);if(p||b){const N=(b?Se(r.useClass):r).prototype.ngOnDestroy;if(N){const G=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const te=G.indexOf(a);-1===te?G.push(a,[h,N]):G[te+1].push(h,N)}else G.push(a,N)}}}function Gb(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function ib(n,r,a,h){for(let p=a;p<h;p++)if(r[p]===n)return p;return-1}function UE(n,r,a,h){return rb(this.multi,[])}function VE(n,r,a,h){const p=this.multi;let b;if(this.providerFactory){const I=this.providerFactory.componentProviders,O=Gs(a,a[1],this.providerFactory.index,h);b=O.slice(0,I),rb(p,b);for(let N=I;N<O.length;N++)b.push(O[N])}else b=[],rb(p,b);return b}function rb(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function Zb(n,r=[]){return a=>{a.providersResolver=(h,p)=>function BE(n,r,a){const h=Yn();if(h.firstCreatePass){const p=gr(n);tb(a,h.data,h.blueprint,p,!0),tb(r,h.data,h.blueprint,p,!1)}}(h,p?p(n):n,r)}}class n_{}class qb{}function jE(n,r){return new Yb(n,r??null)}class Yb extends n_{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nh(this);const h=tn(r);this._bootstrapComponents=Cs(h.bootstrap),this._r3Injector=qh(r,a,[{provide:n_,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ob extends qb{constructor(r){super(),this.moduleType=r}create(r){return new Yb(this.moduleType,r)}}class WE extends n_{constructor(r,a,h){super(),this.componentFactoryResolver=new nh(this),this.instance=null;const p=new Lo([...r,{provide:n_,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],a||Md(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function sb(n,r,a=null){return new WE(n,r,a).injector}let KE=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const h=Id(0,a.type),p=h.length>0?sb([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(rr(Nl))}),n})();function Qb(n){n.getStandaloneInjector=r=>r.get(KE).getOrCreateStandaloneInjector(n)}function o0(n,r,a,h){return s0(Pt(),Fi(),n,r,a,h)}function s0(n,r,a,h,p,b){const I=r+a;return Us(n,I,p)?function $l(n,r,a){return n[r]=a}(n,I+1,b?h.call(b,p):h(p)):function Ay(n,r){const a=n[r];return a===si?void 0:a}(n,I+1)}function d0(n,r){const a=Yn();let h;const p=n+22;a.firstCreatePass?(h=function lC(n,r){if(r)for(let a=r.length-1;a>=0;a--){const h=r[a];if(n===h.name)return h}}(r,a.pipeRegistry),a.data[p]=h,h.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,h.onDestroy)):h=a.data[p];const b=h.factory||(h.factory=Ni(h.type)),I=li(Qu);try{const O=Ut(!1),N=b();return Ut(O),function Q_(n,r,a,h){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=h}(a,Pt(),p,N),N}finally{li(I)}}function h0(n,r,a){const h=n+22,p=Pt(),b=tr(p,h);return function Sy(n,r){return n[1].data[r].pure}(p,h)?s0(p,Fi(),r,b.transform,a,b):b.transform(a)}function lb(n){return r=>{setTimeout(n,void 0,r)}}const pd=class fC extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,h){let p=r,b=a||(()=>null),I=h;if(r&&"object"==typeof r){const N=r;p=N.next?.bind(N),b=N.error?.bind(N),I=N.complete?.bind(N)}this.__isAsync&&(b=lb(b),p&&(p=lb(p)),I&&(I=lb(I)));const O=super.subscribe({next:p,error:b,complete:I});return r instanceof _.w0&&r.add(O),O}};function pC(){return this._results[id()]()}class xv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=id(),h=xv.prototype;h[a]||(h[a]=pC)}get changes(){return this._changes||(this._changes=new pd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const h=this;h.dirty=!1;const p=br(r);(this._changesDetected=!function oc(n,r,a){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let p=n[h],b=r[h];if(a&&(p=a(p),b=a(b)),b!==p)return!1}return!0}(h._results,p,a))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xy=(()=>{class n{}return n.__NG_ELEMENT_ID__=_C,n})();const mC=xy,gC=class extends mC{constructor(r,a,h){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=h}createEmbeddedView(r,a){const h=this._declarationTContainer.tViews,p=af(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,a||null);p[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(p[19]=I.createEmbeddedView(h)),eh(h,p,r),new nd(p)}};function _C(){return Ov(ur(),Pt())}function Ov(n,r){return 4&n.type?new gC(r,n,Nu(n,r)):null}let Pv=(()=>{class n{}return n.__NG_ELEMENT_ID__=yC,n})();function yC(){return m0(ur(),Pt())}const vC=Pv,f0=class extends vC{constructor(r,a,h){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=h}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){const r=ir(this._hostTNode,this._hostLView);if(Or(r)){const a=ys(r,this._hostLView),h=Ji(r);return new zo(a[1].data[h+8],a)}return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=p0(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,h){let p,b;"number"==typeof h?p=h:null!=h&&(p=h.index,b=h.injector);const I=r.createEmbeddedView(a||{},b);return this.insert(I,p),I}createComponent(r,a,h,p,b){const I=r&&!function ca(n){return"function"==typeof n}(r);let O;if(I)O=a;else{const he=a||{};O=he.index,h=he.injector,p=he.projectableNodes,b=he.environmentInjector||he.ngModuleRef}const N=I?r:new _f(X(r)),G=h||this.parentInjector;if(!b&&null==N.ngModule){const Be=(I?G:this.parentInjector).get(Nl,null);Be&&(b=Be)}const te=N.create(G,p,void 0,b);return this.insert(te.hostView,O),te}insert(r,a){const h=r._lView,p=h[1];if(function bo(n){return Jr(n[3])}(h)){const te=this.indexOf(r);if(-1!==te)this.detach(te);else{const he=h[3],Be=new f0(he,he[6],he[3]);Be.detach(Be.indexOf(r))}}const b=this._adjustIndex(a),I=this._lContainer;!function Vy(n,r,a,h){const p=10+h,b=a.length;h>0&&(a[p-1][4]=r),h<b-10?(r[4]=a[p],Ea(a,10+h,r)):(a.push(r),r[4]=null),r[3]=a;const I=r[17];null!==I&&a!==I&&function Hy(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(I,r);const O=r[19];null!==O&&O.insertView(n),r[2]|=64}(p,h,I,b);const O=up(b,I),N=h[11],G=Fd(N,I[7]);return null!==G&&function $m(n,r,a,h,p,b){h[0]=p,h[6]=r,Dc(n,h,a,1,p,b)}(p,I[6],N,h,G,O),r.attachToViewContainerRef(),Ea(cb(I),b,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=p0(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),h=ap(this._lContainer,a);h&&(qs(cb(this._lContainer),a),Nd(h[1],h))}detach(r){const a=this._adjustIndex(r,-1),h=ap(this._lContainer,a);return h&&null!=qs(cb(this._lContainer),a)?new nd(h):null}_adjustIndex(r,a=0){return r??this.length+a}};function p0(n){return n[8]}function cb(n){return n[8]||(n[8]=[])}function m0(n,r){let a;const h=r[n.index];if(Jr(h))a=h;else{let p;if(8&n.type)p=Li(h);else{const b=r[11];p=b.createComment("");const I=Wi(n,r);ha(b,Fd(b,I),p,function y_(n,r){return n.nextSibling(r)}(b,I),!1)}r[n.index]=a=gg(h,r,p,n),ed(r,a)}return new f0(a,n,r)}class ub{constructor(r){this.queryList=r,this.matches=null}clone(){return new ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class db{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const h=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let b=0;b<h;b++){const I=a.getByIndex(b);p.push(this.queries[I.indexInDeclarationView].clone())}return new db(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==w0(r,a).matches&&this.queries[a].setDirty()}}class g0{constructor(r,a,h=null){this.predicate=r,this.flags=a,this.read=h}}class hb{constructor(r=[]){this.queries=r}elementStart(r,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let h=0;h<this.length;h++){const p=null!==a?a.length:0,b=this.getByIndex(h).embeddedTView(r,p);b&&(b.indexInDeclarationView=h,null!==a?a.push(b):a=[b])}return null!==a?new hb(a):null}template(r,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class fb{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new fb(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const b=h[p];this.matchTNodeWithReadOption(r,a,CC(a,b)),this.matchTNodeWithReadOption(r,a,Va(a,r,b,!1,!1))}else h===xy?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Va(a,r,h,!1,!1))}matchTNodeWithReadOption(r,a,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Lu||p===Pv||p===xy&&4&a.type)this.addMatch(a.index,-2);else{const b=Va(a,r,p,!1,!1);null!==b&&this.addMatch(a.index,b)}else this.addMatch(a.index,h)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function CC(n,r){const a=n.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===r)return a[h+1];return null}function wC(n,r,a,h){return-1===a?function DC(n,r){return 11&n.type?Nu(n,r):4&n.type?Ov(n,r):null}(r,n):-2===a?function IC(n,r,a){return a===Lu?Nu(r,n):a===xy?Ov(r,n):a===Pv?m0(r,n):void 0}(n,r,h):Gs(n,n[1],a,r)}function _0(n,r,a,h){const p=r[19].queries[h];if(null===p.matches){const b=n.data,I=a.matches,O=[];for(let N=0;N<I.length;N+=2){const G=I[N];O.push(G<0?null:wC(r,b[G],I[N+1],a.metadata.read))}p.matches=O}return p.matches}function pb(n,r,a,h){const p=n.queries.getByIndex(a),b=p.matches;if(null!==b){const I=_0(n,r,p,a);for(let O=0;O<b.length;O+=2){const N=b[O];if(N>0)h.push(I[O/2]);else{const G=b[O+1],te=r[-N];for(let he=10;he<te.length;he++){const Be=te[he];Be[17]===Be[3]&&pb(Be[1],Be,G,h)}if(null!==te[9]){const he=te[9];for(let Be=0;Be<he.length;Be++){const it=he[Be];pb(it[1],it,G,h)}}}}}return h}function y0(n){const r=Pt(),a=Yn(),h=Os();xo(h+1);const p=w0(a,h);if(n.dirty&&function ma(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const b=p.crossesNgTemplate?pb(a,r,h,[]):_0(a,r,p,h);n.reset(b,c_),n.notifyOnChanges()}return!0}return!1}function v0(n,r,a){const h=Yn();h.firstCreatePass&&(D0(h,new g0(n,r,a),-1),2==(2&r)&&(h.staticViewQueries=!0)),C0(h,Pt(),r)}function b0(n,r,a,h){const p=Yn();if(p.firstCreatePass){const b=ur();D0(p,new g0(r,a,h),b.index),function TC(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}C0(p,Pt(),a)}function E0(){return function MC(n,r){return n[19].queries[r].queryList}(Pt(),Os())}function C0(n,r,a){const h=new xv(4==(4&a));Wp(n,r,h,h.destroy),null===r[19]&&(r[19]=new db),r[19].queries.push(new ub(h))}function D0(n,r,a){null===n.queries&&(n.queries=new hb),n.queries.track(new fb(r,a))}function w0(n,r){return n.queries.getByIndex(r)}function kv(...n){}const W0=new Ti("Application Initializer");let Nv=(()=>{class n{constructor(a){this.appInits=a,this.resolve=kv,this.reject=kv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const b=this.appInits[p]();if(wf(b))a.push(b);else if(rm(b)){const I=new Promise((O,N)=>{b.subscribe({complete:O,error:N})});a.push(I)}}Promise.all(a).then(()=>{h()}).catch(p=>{this.reject(p)}),0===a.length&&h(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(rr(W0,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K0=new Ti("AppId",{providedIn:"root",factory:function $0(){return`${vb()}${vb()}${vb()}`}});function vb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new Ti("Platform Initializer"),ZC=new Ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G0=new Ti("appBootstrapListener"),qC=new Ti("AnimationModuleType");let YC=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Lv=new Ti("LocaleId",{providedIn:"root",factory:()=>B(Lv,St.Optional|St.SkipSelf)||function QC(){return typeof $localize<"u"&&$localize.locale||dd}()}),XC=new Ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class JC{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let eD=(()=>{class n{compileModuleSync(a){return new ob(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),b=Cs(tn(a).declarations).reduce((I,O)=>{const N=X(O);return N&&I.push(new _f(N)),I},[]);return new JC(h,b)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iD=(()=>Promise.resolve(0))();function bb(n){typeof Zone>"u"?iD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Uc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pd(!1),this.onMicrotaskEmpty=new pd(!1),this.onStable=new pd(!1),this.onError=new pd(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&a,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function rD(){let n=at.requestAnimationFrame,r=at.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function aD(n){const r=()=>{!function sD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(at,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Cb(n),n.isCheckStableRunning=!0,Eb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Cb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,p,b,I,O)=>{try{return Y0(n),a.invokeTask(p,b,I,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&r(),Q0(n)}},onInvoke:(a,h,p,b,I,O,N)=>{try{return Y0(n),a.invoke(p,b,I,O,N)}finally{n.shouldCoalesceRunChangeDetection&&r(),Q0(n)}},onHasTask:(a,h,p,b)=>{a.hasTask(p,b),h===p&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,Cb(n),Eb(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(a,h,p,b)=>(a.handleError(p,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uc.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Uc.isInAngularZone())throw new Je(909,!1)}run(r,a,h){return this._inner.run(r,a,h)}runTask(r,a,h,p){const b=this._inner,I=b.scheduleEventTask("NgZoneEvent: "+p,r,oD,kv,kv);try{return b.runTask(I,a,h)}finally{b.cancelTask(I)}}runGuarded(r,a,h){return this._inner.runGuarded(r,a,h)}runOutsideAngular(r){return this._outer.run(r)}}const oD={};function Eb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Y0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Q0(n){n._nesting--,Eb(n)}class lD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pd,this.onMicrotaskEmpty=new pd,this.onStable=new pd,this.onError=new pd}run(r,a,h){return r.apply(a,h)}runGuarded(r,a,h){return r.apply(a,h)}runOutsideAngular(r){return r()}runTask(r,a,h,p){return r.apply(a,h)}}const X0=new Ti(""),J0=new Ti("");let Db,cD=(()=>{class n{constructor(a,h,p){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Db||(function uD(n){Db=n}(p),p.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uc.assertNotInAngularZone(),bb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bb(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,p){let b=-1;h&&h>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==b),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:b,updateCb:p})}whenStable(a,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(rr(Uc),rr(eE),rr(J0))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),eE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return Db?.findTestabilityInTree(this,a,h)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ff=null;const tE=new Ti("AllowMultipleToken"),wb=new Ti("PlatformDestroyListeners");class fD{constructor(r,a){this.name=r,this.token=a}}function iE(n,r,a=[]){const h=`Platform: ${r}`,p=new Ti(h);return(b=[])=>{let I=Ib();if(!I||I.injector.get(tE,!1)){const O=[...a,...b,{provide:p,useValue:!0}];n?n(O):function pD(n){if(Ff&&!Ff.get(tE,!1))throw new Je(400,!1);Ff=n;const r=n.get(oE);(function nE(n){const r=n.get(z0,null);r&&r.forEach(a=>a())})(n)}(function rE(n=[],r){return wc.create({name:r,providers:[{provide:Gf,useValue:"platform"},{provide:wb,useValue:new Set([()=>Ff=null])},...n]})}(O,h))}return function gD(n){const r=Ib();if(!r)throw new Je(401,!1);return r}()}}function Ib(){return Ff?.get(oE)??null}let oE=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const p=function aE(n,r){let a;return a="noop"===n?new lD:("zone.js"===n?void 0:n)||new Uc(r),a}(h?.ngZone,function sE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),b=[{provide:Uc,useValue:p}];return p.run(()=>{const I=wc.create({providers:b,parent:this.injector,name:a.moduleType.name}),O=a.create(I),N=O.injector.get(xd,null);if(!N)throw new Je(402,!1);return p.runOutsideAngular(()=>{const G=p.onError.subscribe({next:te=>{N.handleError(te)}});O.onDestroy(()=>{Bv(this._modules,O),G.unsubscribe()})}),function lE(n,r,a){try{const h=a();return wf(h)?h.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}(N,p,()=>{const G=O.injector.get(Nv);return G.runInitializers(),G.donePromise.then(()=>(function e_(n){en(n,"Expected localeId to be defined"),"string"==typeof n&&(Jg=n.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Lv,dd)||dd),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,h=[]){const p=cE({},h);return function dD(n,r,a){const h=new ob(a);return Promise.resolve(h)}(0,0,a).then(b=>this.bootstrapModuleFactory(b,p))}_moduleDoBootstrap(a){const h=a.injector.get(Fv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new Je(403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(wb,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(rr(wc))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function cE(n,r){return Array.isArray(r)?r.reduce(cE,n):{...n,...r}}let Fv=(()=>{class n{constructor(a,h,p){this._zone=a,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new K.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),I=new K.y(O=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Uc.assertNotInAngularZone(),bb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Uc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{N.unsubscribe(),G.unsubscribe()}});this.isStable=(0,fe.T)(b,I.pipe((0,Ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,h){const p=a instanceof l_;if(!this._injector.get(Nv).done)throw!p&&Ot(a),new Je(405,false);let I;I=p?a:this._injector.get(Xc).resolveComponentFactory(a),this.componentTypes.push(I.componentType);const O=function hD(n){return n.isBoundToModule}(I)?void 0:this._injector.get(n_),G=I.create(wc.NULL,[],h||I.selector,O),te=G.location.nativeElement,he=G.injector.get(X0,null);return he?.registerApplication(te),G.onDestroy(()=>{this.detachView(G.hostView),Bv(this.components,G),he?.unregisterApplication(te)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;Bv(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(G0,[]).concat(this._bootstrapListeners).forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Bv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(rr(Uc),rr(Nl),rr(xd))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bv(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let dE=!0,hE=!1;function yD(){return hE=!0,dE}function vD(){if(hE)throw new Error("Cannot enable prod mode after platform setup.");dE=!1}let bD=(()=>{class n{}return n.__NG_ELEMENT_ID__=ED,n})();function ED(n){return function CD(n,r,a){if(_o(n)&&!a){const h=ci(n.index,r);return new nd(h,h)}return 47&n.type?new nd(r[16],r):null}(ur(),Pt(),16==(16&n))}class gE{constructor(){}supports(r){return bf(r)}create(r){return new AD(r)}}const TD=(n,r)=>r;class AD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||TD}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,h=this._removalsHead,p=0,b=null;for(;a||h;){const I=!h||a&&a.currentIndex<yE(h,p,b)?a:h,O=yE(I,p,b),N=I.currentIndex;if(I===h)p--,h=h._nextRemoved;else if(a=a._next,null==I.previousIndex)p++;else{b||(b=[]);const G=O-p,te=N-p;if(G!=te){for(let Be=0;Be<G;Be++){const it=Be<b.length?b[Be]:b[Be]=0,Tt=it+Be;te<=Tt&&Tt<G&&(b[Be]=it+1)}b[I.previousIndex]=te-G}}O!==N&&r(I,O,N)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!bf(r))throw new Je(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,b,I,a=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)b=r[O],I=this._trackByFn(O,b),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,b,I,O)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,I,O),h=!0),a=a._next}else p=0,function lv(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[id()]();let h;for(;!(h=a.next()).done;)r(h.value)}}(r,O=>{I=this._trackByFn(p,O),null!==a&&Object.is(a.trackById,I)?(h&&(a=this._verifyReinsertion(a,O,I,p)),Object.is(a.item,O)||this._addIdentityChange(a,O)):(a=this._mismatch(a,O,I,p),h=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,h,p){let b;return null===r?b=this._itTail:(b=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,b,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,b,p)):r=this._addAfter(new SD(a,h),b,p),r}_verifyReinsertion(r,a,h,p){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==b?r=this._reinsertAfter(b,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,b=r._nextRemoved;return null===p?this._removalsHead=b:p._nextRemoved=b,null===b?this._removalsTail=p:b._prevRemoved=p,this._insertAfter(r,a,h),this._addToMoves(r,h),r}_moveAfter(r,a,h){return this._unlink(r),this._insertAfter(r,a,h),this._addToMoves(r,h),r}_addAfter(r,a,h){return this._insertAfter(r,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,h){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new _E),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,h=r._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _E),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class SD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const a=r._prevDup,h=r._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class _E{constructor(){this.map=new Map}put(r){const a=r.trackById;let h=this.map.get(a);h||(h=new xD,this.map.set(a,h)),h.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yE(n,r,a){const h=n.previousIndex;if(null===h)return h;let p=0;return a&&h<a.length&&(p=a[h]),h+r+p}class vE{constructor(){}supports(r){return r instanceof Map||tm(r)}create(){return new OD}}class OD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||tm(r)))throw new Je(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const b=this._getOrCreateRecordForKey(p,h);a=this._insertBeforeOrAppend(a,b)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const h=r._prev;return a._next=r,a._prev=h,r._prev=a,h&&(h._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const b=p._prev,I=p._next;return b&&(b._next=I),I&&(I._prev=b),p._next=null,p._prev=null,p}const h=new PD(r);return this._records.set(r,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(h=>a(r[h],h))}}class PD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bE(){return new xb([new gE])}let xb=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(null!=h){const p=h.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||bE()),deps:[[n,new zn,new Xt]]}}find(a){const h=this.factories.find(p=>p.supports(a));if(null!=h)return h;throw new Je(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:bE}),n})();function EE(){return new Ob([new vE])}let Ob=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(h){const p=h.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||EE()),deps:[[n,new zn,new Xt]]}}find(a){const h=this.factories.find(p=>p.supports(a));if(h)return h;throw new Je(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:EE}),n})();const ND=iE(null,"core",[]);let LD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(rr(Fv))},n.\u0275mod=kn({type:n}),n.\u0275inj=Ct({}),n})();function FD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Et,Ve,R)=>{R.d(Ve,{EJ:()=>ho,F:()=>xr,Fj:()=>ut,JJ:()=>St,JL:()=>On,JU:()=>pe,Kr:()=>Ci,On:()=>hs,YN:()=>es,_Y:()=>or,u5:()=>Ra});var y=R(4650),_=R(6895),K=R(8996),fe=R(4128),Ie=R(4004);let Re=(()=>{class ${constructor(V,ie){this._renderer=V,this._elementRef=ie,this.onChange=ft=>{},this.onTouched=()=>{}}setProperty(V,ie){this._renderer.setProperty(this._elementRef.nativeElement,V,ie)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(y.Qsj),y.Y36(y.SBq))},$.\u0275dir=y.lG2({type:$}),$})(),Ne=(()=>{class $ extends Re{}return $.\u0275fac=function(){let j;return function(ie){return(j||(j=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,features:[y.qOj]}),$})();const pe=new y.OlP("NgValueAccessor"),_e={provide:pe,useExisting:(0,y.Gpc)(()=>ut),multi:!0},gt=new y.OlP("CompositionEventMode");let ut=(()=>{class $ extends Re{constructor(V,ie,ft){super(V,ie),this._compositionMode=ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const $=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(gt,8))},$.\u0275dir=y.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,ie){1&V&&y.NdJ("input",function(vn){return ie._handleInput(vn.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(vn){return ie._compositionEnd(vn.target.value)})},features:[y._Bn([_e]),y.qOj]}),$})();const Ke=new y.OlP("NgValidators"),Ae=new y.OlP("NgAsyncValidators");function ze($){return null!=$}function It($){return(0,y.QGY)($)?(0,K.D)($):$}function Rt($){let j={};return $.forEach(V=>{j=null!=V?{...j,...V}:j}),0===Object.keys(j).length?null:j}function Wt($,j){return j.map(V=>V($))}function en($){return $.map(j=>function an($){return!$.validate}(j)?j:V=>j.validate(V))}function Cn($){return null!=$?function vt($){if(!$)return null;const j=$.filter(ze);return 0==j.length?null:function(V){return Rt(Wt(V,j))}}(en($)):null}function mt($){return null!=$?function rt($){if(!$)return null;const j=$.filter(ze);return 0==j.length?null:function(V){const ie=Wt(V,j).map(It);return(0,fe.D)(ie).pipe((0,Ie.U)(Rt))}}(en($)):null}function Pe($,j){return null===$?[j]:Array.isArray($)?[...$,j]:[$,j]}function gn($){return $?Array.isArray($)?$:[$]:[]}function Mn($,j){return Array.isArray($)?$.includes(j):$===j}function ui($,j){const V=gn(j);return gn($).forEach(ft=>{Mn(V,ft)||V.push(ft)}),V}function Jn($,j){return gn(j).filter(V=>!Mn($,V))}class fi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Cn(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,V){return!!this.control&&this.control.hasError(j,V)}getError(j,V){return this.control?this.control.getError(j,V):null}}class Un extends fi{get formDirective(){return null}get path(){return null}}class Zn extends fi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vn{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let St=(()=>{class $ extends Vn{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(Zn,2))},$.\u0275dir=y.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,ie){2&V&&y.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[y.qOj]}),$})(),On=(()=>{class $ extends Vn{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(Un,10))},$.\u0275dir=y.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,ie){2&V&&y.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[y.qOj]}),$})();const Pn="VALID",yn="INVALID",Kt="PENDING",bt="DISABLED";function Bt($){return(Me($)?$.validators:$)||null}function fn($){return Array.isArray($)?Cn($):$||null}function un($,j){return(Me(j)?j.asyncValidators:$)||null}function kn($){return Array.isArray($)?mt($):$||null}function Me($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class ge{constructor(j,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=V,this._composedValidatorFn=fn(this._rawValidators),this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Pn}get invalid(){return this.status===yn}get pending(){return this.status==Kt}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=fn(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=kn(j)}addValidators(j){this.setValidators(ui(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ui(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Jn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Jn(j,this._rawAsyncValidators))}hasValidator(j){return Mn(this._rawValidators,j)}hasAsyncValidator(j){return Mn(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Kt,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const V=this._parentMarkedDirty(j.onlySelf);this.status=bt,this.errors=null,this._forEachChild(ie=>{ie.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:V}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(j={}){const V=this._parentMarkedDirty(j.onlySelf);this.status=Pn,this._forEachChild(ie=>{ie.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:V}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pn||this.status===Kt)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:Pn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const V=It(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,V={}){this.errors=j,this._updateControlsErrors(!1!==V.emitEvent)}get(j){let V=j;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ie,ft)=>ie&&ie._find(ft),this)}getError(j,V){const ie=V?this.get(V):this;return ie&&ie.errors?ie.errors[j]:null}hasError(j,V){return!!this.getError(j,V)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(yn)?yn:Pn}_anyControlsHaveStatus(j){return this._anyControls(V=>V.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Me(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}}class X extends ge{constructor(j,V,ie){super(Bt(V),un(ie,V)),this.controls=j,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,V){return this.controls[j]?this.controls[j]:(this.controls[j]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(j,V,ie={}){this.registerControl(j,V),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(j,V={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(j,V,ie={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],V&&this.registerControl(j,V),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,V={}){(function Fe($,j,V){$._forEachChild((ie,ft)=>{if(void 0===V[ft])throw new y.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(ie=>{(function Ee($,j,V){const ie=$.controls;if(!(j?Object.keys(ie):ie).length)throw new y.vHH(1e3,"");if(!ie[V])throw new y.vHH(1001,"")})(this,!0,ie),this.controls[ie].setValue(j[ie],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(j,V={}){null!=j&&(Object.keys(j).forEach(ie=>{const ft=this.controls[ie];ft&&ft.patchValue(j[ie],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(j={},V={}){this._forEachChild((ie,ft)=>{ie.reset(j[ft],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(j,V,ie)=>(j[ie]=V.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(V,ie)=>!!ie._syncPendingControls()||V);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(V=>{const ie=this.controls[V];ie&&j(ie,V)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[V,ie]of Object.entries(this.controls))if(this.contains(V)&&j(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ie,ft)=>((ie.enabled||this.disabled)&&(V[ft]=ie.value),V))}_reduceChildren(j,V){let ie=j;return this._forEachChild((ft,vn)=>{ie=V(ie,ft,vn)}),ie}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}function ue($,j){Ye($,j),j.valueAccessor.writeValue($.value),$.disabled&&j.valueAccessor.setDisabledState?.(!0),function Nn($,j){j.valueAccessor.registerOnChange(V=>{$._pendingValue=V,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&qi($,j)})}($,j),function go($,j){const V=(ie,ft)=>{j.valueAccessor.writeValue(ie),ft&&j.viewToModelUpdate(ie)};$.registerOnChange(V),j._registerOnDestroy(()=>{$._unregisterOnChange(V)})}($,j),function Wn($,j){j.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&qi($,j),"submit"!==$.updateOn&&$.markAsTouched()})}($,j),function Ue($,j){if(j.valueAccessor.setDisabledState){const V=ie=>{j.valueAccessor.setDisabledState(ie)};$.registerOnDisabledChange(V),j._registerOnDestroy(()=>{$._unregisterOnDisabledChange(V)})}}($,j)}function re($,j){$.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(j)})}function Ye($,j){const V=function xe($){return $._rawValidators}($);null!==j.validator?$.setValidators(Pe(V,j.validator)):"function"==typeof V&&$.setValidators([V]);const ie=function Ct($){return $._rawAsyncValidators}($);null!==j.asyncValidator?$.setAsyncValidators(Pe(ie,j.asyncValidator)):"function"==typeof ie&&$.setAsyncValidators([ie]);const ft=()=>$.updateValueAndValidity();re(j._rawValidators,ft),re(j._rawAsyncValidators,ft)}function qi($,j){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const Xo={provide:Un,useExisting:(0,y.Gpc)(()=>xr)},ao=(()=>Promise.resolve())();let xr=(()=>{class $ extends Un{constructor(V,ie){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new X({},Cn(V),mt(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){ao.then(()=>{const ie=this._findContainer(V.path);V.control=ie.registerControl(V.name,V.control),ue(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){ao.then(()=>{const ie=this._findContainer(V.path);ie&&ie.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){ao.then(()=>{const ie=this._findContainer(V.path),ft=new X({});(function dn($,j){Ye($,j)})(ft,V),ie.registerControl(V.name,ft),ft.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){ao.then(()=>{const ie=this._findContainer(V.path);ie&&ie.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ie){ao.then(()=>{this.form.get(V.path).setValue(ie)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,function Wr($,j){$._syncPendingControls(),j.forEach(V=>{const ie=V.control;"submit"===ie.updateOn&&ie._pendingChange&&(V.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(Ke,10),y.Y36(Ae,10))},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,ie){1&V&&y.NdJ("submit",function(vn){return ie.onSubmit(vn)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Xo]),y.qOj]}),$})();function lo($,j){const V=$.indexOf(j);V>-1&&$.splice(V,1)}function Lr($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Xr=class extends ge{constructor(j=null,V,ie){super(Bt(V),un(ie,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Me(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Lr(j)?j.value:j)}setValue(j,V={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(j,V={}){this.setValue(j,V)}reset(j=this.defaultValue,V={}){this._applyFormState(j),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){lo(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){lo(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){Lr(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Is={provide:Zn,useExisting:(0,y.Gpc)(()=>hs)},Ms=(()=>Promise.resolve())();let hs=(()=>{class $ extends Zn{constructor(V,ie,ft,vn,Vi){super(),this._changeDetectorRef=Vi,this.control=new Xr,this._registered=!1,this.update=new y.vpe,this._parent=V,this._setValidators(ie),this._setAsyncValidators(ft),this.valueAccessor=function Si($,j){if(!j)return null;let V,ie,ft;return Array.isArray(j),j.forEach(vn=>{vn.constructor===ut?V=vn:function Sr($){return Object.getPrototypeOf($.constructor)===Ne}(vn)?ie=vn:ft=vn}),ft||ie||V||null}(0,vn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ie=V.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),function Cr($,j){if(!$.hasOwnProperty("model"))return!1;const V=$.model;return!!V.isFirstChange()||!Object.is(j,V.currentValue)}(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ue(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Ms.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ie=V.isDisabled.currentValue,ft=0!==ie&&(0,y.D6c)(ie);Ms.then(()=>{ft&&!this.control.disabled?this.control.disable():!ft&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?function nn($,j){return[...j.path,$]}(V,this._parent):[V]}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(Un,9),y.Y36(Ke,10),y.Y36(Ae,10),y.Y36(pe,10),y.Y36(y.sBO,8))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Is]),y.qOj,y.TTD]}),$})(),or=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275dir=y.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),nt=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({}),$})();const uo={provide:pe,useExisting:(0,y.Gpc)(()=>ho),multi:!0};function To($,j){return null==$?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${$}: ${j}`.slice(0,50))}let ho=(()=>{class $ extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const ft=To(this._getOptionId(V),V);this.setProperty("value",ft)}registerOnChange(V){this.onChange=ie=>{this.value=this._getOptionValue(ie),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie),V))return ie;return null}_getOptionValue(V){const ie=function no($){return $.split(":")[0]}(V);return this._optionMap.has(ie)?this._optionMap.get(ie):V}}return $.\u0275fac=function(){let j;return function(ie){return(j||(j=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(V,ie){1&V&&y.NdJ("change",function(vn){return ie.onChange(vn.target.value)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([uo]),y.qOj]}),$})(),es=(()=>{class ${constructor(V,ie,ft){this._element=V,this._renderer=ie,this._select=ft,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(To(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(ho,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const Oi={provide:pe,useExisting:(0,y.Gpc)(()=>sr),multi:!0};function Dr($,j){return null==$?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${$}: ${j}`.slice(0,50))}let sr=(()=>{class $ extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ie;if(this.value=V,Array.isArray(V)){const ft=V.map(vn=>this._getOptionId(vn));ie=(vn,Vi)=>{vn._setSelected(ft.indexOf(Vi.toString())>-1)}}else ie=(ft,vn)=>{ft._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(V){this.onChange=ie=>{const ft=[],vn=ie.selectedOptions;if(void 0!==vn){const Vi=vn;for(let Eo=0;Eo<Vi.length;Eo++){const Fi=this._getOptionValue(Vi[Eo].value);ft.push(Fi)}}else{const Vi=ie.options;for(let Eo=0;Eo<Vi.length;Eo++){const dr=Vi[Eo];if(dr.selected){const Fi=this._getOptionValue(dr.value);ft.push(Fi)}}}this.value=ft,V(ft)}}_registerOption(V){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,V),ie}_getOptionId(V){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie)._value,V))return ie;return null}_getOptionValue(V){const ie=function vr($){return $.split(":")[0]}(V);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:V}}return $.\u0275fac=function(){let j;return function(ie){return(j||(j=y.n5z($)))(ie||$)}}(),$.\u0275dir=y.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(V,ie){1&V&&y.NdJ("change",function(vn){return ie.onChange(vn.target)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Oi]),y.qOj]}),$})(),Ci=(()=>{class ${constructor(V,ie,ft){this._element=V,this._renderer=ie,this._select=ft,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Dr(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Dr(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(V){return new(V||$)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(sr,9))},$.\u0275dir=y.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})(),So=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[nt]}),$})(),Ra=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({imports:[So]}),$})()},1481:(Et,Ve,R)=>{R.d(Ve,{Dx:()=>dt,H7:()=>Xe,b2:()=>ii,q6:()=>Zi,se:()=>ze});var y=R(6895),_=R(4650);class K extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends K{static makeCurrent(){(0,y.HT)(new fe)}onAndCancel(se,re,Ue){return se.addEventListener(re,Ue,!1),()=>{se.removeEventListener(re,Ue,!1)}}dispatchEvent(se,re){se.dispatchEvent(re)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,re){return(re=re||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,re){return"window"===re?window:"document"===re?se:"body"===re?se.body:null}getBaseHref(se){const re=function Re(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==re?null:function pe(ue){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ue);const se=Ne.pathname;return"/"===se.charAt(0)?se:`/${se}`}(re)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,y.Mx)(document.cookie,se)}}let Ne,Ie=null;const Ze=new _.OlP("TRANSITION_ID"),_e=[{provide:_.ip1,useFactory:function de(ue,se,re){return()=>{re.get(_.CZH).donePromise.then(()=>{const Ue=(0,y.q)(),Ye=se.querySelectorAll(`style[ng-transition="${ue}"]`);for(let Ft=0;Ft<Ye.length;Ft++)Ue.remove(Ye[Ft])})}},deps:[Ze,y.K0,_.zs3],multi:!0}];let gt=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(re){return new(re||ue)},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ut=new _.OlP("EventManagerPlugins");let Je=(()=>{class ue{constructor(re,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,re.forEach(Ye=>Ye.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Ue,Ye){return this._findPluginFor(Ue).addEventListener(re,Ue,Ye)}addGlobalEventListener(re,Ue,Ye){return this._findPluginFor(Ue).addGlobalEventListener(re,Ue,Ye)}getZone(){return this._zone}_findPluginFor(re){const Ue=this._eventNameToPlugin.get(re);if(Ue)return Ue;const Ye=this._plugins;for(let Ft=0;Ft<Ye.length;Ft++){const Nn=Ye[Ft];if(Nn.supports(re))return this._eventNameToPlugin.set(re,Nn),Nn}throw new Error(`No event manager plugin found for event ${re}`)}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(ut),_.LFG(_.R0b))},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class At{constructor(se){this._doc=se}addGlobalEventListener(se,re,Ue){const Ye=(0,y.q)().getGlobalEventTarget(this._doc,se);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${re}`);return this.addEventListener(Ye,re,Ue)}}let tt=(()=>{class ue{constructor(){this._stylesSet=new Set}addStyles(re){const Ue=new Set;re.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),Ue.add(Ye))}),this.onStylesAdded(Ue)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return ue.\u0275fac=function(re){return new(re||ue)},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),Ke=(()=>{class ue extends tt{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Ue,Ye){re.forEach(Ft=>{const Nn=this._doc.createElement("style");Nn.textContent=Ft,Ye.push(Ue.appendChild(Nn))})}addHost(re){const Ue=[];this._addStylesToHost(this._stylesSet,re,Ue),this._hostNodes.set(re,Ue)}removeHost(re){const Ue=this._hostNodes.get(re);Ue&&Ue.forEach(Ae),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Ue,Ye)=>{this._addStylesToHost(re,Ye,Ue)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(Ae))}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(y.K0))},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();function Ae(ue){(0,y.q)().remove(ue)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},je=/%COMP%/g;function ye(ue,se,re){for(let Ue=0;Ue<se.length;Ue++){let Ye=se[Ue];Array.isArray(Ye)?ye(ue,Ye,re):(Ye=Ye.replace(je,ue),re.push(Ye))}return re}function De(ue){return se=>{if("__ngUnwrap__"===se)return ue;!1===ue(se)&&(se.preventDefault(),se.returnValue=!1)}}let ze=(()=>{class ue{constructor(re,Ue,Ye){this.eventManager=re,this.sharedStylesHost=Ue,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new It(re)}createRenderer(re,Ue){if(!re||!Ue)return this.defaultRenderer;switch(Ue.encapsulation){case _.ifc.Emulated:{let Ye=this.rendererByCompId.get(Ue.id);return Ye||(Ye=new en(this.eventManager,this.sharedStylesHost,Ue,this.appId),this.rendererByCompId.set(Ue.id,Ye)),Ye.applyToHost(re),Ye}case 1:case _.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,re,Ue);default:if(!this.rendererByCompId.has(Ue.id)){const Ye=ye(Ue.id,Ue.styles,[]);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(Ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(Je),_.LFG(Ke),_.LFG(_.AFp))},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class It{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,re){return re?document.createElementNS(xt[re]||re,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,re){(an(se)?se.content:se).appendChild(re)}insertBefore(se,re,Ue){se&&(an(se)?se.content:se).insertBefore(re,Ue)}removeChild(se,re){se&&se.removeChild(re)}selectRootElement(se,re){let Ue="string"==typeof se?document.querySelector(se):se;if(!Ue)throw new Error(`The selector "${se}" did not match any elements`);return re||(Ue.textContent=""),Ue}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,re,Ue,Ye){if(Ye){re=Ye+":"+re;const Ft=xt[Ye];Ft?se.setAttributeNS(Ft,re,Ue):se.setAttribute(re,Ue)}else se.setAttribute(re,Ue)}removeAttribute(se,re,Ue){if(Ue){const Ye=xt[Ue];Ye?se.removeAttributeNS(Ye,re):se.removeAttribute(`${Ue}:${re}`)}else se.removeAttribute(re)}addClass(se,re){se.classList.add(re)}removeClass(se,re){se.classList.remove(re)}setStyle(se,re,Ue,Ye){Ye&(_.JOm.DashCase|_.JOm.Important)?se.style.setProperty(re,Ue,Ye&_.JOm.Important?"important":""):se.style[re]=Ue}removeStyle(se,re,Ue){Ue&_.JOm.DashCase?se.style.removeProperty(re):se.style[re]=""}setProperty(se,re,Ue){se[re]=Ue}setValue(se,re){se.nodeValue=re}listen(se,re,Ue){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,re,De(Ue)):this.eventManager.addEventListener(se,re,De(Ue))}}function an(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class en extends It{constructor(se,re,Ue,Ye){super(se),this.component=Ue;const Ft=ye(Ye+"-"+Ue.id,Ue.styles,[]);re.addStyles(Ft),this.contentAttr=function Ce(ue){return"_ngcontent-%COMP%".replace(je,ue)}(Ye+"-"+Ue.id),this.hostAttr=function qe(ue){return"_nghost-%COMP%".replace(je,ue)}(Ye+"-"+Ue.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,re){const Ue=super.createElement(se,re);return super.setAttribute(Ue,this.contentAttr,""),Ue}}class vt extends It{constructor(se,re,Ue,Ye){super(se),this.sharedStylesHost=re,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=ye(Ye.id,Ye.styles,[]);for(let Nn=0;Nn<Ft.length;Nn++){const Wn=document.createElement("style");Wn.textContent=Ft[Nn],this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,re){return super.appendChild(this.nodeOrShadowRoot(se),re)}insertBefore(se,re,Ue){return super.insertBefore(this.nodeOrShadowRoot(se),re,Ue)}removeChild(se,re){return super.removeChild(this.nodeOrShadowRoot(se),re)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let Cn=(()=>{class ue extends At{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ue,Ye){return re.addEventListener(Ue,Ye,!1),()=>this.removeEventListener(re,Ue,Ye)}removeEventListener(re,Ue,Ye){return re.removeEventListener(Ue,Ye)}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(y.K0))},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const rt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pe={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let xe=(()=>{class ue extends At{constructor(re){super(re)}supports(re){return null!=ue.parseEventName(re)}addEventListener(re,Ue,Ye){const Ft=ue.parseEventName(Ue),Nn=ue.eventCallback(Ft.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(re,Ft.domEventName,Nn))}static parseEventName(re){const Ue=re.toLowerCase().split("."),Ye=Ue.shift();if(0===Ue.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const Ft=ue._normalizeKey(Ue.pop());let Nn="",Wn=Ue.indexOf("code");if(Wn>-1&&(Ue.splice(Wn,1),Nn="code."),rt.forEach(go=>{const dn=Ue.indexOf(go);dn>-1&&(Ue.splice(dn,1),Nn+=go+".")}),Nn+=Ft,0!=Ue.length||0===Ft.length)return null;const qi={};return qi.domEventName=Ye,qi.fullKey=Nn,qi}static matchEventFullKeyCode(re,Ue){let Ye=mt[re.key]||re.key,Ft="";return Ue.indexOf("code.")>-1&&(Ye=re.code,Ft="code."),!(null==Ye||!Ye)&&(Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),rt.forEach(Nn=>{Nn!==Ye&&(0,Pe[Nn])(re)&&(Ft+=Nn+".")}),Ft+=Ye,Ft===Ue)}static eventCallback(re,Ue,Ye){return Ft=>{ue.matchEventFullKeyCode(Ft,re)&&Ye.runGuarded(()=>Ue(Ft))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(y.K0))},ue.\u0275prov=_.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Zi=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:y.bD},{provide:_.g9A,useValue:function fi(){fe.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Zn(){return(0,_.RDi)(document),document},deps:[]}]),qn=new _.OlP(""),St=[{provide:_.rWj,useClass:class Se{addToWindow(se){_.dqk.getAngularTestability=(Ue,Ye=!0)=>{const Ft=se.findTestabilityInTree(Ue,Ye);if(null==Ft)throw new Error("Could not find testability for element.");return Ft},_.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Ue=>{const Ye=_.dqk.getAllAngularTestabilities();let Ft=Ye.length,Nn=!1;const Wn=function(qi){Nn=Nn||qi,Ft--,0==Ft&&Ue(Nn)};Ye.forEach(function(qi){qi.whenStable(Wn)})})}findTestabilityInTree(se,re,Ue){return null==re?null:se.getTestability(re)??(Ue?(0,y.q)().isShadowRoot(re)?this.findTestabilityInTree(se,re.host,!0):this.findTestabilityInTree(se,re.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],On=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Un(){return new _.qLn},deps:[]},{provide:ut,useClass:Cn,multi:!0,deps:[y.K0,_.R0b,_.Lbi]},{provide:ut,useClass:xe,multi:!0,deps:[y.K0]},{provide:ze,useClass:ze,deps:[Je,Ke,_.AFp]},{provide:_.FYo,useExisting:ze},{provide:tt,useExisting:Ke},{provide:Ke,useClass:Ke,deps:[y.K0]},{provide:Je,useClass:Je,deps:[ut,_.R0b]},{provide:y.JF,useClass:gt,deps:[]},[]];let ii=(()=>{class ue{constructor(re){}static withServerTransition(re){return{ngModule:ue,providers:[{provide:_.AFp,useValue:re.appId},{provide:Ze,useExisting:_.AFp},_e]}}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(qn,12))},ue.\u0275mod=_.oAB({type:ue}),ue.\u0275inj=_.cJS({providers:[...On,...St],imports:[y.ez,_.hGG]}),ue})(),dt=(()=>{class ue{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(y.K0))},ue.\u0275prov=_.Yz7({token:ue,factory:function(re){let Ue=null;return Ue=re?new re:function _i(){return new dt((0,_.LFG)(y.K0))}(),Ue},providedIn:"root"}),ue})();typeof window<"u"&&window;let Xe=(()=>{class ue{}return ue.\u0275fac=function(re){return new(re||ue)},ue.\u0275prov=_.Yz7({token:ue,factory:function(re){let Ue=null;return Ue=re?new(re||ue):_.LFG(tn),Ue},providedIn:"root"}),ue})(),tn=(()=>{class ue extends Xe{constructor(re){super(),this._doc=re}sanitize(re,Ue){if(null==Ue)return null;switch(re){case _.q3G.NONE:return Ue;case _.q3G.HTML:return(0,_.qzn)(Ue,"HTML")?(0,_.z3N)(Ue):(0,_.EiD)(this._doc,String(Ue)).toString();case _.q3G.STYLE:return(0,_.qzn)(Ue,"Style")?(0,_.z3N)(Ue):Ue;case _.q3G.SCRIPT:if((0,_.qzn)(Ue,"Script"))return(0,_.z3N)(Ue);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.qzn)(Ue,"URL")?(0,_.z3N)(Ue):(0,_.mCW)(String(Ue));case _.q3G.RESOURCE_URL:if((0,_.qzn)(Ue,"ResourceURL"))return(0,_.z3N)(Ue);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,_.JVY)(re)}bypassSecurityTrustStyle(re){return(0,_.L6k)(re)}bypassSecurityTrustScript(re){return(0,_.eBb)(re)}bypassSecurityTrustUrl(re){return(0,_.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,_.pB0)(re)}}return ue.\u0275fac=function(re){return new(re||ue)(_.LFG(y.K0))},ue.\u0275prov=_.Yz7({token:ue,factory:function(re){let Ue=null;return Ue=re?new re:function Ot(ue){return new tn(ue.get(y.K0))}(_.LFG(_.zs3)),Ue},providedIn:"root"}),ue})()},1779:(Et,Ve,R)=>{R.d(Ve,{gz:()=>yr,F0:()=>fr,rH:()=>Ml,Od:()=>$n,Bz:()=>Wa,lC:()=>wr});var y=R(4650),_=R(8996),K=R(9646),fe=R(1135),Ie=R(6805),Re=R(9841),Ne=R(7272),pe=R(9751),Ze=R(8421);function de(T){return new pe.y(x=>{(0,Ze.Xf)(T()).subscribe(x)})}var _e=R(9635),Se=R(2843),gt=R(515),ut=R(727),Je=R(4482),At=R(5403);function tt(){return(0,Je.e)((T,x)=>{let M=null;T._refCount++;const L=(0,At.x)(x,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(M=null);const H=T._connection,J=M;M=null,H&&(!J||H===J)&&H.unsubscribe(),x.unsubscribe()});T.subscribe(L),L.closed||(M=T.connect())})}class Ke extends pe.y{constructor(x,M){super(),this.source=x,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,Je.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new ut.w0;const M=this.getSubject();x.add(this.source.subscribe((0,At.x)(M,void 0,()=>{this._teardown(),M.complete()},L=>{this._teardown(),M.error(L)},()=>this._teardown()))),x.closed&&(this._connection=null,x=ut.w0.EMPTY)}return x}refCount(){return tt()(this)}}var Ae=R(7579),xt=R(6895),je=R(4004),Oe=R(3900),We=R(5698),Dt=R(8675),He=R(9300),Ce=R(5577),qe=R(590),ye=R(4351),De=R(8505),Qe=R(262),ze=R(5026);function It(T){return T<=0?()=>gt.E:(0,Je.e)((x,M)=>{let L=[];x.subscribe((0,At.x)(M,H=>{L.push(H),T<L.length&&L.shift()},()=>{for(const H of L)M.next(H);M.complete()},void 0,()=>{L=null}))})}var Rt=R(8068),Wt=R(6590),an=R(4671);function en(T,x){const M=arguments.length>=2;return L=>L.pipe(T?(0,He.h)((H,J)=>T(H,J,L)):an.y,It(1),M?(0,Wt.d)(x):(0,Rt.T)(()=>new Ie.K))}var Cn=R(9718),rt=R(8746),mt=R(8189),Pe=R(1481);const xe="primary",Ct=Symbol("RouteTitle");class gn{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const M=this.params[x];return Array.isArray(M)?M[0]:M}return null}getAll(x){if(this.has(x)){const M=this.params[x];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Mn(T){return new gn(T)}function ui(T,x,M){const L=M.path.split("/");if(L.length>T.length||"full"===M.pathMatch&&(x.hasChildren()||L.length<T.length))return null;const H={};for(let J=0;J<L.length;J++){const ae=L[J],me=T[J];if(ae.startsWith(":"))H[ae.substring(1)]=me;else if(ae!==me.path)return null}return{consumed:T.slice(0,L.length),posParams:H}}function fi(T,x){const M=T?Object.keys(T):void 0,L=x?Object.keys(x):void 0;if(!M||!L||M.length!=L.length)return!1;let H;for(let J=0;J<M.length;J++)if(H=M[J],!Un(T[H],x[H]))return!1;return!0}function Un(T,x){if(Array.isArray(T)&&Array.isArray(x)){if(T.length!==x.length)return!1;const M=[...T].sort(),L=[...x].sort();return M.every((H,J)=>L[J]===H)}return T===x}function Zn(T){return Array.prototype.concat.apply([],T)}function Vn(T){return T.length>0?T[T.length-1]:null}function qn(T,x){for(const M in T)T.hasOwnProperty(M)&&x(T[M],M)}function St(T){return(0,y.CqO)(T)?T:(0,y.QGY)(T)?(0,_.D)(Promise.resolve(T)):(0,K.of)(T)}const li={exact:function dt(T,x,M){if(!jn(T.segments,x.segments)||!at(T.segments,x.segments,M)||T.numberOfChildren!==x.numberOfChildren)return!1;for(const L in x.children)if(!T.children[L]||!dt(T.children[L],x.children[L],M))return!1;return!0},subset:be},Bi={exact:function _i(T,x){return fi(T,x)},subset:function Te(T,x){return Object.keys(x).length<=Object.keys(T).length&&Object.keys(x).every(M=>Un(T[M],x[M]))},ignored:()=>!0};function Vr(T,x,M){return li[M.paths](T.root,x.root,M.matrixParams)&&Bi[M.queryParams](T.queryParams,x.queryParams)&&!("exact"===M.fragment&&T.fragment!==x.fragment)}function be(T,x,M){return st(T,x,x.segments,M)}function st(T,x,M,L){if(T.segments.length>M.length){const H=T.segments.slice(0,M.length);return!(!jn(H,M)||x.hasChildren()||!at(H,M,L))}if(T.segments.length===M.length){if(!jn(T.segments,M)||!at(T.segments,M,L))return!1;for(const H in x.children)if(!T.children[H]||!be(T.children[H],x.children[H],L))return!1;return!0}{const H=M.slice(0,T.segments.length),J=M.slice(T.segments.length);return!!(jn(T.segments,H)&&at(T.segments,H,L)&&T.children[xe])&&st(T.children[xe],x,J,L)}}function at(T,x,M){return x.every((L,H)=>Bi[M](T[H].parameters,L.parameters))}class on{constructor(x,M,L){this.root=x,this.queryParams=M,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class Ht{constructor(x,M){this.segments=x,this.children=M,this.parent=null,qn(M,(L,H)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yn(this)}}class Hn{constructor(x,M){this.path=x,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return Ee(this)}}function jn(T,x){return T.length===x.length&&T.every((M,L)=>M.path===x[L].path)}let Ei=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=y.Yz7({token:T,factory:function(){return new En},providedIn:"root"}),T})();class En{parse(x){const M=new ue(x);return new on(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(x){const M=`/${Kt(x.root,!0)}`,L=function ge(T){const x=Object.keys(T).map(M=>{const L=T[M];return Array.isArray(L)?L.map(H=>`${Bt(M)}=${Bt(H)}`).join("&"):`${Bt(M)}=${Bt(L)}`}).filter(M=>!!M);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${M}${L}${"string"==typeof x.fragment?`#${function fn(T){return encodeURI(T)}(x.fragment)}`:""}`}}const Pn=new En;function yn(T){return T.segments.map(x=>Ee(x)).join("/")}function Kt(T,x){if(!T.hasChildren())return yn(T);if(x){const M=T.children[xe]?Kt(T.children[xe],!1):"",L=[];return qn(T.children,(H,J)=>{J!==xe&&L.push(`${J}:${Kt(H,!1)}`)}),L.length>0?`${M}(${L.join("//")})`:M}{const M=function bn(T,x){let M=[];return qn(T.children,(L,H)=>{H===xe&&(M=M.concat(x(L,H)))}),qn(T.children,(L,H)=>{H!==xe&&(M=M.concat(x(L,H)))}),M}(T,(L,H)=>H===xe?[Kt(T.children[xe],!1)]:[`${H}:${Kt(L,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[xe]?`${yn(T)}/${M[0]}`:`${yn(T)}/(${M.join("//")})`}}function bt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bt(T){return bt(T).replace(/%3B/gi,";")}function un(T){return bt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(T){return decodeURIComponent(T)}function Me(T){return kn(T.replace(/\+/g,"%20"))}function Ee(T){return`${un(T.path)}${function Fe(T){return Object.keys(T).map(x=>`;${un(x)}=${un(T[x])}`).join("")}(T.parameters)}`}const X=/^[^\/()?;=#]+/;function ce(T){const x=T.match(X);return x?x[0]:""}const Xe=/^[^=?&#]+/,tn=/^[^&#]+/;class ue{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(x.length>0||Object.keys(M).length>0)&&(L[xe]=new Ht(x,M)),L}parseSegment(){const x=ce(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(x),new Hn(kn(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const M=ce(this.remaining);if(!M)return;this.capture(M);let L="";if(this.consumeOptional("=")){const H=ce(this.remaining);H&&(L=H,this.capture(L))}x[kn(M)]=kn(L)}parseQueryParam(x){const M=function Ot(T){const x=T.match(Xe);return x?x[0]:""}(this.remaining);if(!M)return;this.capture(M);let L="";if(this.consumeOptional("=")){const ae=function nn(T){const x=T.match(tn);return x?x[0]:""}(this.remaining);ae&&(L=ae,this.capture(L))}const H=Me(M),J=Me(L);if(x.hasOwnProperty(H)){let ae=x[H];Array.isArray(ae)||(ae=[ae],x[H]=ae),ae.push(J)}else x[H]=J}parseParens(x){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=ce(this.remaining),H=this.remaining[L.length];if("/"!==H&&")"!==H&&";"!==H)throw new y.vHH(4010,!1);let J;L.indexOf(":")>-1?(J=L.slice(0,L.indexOf(":")),this.capture(J),this.capture(":")):x&&(J=xe);const ae=this.parseChildren();M[J]=1===Object.keys(ae).length?ae[xe]:new Ht([],ae),this.consumeOptional("//")}return M}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new y.vHH(4011,!1)}}function se(T){return T.segments.length>0?new Ht([],{[xe]:T}):T}function re(T){const x={};for(const L of Object.keys(T.children)){const J=re(T.children[L]);(J.segments.length>0||J.hasChildren())&&(x[L]=J)}return function Ue(T){if(1===T.numberOfChildren&&T.children[xe]){const x=T.children[xe];return new Ht(T.segments.concat(x.segments),x.children)}return T}(new Ht(T.segments,x))}function Ye(T){return T instanceof on}function go(T,x,M,L,H){if(0===M.length)return jr(x.root,x.root,x.root,L,H);const J=function Yi(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Ar(!0,0,T);let x=0,M=!1;const L=T.reduce((H,J,ae)=>{if("object"==typeof J&&null!=J){if(J.outlets){const me={};return qn(J.outlets,(ht,Zt)=>{me[Zt]="string"==typeof ht?ht.split("/"):ht}),[...H,{outlets:me}]}if(J.segmentPath)return[...H,J.segmentPath]}return"string"!=typeof J?[...H,J]:0===ae?(J.split("/").forEach((me,ht)=>{0==ht&&"."===me||(0==ht&&""===me?M=!0:".."===me?x++:""!=me&&H.push(me))}),H):[...H,J]},[]);return new Ar(M,x,L)}(M);return J.toRoot()?jr(x.root,x.root,new Ht([],{}),L,H):function ae(ht){const Zt=function Wr(T,x,M,L){if(T.isAbsolute)return new Cr(x.root,!0,0);if(-1===L)return new Cr(M,M===x.root,0);return function Si(T,x,M){let L=T,H=x,J=M;for(;J>H;){if(J-=H,L=L.parent,!L)throw new y.vHH(4005,!1);H=L.segments.length}return new Cr(L,!1,H-J)}(M,L+(dn(T.commands[0])?0:1),T.numberOfDoubleDots)}(J,x,T.snapshot?._urlSegment,ht),Tn=Zt.processChildren?Xo(Zt.segmentGroup,Zt.index,J.commands):pi(Zt.segmentGroup,Zt.index,J.commands);return jr(x.root,Zt.segmentGroup,Tn,L,H)}(T.snapshot?._lastPathIndex)}function dn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Hr(T){return"object"==typeof T&&null!=T&&T.outlets}function jr(T,x,M,L,H){let ae,J={};L&&qn(L,(ht,Zt)=>{J[Zt]=Array.isArray(ht)?ht.map(Tn=>`${Tn}`):`${ht}`}),ae=T===x?M:Uo(T,x,M);const me=se(re(ae));return new on(me,J,H)}function Uo(T,x,M){const L={};return qn(T.children,(H,J)=>{L[J]=H===x?M:Uo(H,x,M)}),new Ht(T.segments,L)}class Ar{constructor(x,M,L){if(this.isAbsolute=x,this.numberOfDoubleDots=M,this.commands=L,x&&L.length>0&&dn(L[0]))throw new y.vHH(4003,!1);const H=L.find(Hr);if(H&&H!==Vn(L))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(x,M,L){this.segmentGroup=x,this.processChildren=M,this.index=L}}function pi(T,x,M){if(T||(T=new Ht([],{})),0===T.segments.length&&T.hasChildren())return Xo(T,x,M);const L=function ao(T,x,M){let L=0,H=x;const J={match:!1,pathIndex:0,commandIndex:0};for(;H<T.segments.length;){if(L>=M.length)return J;const ae=T.segments[H],me=M[L];if(Hr(me))break;const ht=`${me}`,Zt=L<M.length-1?M[L+1]:null;if(H>0&&void 0===ht)break;if(ht&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!Xr(ht,Zt,ae))return J;L+=2}else{if(!Xr(ht,{},ae))return J;L++}H++}return{match:!0,pathIndex:H,commandIndex:L}}(T,x,M),H=M.slice(L.commandIndex);if(L.match&&L.pathIndex<T.segments.length){const J=new Ht(T.segments.slice(0,L.pathIndex),{});return J.children[xe]=new Ht(T.segments.slice(L.pathIndex),T.children),Xo(J,0,H)}return L.match&&0===H.length?new Ht(T.segments,{}):L.match&&!T.hasChildren()?xr(T,x,M):L.match?Xo(T,0,H):xr(T,x,M)}function Xo(T,x,M){if(0===M.length)return new Ht(T.segments,{});{const L=function Vo(T){return Hr(T[0])?T[0].outlets:{[xe]:T}}(M),H={};return qn(L,(J,ae)=>{"string"==typeof J&&(J=[J]),null!==J&&(H[ae]=pi(T.children[ae],x,J))}),qn(T.children,(J,ae)=>{void 0===L[ae]&&(H[ae]=J)}),new Ht(T.segments,H)}}function xr(T,x,M){const L=T.segments.slice(0,x);let H=0;for(;H<M.length;){const J=M[H];if(Hr(J)){const ht=lo(J.outlets);return new Ht(L,ht)}if(0===H&&dn(M[0])){L.push(new Hn(T.segments[x].path,Lr(M[0]))),H++;continue}const ae=Hr(J)?J.outlets[xe]:`${J}`,me=H<M.length-1?M[H+1]:null;ae&&me&&dn(me)?(L.push(new Hn(ae,Lr(me))),H+=2):(L.push(new Hn(ae,{})),H++)}return new Ht(L,{})}function lo(T){const x={};return qn(T,(M,L)=>{"string"==typeof M&&(M=[M]),null!==M&&(x[L]=xr(new Ht([],{}),0,M))}),x}function Lr(T){const x={};return qn(T,(M,L)=>x[L]=`${M}`),x}function Xr(T,x,M){return T==M.path&&fi(x,M.parameters)}class cr{constructor(x,M){this.id=x,this.url=M}}class Ui extends cr{constructor(x,M,L="imperative",H=null){super(x,M),this.type=0,this.navigationTrigger=L,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ho extends cr{constructor(x,M,L){super(x,M),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ii extends cr{constructor(x,M,L,H){super(x,M),this.reason=L,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jr extends cr{constructor(x,M,L,H){super(x,M),this.error=L,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jo extends cr{constructor(x,M,L,H){super(x,M),this.urlAfterRedirects=L,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends cr{constructor(x,M,L,H){super(x,M),this.urlAfterRedirects=L,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends cr{constructor(x,M,L,H,J){super(x,M),this.urlAfterRedirects=L,this.state=H,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gr extends cr{constructor(x,M,L,H){super(x,M),this.urlAfterRedirects=L,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends cr{constructor(x,M,L,H){super(x,M),this.urlAfterRedirects=L,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hs{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class or{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(x,M,L){this.routerEvent=x,this.position=M,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wt{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const M=this.pathFromRoot(x);return M.length>1?M[M.length-2]:null}children(x){const M=$t(x,this._root);return M?M.children.map(L=>L.value):[]}firstChild(x){const M=$t(x,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(x){const M=sn(x,this._root);return M.length<2?[]:M[M.length-2].children.map(H=>H.value).filter(H=>H!==x)}pathFromRoot(x){return sn(x,this._root).map(M=>M.value)}}function $t(T,x){if(T===x.value)return x;for(const M of x.children){const L=$t(T,M);if(L)return L}return null}function sn(T,x){if(T===x.value)return[x];for(const M of x.children){const L=sn(T,M);if(L.length)return L.unshift(x),L}return[]}class An{constructor(x,M){this.value=x,this.children=M}toString(){return`TreeNode(${this.value})`}}function xi(T){const x={};return T&&T.children.forEach(M=>x[M.value.outlet]=M),x}class yi extends wt{constructor(x,M){super(x),this.snapshot=M,$r(this,x)}toString(){return this.snapshot.toString()}}function Kr(T,x){const M=function yo(T,x){const ae=new to([],{},{},"",{},xe,x,null,T.root,-1,{});return new Hs("",new An(ae,[]))}(T,x),L=new fe.X([new Hn("",{})]),H=new fe.X({}),J=new fe.X({}),ae=new fe.X({}),me=new fe.X(""),ht=new yr(L,H,ae,me,J,xe,x,M.root);return ht.snapshot=M.root,new yi(new An(ht,[]),M)}class yr{constructor(x,M,L,H,J,ae,me,ht){this.url=x,this.params=M,this.queryParams=L,this.fragment=H,this.data=J,this.outlet=ae,this.component=me,this.title=this.data?.pipe((0,je.U)(Zt=>Zt[Ct]))??(0,K.of)(void 0),this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(x=>Mn(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(x=>Mn(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ts(T,x="emptyOnly"){const M=T.pathFromRoot;let L=0;if("always"!==x)for(L=M.length-1;L>=1;){const H=M[L],J=M[L-1];if(H.routeConfig&&""===H.routeConfig.path)L--;else{if(J.component)break;L--}}return function eo(T){return T.reduce((x,M)=>({params:{...x.params,...M.params},data:{...x.data,...M.data},resolve:{...M.data,...x.resolve,...M.routeConfig?.data,...M._resolvedData}}),{params:{},data:{},resolve:{}})}(M.slice(L))}class to{constructor(x,M,L,H,J,ae,me,ht,Zt,Tn,pn,Bn){this.url=x,this.params=M,this.queryParams=L,this.fragment=H,this.data=J,this.outlet=ae,this.component=me,this.title=this.data?.[Ct],this.routeConfig=ht,this._urlSegment=Zt,this._lastPathIndex=Tn,this._correctedLastPathIndex=Bn??Tn,this._resolve=pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends wt{constructor(x,M){super(M),this.url=x,$r(this,M)}toString(){return Ni(this._root)}}function $r(T,x){x.value._routerState=T,x.children.forEach(M=>$r(T,M))}function Ni(T){const x=T.children.length>0?` { ${T.children.map(Ni).join(", ")} } `:"";return`${T.value}${x}`}function co(T){if(T.snapshot){const x=T.snapshot,M=T._futureSnapshot;T.snapshot=M,fi(x.queryParams,M.queryParams)||T.queryParams.next(M.queryParams),x.fragment!==M.fragment&&T.fragment.next(M.fragment),fi(x.params,M.params)||T.params.next(M.params),function Jn(T,x){if(T.length!==x.length)return!1;for(let M=0;M<T.length;++M)if(!fi(T[M],x[M]))return!1;return!0}(x.url,M.url)||T.url.next(M.url),fi(x.data,M.data)||T.data.next(M.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function uo(T,x){const M=fi(T.params,x.params)&&function zt(T,x){return jn(T,x)&&T.every((M,L)=>fi(M.parameters,x[L].parameters))}(T.url,x.url);return M&&!(!T.parent!=!x.parent)&&(!T.parent||uo(T.parent,x.parent))}function no(T,x,M){if(M&&T.shouldReuseRoute(x.value,M.value.snapshot)){const L=M.value;L._futureSnapshot=x.value;const H=function ho(T,x,M){return x.children.map(L=>{for(const H of M.children)if(T.shouldReuseRoute(L.value,H.value.snapshot))return no(T,L,H);return no(T,L)})}(T,x,M);return new An(L,H)}{if(T.shouldAttach(x.value)){const J=T.retrieve(x.value);if(null!==J){const ae=J.route;return ae.value._futureSnapshot=x.value,ae.children=x.children.map(me=>no(T,me)),ae}}const L=function es(T){return new yr(new fe.X(T.url),new fe.X(T.params),new fe.X(T.queryParams),new fe.X(T.fragment),new fe.X(T.data),T.outlet,T.component,T)}(x.value),H=x.children.map(J=>no(T,J));return new An(L,H)}}const Oi="ngNavigationCancelingError";function Dr(T,x){const{redirectTo:M,navigationBehaviorOptions:L}=Ye(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,H=vr(!1,0,x);return H.url=M,H.navigationBehaviorOptions=L,H}function vr(T,x,M){const L=new Error("NavigationCancelingError: "+(T||""));return L[Oi]=!0,L.cancellationCode=x,M&&(L.url=M),L}function Ao(T){return sr(T)&&Ye(T.url)}function sr(T){return T&&T[Oi]}class Ci{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qi,this.attachRef=null}}let Qi=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(M,L){const H=this.getOrCreateContext(M);H.outlet=L,this.contexts.set(M,H)}onChildOutletDestroyed(M){const L=this.getContext(M);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let L=this.getContext(M);return L||(L=new Ci,this.contexts.set(M,L)),L}getContext(M){return this.contexts.get(M)||null}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Fr=!1;let wr=(()=>{class T{constructor(M,L,H,J,ae){this.parentContexts=M,this.location=L,this.changeDetector=J,this.environmentInjector=ae,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=H||xe,M.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const M=this.parentContexts.getContext(this.name);M&&M.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Fr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Fr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Fr);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,L){this.activated=M,this._activatedRoute=L,this.location.insert(M.hostView),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,L){if(this.isActivated)throw new y.vHH(4013,Fr);this._activatedRoute=M;const H=this.location,ae=M._futureSnapshot.component,me=this.parentContexts.getOrCreateContext(this.name).children,ht=new As(M,me,H.injector);if(L&&function Li(T){return!!T.resolveComponentFactory}(L)){const Zt=L.resolveComponentFactory(ae);this.activated=H.createComponent(Zt,H.length,ht)}else this.activated=H.createComponent(ae,{index:H.length,injector:ht,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(M){return new(M||T)(y.Y36(Qi),y.Y36(y.s_b),y.$8M("name"),y.Y36(y.sBO),y.Y36(y.lqb))},T.\u0275dir=y.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),T})();class As{constructor(x,M,L){this.route=x,this.childContexts=M,this.parent=L}get(x,M){return x===yr?this.route:x===Qi?this.childContexts:this.parent.get(x,M)}}let ts=(()=>{class T{}return T.\u0275fac=function(M){return new(M||T)},T.\u0275cmp=y.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(M,L){1&M&&y._UZ(0,"router-outlet")},dependencies:[wr],encapsulation:2}),T})();function Pi(T,x){return T.providers&&!T._injector&&(T._injector=(0,y.MMx)(T.providers,x,`Route: ${T.path}`)),T._injector??x}function bo(T){const x=T.children&&T.children.map(bo),M=x?{...T,children:x}:{...T};return!M.component&&!M.loadComponent&&(x||M.loadChildren)&&M.outlet&&M.outlet!==xe&&(M.component=ts),M}function Di(T){return T.outlet||xe}function Gr(T,x){const M=T.filter(L=>Di(L)===x);return M.push(...T.filter(L=>Di(L)!==x)),M}function Mi(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let x=T.parent;x;x=x.parent){const M=x.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class fs{constructor(x,M,L,H){this.routeReuseStrategy=x,this.futureState=M,this.currState=L,this.forwardEvent=H}activate(x){const M=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,L,x),co(this.futureState.root),this.activateChildRoutes(M,L,x)}deactivateChildRoutes(x,M,L){const H=xi(M);x.children.forEach(J=>{const ae=J.value.outlet;this.deactivateRoutes(J,H[ae],L),delete H[ae]}),qn(H,(J,ae)=>{this.deactivateRouteAndItsChildren(J,L)})}deactivateRoutes(x,M,L){const H=x.value,J=M?M.value:null;if(H===J)if(H.component){const ae=L.getContext(H.outlet);ae&&this.deactivateChildRoutes(x,M,ae.children)}else this.deactivateChildRoutes(x,M,L);else J&&this.deactivateRouteAndItsChildren(M,L)}deactivateRouteAndItsChildren(x,M){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,M):this.deactivateRouteAndOutlet(x,M)}detachAndStoreRouteSubtree(x,M){const L=M.getContext(x.value.outlet),H=L&&x.value.component?L.children:M,J=xi(x);for(const ae of Object.keys(J))this.deactivateRouteAndItsChildren(J[ae],H);if(L&&L.outlet){const ae=L.outlet.detach(),me=L.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:ae,route:x,contexts:me})}}deactivateRouteAndOutlet(x,M){const L=M.getContext(x.value.outlet),H=L&&x.value.component?L.children:M,J=xi(x);for(const ae of Object.keys(J))this.deactivateRouteAndItsChildren(J[ae],H);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(x,M,L){const H=xi(M);x.children.forEach(J=>{this.activateRoutes(J,H[J.value.outlet],L),this.forwardEvent(new Ge(J.value.snapshot))}),x.children.length&&this.forwardEvent(new jo(x.value.snapshot))}activateRoutes(x,M,L){const H=x.value,J=M?M.value:null;if(co(H),H===J)if(H.component){const ae=L.getOrCreateContext(H.outlet);this.activateChildRoutes(x,M,ae.children)}else this.activateChildRoutes(x,M,L);else if(H.component){const ae=L.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const me=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ae.children.onOutletReAttached(me.contexts),ae.attachRef=me.componentRef,ae.route=me.route.value,ae.outlet&&ae.outlet.attach(me.componentRef,me.route.value),co(me.route.value),this.activateChildRoutes(x,null,ae.children)}else{const me=Mi(H.snapshot),ht=me?.get(y._Vd)??null;ae.attachRef=null,ae.route=H,ae.resolver=ht,ae.injector=me,ae.outlet&&ae.outlet.activateWith(H,ae.injector),this.activateChildRoutes(x,null,ae.children)}}else this.activateChildRoutes(x,null,L)}}class js{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class So{constructor(x,M){this.component=x,this.route=M}}function Ra(T,x,M){const L=T._root;return Wo(L,x?x._root:null,M,[L.value])}function Zr(T,x){const M=Symbol(),L=x.get(T,M);return L===M?"function"!=typeof T||(0,y.Z0I)(T)?x.get(T):T:L}function Wo(T,x,M,L,H={canDeactivateChecks:[],canActivateChecks:[]}){const J=xi(x);return T.children.forEach(ae=>{(function ps(T,x,M,L,H={canDeactivateChecks:[],canActivateChecks:[]}){const J=T.value,ae=x?x.value:null,me=M?M.getContext(T.value.outlet):null;if(ae&&J.routeConfig===ae.routeConfig){const ht=function Pt(T,x,M){if("function"==typeof M)return M(T,x);switch(M){case"pathParamsChange":return!jn(T.url,x.url);case"pathParamsOrQueryParamsChange":return!jn(T.url,x.url)||!fi(T.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uo(T,x)||!fi(T.queryParams,x.queryParams);default:return!uo(T,x)}}(ae,J,J.routeConfig.runGuardsAndResolvers);ht?H.canActivateChecks.push(new js(L)):(J.data=ae.data,J._resolvedData=ae._resolvedData),Wo(T,x,J.component?me?me.children:null:M,L,H),ht&&me&&me.outlet&&me.outlet.isActivated&&H.canDeactivateChecks.push(new So(me.outlet.component,ae))}else ae&&Yn(x,me,H),H.canActivateChecks.push(new js(L)),Wo(T,null,J.component?me?me.children:null:M,L,H)})(ae,J[ae.value.outlet],M,L.concat([ae.value]),H),delete J[ae.value.outlet]}),qn(J,(ae,me)=>Yn(ae,M.getContext(me),H)),H}function Yn(T,x,M){const L=xi(T),H=T.value;qn(L,(J,ae)=>{Yn(J,H.component?x?x.children.getContext(ae):null:x,M)}),M.canDeactivateChecks.push(new So(H.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,H))}function Ks(T){return"function"==typeof T}function Vi(T){return T instanceof Ie.K||"EmptyError"===T?.name}const Eo=Symbol("INITIAL_VALUE");function dr(){return(0,Oe.w)(T=>(0,Re.a)(T.map(x=>x.pipe((0,We.q)(1),(0,Dt.O)(Eo)))).pipe((0,je.U)(x=>{for(const M of x)if(!0!==M){if(M===Eo)return Eo;if(!1===M||M instanceof on)return M}return!0}),(0,He.h)(x=>x!==Eo),(0,We.q)(1)))}function ms(T){return(0,_e.z)((0,De.b)(x=>{if(Ye(x))throw Dr(0,x)}),(0,je.U)(x=>!0===x))}const Os={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xo(T,x,M,L,H){const J=Ps(T,x,M);return J.matched?function sa(T,x,M,L){const H=x.canMatch;if(!H||0===H.length)return(0,K.of)(!0);const J=H.map(ae=>{const me=Zr(ae,T);return St(function ie(T){return T&&Ks(T.canMatch)}(me)?me.canMatch(x,M):T.runInContext(()=>me(x,M)))});return(0,K.of)(J).pipe(dr(),ms())}(L=Pi(x,L),x,M).pipe((0,je.U)(ae=>!0===ae?J:{...Os})):(0,K.of)(J)}function Ps(T,x,M){if(""===x.path)return"full"===x.pathMatch&&(T.hasChildren()||M.length>0)?{...Os}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const H=(x.matcher||ui)(M,T,x);if(!H)return{...Os};const J={};qn(H.posParams,(me,ht)=>{J[ht]=me.path});const ae=H.consumed.length>0?{...J,...H.consumed[H.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:H.consumed,remainingSegments:M.slice(H.consumed.length),parameters:ae,positionalParamSegments:H.posParams??{}}}function aa(T,x,M,L,H="corrected"){if(M.length>0&&function ks(T,x,M){return M.some(L=>k(T,x,L)&&Di(L)!==xe)}(T,M,L)){const ae=new Ht(x,function $s(T,x,M,L){const H={};H[xe]=L,L._sourceSegment=T,L._segmentIndexShift=x.length;for(const J of M)if(""===J.path&&Di(J)!==xe){const ae=new Ht([],{});ae._sourceSegment=T,ae._segmentIndexShift=x.length,H[Di(J)]=ae}return H}(T,x,L,new Ht(M,T.children)));return ae._sourceSegment=T,ae._segmentIndexShift=x.length,{segmentGroup:ae,slicedSegments:[]}}if(0===M.length&&function La(T,x,M){return M.some(L=>k(T,x,L))}(T,M,L)){const ae=new Ht(T.segments,function Rs(T,x,M,L,H,J){const ae={};for(const me of L)if(k(T,M,me)&&!H[Di(me)]){const ht=new Ht([],{});ht._sourceSegment=T,ht._segmentIndexShift="legacy"===J?T.segments.length:x.length,ae[Di(me)]=ht}return{...H,...ae}}(T,x,M,L,T.children,H));return ae._sourceSegment=T,ae._segmentIndexShift=x.length,{segmentGroup:ae,slicedSegments:M}}const J=new Ht(T.segments,T.children);return J._sourceSegment=T,J._segmentIndexShift=x.length,{segmentGroup:J,slicedSegments:M}}function k(T,x,M){return(!(T.hasChildren()||x.length>0)||"full"!==M.pathMatch)&&""===M.path}function q(T,x,M,L){return!!(Di(T)===L||L!==xe&&k(x,M,T))&&("**"===T.path||Ps(x,T,M).matched)}function U(T,x,M){return 0===x.length&&!T.children[M]}const ee=!1;class we{constructor(x){this.segmentGroup=x||null}}class ot{constructor(x){this.urlTree=x}}function yt(T){return(0,Se._)(new we(T))}function ln(T){return(0,Se._)(new ot(T))}class ei{constructor(x,M,L,H,J){this.injector=x,this.configLoader=M,this.urlSerializer=L,this.urlTree=H,this.config=J,this.allowRedirects=!0}apply(){const x=aa(this.urlTree.root,[],[],this.config).segmentGroup,M=new Ht(x.segments,x.children);return this.expandSegmentGroup(this.injector,this.config,M,xe).pipe((0,je.U)(J=>this.createUrlTree(re(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Qe.K)(J=>{if(J instanceof ot)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof we?this.noMatchError(J):J}))}match(x){return this.expandSegmentGroup(this.injector,this.config,x.root,xe).pipe((0,je.U)(H=>this.createUrlTree(re(H),x.queryParams,x.fragment))).pipe((0,Qe.K)(H=>{throw H instanceof we?this.noMatchError(H):H}))}noMatchError(x){return new y.vHH(4002,ee)}createUrlTree(x,M,L){const H=se(x);return new on(H,M,L)}expandSegmentGroup(x,M,L,H){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(x,M,L).pipe((0,je.U)(J=>new Ht([],J))):this.expandSegment(x,L,M,L.segments,H,!0)}expandChildren(x,M,L){const H=[];for(const J of Object.keys(L.children))"primary"===J?H.unshift(J):H.push(J);return(0,_.D)(H).pipe((0,ye.b)(J=>{const ae=L.children[J],me=Gr(M,J);return this.expandSegmentGroup(x,me,ae,J).pipe((0,je.U)(ht=>({segment:ht,outlet:J})))}),(0,ze.R)((J,ae)=>(J[ae.outlet]=ae.segment,J),{}),en())}expandSegment(x,M,L,H,J,ae){return(0,_.D)(L).pipe((0,ye.b)(me=>this.expandSegmentAgainstRoute(x,M,L,me,H,J,ae).pipe((0,Qe.K)(Zt=>{if(Zt instanceof we)return(0,K.of)(null);throw Zt}))),(0,qe.P)(me=>!!me),(0,Qe.K)((me,ht)=>{if(Vi(me))return U(M,H,J)?(0,K.of)(new Ht([],{})):yt(M);throw me}))}expandSegmentAgainstRoute(x,M,L,H,J,ae,me){return q(H,M,J,ae)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(x,M,H,J,ae):me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,M,L,H,J,ae):yt(M):yt(M)}expandSegmentAgainstRouteUsingRedirect(x,M,L,H,J,ae){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,L,H,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(x,M,L,H,J,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,M,L,H){const J=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?ln(J):this.lineralizeSegments(L,J).pipe((0,Ce.z)(ae=>{const me=new Ht(ae,{});return this.expandSegment(x,me,M,ae,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,M,L,H,J,ae){const{matched:me,consumedSegments:ht,remainingSegments:Zt,positionalParamSegments:Tn}=Ps(M,H,J);if(!me)return yt(M);const pn=this.applyRedirectCommands(ht,H.redirectTo,Tn);return H.redirectTo.startsWith("/")?ln(pn):this.lineralizeSegments(H,pn).pipe((0,Ce.z)(Bn=>this.expandSegment(x,M,L,Bn.concat(Zt),ae,!1)))}matchSegmentAgainstRoute(x,M,L,H,J){return"**"===L.path?(x=Pi(L,x),L.loadChildren?(L._loadedRoutes?(0,K.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(x,L)).pipe((0,je.U)(me=>(L._loadedRoutes=me.routes,L._loadedInjector=me.injector,new Ht(H,{})))):(0,K.of)(new Ht(H,{}))):xo(M,L,H,x).pipe((0,Oe.w)(({matched:ae,consumedSegments:me,remainingSegments:ht})=>ae?this.getChildConfig(x=L._injector??x,L,H).pipe((0,Ce.z)(Tn=>{const pn=Tn.injector??x,Bn=Tn.routes,{segmentGroup:po,slicedSegments:io}=aa(M,me,ht,Bn),$i=new Ht(po.segments,po.children);if(0===io.length&&$i.hasChildren())return this.expandChildren(pn,Bn,$i).pipe((0,je.U)(ko=>new Ht(me,ko)));if(0===Bn.length&&0===io.length)return(0,K.of)(new Ht(me,{}));const Pr=Di(L)===J;return this.expandSegment(pn,$i,Bn,io,Pr?xe:J,!0).pipe((0,je.U)(Ns=>new Ht(me.concat(Ns.segments),Ns.children)))})):yt(M)))}getChildConfig(x,M,L){return M.children?(0,K.of)({routes:M.children,injector:x}):M.loadChildren?void 0!==M._loadedRoutes?(0,K.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function rl(T,x,M,L){const H=x.canLoad;if(void 0===H||0===H.length)return(0,K.of)(!0);const J=H.map(ae=>{const me=Zr(ae,T);return St(function ur(T){return T&&Ks(T.canLoad)}(me)?me.canLoad(x,M):T.runInContext(()=>me(x,M)))});return(0,K.of)(J).pipe(dr(),ms())}(x,M,L).pipe((0,Ce.z)(H=>H?this.configLoader.loadChildren(x,M).pipe((0,De.b)(J=>{M._loadedRoutes=J.routes,M._loadedInjector=J.injector})):function vi(T){return(0,Se._)(vr(ee,3))}())):(0,K.of)({routes:[],injector:x})}lineralizeSegments(x,M){let L=[],H=M.root;for(;;){if(L=L.concat(H.segments),0===H.numberOfChildren)return(0,K.of)(L);if(H.numberOfChildren>1||!H.children[xe])return(0,Se._)(new y.vHH(4e3,ee));H=H.children[xe]}}applyRedirectCommands(x,M,L){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),x,L)}applyRedirectCreateUrlTree(x,M,L,H){const J=this.createSegmentGroup(x,M.root,L,H);return new on(J,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(x,M){const L={};return qn(x,(H,J)=>{if("string"==typeof H&&H.startsWith(":")){const me=H.substring(1);L[J]=M[me]}else L[J]=H}),L}createSegmentGroup(x,M,L,H){const J=this.createSegments(x,M.segments,L,H);let ae={};return qn(M.children,(me,ht)=>{ae[ht]=this.createSegmentGroup(x,me,L,H)}),new Ht(J,ae)}createSegments(x,M,L,H){return M.map(J=>J.path.startsWith(":")?this.findPosParam(x,J,H):this.findOrReturn(J,L))}findPosParam(x,M,L){const H=L[M.path.substring(1)];if(!H)throw new y.vHH(4001,ee);return H}findOrReturn(x,M){let L=0;for(const H of M){if(H.path===x.path)return M.splice(L),H;L++}return x}}class Ri{}class Po{constructor(x,M,L,H,J,ae,me,ht){this.injector=x,this.rootComponentType=M,this.config=L,this.urlTree=H,this.url=J,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=me,this.urlSerializer=ht}recognize(){const x=aa(this.urlTree.root,[],[],this.config.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,xe).pipe((0,je.U)(M=>{if(null===M)return null;const L=new to([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xe,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new An(L,M),J=new Hs(this.url,H);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(x){const M=x.value,L=Ts(M,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data),x.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(x,M,L,H){return 0===L.segments.length&&L.hasChildren()?this.processChildren(x,M,L):this.processSegment(x,M,L,L.segments,H)}processChildren(x,M,L){return(0,_.D)(Object.keys(L.children)).pipe((0,ye.b)(H=>{const J=L.children[H],ae=Gr(M,H);return this.processSegmentGroup(x,ae,J,H)}),(0,ze.R)((H,J)=>H&&J?(H.push(...J),H):null),function vt(T,x=!1){return(0,Je.e)((M,L)=>{let H=0;M.subscribe((0,At.x)(L,J=>{const ae=T(J,H++);(ae||x)&&L.next(J),!ae&&L.complete()}))})}(H=>null!==H),(0,Wt.d)(null),en(),(0,je.U)(H=>{if(null===H)return null;const J=zs(H);return function gs(T){T.sort((x,M)=>x.value.outlet===xe?-1:M.value.outlet===xe?1:x.value.outlet.localeCompare(M.value.outlet))}(J),J}))}processSegment(x,M,L,H,J){return(0,_.D)(M).pipe((0,ye.b)(ae=>this.processSegmentAgainstRoute(ae._injector??x,ae,L,H,J)),(0,qe.P)(ae=>!!ae),(0,Qe.K)(ae=>{if(Vi(ae))return U(L,H,J)?(0,K.of)([]):(0,K.of)(null);throw ae}))}processSegmentAgainstRoute(x,M,L,H,J){if(M.redirectTo||!q(M,L,H,J))return(0,K.of)(null);let ae;if("**"===M.path){const me=H.length>0?Vn(H).parameters:{},ht=_s(L)+H.length,Zt=new to(H,me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(M),Di(M),M.component??M._loadedComponent??null,M,Xi(L),ht,ec(M),ht);ae=(0,K.of)({snapshot:Zt,consumedSegments:[],remainingSegments:[]})}else ae=xo(L,M,H,x).pipe((0,je.U)(({matched:me,consumedSegments:ht,remainingSegments:Zt,parameters:Tn})=>{if(!me)return null;const pn=_s(L)+ht.length;return{snapshot:new to(ht,Tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(M),Di(M),M.component??M._loadedComponent??null,M,Xi(L),pn,ec(M),pn),consumedSegments:ht,remainingSegments:Zt}}));return ae.pipe((0,Oe.w)(me=>{if(null===me)return(0,K.of)(null);const{snapshot:ht,consumedSegments:Zt,remainingSegments:Tn}=me;x=M._injector??x;const pn=M._loadedInjector??x,Bn=function Br(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(M),{segmentGroup:po,slicedSegments:io}=aa(L,Zt,Tn,Bn.filter(Pr=>void 0===Pr.redirectTo),this.relativeLinkResolution);if(0===io.length&&po.hasChildren())return this.processChildren(pn,Bn,po).pipe((0,je.U)(Pr=>null===Pr?null:[new An(ht,Pr)]));if(0===Bn.length&&0===io.length)return(0,K.of)([new An(ht,[])]);const $i=Di(M)===J;return this.processSegment(pn,Bn,po,io,$i?xe:J).pipe((0,je.U)(Pr=>null===Pr?null:[new An(ht,Pr)]))}))}}function Ki(T){const x=T.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function zs(T){const x=[],M=new Set;for(const L of T){if(!Ki(L)){x.push(L);continue}const H=x.find(J=>L.value.routeConfig===J.value.routeConfig);void 0!==H?(H.children.push(...L.children),M.add(H)):x.push(L)}for(const L of M){const H=zs(L.children);x.push(new An(L.value,H))}return x.filter(L=>!M.has(L))}function Xi(T){let x=T;for(;x._sourceSegment;)x=x._sourceSegment;return x}function _s(T){let x=T,M=x._segmentIndexShift??0;for(;x._sourceSegment;)x=x._sourceSegment,M+=x._segmentIndexShift??0;return M-1}function Ba(T){return T.data||{}}function ec(T){return T.resolve||{}}function Or(T){return"string"==typeof T.title||null===T.title}function Ji(T){return(0,Oe.w)(x=>{const M=T(x);return M?(0,_.D)(M).pipe((0,je.U)(()=>x)):(0,K.of)(x)})}let bi=(()=>{class T{buildTitle(M){let L,H=M.root;for(;void 0!==H;)L=this.getResolvedTitleForRoute(H)??L,H=H.children.find(J=>J.outlet===xe);return L}getResolvedTitleForRoute(M){return M.data[Ct]}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=y.Yz7({token:T,factory:function(){return(0,y.f3M)(ys)},providedIn:"root"}),T})(),ys=(()=>{class T extends bi{constructor(M){super(),this.title=M}updateTitle(M){const L=this.buildTitle(M);void 0!==L&&this.title.setTitle(L)}}return T.\u0275fac=function(M){return new(M||T)(y.LFG(Pe.Dx))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Ut{}class is extends class ar{shouldDetach(x){return!1}store(x,M){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,M){return x.routeConfig===M.routeConfig}}{}const hn=new y.OlP("",{providedIn:"root",factory:()=>({})}),wl=new y.OlP("ROUTES");let qt=(()=>{class T{constructor(M,L){this.injector=M,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,K.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const L=St(M.loadComponent()).pipe((0,De.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=J}),(0,rt.x)(()=>{this.componentLoaders.delete(M)})),H=new Ke(L,()=>new Ae.x).pipe(tt());return this.componentLoaders.set(M,H),H}loadChildren(M,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,K.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const J=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,je.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(L);let ht,Zt,Tn=!1;Array.isArray(me)?Zt=me:(ht=me.create(M).injector,Zt=Zn(ht.get(wl,[],y.XFs.Self|y.XFs.Optional)));return{routes:Zt.map(bo),injector:ht}}),(0,rt.x)(()=>{this.childrenLoaders.delete(L)})),ae=new Ke(J,()=>new Ae.x).pipe(tt());return this.childrenLoaders.set(L,ae),ae}loadModuleFactoryOrRoutes(M){return St(M()).pipe((0,Ce.z)(L=>L instanceof y.YKP||Array.isArray(L)?(0,K.of)(L):(0,_.D)(this.compiler.compileModuleAsync(L))))}}return T.\u0275fac=function(M){return new(M||T)(y.LFG(y.zs3),y.LFG(y.Sil))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class pt{}class kt{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,M){return x}}function _a(T){throw T}function Il(T,x,M){return x.parse("/")}const sl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ua={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nc(){const T=(0,y.f3M)(Ei),x=(0,y.f3M)(Qi),M=(0,y.f3M)(xt.Ye),L=(0,y.f3M)(y.zs3),H=(0,y.f3M)(y.Sil),J=(0,y.f3M)(wl,{optional:!0})??[],ae=(0,y.f3M)(hn,{optional:!0})??{},me=(0,y.f3M)(ys),ht=(0,y.f3M)(bi,{optional:!0}),Zt=(0,y.f3M)(pt,{optional:!0}),Tn=(0,y.f3M)(Ut,{optional:!0}),pn=new fr(null,T,x,M,L,H,Zn(J));return Zt&&(pn.urlHandlingStrategy=Zt),Tn&&(pn.routeReuseStrategy=Tn),pn.titleStrategy=ht??me,function ya(T,x){T.errorHandler&&(x.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(x.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(x.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(x.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(x.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(x.canceledNavigationResolution=T.canceledNavigationResolution)}(ae,pn),pn}let fr=(()=>{class T{constructor(M,L,H,J,ae,me,ht){this.rootComponentType=M,this.urlSerializer=L,this.rootContexts=H,this.location=J,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ae.x,this.errorHandler=_a,this.malformedUriErrorHandler=Il,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,K.of)(void 0),this.urlHandlingStrategy=new kt,this.routeReuseStrategy=new is,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ae.get(qt),this.configLoader.onLoadEndListener=Bn=>this.triggerEvent(new hs(Bn)),this.configLoader.onLoadStartListener=Bn=>this.triggerEvent(new Ms(Bn)),this.ngModule=ae.get(y.h0i),this.console=ae.get(y.c2e);const pn=ae.get(y.R0b);this.isNgZoneEnabled=pn instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=function ii(){return new on(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Kr(this.currentUrlTree,this.rootComponentType),this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(M){const L=this.events;return M.pipe((0,He.h)(H=>0!==H.id),(0,je.U)(H=>({...H,extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,Oe.w)(H=>{let J=!1,ae=!1;return(0,K.of)(H).pipe((0,De.b)(me=>{this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(me=>{const ht=this.browserUrlTree.toString(),Zt=!this.navigated||me.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zt)&&this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return Gs(me.source)&&(this.browserUrlTree=me.extractedUrl),(0,K.of)(me).pipe((0,Oe.w)(pn=>{const Bn=this.transitions.getValue();return L.next(new Ui(pn.id,this.serializeUrl(pn.extractedUrl),pn.source,pn.restoredState)),Bn!==this.transitions.getValue()?gt.E:Promise.resolve(pn)}),function Ir(T,x,M,L){return(0,Oe.w)(H=>function di(T,x,M,L,H){return new ei(T,x,M,L,H).apply()}(T,x,M,H.extractedUrl,L).pipe((0,je.U)(J=>({...H,urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,De.b)(pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:pn.urlAfterRedirects},H.urlAfterRedirects=pn.urlAfterRedirects}),function Vc(T,x,M,L,H,J){return(0,Ce.z)(ae=>function Co(T,x,M,L,H,J,ae="emptyOnly",me="legacy"){return new Po(T,x,M,L,H,ae,me,J).recognize().pipe((0,Oe.w)(ht=>null===ht?function Oo(T){return new pe.y(x=>x.error(T))}(new Ri):(0,K.of)(ht)))}(T,x,M,ae.urlAfterRedirects,L.serialize(ae.urlAfterRedirects),L,H,J).pipe((0,je.U)(me=>({...ae,targetSnapshot:me}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,De.b)(pn=>{if(H.targetSnapshot=pn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!pn.extras.skipLocationChange){const po=this.urlHandlingStrategy.merge(pn.urlAfterRedirects,pn.rawUrl);this.setBrowserUrl(po,pn)}this.browserUrlTree=pn.urlAfterRedirects}const Bn=new Jo(pn.id,this.serializeUrl(pn.extractedUrl),this.serializeUrl(pn.urlAfterRedirects),pn.targetSnapshot);L.next(Bn)}));if(Zt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Bn,extractedUrl:po,source:io,restoredState:$i,extras:Pr}=me,Ys=new Ui(Bn,this.serializeUrl(po),io,$i);L.next(Ys);const Ns=Kr(po,this.rootComponentType).snapshot;return H={...me,targetSnapshot:Ns,urlAfterRedirects:po,extras:{...Pr,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(H)}return this.rawUrlTree=me.rawUrl,me.resolve(null),gt.E}),(0,De.b)(me=>{const ht=new _o(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(ht)}),(0,je.U)(me=>H={...me,guards:Ra(me.targetSnapshot,me.currentSnapshot,this.rootContexts)}),function Fi(T,x){return(0,Ce.z)(M=>{const{targetSnapshot:L,currentSnapshot:H,guards:{canActivateChecks:J,canDeactivateChecks:ae}}=M;return 0===ae.length&&0===J.length?(0,K.of)({...M,guardsResult:!0}):function Ko(T,x,M,L){return(0,_.D)(T).pipe((0,Ce.z)(H=>function Na(T,x,M,L,H){const J=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,K.of)(!0);const ae=J.map(me=>{const ht=Mi(x)??H,Zt=Zr(me,ht);return St(function V(T){return T&&Ks(T.canDeactivate)}(Zt)?Zt.canDeactivate(T,x,M,L):ht.runInContext(()=>Zt(T,x,M,L))).pipe((0,qe.P)())});return(0,K.of)(ae).pipe(dr())}(H.component,H.route,M,x,L)),(0,qe.P)(H=>!0!==H,!0))}(ae,L,H,T).pipe((0,Ce.z)(me=>me&&function Ss(T){return"boolean"==typeof T}(me)?function Hi(T,x,M,L){return(0,_.D)(x).pipe((0,ye.b)(H=>(0,Ne.z)(function $o(T,x){return null!==T&&x&&x(new or(T)),(0,K.of)(!0)}(H.route.parent,L),function xs(T,x){return null!==T&&x&&x(new _r(T)),(0,K.of)(!0)}(H.route,L),function ka(T,x,M){const L=x[x.length-1],J=x.slice(0,x.length-1).reverse().map(ae=>function Ws(T){const x=T.routeConfig?T.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:T,guards:x}:null}(ae)).filter(ae=>null!==ae).map(ae=>de(()=>{const me=ae.guards.map(ht=>{const Zt=Mi(ae.node)??M,Tn=Zr(ht,Zt);return St(function j(T){return T&&Ks(T.canActivateChild)}(Tn)?Tn.canActivateChild(L,T):Zt.runInContext(()=>Tn(L,T))).pipe((0,qe.P)())});return(0,K.of)(me).pipe(dr())}));return(0,K.of)(J).pipe(dr())}(T,H.path,M),function il(T,x,M){const L=x.routeConfig?x.routeConfig.canActivate:null;if(!L||0===L.length)return(0,K.of)(!0);const H=L.map(J=>de(()=>{const ae=Mi(x)??M,me=Zr(J,ae);return St(function $(T){return T&&Ks(T.canActivate)}(me)?me.canActivate(x,T):ae.runInContext(()=>me(x,T))).pipe((0,qe.P)())}));return(0,K.of)(H).pipe(dr())}(T,H.route,M))),(0,qe.P)(H=>!0!==H,!0))}(L,J,T,x):(0,K.of)(me)),(0,je.U)(me=>({...M,guardsResult:me})))})}(this.ngModule.injector,me=>this.triggerEvent(me)),(0,De.b)(me=>{if(H.guardsResult=me.guardsResult,Ye(me.guardsResult))throw Dr(0,me.guardsResult);const ht=new ds(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.triggerEvent(ht)}),(0,He.h)(me=>!!me.guardsResult||(this.restoreHistory(me),this.cancelNavigationTransition(me,"",3),!1)),Ji(me=>{if(me.guards.canActivateChecks.length)return(0,K.of)(me).pipe((0,De.b)(ht=>{const Zt=new gr(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Zt)}),(0,Oe.w)(ht=>{let Zt=!1;return(0,K.of)(ht).pipe(function la(T,x){return(0,Ce.z)(M=>{const{targetSnapshot:L,guards:{canActivateChecks:H}}=M;if(!H.length)return(0,K.of)(M);let J=0;return(0,_.D)(H).pipe((0,ye.b)(ae=>function ol(T,x,M,L){const H=T.routeConfig,J=T._resolve;return void 0!==H?.title&&!Or(H)&&(J[Ct]=H.title),function ga(T,x,M,L){const H=function Dl(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===H.length)return(0,K.of)({});const J={};return(0,_.D)(H).pipe((0,Ce.z)(ae=>function tc(T,x,M,L){const H=Mi(x)??L,J=Zr(T,H);return St(J.resolve?J.resolve(x,M):H.runInContext(()=>J(x,M)))}(T[ae],x,M,L).pipe((0,qe.P)(),(0,De.b)(me=>{J[ae]=me}))),It(1),(0,Cn.h)(J),(0,Qe.K)(ae=>Vi(ae)?gt.E:(0,Se._)(ae)))}(J,T,x,L).pipe((0,je.U)(ae=>(T._resolvedData=ae,T.data=Ts(T,M).resolve,H&&Or(H)&&(T.data[Ct]=H.title),null)))}(ae.route,L,T,x)),(0,De.b)(()=>J++),It(1),(0,Ce.z)(ae=>J===H.length?(0,K.of)(M):gt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,De.b)({next:()=>Zt=!0,complete:()=>{Zt||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"",2))}}))}),(0,De.b)(ht=>{const Zt=new Is(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Zt)}))}),Ji(me=>{const ht=Zt=>{const Tn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&Tn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,De.b)(pn=>{Zt.component=pn}),(0,je.U)(()=>{})));for(const pn of Zt.children)Tn.push(...ht(pn));return Tn};return(0,Re.a)(ht(me.targetSnapshot.root)).pipe((0,Wt.d)(),(0,We.q)(1))}),Ji(()=>this.afterPreactivation()),(0,je.U)(me=>{const ht=function To(T,x,M){const L=no(T,x._root,M?M._root:void 0);return new yi(L,x)}(this.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return H={...me,targetRouterState:ht}}),(0,De.b)(me=>{this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects)}),((T,x,M)=>(0,je.U)(L=>(new fs(x,L.targetRouterState,L.currentRouterState,M).activate(T),L)))(this.rootContexts,this.routeReuseStrategy,me=>this.triggerEvent(me)),(0,De.b)({next(){J=!0},complete(){J=!0}}),(0,rt.x)(()=>{J||ae||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),(0,Qe.K)(me=>{if(ae=!0,sr(me)){Ao(me)||(this.navigated=!0,this.restoreHistory(H,!0));const ht=new Ii(H.id,this.serializeUrl(H.extractedUrl),me.message,me.cancellationCode);if(L.next(ht),Ao(me)){const Zt=this.urlHandlingStrategy.merge(me.url,this.rawUrlTree),Tn={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gs(H.source)};this.scheduleNavigation(Zt,"imperative",null,Tn,{resolve:H.resolve,reject:H.reject,promise:H.promise})}else H.resolve(!1)}else{this.restoreHistory(H,!0);const ht=new Jr(H.id,this.serializeUrl(H.extractedUrl),me,H.targetSnapshot??void 0);L.next(ht);try{H.resolve(this.errorHandler(me))}catch(Zt){H.reject(Zt)}}return gt.E}))}))}resetRootComponentType(M){this.rootComponentType=M,this.routerState.root.component=this.rootComponentType}setTransition(M){this.transitions.next({...this.transitions.value,...M})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const L="popstate"===M.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{const H={replaceUrl:!0},J=M.state?.navigationId?M.state:null;if(J){const me={...J};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(H.state=me)}const ae=this.parseUrl(M.url);this.scheduleNavigation(ae,L,J,H)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(M){this.events.next(M)}resetConfig(M){this.config=M.map(bo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(M,L={}){const{relativeTo:H,queryParams:J,fragment:ae,queryParamsHandling:me,preserveFragment:ht}=L,Zt=H||this.routerState.root,Tn=ht?this.currentUrlTree.fragment:ae;let pn=null;switch(me){case"merge":pn={...this.currentUrlTree.queryParams,...J};break;case"preserve":pn=this.currentUrlTree.queryParams;break;default:pn=J||null}return null!==pn&&(pn=this.removeEmptyProps(pn)),go(Zt,this.currentUrlTree,M,pn,Tn??null)}navigateByUrl(M,L={skipLocationChange:!1}){const H=Ye(M)?M:this.parseUrl(M),J=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,L)}navigate(M,L={skipLocationChange:!1}){return function Va(T){for(let x=0;x<T.length;x++){if(null==T[x])throw new y.vHH(4008,false)}}(M),this.navigateByUrl(this.createUrlTree(M,L),L)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let L;try{L=this.urlSerializer.parse(M)}catch(H){L=this.malformedUriErrorHandler(H,this.urlSerializer,M)}return L}isActive(M,L){let H;if(H=!0===L?{...sl}:!1===L?{...Ua}:L,Ye(M))return Vr(this.currentUrlTree,M,H);const J=this.parseUrl(M);return Vr(this.currentUrlTree,J,H)}removeEmptyProps(M){return Object.keys(M).reduce((L,H)=>{const J=M[H];return null!=J&&(L[H]=J),L},{})}processNavigations(){this.navigations.subscribe(M=>{this.navigated=!0,this.lastSuccessfulId=M.id,this.currentPageId=M.targetPageId,this.events.next(new Ho(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),M.resolve(!0)},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)})}scheduleNavigation(M,L,H,J,ae){if(this.disposed)return Promise.resolve(!1);let me,ht,Zt;ae?(me=ae.resolve,ht=ae.reject,Zt=ae.promise):Zt=new Promise((Bn,po)=>{me=Bn,ht=po});const Tn=++this.navigationId;let pn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),pn=H&&H.\u0275routerPageId?H.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):pn=0,this.setTransition({id:Tn,targetPageId:pn,source:L,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:M,extras:J,resolve:me,reject:ht,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(Bn=>Promise.reject(Bn))}setBrowserUrl(M,L){const H=this.urlSerializer.serialize(M),J={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo(H)||L.extras.replaceUrl?this.location.replaceState(H,"",J):this.location.go(H,"",J)}restoreHistory(M,L=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-M.targetPageId;"popstate"!==M.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===H?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===H&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(H)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(M,L,H){const J=new Ii(M.id,this.serializeUrl(M.extractedUrl),L,H);this.triggerEvent(J),M.resolve(!1)}generateNgRouterState(M,L){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:L}:{navigationId:M}}}return T.\u0275fac=function(M){y.$Z()},T.\u0275prov=y.Yz7({token:T,factory:function(){return nc()},providedIn:"root"}),T})();function Gs(T){return"imperative"!==T}let Ml=(()=>{class T{constructor(M,L,H,J,ae){this.router=M,this.route=L,this.tabIndexAttribute=H,this.renderer=J,this.el=ae,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ae.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(M){this._preserveFragment=(0,y.D6c)(M)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(M){this._skipLocationChange=(0,y.D6c)(M)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(M){this._replaceUrl=(0,y.D6c)(M)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(M){if(null!=this.tabIndexAttribute)return;const L=this.renderer,H=this.el.nativeElement;null!==M?L.setAttribute(H,"tabindex",M):L.removeAttribute(H,"tabindex")}ngOnChanges(M){this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(M){return new(M||T)(y.Y36(fr),y.Y36(yr),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},T.\u0275dir=y.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(M,L){1&M&&y.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),T})(),Ro=(()=>{class T{constructor(M,L,H){this.router=M,this.route=L,this.locationStrategy=H,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ae.x,this.subscription=M.events.subscribe(J=>{J instanceof Ho&&this.updateTargetUrlAndHref()})}set preserveFragment(M){this._preserveFragment=(0,y.D6c)(M)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(M){this._skipLocationChange=(0,y.D6c)(M)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(M){this._replaceUrl=(0,y.D6c)(M)}get replaceUrl(){return this._replaceUrl}set routerLink(M){this.commands=null!=M?Array.isArray(M)?M:[M]:null}ngOnChanges(M){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(M,L,H,J,ae){return!!(0!==M||L||H||J||ae||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(M){return new(M||T)(y.Y36(fr),y.Y36(yr),y.Y36(xt.S$))},T.\u0275dir=y.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(M,L){1&M&&y.NdJ("click",function(J){return L.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&M&&y.uIk("target",L.target)("href",L.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),T})(),$n=(()=>{class T{constructor(M,L,H,J,ae,me){this.router=M,this.element=L,this.renderer=H,this.cdr=J,this.link=ae,this.linkWithHref=me,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=M.events.subscribe(ht=>{ht instanceof Ho&&this.update()})}ngAfterContentInit(){(0,K.of)(this.links.changes,this.linksWithHrefs.changes,(0,K.of)(null)).pipe((0,mt.J)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const M=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,_.D)(M).pipe((0,mt.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(M){const L=Array.isArray(M)?M:M.split(" ");this.classes=L.filter(H=>!!H)}ngOnChanges(M){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const M=this.hasActiveLinks();this.isActive!==M&&(this.isActive=M,this.cdr.markForCheck(),this.classes.forEach(L=>{M?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(M))})}isLinkActive(M){const L=function zo(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&M.isActive(H.urlTree,L)}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.linkWithHref&&M(this.linkWithHref)||this.links.some(M)||this.linksWithHrefs.some(M)}}return T.\u0275fac=function(M){return new(M||T)(y.Y36(fr),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(Ml,8),y.Y36(Ro,8))},T.\u0275dir=y.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(M,L,H){if(1&M&&(y.Suo(H,Ml,5),y.Suo(H,Ro,5)),2&M){let J;y.iGM(J=y.CRH())&&(L.links=J),y.iGM(J=y.CRH())&&(L.linksWithHrefs=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),T})();class Ha{}let va=(()=>{class T{constructor(M,L,H,J,ae){this.router=M,this.injector=H,this.preloadingStrategy=J,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,He.h)(M=>M instanceof Ho),(0,ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,L){const H=[];for(const J of L){J.providers&&!J._injector&&(J._injector=(0,y.MMx)(J.providers,M,`Route: ${J.path}`));const ae=J._injector??M,me=J._loadedInjector??ae;J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent?H.push(this.preloadConfig(ae,J)):(J.children||J._loadedRoutes)&&H.push(this.processRoutes(me,J.children??J._loadedRoutes))}return(0,_.D)(H).pipe((0,mt.J)())}preloadConfig(M,L){return this.preloadingStrategy.preload(L,()=>{let H;H=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(M,L):(0,K.of)(null);const J=H.pipe((0,Ce.z)(ae=>null===ae?(0,K.of)(void 0):(L._loadedRoutes=ae.routes,L._loadedInjector=ae.injector,this.processRoutes(ae.injector??M,ae.routes))));if(L.loadComponent&&!L._loadedComponent){const ae=this.loader.loadComponent(L);return(0,_.D)([J,ae]).pipe((0,mt.J)())}return J})}}return T.\u0275fac=function(M){return new(M||T)(y.LFG(fr),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Ha),y.LFG(qt))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ri=new y.OlP("");let al=(()=>{class T{constructor(M,L,H={}){this.router=M,this.viewportScroller=L,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(M=>{M instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof Ho&&(this.lastId=M.id,this.scheduleScrollEvent(M,this.router.parseUrl(M.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(M=>{M instanceof Le&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,L){this.router.triggerEvent(new Le(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(M){y.$Z()},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac}),T})();function qr(T,x){return{\u0275kind:T,\u0275providers:x}}function rs(T){return[{provide:wl,multi:!0,useValue:T}]}function wo(){const T=(0,y.f3M)(y.zs3);return x=>{const M=T.get(y.z2F);if(x!==M.components[0])return;const L=T.get(fr),H=T.get(Tl);1===T.get(Ti)&&L.initialNavigation(),T.get(rc,null,y.XFs.Optional)?.setUpPreloading(),T.get(ri,null,y.XFs.Optional)?.init(),L.resetRootComponentType(M.componentTypes[0]),H.closed||(H.next(),H.unsubscribe())}}const Tl=new y.OlP("",{factory:()=>new Ae.x}),Ti=new y.OlP("",{providedIn:"root",factory:()=>1});const rc=new y.OlP("");function Tu(T){return qr(0,[{provide:rc,useExisting:va},{provide:Ha,useExisting:T}])}const ct=new y.OlP("ROUTER_FORROOT_GUARD"),Al=[xt.Ye,{provide:Ei,useClass:En},{provide:fr,useFactory:nc},Qi,{provide:yr,useFactory:function Do(T){return T.routerState.root},deps:[fr]},qt];function ji(){return new y.PXZ("Router",fr)}let Wa=(()=>{class T{constructor(M){}static forRoot(M,L){return{ngModule:T,providers:[Al,[],rs(M),{provide:ct,useFactory:br,deps:[[fr,new y.FiY,new y.tp0]]},{provide:hn,useValue:L||{}},L?.useHash?{provide:xt.S$,useClass:xt.Do}:{provide:xt.S$,useClass:xt.b0},{provide:ri,useFactory:()=>{const T=(0,y.f3M)(fr),x=(0,y.f3M)(xt.EM),M=(0,y.f3M)(hn);return M.scrollOffset&&x.setOffset(M.scrollOffset),new al(T,x,M)}},L?.preloadingStrategy?Tu(L.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:ji},L?.initialNavigation?Go(L):[],[{provide:Ea,useFactory:wo},{provide:y.tb,multi:!0,useExisting:Ea}]]}}static forChild(M){return{ngModule:T,providers:[rs(M)]}}}return T.\u0275fac=function(M){return new(M||T)(y.LFG(ct,8))},T.\u0275mod=y.oAB({type:T}),T.\u0275inj=y.cJS({imports:[ts]}),T})();function br(T){return"guarded"}function Go(T){return["disabled"===T.initialNavigation?qr(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const x=(0,y.f3M)(fr);return()=>{x.setUpLocationChangeListener()}}},{provide:Ti,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?qr(2,[{provide:Ti,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:x=>{const M=x.get(xt.V_,Promise.resolve());let L=!1;return()=>M.then(()=>new Promise(J=>{const ae=x.get(fr),me=x.get(Tl);(function H(J){x.get(fr).events.pipe((0,He.h)(me=>me instanceof Ho||me instanceof Ii||me instanceof Jr),(0,je.U)(me=>me instanceof Ho||me instanceof Ii&&(0===me.code||1===me.code)&&null),(0,He.h)(me=>null!==me),(0,We.q)(1)).subscribe(()=>{J()})})(()=>{J(!0),L=!0}),ae.afterPreactivation=()=>(J(!0),L||me.closed?(0,K.of)(void 0):me),ae.initialNavigation()}))}}]).\u0275providers:[]]}const Ea=new y.OlP("")},3942:(Et,Ve,R)=>{R.d(Ve,{Z:()=>Je});var y=R(2090),_=R(4859),K=R(9681),fe=R(1877);class Ie{constructor(tt,Ke){this._delegate=tt,this.firebase=Ke,(0,K._addComponent)(tt,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(tt,Ke=K._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(tt);return!xt.isInitialized()&&"EXPLICIT"===(null===(Ae=xt.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:Ke})}_removeServiceInstance(tt,Ke=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Ke)}_addComponent(tt){(0,K._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,K._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ze(){const At=function pe(At){const tt={},Ke={__esModule:!0,initializeApp:function je(He,Ce={}){const qe=K.initializeApp(He,Ce);if((0,y.r3)(tt,qe.name))return tt[qe.name];const ye=new At(qe,Ke);return tt[qe.name]=ye,ye},app:xt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function We(He){const Ce=He.name,qe=Ce.replace("-compat","");if(K._registerComponent(He)&&"PUBLIC"===He.type){const ye=(De=xt())=>{if("function"!=typeof De[qe])throw Ne.create("invalid-app-argument",{appName:Ce});return De[qe]()};void 0!==He.serviceProps&&(0,y.ZB)(ye,He.serviceProps),Ke[qe]=ye,At.prototype[qe]=function(...De){return this._getService.bind(this,Ce).apply(this,He.multipleInstances?De:[])}}return"PUBLIC"===He.type?Ke[qe]:null},removeApp:function Ae(He){delete tt[He]},useAsService:function Dt(He,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:K}};function xt(He){if(!(0,y.r3)(tt,He=He||K._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:He});return tt[He]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function Oe(){return Object.keys(tt).map(He=>tt[He])}}),xt.App=At,Ke}(Ie);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function tt(Ke){(0,y.ZB)(At,Ke)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),At}(),_e=new fe.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=de;!function ut(At){(0,K.registerVersion)("@firebase/app-compat","0.1.39",At)}()},9681:(Et,Ve,R)=>{R.r(Ve),R.d(Ve,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>mt,_addOrOverwriteComponent:()=>Pe,_apps:()=>Cn,_clearComponents:()=>Mn,_components:()=>rt,_getProvider:()=>Ct,_registerComponent:()=>xe,_removeServiceInstance:()=>gn,deleteApp:()=>qn,getApp:()=>Vn,getApps:()=>Zi,initializeApp:()=>Zn,onLog:()=>ii,registerVersion:()=>On,setLogLevel:()=>li});var y=R(5861),_=R(4859),K=R(1877),fe=R(2090),Ie=R(8766);class Re{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function Ne(Kt){return"VERSION"===Kt.getComponent()?.type}(Bt)){const fn=Bt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Bt=>Bt).join(" ")}}const pe="@firebase/app",de=new K.Yd("@firebase/app"),en="[DEFAULT]",vt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cn=new Map,rt=new Map;function mt(Kt,bt){try{Kt.container.addComponent(bt)}catch(Bt){de.debug(`Component ${bt.name} failed to register with FirebaseApp ${Kt.name}`,Bt)}}function Pe(Kt,bt){Kt.container.addOrOverwriteComponent(bt)}function xe(Kt){const bt=Kt.name;if(rt.has(bt))return de.debug(`There were multiple attempts to register component ${bt}.`),!1;rt.set(bt,Kt);for(const Bt of Cn.values())mt(Bt,Kt);return!0}function Ct(Kt,bt){const Bt=Kt.container.getProvider("heartbeat").getImmediate({optional:!0});return Bt&&Bt.triggerHeartbeat(),Kt.container.getProvider(bt)}function gn(Kt,bt,Bt=en){Ct(Kt,bt).clearInstance(Bt)}function Mn(){rt.clear()}const Jn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(bt,Bt,fn){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const Un="9.14.0";function Zn(Kt,bt={}){let Bt=Kt;"object"!=typeof bt&&(bt={name:bt});const fn=Object.assign({name:en,automaticDataCollectionEnabled:!1},bt),un=fn.name;if("string"!=typeof un||!un)throw Jn.create("bad-app-name",{appName:String(un)});if(Bt||(Bt=(0,fe.aH)()),!Bt)throw Jn.create("no-options");const kn=Cn.get(un);if(kn){if((0,fe.vZ)(Bt,kn.options)&&(0,fe.vZ)(fn,kn.config))return kn;throw Jn.create("duplicate-app",{appName:un})}const Me=new _.H0(un);for(const Fe of rt.values())Me.addComponent(Fe);const Ee=new fi(Bt,fn,Me);return Cn.set(un,Ee),Ee}function Vn(Kt=en){const bt=Cn.get(Kt);if(!bt&&Kt===en)return Zn();if(!bt)throw Jn.create("no-app",{appName:Kt});return bt}function Zi(){return Array.from(Cn.values())}function qn(Kt){return St.apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(Kt){const bt=Kt.name;Cn.has(bt)&&(Cn.delete(bt),yield Promise.all(Kt.container.getProviders().map(Bt=>Bt.delete())),Kt.isDeleted=!0)})).apply(this,arguments)}function On(Kt,bt,Bt){var fn;let un=null!==(fn=vt[Kt])&&void 0!==fn?fn:Kt;Bt&&(un+=`-${Bt}`);const kn=un.match(/\s|\//),Me=bt.match(/\s|\//);if(kn||Me){const Ee=[`Unable to register library "${un}" with version "${bt}":`];return kn&&Ee.push(`library name "${un}" contains illegal characters (whitespace or "/")`),kn&&Me&&Ee.push("and"),Me&&Ee.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void de.warn(Ee.join(" "))}xe(new _.wA(`${un}-version`,()=>({library:un,version:bt}),"VERSION"))}function ii(Kt,bt){if(null!==Kt&&"function"!=typeof Kt)throw Jn.create("invalid-log-argument");(0,K.Am)(Kt,bt)}function li(Kt){(0,K.Ub)(Kt)}const _i="firebase-heartbeat-store";let dt=null;function Te(){return dt||(dt=(0,Ie.X3)("firebase-heartbeat-database",1,{upgrade:(Kt,bt)=>{0===bt&&Kt.createObjectStore(_i)}}).catch(Kt=>{throw Jn.create("idb-open",{originalErrorMessage:Kt.message})})),dt}function st(){return(st=(0,y.Z)(function*(Kt){var bt;try{return(yield Te()).transaction(_i).objectStore(_i).get(Ht(Kt))}catch(Bt){if(Bt instanceof fe.ZR)de.warn(Bt.message);else{const fn=Jn.create("idb-get",{originalErrorMessage:null===(bt=Bt)||void 0===bt?void 0:bt.message});de.warn(fn.message)}}})).apply(this,arguments)}function at(Kt,bt){return on.apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(Kt,bt){var Bt;try{const un=(yield Te()).transaction(_i,"readwrite");return yield un.objectStore(_i).put(bt,Ht(Kt)),un.done}catch(fn){if(fn instanceof fe.ZR)de.warn(fn.message);else{const un=Jn.create("idb-set",{originalErrorMessage:null===(Bt=fn)||void 0===Bt?void 0:Bt.message});de.warn(un.message)}}})).apply(this,arguments)}function Ht(Kt){return`${Kt.name}!${Kt.options.appId}`}class jn{constructor(bt){this.container=bt,this._heartbeatsCache=null;const Bt=this.container.getProvider("app").getImmediate();this._storage=new En(Bt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var bt=this;return(0,y.Z)(function*(){const fn=bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=bn();if(null===bt._heartbeatsCache&&(bt._heartbeatsCache=yield bt._heartbeatsCachePromise),bt._heartbeatsCache.lastSentHeartbeatDate!==un&&!bt._heartbeatsCache.heartbeats.some(kn=>kn.date===un))return bt._heartbeatsCache.heartbeats.push({date:un,agent:fn}),bt._heartbeatsCache.heartbeats=bt._heartbeatsCache.heartbeats.filter(kn=>{const Me=new Date(kn.date).valueOf();return Date.now()-Me<=2592e6}),bt._storage.overwrite(bt._heartbeatsCache)})()}getHeartbeatsHeader(){var bt=this;return(0,y.Z)(function*(){if(null===bt._heartbeatsCache&&(yield bt._heartbeatsCachePromise),null===bt._heartbeatsCache||0===bt._heartbeatsCache.heartbeats.length)return"";const Bt=bn(),{heartbeatsToSend:fn,unsentEntries:un}=function Ei(Kt,bt=1024){const Bt=[];let fn=Kt.slice();for(const un of Kt){const kn=Bt.find(Me=>Me.agent===un.agent);if(kn){if(kn.dates.push(un.date),Pn(Bt)>bt){kn.dates.pop();break}}else if(Bt.push({agent:un.agent,dates:[un.date]}),Pn(Bt)>bt){Bt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Bt,unsentEntries:fn}}(bt._heartbeatsCache.heartbeats),kn=(0,fe.L)(JSON.stringify({version:2,heartbeats:fn}));return bt._heartbeatsCache.lastSentHeartbeatDate=Bt,un.length>0?(bt._heartbeatsCache.heartbeats=un,yield bt._storage.overwrite(bt._heartbeatsCache)):(bt._heartbeatsCache.heartbeats=[],bt._storage.overwrite(bt._heartbeatsCache)),kn})()}}function bn(){return(new Date).toISOString().substring(0,10)}class En{constructor(bt){this.app=bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var bt=this;return(0,y.Z)(function*(){return(yield bt._canUseIndexedDBPromise)&&(yield function be(Kt){return st.apply(this,arguments)}(bt.app))||{heartbeats:[]}})()}overwrite(bt){var Bt=this;return(0,y.Z)(function*(){var fn;if(yield Bt._canUseIndexedDBPromise){const kn=yield Bt.read();return at(Bt.app,{lastSentHeartbeatDate:null!==(fn=bt.lastSentHeartbeatDate)&&void 0!==fn?fn:kn.lastSentHeartbeatDate,heartbeats:bt.heartbeats})}})()}add(bt){var Bt=this;return(0,y.Z)(function*(){var fn;if(yield Bt._canUseIndexedDBPromise){const kn=yield Bt.read();return at(Bt.app,{lastSentHeartbeatDate:null!==(fn=bt.lastSentHeartbeatDate)&&void 0!==fn?fn:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...bt.heartbeats]})}})()}}function Pn(Kt){return(0,fe.L)(JSON.stringify({version:2,heartbeats:Kt})).length}!function yn(Kt){xe(new _.wA("platform-logger",bt=>new Re(bt),"PRIVATE")),xe(new _.wA("heartbeat",bt=>new jn(bt),"PRIVATE")),On(pe,"0.8.4",Kt),On(pe,"0.8.4","esm2017"),On("fire-js","")}("")},4859:(Et,Ve,R)=>{R.d(Ve,{H0:()=>pe,wA:()=>K});var y=R(5861),_=R(2090);class K{constructor(de,_e,Se){this.name=de,this.instanceFactory=_e,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const fe="[DEFAULT]";class Ie{constructor(de,_e){this.name=de,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const _e=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(_e)){const Se=new _.BH;if(this.instancesDeferred.set(_e,Se),this.isInitialized(_e)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:_e});gt&&Se.resolve(gt)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(de){var _e;const Se=this.normalizeInstanceIdentifier(de?.identifier),gt=null!==(_e=de?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(ut){if(gt)return null;throw ut}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Ne(Ze){return"EAGER"===Ze.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[_e,Se]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(_e);try{const ut=this.getOrInitializeService({instanceIdentifier:gt});Se.resolve(ut)}catch{}}}}clearInstance(de=fe){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,y.Z)(function*(){const _e=Array.from(de.instances.values());yield Promise.all([..._e.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),..._e.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=fe){return this.instances.has(de)}getOptions(de=fe){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:_e={}}=de,Se=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:Se,options:_e});for(const[ut,Je]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(ut)&&Je.resolve(gt);return gt}onInit(de,_e){var Se;const gt=this.normalizeInstanceIdentifier(_e),ut=null!==(Se=this.onInitCallbacks.get(gt))&&void 0!==Se?Se:new Set;ut.add(de),this.onInitCallbacks.set(gt,ut);const Je=this.instances.get(gt);return Je&&de(Je,gt),()=>{ut.delete(de)}}invokeOnInitCallbacks(de,_e){const Se=this.onInitCallbacks.get(_e);if(Se)for(const gt of Se)try{gt(de,_e)}catch{}}getOrInitializeService({instanceIdentifier:de,options:_e={}}){let Se=this.instances.get(de);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=de,Ze===fe?void 0:Ze),options:_e}),this.instances.set(de,Se),this.instancesOptions.set(de,_e),this.invokeOnInitCallbacks(Se,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Se)}catch{}var Ze;return Se||null}normalizeInstanceIdentifier(de=fe){return this.component?this.component.multipleInstances?de:fe:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const _e=this.getProvider(de.name);if(_e.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);_e.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const _e=new Ie(de,this);return this.providers.set(de,_e),_e}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Ve,R)=>{R.d(Ve,{Am:()=>Ze,Ub:()=>pe,Yd:()=>Ne,in:()=>_});const y=[];var _=(()=>{return(de=_||(_={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",_;var de})();const K={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},fe=_.INFO,Ie={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Re=(de,_e,...Se)=>{if(_e<de.logLevel)return;const gt=(new Date).toISOString(),ut=Ie[_e];if(!ut)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[ut](`[${gt}]  ${de.name}:`,...Se)};class Ne{constructor(_e){this.name=_e,this._logLevel=fe,this._logHandler=Re,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in _))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?K[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,..._e),this._logHandler(this,_.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,..._e),this._logHandler(this,_.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,_.INFO,..._e),this._logHandler(this,_.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,_.WARN,..._e),this._logHandler(this,_.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,_.ERROR,..._e),this._logHandler(this,_.ERROR,..._e)}}function pe(de){y.forEach(_e=>{_e.setLogLevel(de)})}function Ze(de,_e){for(const Se of y){let gt=null;_e&&_e.level&&(gt=K[_e.level]),Se.userLogHandler=null===de?null:(ut,Je,...At)=>{const tt=At.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");Je>=(gt??ut.logLevel)&&de({level:_[Je].toLowerCase(),message:tt,args:At,type:ut.name})}}}},8766:(Et,Ve,R)=>{R.d(Ve,{Lj:()=>je,X3:()=>xt});var y=R(5861);let K,fe;const Ne=new WeakMap,pe=new WeakMap,Ze=new WeakMap,de=new WeakMap,_e=new WeakMap;let ut={get(Ce,qe,ye){if(Ce instanceof IDBTransaction){if("done"===qe)return pe.get(Ce);if("objectStoreNames"===qe)return Ce.objectStoreNames||Ze.get(Ce);if("store"===qe)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return Ke(Ce[qe])},set:(Ce,qe,ye)=>(Ce[qe]=ye,!0),has:(Ce,qe)=>Ce instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in Ce};function tt(Ce){return"function"==typeof Ce?function At(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...qe){return Ce.apply(Ae(this),qe),Ke(Ne.get(this))}:function(...qe){return Ke(Ce.apply(Ae(this),qe))}:function(qe,...ye){const De=Ce.call(Ae(this),qe,...ye);return Ze.set(De,qe.sort?qe.sort():[qe]),Ke(De)}}(Ce):(Ce instanceof IDBTransaction&&function gt(Ce){if(pe.has(Ce))return;const qe=new Promise((ye,De)=>{const Qe=()=>{Ce.removeEventListener("complete",ze),Ce.removeEventListener("error",It),Ce.removeEventListener("abort",It)},ze=()=>{ye(),Qe()},It=()=>{De(Ce.error||new DOMException("AbortError","AbortError")),Qe()};Ce.addEventListener("complete",ze),Ce.addEventListener("error",It),Ce.addEventListener("abort",It)});pe.set(Ce,qe)}(Ce),((Ce,qe)=>qe.some(ye=>Ce instanceof ye))(Ce,function Ie(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,ut):Ce)}function Ke(Ce){if(Ce instanceof IDBRequest)return function Se(Ce){const qe=new Promise((ye,De)=>{const Qe=()=>{Ce.removeEventListener("success",ze),Ce.removeEventListener("error",It)},ze=()=>{ye(Ke(Ce.result)),Qe()},It=()=>{De(Ce.error),Qe()};Ce.addEventListener("success",ze),Ce.addEventListener("error",It)});return qe.then(ye=>{ye instanceof IDBCursor&&Ne.set(ye,Ce)}).catch(()=>{}),_e.set(qe,Ce),qe}(Ce);if(de.has(Ce))return de.get(Ce);const qe=tt(Ce);return qe!==Ce&&(de.set(Ce,qe),_e.set(qe,Ce)),qe}const Ae=Ce=>_e.get(Ce);function xt(Ce,qe,{blocked:ye,upgrade:De,blocking:Qe,terminated:ze}={}){const It=indexedDB.open(Ce,qe),Rt=Ke(It);return De&&It.addEventListener("upgradeneeded",Wt=>{De(Ke(It.result),Wt.oldVersion,Wt.newVersion,Ke(It.transaction))}),ye&&It.addEventListener("blocked",()=>ye()),Rt.then(Wt=>{ze&&Wt.addEventListener("close",()=>ze()),Qe&&Wt.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),Rt}function je(Ce,{blocked:qe}={}){const ye=indexedDB.deleteDatabase(Ce);return qe&&ye.addEventListener("blocked",()=>qe()),Ke(ye).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],Dt=new Map;function He(Ce,qe){if(!(Ce instanceof IDBDatabase)||qe in Ce||"string"!=typeof qe)return;if(Dt.get(qe))return Dt.get(qe);const ye=qe.replace(/FromIndex$/,""),De=qe!==ye,Qe=We.includes(ye);if(!(ye in(De?IDBIndex:IDBObjectStore).prototype)||!Qe&&!Oe.includes(ye))return;const ze=function(){var It=(0,y.Z)(function*(Rt,...Wt){const an=this.transaction(Rt,Qe?"readwrite":"readonly");let en=an.store;return De&&(en=en.index(Wt.shift())),(yield Promise.all([en[ye](...Wt),Qe&&an.done]))[0]});return function(Wt){return It.apply(this,arguments)}}();return Dt.set(qe,ze),ze}!function Je(Ce){ut=Ce(ut)}(Ce=>({...Ce,get:(qe,ye,De)=>He(qe,ye)||Ce.get(qe,ye,De),has:(qe,ye)=>!!He(qe,ye)||Ce.has(qe,ye)}))},7185:(Et,Ve,R)=>{R.d(Ve,{Rh:()=>Wt,_W:()=>ze});var y=R(4650),_=R(7340),K=R(7579),fe=R(6895),Ie=R(1481);const Re=["toast-component",""];function Ne(rt,mt){if(1&rt){const Pe=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(Pe);const Ct=y.oxw();return y.KtG(Ct.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function pe(rt,mt){if(1&rt&&(y.ynx(0),y._uU(1),y.BQk()),2&rt){const Pe=y.oxw(2);y.xp6(1),y.hij("[",Pe.duplicatesCount+1,"]")}}function Ze(rt,mt){if(1&rt&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,pe,2,1,"ng-container",4),y.qZA()),2&rt){const Pe=y.oxw();y.Tol(Pe.options.titleClass),y.uIk("aria-label",Pe.title),y.xp6(1),y.hij(" ",Pe.title," "),y.xp6(1),y.Q6J("ngIf",Pe.duplicatesCount)}}function de(rt,mt){if(1&rt&&y._UZ(0,"div",7),2&rt){const Pe=y.oxw();y.Tol(Pe.options.messageClass),y.Q6J("innerHTML",Pe.message,y.oJD)}}function _e(rt,mt){if(1&rt&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&rt){const Pe=y.oxw();y.Tol(Pe.options.messageClass),y.uIk("aria-label",Pe.message),y.xp6(1),y.hij(" ",Pe.message," ")}}function Se(rt,mt){if(1&rt&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&rt){const Pe=y.oxw();y.xp6(1),y.Udp("width",Pe.width+"%")}}class je{constructor(mt,Pe){this.component=mt,this.injector=Pe}attach(mt,Pe){return this._attachedHost=mt,mt.attach(this,Pe)}detach(){const mt=this._attachedHost;if(mt)return this._attachedHost=void 0,mt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(mt){this._attachedHost=mt}}class We{constructor(mt){this._overlayRef=mt,this.duplicatesCount=0,this._afterClosed=new K.x,this._activate=new K.x,this._manualClose=new K.x,this._resetTimeout=new K.x,this._countDuplicate=new K.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(mt,Pe){mt&&this._resetTimeout.next(),Pe&&this._countDuplicate.next(++this.duplicatesCount)}}class Dt{constructor(mt,Pe,xe,Ct,gn,Mn){this.toastId=mt,this.config=Pe,this.message=xe,this.title=Ct,this.toastType=gn,this.toastRef=Mn,this._onTap=new K.x,this._onAction=new K.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(mt){this._onAction.next(mt)}onAction(){return this._onAction.asObservable()}}const Ce=new y.OlP("ToastConfig");class qe extends class Oe{attach(mt,Pe){return this._attachedPortal=mt,this.attachComponentPortal(mt,Pe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(mt){this._disposeFn=mt}}{constructor(mt,Pe,xe){super(),this._hostDomElement=mt,this._componentFactoryResolver=Pe,this._appRef=xe}attachComponentPortal(mt,Pe){const xe=this._componentFactoryResolver.resolveComponentFactory(mt.component);let Ct;return Ct=xe.create(mt.injector),this._appRef.attachView(Ct.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ct.hostView),Ct.destroy()}),Pe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ct),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ct)),Ct}_getComponentRootNode(mt){return mt.hostView.rootNodes[0]}}class ye{constructor(mt){this._portalHost=mt}attach(mt,Pe=!0){return this._portalHost.attach(mt,Pe)}detach(){return this._portalHost.detach()}}let De=(()=>{class rt{constructor(Pe){this._document=Pe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Pe=this._document.createElement("div");Pe.classList.add("overlay-container"),Pe.setAttribute("aria-live","polite"),this._document.body.appendChild(Pe),this._containerElement=Pe}}return rt.\u0275fac=function(Pe){return new(Pe||rt)(y.LFG(fe.K0))},rt.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Qe=(()=>{class rt{constructor(Pe,xe,Ct,gn){this._overlayContainer=Pe,this._componentFactoryResolver=xe,this._appRef=Ct,this._document=gn,this._paneElements=new Map}create(Pe,xe){return this._createOverlayRef(this.getPaneElement(Pe,xe))}getPaneElement(Pe="",xe){return this._paneElements.get(xe)||this._paneElements.set(xe,{}),this._paneElements.get(xe)[Pe]||(this._paneElements.get(xe)[Pe]=this._createPaneElement(Pe,xe)),this._paneElements.get(xe)[Pe]}_createPaneElement(Pe,xe){const Ct=this._document.createElement("div");return Ct.id="toast-container",Ct.classList.add(Pe),Ct.classList.add("toast-container"),xe?xe.getContainerElement().appendChild(Ct):this._overlayContainer.getContainerElement().appendChild(Ct),Ct}_createPortalHost(Pe){return new qe(Pe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Pe){return new ye(this._createPortalHost(Pe))}}return rt.\u0275fac=function(Pe){return new(Pe||rt)(y.LFG(De),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(fe.K0))},rt.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),ze=(()=>{class rt{constructor(Pe,xe,Ct,gn,Mn){this.overlay=xe,this._injector=Ct,this.sanitizer=gn,this.ngZone=Mn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Pe.default,...Pe.config},Pe.config.iconClasses&&(this.toastrConfig.iconClasses={...Pe.default.iconClasses,...Pe.config.iconClasses})}show(Pe,xe,Ct={},gn=""){return this._preBuildNotification(gn,Pe,xe,this.applyConfig(Ct))}success(Pe,xe,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Pe,xe,this.applyConfig(Ct))}error(Pe,xe,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Pe,xe,this.applyConfig(Ct))}info(Pe,xe,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Pe,xe,this.applyConfig(Ct))}warning(Pe,xe,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Pe,xe,this.applyConfig(Ct))}clear(Pe){for(const xe of this.toasts)if(void 0!==Pe){if(xe.toastId===Pe)return void xe.toastRef.manualClose()}else xe.toastRef.manualClose()}remove(Pe){const xe=this._findToast(Pe);if(!xe||(xe.activeToast.toastRef.close(),this.toasts.splice(xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ct=this.toasts[this.currentlyActive].toastRef;Ct.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ct.activate())}return!0}findDuplicate(Pe="",xe="",Ct,gn){const{includeTitleDuplicates:Mn}=this.toastrConfig;for(const ui of this.toasts){const Jn=Mn&&ui.title===Pe;if((!Mn||Jn)&&ui.message===xe)return ui.toastRef.onDuplicate(Ct,gn),ui}return null}applyConfig(Pe={}){return{...this.toastrConfig,...Pe}}_findToast(Pe){for(let xe=0;xe<this.toasts.length;xe++)if(this.toasts[xe].toastId===Pe)return{index:xe,activeToast:this.toasts[xe]};return null}_preBuildNotification(Pe,xe,Ct,gn){return gn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Pe,xe,Ct,gn)):this._buildNotification(Pe,xe,Ct,gn)}_buildNotification(Pe,xe,Ct,gn){if(!gn.toastComponent)throw new Error("toastComponent required");const Mn=this.findDuplicate(Ct,xe,this.toastrConfig.resetTimeoutOnDuplicate&&gn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ct||xe)&&this.toastrConfig.preventDuplicates&&null!==Mn)return Mn;this.previousToastMessage=xe;let ui=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(ui=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Jn=this.overlay.create(gn.positionClass,this.overlayContainer);this.index=this.index+1;let fi=xe;xe&&gn.enableHtml&&(fi=this.sanitizer.sanitize(y.q3G.HTML,xe));const Un=new We(Jn),Zn=new Dt(this.index,gn,fi,Ct,Pe,Un),Zi=y.zs3.create({providers:[{provide:Dt,useValue:Zn}],parent:this._injector}),qn=new je(gn.toastComponent,Zi),St=Jn.attach(qn,gn.newestOnTop);Un.componentInstance=St.instance;const On={toastId:this.index,title:Ct||"",message:xe||"",toastRef:Un,onShown:Un.afterActivate(),onHidden:Un.afterClosed(),onTap:Zn.onTap(),onAction:Zn.onAction(),portal:St};return ui||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{On.toastRef.activate()})),this.toasts.push(On),On}}return rt.\u0275fac=function(Pe){return new(Pe||rt)(y.LFG(Ce),y.LFG(Qe),y.LFG(y.zs3),y.LFG(Ie.H7),y.LFG(y.R0b))},rt.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})();const Rt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class rt{constructor(Pe,xe,Ct){this.toastrService=Pe,this.toastPackage=xe,this.ngZone=Ct,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=xe.message,this.title=xe.title,this.options=xe.config,this.originalTimeout=xe.config.timeOut,this.toastClasses=`${xe.toastType} ${xe.config.toastClass}`,this.sub=xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=xe.toastRef.countDuplicate().subscribe(gn=>{this.duplicatesCount=gn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Pe=(new Date).getTime();this.width=(this.hideTime-Pe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Pe,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Pe),xe)):this.timeout=setTimeout(()=>Pe(),xe)}outsideInterval(Pe,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Pe),xe)):this.intervalId=setInterval(()=>Pe(),xe)}runInsideAngular(Pe){this.ngZone?this.ngZone.run(()=>Pe()):Pe()}}return rt.\u0275fac=function(Pe){return new(Pe||rt)(y.Y36(ze),y.Y36(Dt),y.Y36(y.R0b))},rt.\u0275cmp=y.Xpm({type:rt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Pe,xe){1&Pe&&y.NdJ("click",function(){return xe.tapToast()})("mouseenter",function(){return xe.stickAround()})("mouseleave",function(){return xe.delayedHideToast()}),2&Pe&&(y.d8E("@flyInOut",xe.state),y.Tol(xe.toastClasses),y.Udp("display",xe.displayStyle))},attrs:Re,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Pe,xe){1&Pe&&(y.YNc(0,Ne,3,0,"button",0),y.YNc(1,Ze,3,5,"div",1),y.YNc(2,de,1,3,"div",2),y.YNc(3,_e,2,4,"div",3),y.YNc(4,Se,2,2,"div",4)),2&Pe&&(y.Q6J("ngIf",xe.options.closeButton),y.xp6(1),y.Q6J("ngIf",xe.title),y.xp6(1),y.Q6J("ngIf",xe.message&&xe.options.enableHtml),y.xp6(1),y.Q6J("ngIf",xe.message&&!xe.options.enableHtml),y.xp6(1),y.Q6J("ngIf",xe.options.progressBar))},dependencies:[fe.O5],encapsulation:2,data:{animation:[(0,_.X$)("flyInOut",[(0,_.SB)("inactive",(0,_.oB)({opacity:0})),(0,_.SB)("active",(0,_.oB)({opacity:1})),(0,_.SB)("removed",(0,_.oB)({opacity:0})),(0,_.eR)("inactive => active",(0,_.jt)("{{ easeTime }}ms {{ easing }}")),(0,_.eR)("active => removed",(0,_.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),rt})()};let Wt=(()=>{class rt{static forRoot(Pe={}){return{ngModule:rt,providers:[{provide:Ce,useValue:{default:Rt,config:Pe}}]}}}return rt.\u0275fac=function(Pe){return new(Pe||rt)},rt.\u0275mod=y.oAB({type:rt}),rt.\u0275inj=y.cJS({imports:[fe.ez]}),rt})()},5861:(Et,Ve,R)=>{function y(K,fe,Ie,Re,Ne,pe,Ze){try{var de=K[pe](Ze),_e=de.value}catch(Se){return void Ie(Se)}de.done?fe(_e):Promise.resolve(_e).then(Re,Ne)}function _(K){return function(){var fe=this,Ie=arguments;return new Promise(function(Re,Ne){var pe=K.apply(fe,Ie);function Ze(_e){y(pe,Re,Ne,Ze,de,"next",_e)}function de(_e){y(pe,Re,Ne,Ze,de,"throw",_e)}Ze(void 0)})}}R.d(Ve,{Z:()=>_})}},Et=>{Et(Et.s=9916)}]);